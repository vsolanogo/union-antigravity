(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))n(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const h of o.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&n(h)}).observe(document,{childList:!0,subtree:!0});function i(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(l){if(l.ep)return;l.ep=!0;const o=i(l);fetch(l.href,o)}})();var cu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wu(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}function aE(s){if(Object.prototype.hasOwnProperty.call(s,"__esModule"))return s;var t=s.default;if(typeof t=="function"){var i=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};i.prototype=t.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(s).forEach(function(n){var l=Object.getOwnPropertyDescriptor(s,n);Object.defineProperty(i,n,l.get?l:{enumerable:!0,get:function(){return s[n]}})}),i}var Yc={exports:{}},tl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sv;function lE(){if(sv)return tl;sv=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(n,l,o){var h=null;if(o!==void 0&&(h=""+o),l.key!==void 0&&(h=""+l.key),"key"in l){o={};for(var c in l)c!=="key"&&(o[c]=l[c])}else o=l;return l=o.ref,{$$typeof:s,type:n,key:h,ref:l!==void 0?l:null,props:o}}return tl.Fragment=t,tl.jsx=i,tl.jsxs=i,tl}var av;function oE(){return av||(av=1,Yc.exports=lE()),Yc.exports}var ze=oE(),Wc={exports:{}},Nt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lv;function uE(){if(lv)return Nt;lv=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),h=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),x=Symbol.iterator;function _(b){return b===null||typeof b!="object"?null:(b=x&&b[x]||b["@@iterator"],typeof b=="function"?b:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,S={};function C(b,N,F){this.props=b,this.context=N,this.refs=S,this.updater=F||E}C.prototype.isReactComponent={},C.prototype.setState=function(b,N){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,N,"setState")},C.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function I(){}I.prototype=C.prototype;function O(b,N,F){this.props=b,this.context=N,this.refs=S,this.updater=F||E}var U=O.prototype=new I;U.constructor=O,w(U,C.prototype),U.isPureReactComponent=!0;var B=Array.isArray;function z(){}var M={H:null,A:null,T:null,S:null},V=Object.prototype.hasOwnProperty;function J(b,N,F){var j=F.ref;return{$$typeof:s,type:b,key:N,ref:j!==void 0?j:null,props:F}}function nt(b,N){return J(b.type,N,b.props)}function ut(b){return typeof b=="object"&&b!==null&&b.$$typeof===s}function k(b){var N={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(F){return N[F]})}var Y=/\/+/g;function et(b,N){return typeof b=="object"&&b!==null&&b.key!=null?k(""+b.key):N.toString(36)}function ct(b){switch(b.status){case"fulfilled":return b.value;case"rejected":throw b.reason;default:switch(typeof b.status=="string"?b.then(z,z):(b.status="pending",b.then(function(N){b.status==="pending"&&(b.status="fulfilled",b.value=N)},function(N){b.status==="pending"&&(b.status="rejected",b.reason=N)})),b.status){case"fulfilled":return b.value;case"rejected":throw b.reason}}throw b}function T(b,N,F,j,tt){var at=typeof b;(at==="undefined"||at==="boolean")&&(b=null);var lt=!1;if(b===null)lt=!0;else switch(at){case"bigint":case"string":case"number":lt=!0;break;case"object":switch(b.$$typeof){case s:case t:lt=!0;break;case g:return lt=b._init,T(lt(b._payload),N,F,j,tt)}}if(lt)return tt=tt(b),lt=j===""?"."+et(b,0):j,B(tt)?(F="",lt!=null&&(F=lt.replace(Y,"$&/")+"/"),T(tt,N,F,"",function(ot){return ot})):tt!=null&&(ut(tt)&&(tt=nt(tt,F+(tt.key==null||b&&b.key===tt.key?"":(""+tt.key).replace(Y,"$&/")+"/")+lt)),N.push(tt)),1;lt=0;var dt=j===""?".":j+":";if(B(b))for(var ft=0;ft<b.length;ft++)j=b[ft],at=dt+et(j,ft),lt+=T(j,N,F,at,tt);else if(ft=_(b),typeof ft=="function")for(b=ft.call(b),ft=0;!(j=b.next()).done;)j=j.value,at=dt+et(j,ft++),lt+=T(j,N,F,at,tt);else if(at==="object"){if(typeof b.then=="function")return T(ct(b),N,F,j,tt);throw N=String(b),Error("Objects are not valid as a React child (found: "+(N==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":N)+"). If you meant to render a collection of children, use an array instead.")}return lt}function D(b,N,F){if(b==null)return b;var j=[],tt=0;return T(b,j,"","",function(at){return N.call(F,at,tt++)}),j}function R(b){if(b._status===-1){var N=b._result;N=N(),N.then(function(F){(b._status===0||b._status===-1)&&(b._status=1,b._result=F)},function(F){(b._status===0||b._status===-1)&&(b._status=2,b._result=F)}),b._status===-1&&(b._status=0,b._result=N)}if(b._status===1)return b._result.default;throw b._result}var H=typeof reportError=="function"?reportError:function(b){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var N=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof b=="object"&&b!==null&&typeof b.message=="string"?String(b.message):String(b),error:b});if(!window.dispatchEvent(N))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",b);return}console.error(b)},L={map:D,forEach:function(b,N,F){D(b,function(){N.apply(this,arguments)},F)},count:function(b){var N=0;return D(b,function(){N++}),N},toArray:function(b){return D(b,function(N){return N})||[]},only:function(b){if(!ut(b))throw Error("React.Children.only expected to receive a single React element child.");return b}};return Nt.Activity=y,Nt.Children=L,Nt.Component=C,Nt.Fragment=i,Nt.Profiler=l,Nt.PureComponent=O,Nt.StrictMode=n,Nt.Suspense=p,Nt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,Nt.__COMPILER_RUNTIME={__proto__:null,c:function(b){return M.H.useMemoCache(b)}},Nt.cache=function(b){return function(){return b.apply(null,arguments)}},Nt.cacheSignal=function(){return null},Nt.cloneElement=function(b,N,F){if(b==null)throw Error("The argument must be a React element, but you passed "+b+".");var j=w({},b.props),tt=b.key;if(N!=null)for(at in N.key!==void 0&&(tt=""+N.key),N)!V.call(N,at)||at==="key"||at==="__self"||at==="__source"||at==="ref"&&N.ref===void 0||(j[at]=N[at]);var at=arguments.length-2;if(at===1)j.children=F;else if(1<at){for(var lt=Array(at),dt=0;dt<at;dt++)lt[dt]=arguments[dt+2];j.children=lt}return J(b.type,tt,j)},Nt.createContext=function(b){return b={$$typeof:h,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null},b.Provider=b,b.Consumer={$$typeof:o,_context:b},b},Nt.createElement=function(b,N,F){var j,tt={},at=null;if(N!=null)for(j in N.key!==void 0&&(at=""+N.key),N)V.call(N,j)&&j!=="key"&&j!=="__self"&&j!=="__source"&&(tt[j]=N[j]);var lt=arguments.length-2;if(lt===1)tt.children=F;else if(1<lt){for(var dt=Array(lt),ft=0;ft<lt;ft++)dt[ft]=arguments[ft+2];tt.children=dt}if(b&&b.defaultProps)for(j in lt=b.defaultProps,lt)tt[j]===void 0&&(tt[j]=lt[j]);return J(b,at,tt)},Nt.createRef=function(){return{current:null}},Nt.forwardRef=function(b){return{$$typeof:c,render:b}},Nt.isValidElement=ut,Nt.lazy=function(b){return{$$typeof:g,_payload:{_status:-1,_result:b},_init:R}},Nt.memo=function(b,N){return{$$typeof:m,type:b,compare:N===void 0?null:N}},Nt.startTransition=function(b){var N=M.T,F={};M.T=F;try{var j=b(),tt=M.S;tt!==null&&tt(F,j),typeof j=="object"&&j!==null&&typeof j.then=="function"&&j.then(z,H)}catch(at){H(at)}finally{N!==null&&F.types!==null&&(N.types=F.types),M.T=N}},Nt.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},Nt.use=function(b){return M.H.use(b)},Nt.useActionState=function(b,N,F){return M.H.useActionState(b,N,F)},Nt.useCallback=function(b,N){return M.H.useCallback(b,N)},Nt.useContext=function(b){return M.H.useContext(b)},Nt.useDebugValue=function(){},Nt.useDeferredValue=function(b,N){return M.H.useDeferredValue(b,N)},Nt.useEffect=function(b,N){return M.H.useEffect(b,N)},Nt.useEffectEvent=function(b){return M.H.useEffectEvent(b)},Nt.useId=function(){return M.H.useId()},Nt.useImperativeHandle=function(b,N,F){return M.H.useImperativeHandle(b,N,F)},Nt.useInsertionEffect=function(b,N){return M.H.useInsertionEffect(b,N)},Nt.useLayoutEffect=function(b,N){return M.H.useLayoutEffect(b,N)},Nt.useMemo=function(b,N){return M.H.useMemo(b,N)},Nt.useOptimistic=function(b,N){return M.H.useOptimistic(b,N)},Nt.useReducer=function(b,N,F){return M.H.useReducer(b,N,F)},Nt.useRef=function(b){return M.H.useRef(b)},Nt.useState=function(b){return M.H.useState(b)},Nt.useSyncExternalStore=function(b,N,F){return M.H.useSyncExternalStore(b,N,F)},Nt.useTransition=function(){return M.H.useTransition()},Nt.version="19.2.0",Nt}var ov;function rp(){return ov||(ov=1,Wc.exports=uE()),Wc.exports}var iu=rp();const x_=wu(iu);var $c={exports:{}},el={},Zc={exports:{}},Kc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uv;function hE(){return uv||(uv=1,(function(s){function t(T,D){var R=T.length;T.push(D);t:for(;0<R;){var H=R-1>>>1,L=T[H];if(0<l(L,D))T[H]=D,T[R]=L,R=H;else break t}}function i(T){return T.length===0?null:T[0]}function n(T){if(T.length===0)return null;var D=T[0],R=T.pop();if(R!==D){T[0]=R;t:for(var H=0,L=T.length,b=L>>>1;H<b;){var N=2*(H+1)-1,F=T[N],j=N+1,tt=T[j];if(0>l(F,R))j<L&&0>l(tt,F)?(T[H]=tt,T[j]=R,H=j):(T[H]=F,T[N]=R,H=N);else if(j<L&&0>l(tt,R))T[H]=tt,T[j]=R,H=j;else break t}}return D}function l(T,D){var R=T.sortIndex-D.sortIndex;return R!==0?R:T.id-D.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;s.unstable_now=function(){return o.now()}}else{var h=Date,c=h.now();s.unstable_now=function(){return h.now()-c}}var p=[],m=[],g=1,y=null,x=3,_=!1,E=!1,w=!1,S=!1,C=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function U(T){for(var D=i(m);D!==null;){if(D.callback===null)n(m);else if(D.startTime<=T)n(m),D.sortIndex=D.expirationTime,t(p,D);else break;D=i(m)}}function B(T){if(w=!1,U(T),!E)if(i(p)!==null)E=!0,z||(z=!0,k());else{var D=i(m);D!==null&&ct(B,D.startTime-T)}}var z=!1,M=-1,V=5,J=-1;function nt(){return S?!0:!(s.unstable_now()-J<V)}function ut(){if(S=!1,z){var T=s.unstable_now();J=T;var D=!0;try{t:{E=!1,w&&(w=!1,I(M),M=-1),_=!0;var R=x;try{e:{for(U(T),y=i(p);y!==null&&!(y.expirationTime>T&&nt());){var H=y.callback;if(typeof H=="function"){y.callback=null,x=y.priorityLevel;var L=H(y.expirationTime<=T);if(T=s.unstable_now(),typeof L=="function"){y.callback=L,U(T),D=!0;break e}y===i(p)&&n(p),U(T)}else n(p);y=i(p)}if(y!==null)D=!0;else{var b=i(m);b!==null&&ct(B,b.startTime-T),D=!1}}break t}finally{y=null,x=R,_=!1}D=void 0}}finally{D?k():z=!1}}}var k;if(typeof O=="function")k=function(){O(ut)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,et=Y.port2;Y.port1.onmessage=ut,k=function(){et.postMessage(null)}}else k=function(){C(ut,0)};function ct(T,D){M=C(function(){T(s.unstable_now())},D)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(T){T.callback=null},s.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<T?Math.floor(1e3/T):5},s.unstable_getCurrentPriorityLevel=function(){return x},s.unstable_next=function(T){switch(x){case 1:case 2:case 3:var D=3;break;default:D=x}var R=x;x=D;try{return T()}finally{x=R}},s.unstable_requestPaint=function(){S=!0},s.unstable_runWithPriority=function(T,D){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var R=x;x=T;try{return D()}finally{x=R}},s.unstable_scheduleCallback=function(T,D,R){var H=s.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?H+R:H):R=H,T){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=R+L,T={id:g++,callback:D,priorityLevel:T,startTime:R,expirationTime:L,sortIndex:-1},R>H?(T.sortIndex=R,t(m,T),i(p)===null&&T===i(m)&&(w?(I(M),M=-1):w=!0,ct(B,R-H))):(T.sortIndex=L,t(p,T),E||_||(E=!0,z||(z=!0,k()))),T},s.unstable_shouldYield=nt,s.unstable_wrapCallback=function(T){var D=x;return function(){var R=x;x=D;try{return T.apply(this,arguments)}finally{x=R}}}})(Kc)),Kc}var hv;function cE(){return hv||(hv=1,Zc.exports=hE()),Zc.exports}var Qc={exports:{}},Ge={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cv;function fE(){if(cv)return Ge;cv=1;var s=rp();function t(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)m+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var n={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function o(p,m,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:y==null?null:""+y,children:p,containerInfo:m,implementation:g}}var h=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Ge.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Ge.createPortal=function(p,m){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return o(p,m,null,g)},Ge.flushSync=function(p){var m=h.T,g=n.p;try{if(h.T=null,n.p=2,p)return p()}finally{h.T=m,n.p=g,n.d.f()}},Ge.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,n.d.C(p,m))},Ge.prefetchDNS=function(p){typeof p=="string"&&n.d.D(p)},Ge.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var g=m.as,y=c(g,m.crossOrigin),x=typeof m.integrity=="string"?m.integrity:void 0,_=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;g==="style"?n.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:y,integrity:x,fetchPriority:_}):g==="script"&&n.d.X(p,{crossOrigin:y,integrity:x,fetchPriority:_,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Ge.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var g=c(m.as,m.crossOrigin);n.d.M(p,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&n.d.M(p)},Ge.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var g=m.as,y=c(g,m.crossOrigin);n.d.L(p,g,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Ge.preloadModule=function(p,m){if(typeof p=="string")if(m){var g=c(m.as,m.crossOrigin);n.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else n.d.m(p)},Ge.requestFormReset=function(p){n.d.r(p)},Ge.unstable_batchedUpdates=function(p,m){return p(m)},Ge.useFormState=function(p,m,g){return h.H.useFormState(p,m,g)},Ge.useFormStatus=function(){return h.H.useHostTransitionStatus()},Ge.version="19.2.0",Ge}var fv;function dE(){if(fv)return Qc.exports;fv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Qc.exports=fE(),Qc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dv;function pE(){if(dv)return el;dv=1;var s=cE(),t=rp(),i=dE();function n(e){var r="https://react.dev/errors/"+e;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function o(e){var r=e,a=e;if(e.alternate)for(;r.return;)r=r.return;else{e=r;do r=e,(r.flags&4098)!==0&&(a=r.return),e=r.return;while(e)}return r.tag===3?a:null}function h(e){if(e.tag===13){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function c(e){if(e.tag===31){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function p(e){if(o(e)!==e)throw Error(n(188))}function m(e){var r=e.alternate;if(!r){if(r=o(e),r===null)throw Error(n(188));return r!==e?null:e}for(var a=e,u=r;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(u=f.return,u!==null){a=u;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return p(f),e;if(d===u)return p(f),r;d=d.sibling}throw Error(n(188))}if(a.return!==u.return)a=f,u=d;else{for(var v=!1,A=f.child;A;){if(A===a){v=!0,a=f,u=d;break}if(A===u){v=!0,u=f,a=d;break}A=A.sibling}if(!v){for(A=d.child;A;){if(A===a){v=!0,a=d,u=f;break}if(A===u){v=!0,u=d,a=f;break}A=A.sibling}if(!v)throw Error(n(189))}}if(a.alternate!==u)throw Error(n(190))}if(a.tag!==3)throw Error(n(188));return a.stateNode.current===a?e:r}function g(e){var r=e.tag;if(r===5||r===26||r===27||r===6)return e;for(e=e.child;e!==null;){if(r=g(e),r!==null)return r;e=e.sibling}return null}var y=Object.assign,x=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),I=Symbol.for("react.consumer"),O=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),J=Symbol.for("react.activity"),nt=Symbol.for("react.memo_cache_sentinel"),ut=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=ut&&e[ut]||e["@@iterator"],typeof e=="function"?e:null)}var Y=Symbol.for("react.client.reference");function et(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Y?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case w:return"Fragment";case C:return"Profiler";case S:return"StrictMode";case B:return"Suspense";case z:return"SuspenseList";case J:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case E:return"Portal";case O:return e.displayName||"Context";case I:return(e._context.displayName||"Context")+".Consumer";case U:var r=e.render;return e=e.displayName,e||(e=r.displayName||r.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case M:return r=e.displayName||null,r!==null?r:et(e.type)||"Memo";case V:r=e._payload,e=e._init;try{return et(e(r))}catch{}}return null}var ct=Array.isArray,T=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,R={pending:!1,data:null,method:null,action:null},H=[],L=-1;function b(e){return{current:e}}function N(e){0>L||(e.current=H[L],H[L]=null,L--)}function F(e,r){L++,H[L]=e.current,e.current=r}var j=b(null),tt=b(null),at=b(null),lt=b(null);function dt(e,r){switch(F(at,r),F(tt,e),F(j,null),r.nodeType){case 9:case 11:e=(e=r.documentElement)&&(e=e.namespaceURI)?Ry(e):0;break;default:if(e=r.tagName,r=r.namespaceURI)r=Ry(r),e=My(r,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}N(j),F(j,e)}function ft(){N(j),N(tt),N(at)}function ot(e){e.memoizedState!==null&&F(lt,e);var r=j.current,a=My(r,e.type);r!==a&&(F(tt,e),F(j,a))}function vt(e){tt.current===e&&(N(j),N(tt)),lt.current===e&&(N(lt),Za._currentValue=R)}var bt,Dt;function Ot(e){if(bt===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);bt=r&&r[1]||"",Dt=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+bt+e+Dt}var xt=!1;function Et(e,r){if(!e||xt)return"";xt=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var st=function(){throw Error()};if(Object.defineProperty(st.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(st,[])}catch(Q){var Z=Q}Reflect.construct(e,[],st)}else{try{st.call()}catch(Q){Z=Q}e.call(st.prototype)}}else{try{throw Error()}catch(Q){Z=Q}(st=e())&&typeof st.catch=="function"&&st.catch(function(){})}}catch(Q){if(Q&&Z&&typeof Q.stack=="string")return[Q.stack,Z.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=u.DetermineComponentFrameRoot(),v=d[0],A=d[1];if(v&&A){var P=v.split(`
`),$=A.split(`
`);for(f=u=0;u<P.length&&!P[u].includes("DetermineComponentFrameRoot");)u++;for(;f<$.length&&!$[f].includes("DetermineComponentFrameRoot");)f++;if(u===P.length||f===$.length)for(u=P.length-1,f=$.length-1;1<=u&&0<=f&&P[u]!==$[f];)f--;for(;1<=u&&0<=f;u--,f--)if(P[u]!==$[f]){if(u!==1||f!==1)do if(u--,f--,0>f||P[u]!==$[f]){var it=`
`+P[u].replace(" at new "," at ");return e.displayName&&it.includes("<anonymous>")&&(it=it.replace("<anonymous>",e.displayName)),it}while(1<=u&&0<=f);break}}}finally{xt=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Ot(a):""}function oe(e,r){switch(e.tag){case 26:case 27:case 5:return Ot(e.type);case 16:return Ot("Lazy");case 13:return e.child!==r&&r!==null?Ot("Suspense Fallback"):Ot("Suspense");case 19:return Ot("SuspenseList");case 0:case 15:return Et(e.type,!1);case 11:return Et(e.type.render,!1);case 1:return Et(e.type,!0);case 31:return Ot("Activity");default:return""}}function ce(e){try{var r="",a=null;do r+=oe(e,a),a=e,e=e.return;while(e);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Fi=Object.prototype.hasOwnProperty,fi=s.unstable_scheduleCallback,ke=s.unstable_cancelCallback,Or=s.unstable_shouldYield,Br=s.unstable_requestPaint,ve=s.unstable_now,Pu=s.unstable_getCurrentPriorityLevel,_l=s.unstable_ImmediatePriority,aa=s.unstable_UserBlockingPriority,ts=s.unstable_NormalPriority,yn=s.unstable_LowPriority,es=s.unstable_IdlePriority,xl=s.log,Fu=s.unstable_setDisableYieldValue,vn=null,Oe=null;function ti(e){if(typeof xl=="function"&&Fu(e),Oe&&typeof Oe.setStrictMode=="function")try{Oe.setStrictMode(vn,e)}catch{}}var q=Math.clz32?Math.clz32:Qt,K=Math.log,jt=Math.LN2;function Qt(e){return e>>>=0,e===0?32:31-(K(e)/jt|0)|0}var $t=256,Bt=262144,ei=4194304;function Xe(e){var r=e&42;if(r!==0)return r;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function we(e,r,a){var u=e.pendingLanes;if(u===0)return 0;var f=0,d=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var A=u&134217727;return A!==0?(u=A&~d,u!==0?f=Xe(u):(v&=A,v!==0?f=Xe(v):a||(a=A&~e,a!==0&&(f=Xe(a))))):(A=u&~d,A!==0?f=Xe(A):v!==0?f=Xe(v):a||(a=u&~e,a!==0&&(f=Xe(a)))),f===0?0:r!==0&&r!==f&&(r&d)===0&&(d=f&-f,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:f}function qe(e,r){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&r)===0}function la(e,r){switch(e){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ir(){var e=ei;return ei<<=1,(ei&62914560)===0&&(ei=4194304),e}function Ve(e){for(var r=[],a=0;31>a;a++)r.push(e);return r}function Nr(e,r){e.pendingLanes|=r,r!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function bl(e,r,a,u,f,d){var v=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var A=e.entanglements,P=e.expirationTimes,$=e.hiddenUpdates;for(a=v&~a;0<a;){var it=31-q(a),st=1<<it;A[it]=0,P[it]=-1;var Z=$[it];if(Z!==null)for($[it]=null,it=0;it<Z.length;it++){var Q=Z[it];Q!==null&&(Q.lane&=-536870913)}a&=~st}u!==0&&oa(e,u,0),d!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=d&~(v&~r))}function oa(e,r,a){e.pendingLanes|=r,e.suspendedLanes&=~r;var u=31-q(r);e.entangledLanes|=r,e.entanglements[u]=e.entanglements[u]|1073741824|a&261930}function Ir(e,r){var a=e.entangledLanes|=r;for(e=e.entanglements;a;){var u=31-q(a),f=1<<u;f&r|e[u]&r&&(e[u]|=r),a&=~f}}function is(e,r){var a=r&-r;return a=(a&42)!==0?1:Ur(a),(a&(e.suspendedLanes|r))!==0?0:a}function Ur(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function _n(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function rs(){var e=D.p;return e!==0?e:(e=window.event,e===void 0?32:Qy(e.type))}function ua(e,r){var a=D.p;try{return D.p=e,r()}finally{D.p=a}}var wi=Math.random().toString(36).slice(2),pe="__reactFiber$"+wi,Be="__reactProps$"+wi,Gi="__reactContainer$"+wi,ns="__reactEvents$"+wi,Gu="__reactListeners$"+wi,ha="__reactHandles$"+wi,rr="__reactResources$"+wi,zi="__reactMarker$"+wi;function ca(e){delete e[pe],delete e[Be],delete e[ns],delete e[Gu],delete e[ha]}function nr(e){var r=e[pe];if(r)return r;for(var a=e.parentNode;a;){if(r=a[Gi]||a[pe]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(e=Ly(e);e!==null;){if(a=e[pe])return a;e=Ly(e)}return r}e=a,a=e.parentNode}return null}function ss(e){if(e=e[pe]||e[Gi]){var r=e.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return e}return null}function fa(e){var r=e.tag;if(r===5||r===26||r===27||r===6)return e.stateNode;throw Error(n(33))}function as(e){var r=e[rr];return r||(r=e[rr]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Ce(e){e[zi]=!0}var gp=new Set,yp={};function xn(e,r){ls(e,r),ls(e+"Capture",r)}function ls(e,r){for(yp[e]=r,e=0;e<r.length;e++)gp.add(r[e])}var Kx=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vp={},_p={};function Qx(e){return Fi.call(_p,e)?!0:Fi.call(vp,e)?!1:Kx.test(e)?_p[e]=!0:(vp[e]=!0,!1)}function El(e,r,a){if(Qx(r))if(a===null)e.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){e.removeAttribute(r);return}}e.setAttribute(r,""+a)}}function Tl(e,r,a){if(a===null)e.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttribute(r,""+a)}}function sr(e,r,a,u){if(u===null)e.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(r,a,""+u)}}function di(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function xp(e){var r=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Jx(e,r,a){var u=Object.getOwnPropertyDescriptor(e.constructor.prototype,r);if(!e.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var f=u.get,d=u.set;return Object.defineProperty(e,r,{configurable:!0,get:function(){return f.call(this)},set:function(v){a=""+v,d.call(this,v)}}),Object.defineProperty(e,r,{enumerable:u.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){e._valueTracker=null,delete e[r]}}}}function zu(e){if(!e._valueTracker){var r=xp(e)?"checked":"value";e._valueTracker=Jx(e,r,""+e[r])}}function bp(e){if(!e)return!1;var r=e._valueTracker;if(!r)return!0;var a=r.getValue(),u="";return e&&(u=xp(e)?e.checked?"true":"false":e.value),e=u,e!==a?(r.setValue(e),!0):!1}function Sl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var tb=/[\n"\\]/g;function pi(e){return e.replace(tb,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Hu(e,r,a,u,f,d,v,A){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),r!=null?v==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+di(r)):e.value!==""+di(r)&&(e.value=""+di(r)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),r!=null?ku(e,v,di(r)):a!=null?ku(e,v,di(a)):u!=null&&e.removeAttribute("value"),f==null&&d!=null&&(e.defaultChecked=!!d),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?e.name=""+di(A):e.removeAttribute("name")}function Ep(e,r,a,u,f,d,v,A){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null)){zu(e);return}a=a!=null?""+di(a):"",r=r!=null?""+di(r):a,A||r===e.value||(e.value=r),e.defaultValue=r}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,e.checked=A?e.checked:!!u,e.defaultChecked=!!u,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v),zu(e)}function ku(e,r,a){r==="number"&&Sl(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function os(e,r,a,u){if(e=e.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<e.length;a++)f=r.hasOwnProperty("$"+e[a].value),e[a].selected!==f&&(e[a].selected=f),f&&u&&(e[a].defaultSelected=!0)}else{for(a=""+di(a),r=null,f=0;f<e.length;f++){if(e[f].value===a){e[f].selected=!0,u&&(e[f].defaultSelected=!0);return}r!==null||e[f].disabled||(r=e[f])}r!==null&&(r.selected=!0)}}function Tp(e,r,a){if(r!=null&&(r=""+di(r),r!==e.value&&(e.value=r),a==null)){e.defaultValue!==r&&(e.defaultValue=r);return}e.defaultValue=a!=null?""+di(a):""}function Sp(e,r,a,u){if(r==null){if(u!=null){if(a!=null)throw Error(n(92));if(ct(u)){if(1<u.length)throw Error(n(93));u=u[0]}a=u}a==null&&(a=""),r=a}a=di(r),e.defaultValue=a,u=e.textContent,u===a&&u!==""&&u!==null&&(e.value=u),zu(e)}function us(e,r){if(r){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=r;return}}e.textContent=r}var eb=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ap(e,r,a){var u=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?u?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="":u?e.setProperty(r,a):typeof a!="number"||a===0||eb.has(r)?r==="float"?e.cssFloat=a:e[r]=(""+a).trim():e[r]=a+"px"}function wp(e,r,a){if(r!=null&&typeof r!="object")throw Error(n(62));if(e=e.style,a!=null){for(var u in a)!a.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?e.setProperty(u,""):u==="float"?e.cssFloat="":e[u]="");for(var f in r)u=r[f],r.hasOwnProperty(f)&&a[f]!==u&&Ap(e,f,u)}else for(var d in r)r.hasOwnProperty(d)&&Ap(e,d,r[d])}function Xu(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ib=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),rb=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Al(e){return rb.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ar(){}var Vu=null;function ju(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var hs=null,cs=null;function Cp(e){var r=ss(e);if(r&&(e=r.stateNode)){var a=e[Be]||null;t:switch(e=r.stateNode,r.type){case"input":if(Hu(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+pi(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var u=a[r];if(u!==e&&u.form===e.form){var f=u[Be]||null;if(!f)throw Error(n(90));Hu(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)u=a[r],u.form===e.form&&bp(u)}break t;case"textarea":Tp(e,a.value,a.defaultValue);break t;case"select":r=a.value,r!=null&&os(e,!!a.multiple,r,!1)}}}var qu=!1;function Rp(e,r,a){if(qu)return e(r,a);qu=!0;try{var u=e(r);return u}finally{if(qu=!1,(hs!==null||cs!==null)&&(fo(),hs&&(r=hs,e=cs,cs=hs=null,Cp(r),e)))for(r=0;r<e.length;r++)Cp(e[r])}}function da(e,r){var a=e.stateNode;if(a===null)return null;var u=a[Be]||null;if(u===null)return null;a=u[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(e=e.type,u=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!u;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(n(231,r,typeof a));return a}var lr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yu=!1;if(lr)try{var pa={};Object.defineProperty(pa,"passive",{get:function(){Yu=!0}}),window.addEventListener("test",pa,pa),window.removeEventListener("test",pa,pa)}catch{Yu=!1}var Lr=null,Wu=null,wl=null;function Mp(){if(wl)return wl;var e,r=Wu,a=r.length,u,f="value"in Lr?Lr.value:Lr.textContent,d=f.length;for(e=0;e<a&&r[e]===f[e];e++);var v=a-e;for(u=1;u<=v&&r[a-u]===f[d-u];u++);return wl=f.slice(e,1<u?1-u:void 0)}function Cl(e){var r=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&r===13&&(e=13)):e=r,e===10&&(e=13),32<=e||e===13?e:0}function Rl(){return!0}function Dp(){return!1}function Ye(e){function r(a,u,f,d,v){this._reactName=a,this._targetInst=f,this.type=u,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var A in e)e.hasOwnProperty(A)&&(a=e[A],this[A]=a?a(d):d[A]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Rl:Dp,this.isPropagationStopped=Dp,this}return y(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Rl)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Rl)},persist:function(){},isPersistent:Rl}),r}var bn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ml=Ye(bn),ma=y({},bn,{view:0,detail:0}),nb=Ye(ma),$u,Zu,ga,Dl=y({},ma,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ga&&(ga&&e.type==="mousemove"?($u=e.screenX-ga.screenX,Zu=e.screenY-ga.screenY):Zu=$u=0,ga=e),$u)},movementY:function(e){return"movementY"in e?e.movementY:Zu}}),Op=Ye(Dl),sb=y({},Dl,{dataTransfer:0}),ab=Ye(sb),lb=y({},ma,{relatedTarget:0}),Ku=Ye(lb),ob=y({},bn,{animationName:0,elapsedTime:0,pseudoElement:0}),ub=Ye(ob),hb=y({},bn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),cb=Ye(hb),fb=y({},bn,{data:0}),Bp=Ye(fb),db={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gb(e){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(e):(e=mb[e])?!!r[e]:!1}function Qu(){return gb}var yb=y({},ma,{key:function(e){if(e.key){var r=db[e.key]||e.key;if(r!=="Unidentified")return r}return e.type==="keypress"?(e=Cl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?pb[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qu,charCode:function(e){return e.type==="keypress"?Cl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Cl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),vb=Ye(yb),_b=y({},Dl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Np=Ye(_b),xb=y({},ma,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qu}),bb=Ye(xb),Eb=y({},bn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Tb=Ye(Eb),Sb=y({},Dl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ab=Ye(Sb),wb=y({},bn,{newState:0,oldState:0}),Cb=Ye(wb),Rb=[9,13,27,32],Ju=lr&&"CompositionEvent"in window,ya=null;lr&&"documentMode"in document&&(ya=document.documentMode);var Mb=lr&&"TextEvent"in window&&!ya,Ip=lr&&(!Ju||ya&&8<ya&&11>=ya),Up=" ",Lp=!1;function Pp(e,r){switch(e){case"keyup":return Rb.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var fs=!1;function Db(e,r){switch(e){case"compositionend":return Fp(r);case"keypress":return r.which!==32?null:(Lp=!0,Up);case"textInput":return e=r.data,e===Up&&Lp?null:e;default:return null}}function Ob(e,r){if(fs)return e==="compositionend"||!Ju&&Pp(e,r)?(e=Mp(),wl=Wu=Lr=null,fs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Ip&&r.locale!=="ko"?null:r.data;default:return null}}var Bb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gp(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r==="input"?!!Bb[e.type]:r==="textarea"}function zp(e,r,a,u){hs?cs?cs.push(u):cs=[u]:hs=u,r=xo(r,"onChange"),0<r.length&&(a=new Ml("onChange","change",null,a,u),e.push({event:a,listeners:r}))}var va=null,_a=null;function Nb(e){Ey(e,0)}function Ol(e){var r=fa(e);if(bp(r))return e}function Hp(e,r){if(e==="change")return r}var kp=!1;if(lr){var th;if(lr){var eh="oninput"in document;if(!eh){var Xp=document.createElement("div");Xp.setAttribute("oninput","return;"),eh=typeof Xp.oninput=="function"}th=eh}else th=!1;kp=th&&(!document.documentMode||9<document.documentMode)}function Vp(){va&&(va.detachEvent("onpropertychange",jp),_a=va=null)}function jp(e){if(e.propertyName==="value"&&Ol(_a)){var r=[];zp(r,_a,e,ju(e)),Rp(Nb,r)}}function Ib(e,r,a){e==="focusin"?(Vp(),va=r,_a=a,va.attachEvent("onpropertychange",jp)):e==="focusout"&&Vp()}function Ub(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ol(_a)}function Lb(e,r){if(e==="click")return Ol(r)}function Pb(e,r){if(e==="input"||e==="change")return Ol(r)}function Fb(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var ii=typeof Object.is=="function"?Object.is:Fb;function xa(e,r){if(ii(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var a=Object.keys(e),u=Object.keys(r);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var f=a[u];if(!Fi.call(r,f)||!ii(e[f],r[f]))return!1}return!0}function qp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Yp(e,r){var a=qp(e);e=0;for(var u;a;){if(a.nodeType===3){if(u=e+a.textContent.length,e<=r&&u>=r)return{node:a,offset:r-e};e=u}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=qp(a)}}function Wp(e,r){return e&&r?e===r?!0:e&&e.nodeType===3?!1:r&&r.nodeType===3?Wp(e,r.parentNode):"contains"in e?e.contains(r):e.compareDocumentPosition?!!(e.compareDocumentPosition(r)&16):!1:!1}function $p(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var r=Sl(e.document);r instanceof e.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)e=r.contentWindow;else break;r=Sl(e.document)}return r}function ih(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r&&(r==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||r==="textarea"||e.contentEditable==="true")}var Gb=lr&&"documentMode"in document&&11>=document.documentMode,ds=null,rh=null,ba=null,nh=!1;function Zp(e,r,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;nh||ds==null||ds!==Sl(u)||(u=ds,"selectionStart"in u&&ih(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),ba&&xa(ba,u)||(ba=u,u=xo(rh,"onSelect"),0<u.length&&(r=new Ml("onSelect","select",null,r,a),e.push({event:r,listeners:u}),r.target=ds)))}function En(e,r){var a={};return a[e.toLowerCase()]=r.toLowerCase(),a["Webkit"+e]="webkit"+r,a["Moz"+e]="moz"+r,a}var ps={animationend:En("Animation","AnimationEnd"),animationiteration:En("Animation","AnimationIteration"),animationstart:En("Animation","AnimationStart"),transitionrun:En("Transition","TransitionRun"),transitionstart:En("Transition","TransitionStart"),transitioncancel:En("Transition","TransitionCancel"),transitionend:En("Transition","TransitionEnd")},sh={},Kp={};lr&&(Kp=document.createElement("div").style,"AnimationEvent"in window||(delete ps.animationend.animation,delete ps.animationiteration.animation,delete ps.animationstart.animation),"TransitionEvent"in window||delete ps.transitionend.transition);function Tn(e){if(sh[e])return sh[e];if(!ps[e])return e;var r=ps[e],a;for(a in r)if(r.hasOwnProperty(a)&&a in Kp)return sh[e]=r[a];return e}var Qp=Tn("animationend"),Jp=Tn("animationiteration"),tm=Tn("animationstart"),zb=Tn("transitionrun"),Hb=Tn("transitionstart"),kb=Tn("transitioncancel"),em=Tn("transitionend"),im=new Map,ah="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ah.push("scrollEnd");function Ci(e,r){im.set(e,r),xn(r,[e])}var Bl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},mi=[],ms=0,lh=0;function Nl(){for(var e=ms,r=lh=ms=0;r<e;){var a=mi[r];mi[r++]=null;var u=mi[r];mi[r++]=null;var f=mi[r];mi[r++]=null;var d=mi[r];if(mi[r++]=null,u!==null&&f!==null){var v=u.pending;v===null?f.next=f:(f.next=v.next,v.next=f),u.pending=f}d!==0&&rm(a,f,d)}}function Il(e,r,a,u){mi[ms++]=e,mi[ms++]=r,mi[ms++]=a,mi[ms++]=u,lh|=u,e.lanes|=u,e=e.alternate,e!==null&&(e.lanes|=u)}function oh(e,r,a,u){return Il(e,r,a,u),Ul(e)}function Sn(e,r){return Il(e,null,null,r),Ul(e)}function rm(e,r,a){e.lanes|=a;var u=e.alternate;u!==null&&(u.lanes|=a);for(var f=!1,d=e.return;d!==null;)d.childLanes|=a,u=d.alternate,u!==null&&(u.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(f=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,f&&r!==null&&(f=31-q(a),e=d.hiddenUpdates,u=e[f],u===null?e[f]=[r]:u.push(r),r.lane=a|536870912),d):null}function Ul(e){if(50<Xa)throw Xa=0,yc=null,Error(n(185));for(var r=e.return;r!==null;)e=r,r=e.return;return e.tag===3?e.stateNode:null}var gs={};function Xb(e,r,a,u){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ri(e,r,a,u){return new Xb(e,r,a,u)}function uh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function or(e,r){var a=e.alternate;return a===null?(a=ri(e.tag,r,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=r,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,r=e.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function nm(e,r){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=r,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,r=a.dependencies,e.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),e}function Ll(e,r,a,u,f,d){var v=0;if(u=e,typeof e=="function")uh(e)&&(v=1);else if(typeof e=="string")v=W1(e,a,j.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case J:return e=ri(31,a,r,f),e.elementType=J,e.lanes=d,e;case w:return An(a.children,f,d,r);case S:v=8,f|=24;break;case C:return e=ri(12,a,r,f|2),e.elementType=C,e.lanes=d,e;case B:return e=ri(13,a,r,f),e.elementType=B,e.lanes=d,e;case z:return e=ri(19,a,r,f),e.elementType=z,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case O:v=10;break t;case I:v=9;break t;case U:v=11;break t;case M:v=14;break t;case V:v=16,u=null;break t}v=29,a=Error(n(130,e===null?"null":typeof e,"")),u=null}return r=ri(v,a,r,f),r.elementType=e,r.type=u,r.lanes=d,r}function An(e,r,a,u){return e=ri(7,e,u,r),e.lanes=a,e}function hh(e,r,a){return e=ri(6,e,null,r),e.lanes=a,e}function sm(e){var r=ri(18,null,null,0);return r.stateNode=e,r}function ch(e,r,a){return r=ri(4,e.children!==null?e.children:[],e.key,r),r.lanes=a,r.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},r}var am=new WeakMap;function gi(e,r){if(typeof e=="object"&&e!==null){var a=am.get(e);return a!==void 0?a:(r={value:e,source:r,stack:ce(r)},am.set(e,r),r)}return{value:e,source:r,stack:ce(r)}}var ys=[],vs=0,Pl=null,Ea=0,yi=[],vi=0,Pr=null,Hi=1,ki="";function ur(e,r){ys[vs++]=Ea,ys[vs++]=Pl,Pl=e,Ea=r}function lm(e,r,a){yi[vi++]=Hi,yi[vi++]=ki,yi[vi++]=Pr,Pr=e;var u=Hi;e=ki;var f=32-q(u)-1;u&=~(1<<f),a+=1;var d=32-q(r)+f;if(30<d){var v=f-f%5;d=(u&(1<<v)-1).toString(32),u>>=v,f-=v,Hi=1<<32-q(r)+f|a<<f|u,ki=d+e}else Hi=1<<d|a<<f|u,ki=e}function fh(e){e.return!==null&&(ur(e,1),lm(e,1,0))}function dh(e){for(;e===Pl;)Pl=ys[--vs],ys[vs]=null,Ea=ys[--vs],ys[vs]=null;for(;e===Pr;)Pr=yi[--vi],yi[vi]=null,ki=yi[--vi],yi[vi]=null,Hi=yi[--vi],yi[vi]=null}function om(e,r){yi[vi++]=Hi,yi[vi++]=ki,yi[vi++]=Pr,Hi=r.id,ki=r.overflow,Pr=e}var Ne=null,re=null,Xt=!1,Fr=null,_i=!1,ph=Error(n(519));function Gr(e){var r=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ta(gi(r,e)),ph}function um(e){var r=e.stateNode,a=e.type,u=e.memoizedProps;switch(r[pe]=e,r[Be]=u,a){case"dialog":Gt("cancel",r),Gt("close",r);break;case"iframe":case"object":case"embed":Gt("load",r);break;case"video":case"audio":for(a=0;a<ja.length;a++)Gt(ja[a],r);break;case"source":Gt("error",r);break;case"img":case"image":case"link":Gt("error",r),Gt("load",r);break;case"details":Gt("toggle",r);break;case"input":Gt("invalid",r),Ep(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Gt("invalid",r);break;case"textarea":Gt("invalid",r),Sp(r,u.value,u.defaultValue,u.children)}a=u.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||u.suppressHydrationWarning===!0||wy(r.textContent,a)?(u.popover!=null&&(Gt("beforetoggle",r),Gt("toggle",r)),u.onScroll!=null&&Gt("scroll",r),u.onScrollEnd!=null&&Gt("scrollend",r),u.onClick!=null&&(r.onclick=ar),r=!0):r=!1,r||Gr(e,!0)}function hm(e){for(Ne=e.return;Ne;)switch(Ne.tag){case 5:case 31:case 13:_i=!1;return;case 27:case 3:_i=!0;return;default:Ne=Ne.return}}function _s(e){if(e!==Ne)return!1;if(!Xt)return hm(e),Xt=!0,!1;var r=e.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Bc(e.type,e.memoizedProps)),a=!a),a&&re&&Gr(e),hm(e),r===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(n(317));re=Uy(e)}else if(r===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(n(317));re=Uy(e)}else r===27?(r=re,Jr(e.type)?(e=Pc,Pc=null,re=e):re=r):re=Ne?bi(e.stateNode.nextSibling):null;return!0}function wn(){re=Ne=null,Xt=!1}function mh(){var e=Fr;return e!==null&&(Ke===null?Ke=e:Ke.push.apply(Ke,e),Fr=null),e}function Ta(e){Fr===null?Fr=[e]:Fr.push(e)}var gh=b(null),Cn=null,hr=null;function zr(e,r,a){F(gh,r._currentValue),r._currentValue=a}function cr(e){e._currentValue=gh.current,N(gh)}function yh(e,r,a){for(;e!==null;){var u=e.alternate;if((e.childLanes&r)!==r?(e.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),e===a)break;e=e.return}}function vh(e,r,a,u){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var d=f.dependencies;if(d!==null){var v=f.child;d=d.firstContext;t:for(;d!==null;){var A=d;d=f;for(var P=0;P<r.length;P++)if(A.context===r[P]){d.lanes|=a,A=d.alternate,A!==null&&(A.lanes|=a),yh(d.return,a,e),u||(v=null);break t}d=A.next}}else if(f.tag===18){if(v=f.return,v===null)throw Error(n(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),yh(v,a,e),v=null}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===e){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}}function xs(e,r,a,u){e=null;for(var f=r,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var v=f.alternate;if(v===null)throw Error(n(387));if(v=v.memoizedProps,v!==null){var A=f.type;ii(f.pendingProps.value,v.value)||(e!==null?e.push(A):e=[A])}}else if(f===lt.current){if(v=f.alternate,v===null)throw Error(n(387));v.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(Za):e=[Za])}f=f.return}e!==null&&vh(r,e,a,u),r.flags|=262144}function Fl(e){for(e=e.firstContext;e!==null;){if(!ii(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Rn(e){Cn=e,hr=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ie(e){return cm(Cn,e)}function Gl(e,r){return Cn===null&&Rn(e),cm(e,r)}function cm(e,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},hr===null){if(e===null)throw Error(n(308));hr=r,e.dependencies={lanes:0,firstContext:r},e.flags|=524288}else hr=hr.next=r;return a}var Vb=typeof AbortController<"u"?AbortController:function(){var e=[],r=this.signal={aborted:!1,addEventListener:function(a,u){e.push(u)}};this.abort=function(){r.aborted=!0,e.forEach(function(a){return a()})}},jb=s.unstable_scheduleCallback,qb=s.unstable_NormalPriority,_e={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _h(){return{controller:new Vb,data:new Map,refCount:0}}function Sa(e){e.refCount--,e.refCount===0&&jb(qb,function(){e.controller.abort()})}var Aa=null,xh=0,bs=0,Es=null;function Yb(e,r){if(Aa===null){var a=Aa=[];xh=0,bs=Tc(),Es={status:"pending",value:void 0,then:function(u){a.push(u)}}}return xh++,r.then(fm,fm),r}function fm(){if(--xh===0&&Aa!==null){Es!==null&&(Es.status="fulfilled");var e=Aa;Aa=null,bs=0,Es=null;for(var r=0;r<e.length;r++)(0,e[r])()}}function Wb(e,r){var a=[],u={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return e.then(function(){u.status="fulfilled",u.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(u.status="rejected",u.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),u}var dm=T.S;T.S=function(e,r){Zg=ve(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&Yb(e,r),dm!==null&&dm(e,r)};var Mn=b(null);function bh(){var e=Mn.current;return e!==null?e:ie.pooledCache}function zl(e,r){r===null?F(Mn,Mn.current):F(Mn,r.pool)}function pm(){var e=bh();return e===null?null:{parent:_e._currentValue,pool:e}}var Ts=Error(n(460)),Eh=Error(n(474)),Hl=Error(n(542)),kl={then:function(){}};function mm(e){return e=e.status,e==="fulfilled"||e==="rejected"}function gm(e,r,a){switch(a=e[a],a===void 0?e.push(r):a!==r&&(r.then(ar,ar),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw e=r.reason,vm(e),e;default:if(typeof r.status=="string")r.then(ar,ar);else{if(e=ie,e!==null&&100<e.shellSuspendCounter)throw Error(n(482));e=r,e.status="pending",e.then(function(u){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=u}},function(u){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw e=r.reason,vm(e),e}throw On=r,Ts}}function Dn(e){try{var r=e._init;return r(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(On=a,Ts):a}}var On=null;function ym(){if(On===null)throw Error(n(459));var e=On;return On=null,e}function vm(e){if(e===Ts||e===Hl)throw Error(n(483))}var Ss=null,wa=0;function Xl(e){var r=wa;return wa+=1,Ss===null&&(Ss=[]),gm(Ss,e,r)}function Ca(e,r){r=r.props.ref,e.ref=r!==void 0?r:null}function Vl(e,r){throw r.$$typeof===x?Error(n(525)):(e=Object.prototype.toString.call(r),Error(n(31,e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e)))}function _m(e){function r(X,G){if(e){var W=X.deletions;W===null?(X.deletions=[G],X.flags|=16):W.push(G)}}function a(X,G){if(!e)return null;for(;G!==null;)r(X,G),G=G.sibling;return null}function u(X){for(var G=new Map;X!==null;)X.key!==null?G.set(X.key,X):G.set(X.index,X),X=X.sibling;return G}function f(X,G){return X=or(X,G),X.index=0,X.sibling=null,X}function d(X,G,W){return X.index=W,e?(W=X.alternate,W!==null?(W=W.index,W<G?(X.flags|=67108866,G):W):(X.flags|=67108866,G)):(X.flags|=1048576,G)}function v(X){return e&&X.alternate===null&&(X.flags|=67108866),X}function A(X,G,W,rt){return G===null||G.tag!==6?(G=hh(W,X.mode,rt),G.return=X,G):(G=f(G,W),G.return=X,G)}function P(X,G,W,rt){var Ct=W.type;return Ct===w?it(X,G,W.props.children,rt,W.key):G!==null&&(G.elementType===Ct||typeof Ct=="object"&&Ct!==null&&Ct.$$typeof===V&&Dn(Ct)===G.type)?(G=f(G,W.props),Ca(G,W),G.return=X,G):(G=Ll(W.type,W.key,W.props,null,X.mode,rt),Ca(G,W),G.return=X,G)}function $(X,G,W,rt){return G===null||G.tag!==4||G.stateNode.containerInfo!==W.containerInfo||G.stateNode.implementation!==W.implementation?(G=ch(W,X.mode,rt),G.return=X,G):(G=f(G,W.children||[]),G.return=X,G)}function it(X,G,W,rt,Ct){return G===null||G.tag!==7?(G=An(W,X.mode,rt,Ct),G.return=X,G):(G=f(G,W),G.return=X,G)}function st(X,G,W){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=hh(""+G,X.mode,W),G.return=X,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case _:return W=Ll(G.type,G.key,G.props,null,X.mode,W),Ca(W,G),W.return=X,W;case E:return G=ch(G,X.mode,W),G.return=X,G;case V:return G=Dn(G),st(X,G,W)}if(ct(G)||k(G))return G=An(G,X.mode,W,null),G.return=X,G;if(typeof G.then=="function")return st(X,Xl(G),W);if(G.$$typeof===O)return st(X,Gl(X,G),W);Vl(X,G)}return null}function Z(X,G,W,rt){var Ct=G!==null?G.key:null;if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return Ct!==null?null:A(X,G,""+W,rt);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case _:return W.key===Ct?P(X,G,W,rt):null;case E:return W.key===Ct?$(X,G,W,rt):null;case V:return W=Dn(W),Z(X,G,W,rt)}if(ct(W)||k(W))return Ct!==null?null:it(X,G,W,rt,null);if(typeof W.then=="function")return Z(X,G,Xl(W),rt);if(W.$$typeof===O)return Z(X,G,Gl(X,W),rt);Vl(X,W)}return null}function Q(X,G,W,rt,Ct){if(typeof rt=="string"&&rt!==""||typeof rt=="number"||typeof rt=="bigint")return X=X.get(W)||null,A(G,X,""+rt,Ct);if(typeof rt=="object"&&rt!==null){switch(rt.$$typeof){case _:return X=X.get(rt.key===null?W:rt.key)||null,P(G,X,rt,Ct);case E:return X=X.get(rt.key===null?W:rt.key)||null,$(G,X,rt,Ct);case V:return rt=Dn(rt),Q(X,G,W,rt,Ct)}if(ct(rt)||k(rt))return X=X.get(W)||null,it(G,X,rt,Ct,null);if(typeof rt.then=="function")return Q(X,G,W,Xl(rt),Ct);if(rt.$$typeof===O)return Q(X,G,W,Gl(G,rt),Ct);Vl(G,rt)}return null}function yt(X,G,W,rt){for(var Ct=null,qt=null,Tt=G,Pt=G=0,kt=null;Tt!==null&&Pt<W.length;Pt++){Tt.index>Pt?(kt=Tt,Tt=null):kt=Tt.sibling;var Yt=Z(X,Tt,W[Pt],rt);if(Yt===null){Tt===null&&(Tt=kt);break}e&&Tt&&Yt.alternate===null&&r(X,Tt),G=d(Yt,G,Pt),qt===null?Ct=Yt:qt.sibling=Yt,qt=Yt,Tt=kt}if(Pt===W.length)return a(X,Tt),Xt&&ur(X,Pt),Ct;if(Tt===null){for(;Pt<W.length;Pt++)Tt=st(X,W[Pt],rt),Tt!==null&&(G=d(Tt,G,Pt),qt===null?Ct=Tt:qt.sibling=Tt,qt=Tt);return Xt&&ur(X,Pt),Ct}for(Tt=u(Tt);Pt<W.length;Pt++)kt=Q(Tt,X,Pt,W[Pt],rt),kt!==null&&(e&&kt.alternate!==null&&Tt.delete(kt.key===null?Pt:kt.key),G=d(kt,G,Pt),qt===null?Ct=kt:qt.sibling=kt,qt=kt);return e&&Tt.forEach(function(sn){return r(X,sn)}),Xt&&ur(X,Pt),Ct}function Mt(X,G,W,rt){if(W==null)throw Error(n(151));for(var Ct=null,qt=null,Tt=G,Pt=G=0,kt=null,Yt=W.next();Tt!==null&&!Yt.done;Pt++,Yt=W.next()){Tt.index>Pt?(kt=Tt,Tt=null):kt=Tt.sibling;var sn=Z(X,Tt,Yt.value,rt);if(sn===null){Tt===null&&(Tt=kt);break}e&&Tt&&sn.alternate===null&&r(X,Tt),G=d(sn,G,Pt),qt===null?Ct=sn:qt.sibling=sn,qt=sn,Tt=kt}if(Yt.done)return a(X,Tt),Xt&&ur(X,Pt),Ct;if(Tt===null){for(;!Yt.done;Pt++,Yt=W.next())Yt=st(X,Yt.value,rt),Yt!==null&&(G=d(Yt,G,Pt),qt===null?Ct=Yt:qt.sibling=Yt,qt=Yt);return Xt&&ur(X,Pt),Ct}for(Tt=u(Tt);!Yt.done;Pt++,Yt=W.next())Yt=Q(Tt,X,Pt,Yt.value,rt),Yt!==null&&(e&&Yt.alternate!==null&&Tt.delete(Yt.key===null?Pt:Yt.key),G=d(Yt,G,Pt),qt===null?Ct=Yt:qt.sibling=Yt,qt=Yt);return e&&Tt.forEach(function(sE){return r(X,sE)}),Xt&&ur(X,Pt),Ct}function ee(X,G,W,rt){if(typeof W=="object"&&W!==null&&W.type===w&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case _:t:{for(var Ct=W.key;G!==null;){if(G.key===Ct){if(Ct=W.type,Ct===w){if(G.tag===7){a(X,G.sibling),rt=f(G,W.props.children),rt.return=X,X=rt;break t}}else if(G.elementType===Ct||typeof Ct=="object"&&Ct!==null&&Ct.$$typeof===V&&Dn(Ct)===G.type){a(X,G.sibling),rt=f(G,W.props),Ca(rt,W),rt.return=X,X=rt;break t}a(X,G);break}else r(X,G);G=G.sibling}W.type===w?(rt=An(W.props.children,X.mode,rt,W.key),rt.return=X,X=rt):(rt=Ll(W.type,W.key,W.props,null,X.mode,rt),Ca(rt,W),rt.return=X,X=rt)}return v(X);case E:t:{for(Ct=W.key;G!==null;){if(G.key===Ct)if(G.tag===4&&G.stateNode.containerInfo===W.containerInfo&&G.stateNode.implementation===W.implementation){a(X,G.sibling),rt=f(G,W.children||[]),rt.return=X,X=rt;break t}else{a(X,G);break}else r(X,G);G=G.sibling}rt=ch(W,X.mode,rt),rt.return=X,X=rt}return v(X);case V:return W=Dn(W),ee(X,G,W,rt)}if(ct(W))return yt(X,G,W,rt);if(k(W)){if(Ct=k(W),typeof Ct!="function")throw Error(n(150));return W=Ct.call(W),Mt(X,G,W,rt)}if(typeof W.then=="function")return ee(X,G,Xl(W),rt);if(W.$$typeof===O)return ee(X,G,Gl(X,W),rt);Vl(X,W)}return typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint"?(W=""+W,G!==null&&G.tag===6?(a(X,G.sibling),rt=f(G,W),rt.return=X,X=rt):(a(X,G),rt=hh(W,X.mode,rt),rt.return=X,X=rt),v(X)):a(X,G)}return function(X,G,W,rt){try{wa=0;var Ct=ee(X,G,W,rt);return Ss=null,Ct}catch(Tt){if(Tt===Ts||Tt===Hl)throw Tt;var qt=ri(29,Tt,null,X.mode);return qt.lanes=rt,qt.return=X,qt}finally{}}}var Bn=_m(!0),xm=_m(!1),Hr=!1;function Th(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Sh(e,r){e=e.updateQueue,r.updateQueue===e&&(r.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function kr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Xr(e,r,a){var u=e.updateQueue;if(u===null)return null;if(u=u.shared,(Wt&2)!==0){var f=u.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),u.pending=r,r=Ul(e),rm(e,null,a),r}return Il(e,u,r,a),Ul(e)}function Ra(e,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var u=r.lanes;u&=e.pendingLanes,a|=u,r.lanes=a,Ir(e,a)}}function Ah(e,r){var a=e.updateQueue,u=e.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?f=d=r:d=d.next=r}else f=d=r;a={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:u.shared,callbacks:u.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=r:e.next=r,a.lastBaseUpdate=r}var wh=!1;function Ma(){if(wh){var e=Es;if(e!==null)throw e}}function Da(e,r,a,u){wh=!1;var f=e.updateQueue;Hr=!1;var d=f.firstBaseUpdate,v=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var P=A,$=P.next;P.next=null,v===null?d=$:v.next=$,v=P;var it=e.alternate;it!==null&&(it=it.updateQueue,A=it.lastBaseUpdate,A!==v&&(A===null?it.firstBaseUpdate=$:A.next=$,it.lastBaseUpdate=P))}if(d!==null){var st=f.baseState;v=0,it=$=P=null,A=d;do{var Z=A.lane&-536870913,Q=Z!==A.lane;if(Q?(Ht&Z)===Z:(u&Z)===Z){Z!==0&&Z===bs&&(wh=!0),it!==null&&(it=it.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});t:{var yt=e,Mt=A;Z=r;var ee=a;switch(Mt.tag){case 1:if(yt=Mt.payload,typeof yt=="function"){st=yt.call(ee,st,Z);break t}st=yt;break t;case 3:yt.flags=yt.flags&-65537|128;case 0:if(yt=Mt.payload,Z=typeof yt=="function"?yt.call(ee,st,Z):yt,Z==null)break t;st=y({},st,Z);break t;case 2:Hr=!0}}Z=A.callback,Z!==null&&(e.flags|=64,Q&&(e.flags|=8192),Q=f.callbacks,Q===null?f.callbacks=[Z]:Q.push(Z))}else Q={lane:Z,tag:A.tag,payload:A.payload,callback:A.callback,next:null},it===null?($=it=Q,P=st):it=it.next=Q,v|=Z;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;Q=A,A=Q.next,Q.next=null,f.lastBaseUpdate=Q,f.shared.pending=null}}while(!0);it===null&&(P=st),f.baseState=P,f.firstBaseUpdate=$,f.lastBaseUpdate=it,d===null&&(f.shared.lanes=0),Wr|=v,e.lanes=v,e.memoizedState=st}}function bm(e,r){if(typeof e!="function")throw Error(n(191,e));e.call(r)}function Em(e,r){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)bm(a[e],r)}var As=b(null),jl=b(0);function Tm(e,r){e=xr,F(jl,e),F(As,r),xr=e|r.baseLanes}function Ch(){F(jl,xr),F(As,As.current)}function Rh(){xr=jl.current,N(As),N(jl)}var ni=b(null),xi=null;function Vr(e){var r=e.alternate;F(me,me.current&1),F(ni,e),xi===null&&(r===null||As.current!==null||r.memoizedState!==null)&&(xi=e)}function Mh(e){F(me,me.current),F(ni,e),xi===null&&(xi=e)}function Sm(e){e.tag===22?(F(me,me.current),F(ni,e),xi===null&&(xi=e)):jr()}function jr(){F(me,me.current),F(ni,ni.current)}function si(e){N(ni),xi===e&&(xi=null),N(me)}var me=b(0);function ql(e){for(var r=e;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Uc(a)||Lc(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var fr=0,Ut=null,Jt=null,xe=null,Yl=!1,ws=!1,Nn=!1,Wl=0,Oa=0,Cs=null,$b=0;function fe(){throw Error(n(321))}function Dh(e,r){if(r===null)return!1;for(var a=0;a<r.length&&a<e.length;a++)if(!ii(e[a],r[a]))return!1;return!0}function Oh(e,r,a,u,f,d){return fr=d,Ut=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,T.H=e===null||e.memoizedState===null?lg:qh,Nn=!1,d=a(u,f),Nn=!1,ws&&(d=wm(r,a,u,f)),Am(e),d}function Am(e){T.H=Ia;var r=Jt!==null&&Jt.next!==null;if(fr=0,xe=Jt=Ut=null,Yl=!1,Oa=0,Cs=null,r)throw Error(n(300));e===null||be||(e=e.dependencies,e!==null&&Fl(e)&&(be=!0))}function wm(e,r,a,u){Ut=e;var f=0;do{if(ws&&(Cs=null),Oa=0,ws=!1,25<=f)throw Error(n(301));if(f+=1,xe=Jt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}T.H=og,d=r(a,u)}while(ws);return d}function Zb(){var e=T.H,r=e.useState()[0];return r=typeof r.then=="function"?Ba(r):r,e=e.useState()[0],(Jt!==null?Jt.memoizedState:null)!==e&&(Ut.flags|=1024),r}function Bh(){var e=Wl!==0;return Wl=0,e}function Nh(e,r,a){r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~a}function Ih(e){if(Yl){for(e=e.memoizedState;e!==null;){var r=e.queue;r!==null&&(r.pending=null),e=e.next}Yl=!1}fr=0,xe=Jt=Ut=null,ws=!1,Oa=Wl=0,Cs=null}function je(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xe===null?Ut.memoizedState=xe=e:xe=xe.next=e,xe}function ge(){if(Jt===null){var e=Ut.alternate;e=e!==null?e.memoizedState:null}else e=Jt.next;var r=xe===null?Ut.memoizedState:xe.next;if(r!==null)xe=r,Jt=e;else{if(e===null)throw Ut.alternate===null?Error(n(467)):Error(n(310));Jt=e,e={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},xe===null?Ut.memoizedState=xe=e:xe=xe.next=e}return xe}function $l(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ba(e){var r=Oa;return Oa+=1,Cs===null&&(Cs=[]),e=gm(Cs,e,r),r=Ut,(xe===null?r.memoizedState:xe.next)===null&&(r=r.alternate,T.H=r===null||r.memoizedState===null?lg:qh),e}function Zl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ba(e);if(e.$$typeof===O)return Ie(e)}throw Error(n(438,String(e)))}function Uh(e){var r=null,a=Ut.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var u=Ut.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=$l(),Ut.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(e),u=0;u<e;u++)a[u]=nt;return r.index++,a}function dr(e,r){return typeof r=="function"?r(e):r}function Kl(e){var r=ge();return Lh(r,Jt,e)}function Lh(e,r,a){var u=e.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=a;var f=e.baseQueue,d=u.pending;if(d!==null){if(f!==null){var v=f.next;f.next=d.next,d.next=v}r.baseQueue=f=d,u.pending=null}if(d=e.baseState,f===null)e.memoizedState=d;else{r=f.next;var A=v=null,P=null,$=r,it=!1;do{var st=$.lane&-536870913;if(st!==$.lane?(Ht&st)===st:(fr&st)===st){var Z=$.revertLane;if(Z===0)P!==null&&(P=P.next={lane:0,revertLane:0,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),st===bs&&(it=!0);else if((fr&Z)===Z){$=$.next,Z===bs&&(it=!0);continue}else st={lane:0,revertLane:$.revertLane,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},P===null?(A=P=st,v=d):P=P.next=st,Ut.lanes|=Z,Wr|=Z;st=$.action,Nn&&a(d,st),d=$.hasEagerState?$.eagerState:a(d,st)}else Z={lane:st,revertLane:$.revertLane,gesture:$.gesture,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},P===null?(A=P=Z,v=d):P=P.next=Z,Ut.lanes|=st,Wr|=st;$=$.next}while($!==null&&$!==r);if(P===null?v=d:P.next=A,!ii(d,e.memoizedState)&&(be=!0,it&&(a=Es,a!==null)))throw a;e.memoizedState=d,e.baseState=v,e.baseQueue=P,u.lastRenderedState=d}return f===null&&(u.lanes=0),[e.memoizedState,u.dispatch]}function Ph(e){var r=ge(),a=r.queue;if(a===null)throw Error(n(311));a.lastRenderedReducer=e;var u=a.dispatch,f=a.pending,d=r.memoizedState;if(f!==null){a.pending=null;var v=f=f.next;do d=e(d,v.action),v=v.next;while(v!==f);ii(d,r.memoizedState)||(be=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,u]}function Cm(e,r,a){var u=Ut,f=ge(),d=Xt;if(d){if(a===void 0)throw Error(n(407));a=a()}else a=r();var v=!ii((Jt||f).memoizedState,a);if(v&&(f.memoizedState=a,be=!0),f=f.queue,zh(Dm.bind(null,u,f,e),[e]),f.getSnapshot!==r||v||xe!==null&&xe.memoizedState.tag&1){if(u.flags|=2048,Rs(9,{destroy:void 0},Mm.bind(null,u,f,a,r),null),ie===null)throw Error(n(349));d||(fr&127)!==0||Rm(u,r,a)}return a}function Rm(e,r,a){e.flags|=16384,e={getSnapshot:r,value:a},r=Ut.updateQueue,r===null?(r=$l(),Ut.updateQueue=r,r.stores=[e]):(a=r.stores,a===null?r.stores=[e]:a.push(e))}function Mm(e,r,a,u){r.value=a,r.getSnapshot=u,Om(r)&&Bm(e)}function Dm(e,r,a){return a(function(){Om(r)&&Bm(e)})}function Om(e){var r=e.getSnapshot;e=e.value;try{var a=r();return!ii(e,a)}catch{return!0}}function Bm(e){var r=Sn(e,2);r!==null&&Qe(r,e,2)}function Fh(e){var r=je();if(typeof e=="function"){var a=e;if(e=a(),Nn){ti(!0);try{a()}finally{ti(!1)}}}return r.memoizedState=r.baseState=e,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dr,lastRenderedState:e},r}function Nm(e,r,a,u){return e.baseState=a,Lh(e,Jt,typeof u=="function"?u:dr)}function Kb(e,r,a,u,f){if(to(e))throw Error(n(485));if(e=r.action,e!==null){var d={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};T.T!==null?a(!0):d.isTransition=!1,u(d),a=r.pending,a===null?(d.next=r.pending=d,Im(r,d)):(d.next=a.next,r.pending=a.next=d)}}function Im(e,r){var a=r.action,u=r.payload,f=e.state;if(r.isTransition){var d=T.T,v={};T.T=v;try{var A=a(f,u),P=T.S;P!==null&&P(v,A),Um(e,r,A)}catch($){Gh(e,r,$)}finally{d!==null&&v.types!==null&&(d.types=v.types),T.T=d}}else try{d=a(f,u),Um(e,r,d)}catch($){Gh(e,r,$)}}function Um(e,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(u){Lm(e,r,u)},function(u){return Gh(e,r,u)}):Lm(e,r,a)}function Lm(e,r,a){r.status="fulfilled",r.value=a,Pm(r),e.state=a,r=e.pending,r!==null&&(a=r.next,a===r?e.pending=null:(a=a.next,r.next=a,Im(e,a)))}function Gh(e,r,a){var u=e.pending;if(e.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=a,Pm(r),r=r.next;while(r!==u)}e.action=null}function Pm(e){e=e.listeners;for(var r=0;r<e.length;r++)(0,e[r])()}function Fm(e,r){return r}function Gm(e,r){if(Xt){var a=ie.formState;if(a!==null){t:{var u=Ut;if(Xt){if(re){e:{for(var f=re,d=_i;f.nodeType!==8;){if(!d){f=null;break e}if(f=bi(f.nextSibling),f===null){f=null;break e}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){re=bi(f.nextSibling),u=f.data==="F!";break t}}Gr(u)}u=!1}u&&(r=a[0])}}return a=je(),a.memoizedState=a.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fm,lastRenderedState:r},a.queue=u,a=ng.bind(null,Ut,u),u.dispatch=a,u=Fh(!1),d=jh.bind(null,Ut,!1,u.queue),u=je(),f={state:r,dispatch:null,action:e,pending:null},u.queue=f,a=Kb.bind(null,Ut,f,d,a),f.dispatch=a,u.memoizedState=e,[r,a,!1]}function zm(e){var r=ge();return Hm(r,Jt,e)}function Hm(e,r,a){if(r=Lh(e,r,Fm)[0],e=Kl(dr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=Ba(r)}catch(v){throw v===Ts?Hl:v}else u=r;r=ge();var f=r.queue,d=f.dispatch;return a!==r.memoizedState&&(Ut.flags|=2048,Rs(9,{destroy:void 0},Qb.bind(null,f,a),null)),[u,d,e]}function Qb(e,r){e.action=r}function km(e){var r=ge(),a=Jt;if(a!==null)return Hm(r,a,e);ge(),r=r.memoizedState,a=ge();var u=a.queue.dispatch;return a.memoizedState=e,[r,u,!1]}function Rs(e,r,a,u){return e={tag:e,create:a,deps:u,inst:r,next:null},r=Ut.updateQueue,r===null&&(r=$l(),Ut.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=e.next=e:(u=a.next,a.next=e,e.next=u,r.lastEffect=e),e}function Xm(){return ge().memoizedState}function Ql(e,r,a,u){var f=je();Ut.flags|=e,f.memoizedState=Rs(1|r,{destroy:void 0},a,u===void 0?null:u)}function Jl(e,r,a,u){var f=ge();u=u===void 0?null:u;var d=f.memoizedState.inst;Jt!==null&&u!==null&&Dh(u,Jt.memoizedState.deps)?f.memoizedState=Rs(r,d,a,u):(Ut.flags|=e,f.memoizedState=Rs(1|r,d,a,u))}function Vm(e,r){Ql(8390656,8,e,r)}function zh(e,r){Jl(2048,8,e,r)}function Jb(e){Ut.flags|=4;var r=Ut.updateQueue;if(r===null)r=$l(),Ut.updateQueue=r,r.events=[e];else{var a=r.events;a===null?r.events=[e]:a.push(e)}}function jm(e){var r=ge().memoizedState;return Jb({ref:r,nextImpl:e}),function(){if((Wt&2)!==0)throw Error(n(440));return r.impl.apply(void 0,arguments)}}function qm(e,r){return Jl(4,2,e,r)}function Ym(e,r){return Jl(4,4,e,r)}function Wm(e,r){if(typeof r=="function"){e=e();var a=r(e);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return e=e(),r.current=e,function(){r.current=null}}function $m(e,r,a){a=a!=null?a.concat([e]):null,Jl(4,4,Wm.bind(null,r,e),a)}function Hh(){}function Zm(e,r){var a=ge();r=r===void 0?null:r;var u=a.memoizedState;return r!==null&&Dh(r,u[1])?u[0]:(a.memoizedState=[e,r],e)}function Km(e,r){var a=ge();r=r===void 0?null:r;var u=a.memoizedState;if(r!==null&&Dh(r,u[1]))return u[0];if(u=e(),Nn){ti(!0);try{e()}finally{ti(!1)}}return a.memoizedState=[u,r],u}function kh(e,r,a){return a===void 0||(fr&1073741824)!==0&&(Ht&261930)===0?e.memoizedState=r:(e.memoizedState=a,e=Qg(),Ut.lanes|=e,Wr|=e,a)}function Qm(e,r,a,u){return ii(a,r)?a:As.current!==null?(e=kh(e,a,u),ii(e,r)||(be=!0),e):(fr&42)===0||(fr&1073741824)!==0&&(Ht&261930)===0?(be=!0,e.memoizedState=a):(e=Qg(),Ut.lanes|=e,Wr|=e,r)}function Jm(e,r,a,u,f){var d=D.p;D.p=d!==0&&8>d?d:8;var v=T.T,A={};T.T=A,jh(e,!1,r,a);try{var P=f(),$=T.S;if($!==null&&$(A,P),P!==null&&typeof P=="object"&&typeof P.then=="function"){var it=Wb(P,u);Na(e,r,it,oi(e))}else Na(e,r,u,oi(e))}catch(st){Na(e,r,{then:function(){},status:"rejected",reason:st},oi())}finally{D.p=d,v!==null&&A.types!==null&&(v.types=A.types),T.T=v}}function t1(){}function Xh(e,r,a,u){if(e.tag!==5)throw Error(n(476));var f=tg(e).queue;Jm(e,f,r,R,a===null?t1:function(){return eg(e),a(u)})}function tg(e){var r=e.memoizedState;if(r!==null)return r;r={memoizedState:R,baseState:R,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:dr,lastRenderedState:R},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:dr,lastRenderedState:a},next:null},e.memoizedState=r,e=e.alternate,e!==null&&(e.memoizedState=r),r}function eg(e){var r=tg(e);r.next===null&&(r=e.alternate.memoizedState),Na(e,r.next.queue,{},oi())}function Vh(){return Ie(Za)}function ig(){return ge().memoizedState}function rg(){return ge().memoizedState}function e1(e){for(var r=e.return;r!==null;){switch(r.tag){case 24:case 3:var a=oi();e=kr(a);var u=Xr(r,e,a);u!==null&&(Qe(u,r,a),Ra(u,r,a)),r={cache:_h()},e.payload=r;return}r=r.return}}function i1(e,r,a){var u=oi();a={lane:u,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},to(e)?sg(r,a):(a=oh(e,r,a,u),a!==null&&(Qe(a,e,u),ag(a,r,u)))}function ng(e,r,a){var u=oi();Na(e,r,a,u)}function Na(e,r,a,u){var f={lane:u,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(to(e))sg(r,f);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var v=r.lastRenderedState,A=d(v,a);if(f.hasEagerState=!0,f.eagerState=A,ii(A,v))return Il(e,r,f,0),ie===null&&Nl(),!1}catch{}finally{}if(a=oh(e,r,f,u),a!==null)return Qe(a,e,u),ag(a,r,u),!0}return!1}function jh(e,r,a,u){if(u={lane:2,revertLane:Tc(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},to(e)){if(r)throw Error(n(479))}else r=oh(e,a,u,2),r!==null&&Qe(r,e,2)}function to(e){var r=e.alternate;return e===Ut||r!==null&&r===Ut}function sg(e,r){ws=Yl=!0;var a=e.pending;a===null?r.next=r:(r.next=a.next,a.next=r),e.pending=r}function ag(e,r,a){if((a&4194048)!==0){var u=r.lanes;u&=e.pendingLanes,a|=u,r.lanes=a,Ir(e,a)}}var Ia={readContext:Ie,use:Zl,useCallback:fe,useContext:fe,useEffect:fe,useImperativeHandle:fe,useLayoutEffect:fe,useInsertionEffect:fe,useMemo:fe,useReducer:fe,useRef:fe,useState:fe,useDebugValue:fe,useDeferredValue:fe,useTransition:fe,useSyncExternalStore:fe,useId:fe,useHostTransitionStatus:fe,useFormState:fe,useActionState:fe,useOptimistic:fe,useMemoCache:fe,useCacheRefresh:fe};Ia.useEffectEvent=fe;var lg={readContext:Ie,use:Zl,useCallback:function(e,r){return je().memoizedState=[e,r===void 0?null:r],e},useContext:Ie,useEffect:Vm,useImperativeHandle:function(e,r,a){a=a!=null?a.concat([e]):null,Ql(4194308,4,Wm.bind(null,r,e),a)},useLayoutEffect:function(e,r){return Ql(4194308,4,e,r)},useInsertionEffect:function(e,r){Ql(4,2,e,r)},useMemo:function(e,r){var a=je();r=r===void 0?null:r;var u=e();if(Nn){ti(!0);try{e()}finally{ti(!1)}}return a.memoizedState=[u,r],u},useReducer:function(e,r,a){var u=je();if(a!==void 0){var f=a(r);if(Nn){ti(!0);try{a(r)}finally{ti(!1)}}}else f=r;return u.memoizedState=u.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},u.queue=e,e=e.dispatch=i1.bind(null,Ut,e),[u.memoizedState,e]},useRef:function(e){var r=je();return e={current:e},r.memoizedState=e},useState:function(e){e=Fh(e);var r=e.queue,a=ng.bind(null,Ut,r);return r.dispatch=a,[e.memoizedState,a]},useDebugValue:Hh,useDeferredValue:function(e,r){var a=je();return kh(a,e,r)},useTransition:function(){var e=Fh(!1);return e=Jm.bind(null,Ut,e.queue,!0,!1),je().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,r,a){var u=Ut,f=je();if(Xt){if(a===void 0)throw Error(n(407));a=a()}else{if(a=r(),ie===null)throw Error(n(349));(Ht&127)!==0||Rm(u,r,a)}f.memoizedState=a;var d={value:a,getSnapshot:r};return f.queue=d,Vm(Dm.bind(null,u,d,e),[e]),u.flags|=2048,Rs(9,{destroy:void 0},Mm.bind(null,u,d,a,r),null),a},useId:function(){var e=je(),r=ie.identifierPrefix;if(Xt){var a=ki,u=Hi;a=(u&~(1<<32-q(u)-1)).toString(32)+a,r="_"+r+"R_"+a,a=Wl++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=$b++,r="_"+r+"r_"+a.toString(32)+"_";return e.memoizedState=r},useHostTransitionStatus:Vh,useFormState:Gm,useActionState:Gm,useOptimistic:function(e){var r=je();r.memoizedState=r.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=jh.bind(null,Ut,!0,a),a.dispatch=r,[e,r]},useMemoCache:Uh,useCacheRefresh:function(){return je().memoizedState=e1.bind(null,Ut)},useEffectEvent:function(e){var r=je(),a={impl:e};return r.memoizedState=a,function(){if((Wt&2)!==0)throw Error(n(440));return a.impl.apply(void 0,arguments)}}},qh={readContext:Ie,use:Zl,useCallback:Zm,useContext:Ie,useEffect:zh,useImperativeHandle:$m,useInsertionEffect:qm,useLayoutEffect:Ym,useMemo:Km,useReducer:Kl,useRef:Xm,useState:function(){return Kl(dr)},useDebugValue:Hh,useDeferredValue:function(e,r){var a=ge();return Qm(a,Jt.memoizedState,e,r)},useTransition:function(){var e=Kl(dr)[0],r=ge().memoizedState;return[typeof e=="boolean"?e:Ba(e),r]},useSyncExternalStore:Cm,useId:ig,useHostTransitionStatus:Vh,useFormState:zm,useActionState:zm,useOptimistic:function(e,r){var a=ge();return Nm(a,Jt,e,r)},useMemoCache:Uh,useCacheRefresh:rg};qh.useEffectEvent=jm;var og={readContext:Ie,use:Zl,useCallback:Zm,useContext:Ie,useEffect:zh,useImperativeHandle:$m,useInsertionEffect:qm,useLayoutEffect:Ym,useMemo:Km,useReducer:Ph,useRef:Xm,useState:function(){return Ph(dr)},useDebugValue:Hh,useDeferredValue:function(e,r){var a=ge();return Jt===null?kh(a,e,r):Qm(a,Jt.memoizedState,e,r)},useTransition:function(){var e=Ph(dr)[0],r=ge().memoizedState;return[typeof e=="boolean"?e:Ba(e),r]},useSyncExternalStore:Cm,useId:ig,useHostTransitionStatus:Vh,useFormState:km,useActionState:km,useOptimistic:function(e,r){var a=ge();return Jt!==null?Nm(a,Jt,e,r):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Uh,useCacheRefresh:rg};og.useEffectEvent=jm;function Yh(e,r,a,u){r=e.memoizedState,a=a(u,r),a=a==null?r:y({},r,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Wh={enqueueSetState:function(e,r,a){e=e._reactInternals;var u=oi(),f=kr(u);f.payload=r,a!=null&&(f.callback=a),r=Xr(e,f,u),r!==null&&(Qe(r,e,u),Ra(r,e,u))},enqueueReplaceState:function(e,r,a){e=e._reactInternals;var u=oi(),f=kr(u);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=Xr(e,f,u),r!==null&&(Qe(r,e,u),Ra(r,e,u))},enqueueForceUpdate:function(e,r){e=e._reactInternals;var a=oi(),u=kr(a);u.tag=2,r!=null&&(u.callback=r),r=Xr(e,u,a),r!==null&&(Qe(r,e,a),Ra(r,e,a))}};function ug(e,r,a,u,f,d,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(u,d,v):r.prototype&&r.prototype.isPureReactComponent?!xa(a,u)||!xa(f,d):!0}function hg(e,r,a,u){e=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,u),r.state!==e&&Wh.enqueueReplaceState(r,r.state,null)}function In(e,r){var a=r;if("ref"in r){a={};for(var u in r)u!=="ref"&&(a[u]=r[u])}if(e=e.defaultProps){a===r&&(a=y({},a));for(var f in e)a[f]===void 0&&(a[f]=e[f])}return a}function cg(e){Bl(e)}function fg(e){console.error(e)}function dg(e){Bl(e)}function eo(e,r){try{var a=e.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function pg(e,r,a){try{var u=e.onCaughtError;u(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function $h(e,r,a){return a=kr(a),a.tag=3,a.payload={element:null},a.callback=function(){eo(e,r)},a}function mg(e){return e=kr(e),e.tag=3,e}function gg(e,r,a,u){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=u.value;e.payload=function(){return f(d)},e.callback=function(){pg(r,a,u)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){pg(r,a,u),typeof f!="function"&&($r===null?$r=new Set([this]):$r.add(this));var A=u.stack;this.componentDidCatch(u.value,{componentStack:A!==null?A:""})})}function r1(e,r,a,u,f){if(a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=a.alternate,r!==null&&xs(r,a,f,!0),a=ni.current,a!==null){switch(a.tag){case 31:case 13:return xi===null?po():a.alternate===null&&de===0&&(de=3),a.flags&=-257,a.flags|=65536,a.lanes=f,u===kl?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([u]):r.add(u),xc(e,u,f)),!1;case 22:return a.flags|=65536,u===kl?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([u]):a.add(u)),xc(e,u,f)),!1}throw Error(n(435,a.tag))}return xc(e,u,f),po(),!1}if(Xt)return r=ni.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,u!==ph&&(e=Error(n(422),{cause:u}),Ta(gi(e,a)))):(u!==ph&&(r=Error(n(423),{cause:u}),Ta(gi(r,a))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,u=gi(u,a),f=$h(e.stateNode,u,f),Ah(e,f),de!==4&&(de=2)),!1;var d=Error(n(520),{cause:u});if(d=gi(d,a),ka===null?ka=[d]:ka.push(d),de!==4&&(de=2),r===null)return!0;u=gi(u,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,e=f&-f,a.lanes|=e,e=$h(a.stateNode,u,e),Ah(a,e),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&($r===null||!$r.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=mg(f),gg(f,e,a,u),Ah(a,f),!1}a=a.return}while(a!==null);return!1}var Zh=Error(n(461)),be=!1;function Ue(e,r,a,u){r.child=e===null?xm(r,null,a,u):Bn(r,e.child,a,u)}function yg(e,r,a,u,f){a=a.render;var d=r.ref;if("ref"in u){var v={};for(var A in u)A!=="ref"&&(v[A]=u[A])}else v=u;return Rn(r),u=Oh(e,r,a,v,d,f),A=Bh(),e!==null&&!be?(Nh(e,r,f),pr(e,r,f)):(Xt&&A&&fh(r),r.flags|=1,Ue(e,r,u,f),r.child)}function vg(e,r,a,u,f){if(e===null){var d=a.type;return typeof d=="function"&&!uh(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,_g(e,r,d,u,f)):(e=Ll(a.type,null,u,r,r.mode,f),e.ref=r.ref,e.return=r,r.child=e)}if(d=e.child,!nc(e,f)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:xa,a(v,u)&&e.ref===r.ref)return pr(e,r,f)}return r.flags|=1,e=or(d,u),e.ref=r.ref,e.return=r,r.child=e}function _g(e,r,a,u,f){if(e!==null){var d=e.memoizedProps;if(xa(d,u)&&e.ref===r.ref)if(be=!1,r.pendingProps=u=d,nc(e,f))(e.flags&131072)!==0&&(be=!0);else return r.lanes=e.lanes,pr(e,r,f)}return Kh(e,r,a,u,f)}function xg(e,r,a,u){var f=u.children,d=e!==null?e.memoizedState:null;if(e===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,e!==null){for(u=r.child=e.child,f=0;u!==null;)f=f|u.lanes|u.childLanes,u=u.sibling;u=f&~d}else u=0,r.child=null;return bg(e,r,d,a,u)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},e!==null&&zl(r,d!==null?d.cachePool:null),d!==null?Tm(r,d):Ch(),Sm(r);else return u=r.lanes=536870912,bg(e,r,d!==null?d.baseLanes|a:a,a,u)}else d!==null?(zl(r,d.cachePool),Tm(r,d),jr(),r.memoizedState=null):(e!==null&&zl(r,null),Ch(),jr());return Ue(e,r,f,a),r.child}function Ua(e,r){return e!==null&&e.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function bg(e,r,a,u,f){var d=bh();return d=d===null?null:{parent:_e._currentValue,pool:d},r.memoizedState={baseLanes:a,cachePool:d},e!==null&&zl(r,null),Ch(),Sm(r),e!==null&&xs(e,r,u,!0),r.childLanes=f,null}function io(e,r){return r=no({mode:r.mode,children:r.children},e.mode),r.ref=e.ref,e.child=r,r.return=e,r}function Eg(e,r,a){return Bn(r,e.child,null,a),e=io(r,r.pendingProps),e.flags|=2,si(r),r.memoizedState=null,e}function n1(e,r,a){var u=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,e===null){if(Xt){if(u.mode==="hidden")return e=io(r,u),r.lanes=536870912,Ua(null,e);if(Mh(r),(e=re)?(e=Iy(e,_i),e=e!==null&&e.data==="&"?e:null,e!==null&&(r.memoizedState={dehydrated:e,treeContext:Pr!==null?{id:Hi,overflow:ki}:null,retryLane:536870912,hydrationErrors:null},a=sm(e),a.return=r,r.child=a,Ne=r,re=null)):e=null,e===null)throw Gr(r);return r.lanes=536870912,null}return io(r,u)}var d=e.memoizedState;if(d!==null){var v=d.dehydrated;if(Mh(r),f)if(r.flags&256)r.flags&=-257,r=Eg(e,r,a);else if(r.memoizedState!==null)r.child=e.child,r.flags|=128,r=null;else throw Error(n(558));else if(be||xs(e,r,a,!1),f=(a&e.childLanes)!==0,be||f){if(u=ie,u!==null&&(v=is(u,a),v!==0&&v!==d.retryLane))throw d.retryLane=v,Sn(e,v),Qe(u,e,v),Zh;po(),r=Eg(e,r,a)}else e=d.treeContext,re=bi(v.nextSibling),Ne=r,Xt=!0,Fr=null,_i=!1,e!==null&&om(r,e),r=io(r,u),r.flags|=4096;return r}return e=or(e.child,{mode:u.mode,children:u.children}),e.ref=r.ref,r.child=e,e.return=r,e}function ro(e,r){var a=r.ref;if(a===null)e!==null&&e.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(n(284));(e===null||e.ref!==a)&&(r.flags|=4194816)}}function Kh(e,r,a,u,f){return Rn(r),a=Oh(e,r,a,u,void 0,f),u=Bh(),e!==null&&!be?(Nh(e,r,f),pr(e,r,f)):(Xt&&u&&fh(r),r.flags|=1,Ue(e,r,a,f),r.child)}function Tg(e,r,a,u,f,d){return Rn(r),r.updateQueue=null,a=wm(r,u,a,f),Am(e),u=Bh(),e!==null&&!be?(Nh(e,r,d),pr(e,r,d)):(Xt&&u&&fh(r),r.flags|=1,Ue(e,r,a,d),r.child)}function Sg(e,r,a,u,f){if(Rn(r),r.stateNode===null){var d=gs,v=a.contextType;typeof v=="object"&&v!==null&&(d=Ie(v)),d=new a(u,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Wh,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=u,d.state=r.memoizedState,d.refs={},Th(r),v=a.contextType,d.context=typeof v=="object"&&v!==null?Ie(v):gs,d.state=r.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Yh(r,a,v,u),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Wh.enqueueReplaceState(d,d.state,null),Da(r,u,d,f),Ma(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(e===null){d=r.stateNode;var A=r.memoizedProps,P=In(a,A);d.props=P;var $=d.context,it=a.contextType;v=gs,typeof it=="object"&&it!==null&&(v=Ie(it));var st=a.getDerivedStateFromProps;it=typeof st=="function"||typeof d.getSnapshotBeforeUpdate=="function",A=r.pendingProps!==A,it||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(A||$!==v)&&hg(r,d,u,v),Hr=!1;var Z=r.memoizedState;d.state=Z,Da(r,u,d,f),Ma(),$=r.memoizedState,A||Z!==$||Hr?(typeof st=="function"&&(Yh(r,a,st,u),$=r.memoizedState),(P=Hr||ug(r,a,P,u,Z,$,v))?(it||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=$),d.props=u,d.state=$,d.context=v,u=P):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{d=r.stateNode,Sh(e,r),v=r.memoizedProps,it=In(a,v),d.props=it,st=r.pendingProps,Z=d.context,$=a.contextType,P=gs,typeof $=="object"&&$!==null&&(P=Ie($)),A=a.getDerivedStateFromProps,($=typeof A=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==st||Z!==P)&&hg(r,d,u,P),Hr=!1,Z=r.memoizedState,d.state=Z,Da(r,u,d,f),Ma();var Q=r.memoizedState;v!==st||Z!==Q||Hr||e!==null&&e.dependencies!==null&&Fl(e.dependencies)?(typeof A=="function"&&(Yh(r,a,A,u),Q=r.memoizedState),(it=Hr||ug(r,a,it,u,Z,Q,P)||e!==null&&e.dependencies!==null&&Fl(e.dependencies))?($||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(u,Q,P),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(u,Q,P)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&Z===e.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&Z===e.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=Q),d.props=u,d.state=Q,d.context=P,u=it):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&Z===e.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&Z===e.memoizedState||(r.flags|=1024),u=!1)}return d=u,ro(e,r),u=(r.flags&128)!==0,d||u?(d=r.stateNode,a=u&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,e!==null&&u?(r.child=Bn(r,e.child,null,f),r.child=Bn(r,null,a,f)):Ue(e,r,a,f),r.memoizedState=d.state,e=r.child):e=pr(e,r,f),e}function Ag(e,r,a,u){return wn(),r.flags|=256,Ue(e,r,a,u),r.child}var Qh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Jh(e){return{baseLanes:e,cachePool:pm()}}function tc(e,r,a){return e=e!==null?e.childLanes&~a:0,r&&(e|=li),e}function wg(e,r,a){var u=r.pendingProps,f=!1,d=(r.flags&128)!==0,v;if((v=d)||(v=e!==null&&e.memoizedState===null?!1:(me.current&2)!==0),v&&(f=!0,r.flags&=-129),v=(r.flags&32)!==0,r.flags&=-33,e===null){if(Xt){if(f?Vr(r):jr(),(e=re)?(e=Iy(e,_i),e=e!==null&&e.data!=="&"?e:null,e!==null&&(r.memoizedState={dehydrated:e,treeContext:Pr!==null?{id:Hi,overflow:ki}:null,retryLane:536870912,hydrationErrors:null},a=sm(e),a.return=r,r.child=a,Ne=r,re=null)):e=null,e===null)throw Gr(r);return Lc(e)?r.lanes=32:r.lanes=536870912,null}var A=u.children;return u=u.fallback,f?(jr(),f=r.mode,A=no({mode:"hidden",children:A},f),u=An(u,f,a,null),A.return=r,u.return=r,A.sibling=u,r.child=A,u=r.child,u.memoizedState=Jh(a),u.childLanes=tc(e,v,a),r.memoizedState=Qh,Ua(null,u)):(Vr(r),ec(r,A))}var P=e.memoizedState;if(P!==null&&(A=P.dehydrated,A!==null)){if(d)r.flags&256?(Vr(r),r.flags&=-257,r=ic(e,r,a)):r.memoizedState!==null?(jr(),r.child=e.child,r.flags|=128,r=null):(jr(),A=u.fallback,f=r.mode,u=no({mode:"visible",children:u.children},f),A=An(A,f,a,null),A.flags|=2,u.return=r,A.return=r,u.sibling=A,r.child=u,Bn(r,e.child,null,a),u=r.child,u.memoizedState=Jh(a),u.childLanes=tc(e,v,a),r.memoizedState=Qh,r=Ua(null,u));else if(Vr(r),Lc(A)){if(v=A.nextSibling&&A.nextSibling.dataset,v)var $=v.dgst;v=$,u=Error(n(419)),u.stack="",u.digest=v,Ta({value:u,source:null,stack:null}),r=ic(e,r,a)}else if(be||xs(e,r,a,!1),v=(a&e.childLanes)!==0,be||v){if(v=ie,v!==null&&(u=is(v,a),u!==0&&u!==P.retryLane))throw P.retryLane=u,Sn(e,u),Qe(v,e,u),Zh;Uc(A)||po(),r=ic(e,r,a)}else Uc(A)?(r.flags|=192,r.child=e.child,r=null):(e=P.treeContext,re=bi(A.nextSibling),Ne=r,Xt=!0,Fr=null,_i=!1,e!==null&&om(r,e),r=ec(r,u.children),r.flags|=4096);return r}return f?(jr(),A=u.fallback,f=r.mode,P=e.child,$=P.sibling,u=or(P,{mode:"hidden",children:u.children}),u.subtreeFlags=P.subtreeFlags&65011712,$!==null?A=or($,A):(A=An(A,f,a,null),A.flags|=2),A.return=r,u.return=r,u.sibling=A,r.child=u,Ua(null,u),u=r.child,A=e.child.memoizedState,A===null?A=Jh(a):(f=A.cachePool,f!==null?(P=_e._currentValue,f=f.parent!==P?{parent:P,pool:P}:f):f=pm(),A={baseLanes:A.baseLanes|a,cachePool:f}),u.memoizedState=A,u.childLanes=tc(e,v,a),r.memoizedState=Qh,Ua(e.child,u)):(Vr(r),a=e.child,e=a.sibling,a=or(a,{mode:"visible",children:u.children}),a.return=r,a.sibling=null,e!==null&&(v=r.deletions,v===null?(r.deletions=[e],r.flags|=16):v.push(e)),r.child=a,r.memoizedState=null,a)}function ec(e,r){return r=no({mode:"visible",children:r},e.mode),r.return=e,e.child=r}function no(e,r){return e=ri(22,e,null,r),e.lanes=0,e}function ic(e,r,a){return Bn(r,e.child,null,a),e=ec(r,r.pendingProps.children),e.flags|=2,r.memoizedState=null,e}function Cg(e,r,a){e.lanes|=r;var u=e.alternate;u!==null&&(u.lanes|=r),yh(e.return,r,a)}function rc(e,r,a,u,f,d){var v=e.memoizedState;v===null?e.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:f,treeForkCount:d}:(v.isBackwards=r,v.rendering=null,v.renderingStartTime=0,v.last=u,v.tail=a,v.tailMode=f,v.treeForkCount=d)}function Rg(e,r,a){var u=r.pendingProps,f=u.revealOrder,d=u.tail;u=u.children;var v=me.current,A=(v&2)!==0;if(A?(v=v&1|2,r.flags|=128):v&=1,F(me,v),Ue(e,r,u,a),u=Xt?Ea:0,!A&&e!==null&&(e.flags&128)!==0)t:for(e=r.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Cg(e,a,r);else if(e.tag===19)Cg(e,a,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break t;for(;e.sibling===null;){if(e.return===null||e.return===r)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(f){case"forwards":for(a=r.child,f=null;a!==null;)e=a.alternate,e!==null&&ql(e)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),rc(r,!1,f,a,d,u);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(e=f.alternate,e!==null&&ql(e)===null){r.child=f;break}e=f.sibling,f.sibling=a,a=f,f=e}rc(r,!0,a,null,d,u);break;case"together":rc(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function pr(e,r,a){if(e!==null&&(r.dependencies=e.dependencies),Wr|=r.lanes,(a&r.childLanes)===0)if(e!==null){if(xs(e,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(e!==null&&r.child!==e.child)throw Error(n(153));if(r.child!==null){for(e=r.child,a=or(e,e.pendingProps),r.child=a,a.return=r;e.sibling!==null;)e=e.sibling,a=a.sibling=or(e,e.pendingProps),a.return=r;a.sibling=null}return r.child}function nc(e,r){return(e.lanes&r)!==0?!0:(e=e.dependencies,!!(e!==null&&Fl(e)))}function s1(e,r,a){switch(r.tag){case 3:dt(r,r.stateNode.containerInfo),zr(r,_e,e.memoizedState.cache),wn();break;case 27:case 5:ot(r);break;case 4:dt(r,r.stateNode.containerInfo);break;case 10:zr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Mh(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(Vr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?wg(e,r,a):(Vr(r),e=pr(e,r,a),e!==null?e.sibling:null);Vr(r);break;case 19:var f=(e.flags&128)!==0;if(u=(a&r.childLanes)!==0,u||(xs(e,r,a,!1),u=(a&r.childLanes)!==0),f){if(u)return Rg(e,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),F(me,me.current),u)break;return null;case 22:return r.lanes=0,xg(e,r,a,r.pendingProps);case 24:zr(r,_e,e.memoizedState.cache)}return pr(e,r,a)}function Mg(e,r,a){if(e!==null)if(e.memoizedProps!==r.pendingProps)be=!0;else{if(!nc(e,a)&&(r.flags&128)===0)return be=!1,s1(e,r,a);be=(e.flags&131072)!==0}else be=!1,Xt&&(r.flags&1048576)!==0&&lm(r,Ea,r.index);switch(r.lanes=0,r.tag){case 16:t:{var u=r.pendingProps;if(e=Dn(r.elementType),r.type=e,typeof e=="function")uh(e)?(u=In(e,u),r.tag=1,r=Sg(null,r,e,u,a)):(r.tag=0,r=Kh(null,r,e,u,a));else{if(e!=null){var f=e.$$typeof;if(f===U){r.tag=11,r=yg(null,r,e,u,a);break t}else if(f===M){r.tag=14,r=vg(null,r,e,u,a);break t}}throw r=et(e)||e,Error(n(306,r,""))}}return r;case 0:return Kh(e,r,r.type,r.pendingProps,a);case 1:return u=r.type,f=In(u,r.pendingProps),Sg(e,r,u,f,a);case 3:t:{if(dt(r,r.stateNode.containerInfo),e===null)throw Error(n(387));u=r.pendingProps;var d=r.memoizedState;f=d.element,Sh(e,r),Da(r,u,null,a);var v=r.memoizedState;if(u=v.cache,zr(r,_e,u),u!==d.cache&&vh(r,[_e],a,!0),Ma(),u=v.element,d.isDehydrated)if(d={element:u,isDehydrated:!1,cache:v.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=Ag(e,r,u,a);break t}else if(u!==f){f=gi(Error(n(424)),r),Ta(f),r=Ag(e,r,u,a);break t}else{switch(e=r.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(re=bi(e.firstChild),Ne=r,Xt=!0,Fr=null,_i=!0,a=xm(r,null,u,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(wn(),u===f){r=pr(e,r,a);break t}Ue(e,r,u,a)}r=r.child}return r;case 26:return ro(e,r),e===null?(a=zy(r.type,null,r.pendingProps,null))?r.memoizedState=a:Xt||(a=r.type,e=r.pendingProps,u=bo(at.current).createElement(a),u[pe]=r,u[Be]=e,Le(u,a,e),Ce(u),r.stateNode=u):r.memoizedState=zy(r.type,e.memoizedProps,r.pendingProps,e.memoizedState),null;case 27:return ot(r),e===null&&Xt&&(u=r.stateNode=Py(r.type,r.pendingProps,at.current),Ne=r,_i=!0,f=re,Jr(r.type)?(Pc=f,re=bi(u.firstChild)):re=f),Ue(e,r,r.pendingProps.children,a),ro(e,r),e===null&&(r.flags|=4194304),r.child;case 5:return e===null&&Xt&&((f=u=re)&&(u=U1(u,r.type,r.pendingProps,_i),u!==null?(r.stateNode=u,Ne=r,re=bi(u.firstChild),_i=!1,f=!0):f=!1),f||Gr(r)),ot(r),f=r.type,d=r.pendingProps,v=e!==null?e.memoizedProps:null,u=d.children,Bc(f,d)?u=null:v!==null&&Bc(f,v)&&(r.flags|=32),r.memoizedState!==null&&(f=Oh(e,r,Zb,null,null,a),Za._currentValue=f),ro(e,r),Ue(e,r,u,a),r.child;case 6:return e===null&&Xt&&((e=a=re)&&(a=L1(a,r.pendingProps,_i),a!==null?(r.stateNode=a,Ne=r,re=null,e=!0):e=!1),e||Gr(r)),null;case 13:return wg(e,r,a);case 4:return dt(r,r.stateNode.containerInfo),u=r.pendingProps,e===null?r.child=Bn(r,null,u,a):Ue(e,r,u,a),r.child;case 11:return yg(e,r,r.type,r.pendingProps,a);case 7:return Ue(e,r,r.pendingProps,a),r.child;case 8:return Ue(e,r,r.pendingProps.children,a),r.child;case 12:return Ue(e,r,r.pendingProps.children,a),r.child;case 10:return u=r.pendingProps,zr(r,r.type,u.value),Ue(e,r,u.children,a),r.child;case 9:return f=r.type._context,u=r.pendingProps.children,Rn(r),f=Ie(f),u=u(f),r.flags|=1,Ue(e,r,u,a),r.child;case 14:return vg(e,r,r.type,r.pendingProps,a);case 15:return _g(e,r,r.type,r.pendingProps,a);case 19:return Rg(e,r,a);case 31:return n1(e,r,a);case 22:return xg(e,r,a,r.pendingProps);case 24:return Rn(r),u=Ie(_e),e===null?(f=bh(),f===null&&(f=ie,d=_h(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),r.memoizedState={parent:u,cache:f},Th(r),zr(r,_e,f)):((e.lanes&a)!==0&&(Sh(e,r),Da(r,null,null,a),Ma()),f=e.memoizedState,d=r.memoizedState,f.parent!==u?(f={parent:u,cache:u},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),zr(r,_e,u)):(u=d.cache,zr(r,_e,u),u!==f.cache&&vh(r,[_e],a,!0))),Ue(e,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(n(156,r.tag))}function mr(e){e.flags|=4}function sc(e,r,a,u,f){if((r=(e.mode&32)!==0)&&(r=!1),r){if(e.flags|=16777216,(f&335544128)===f)if(e.stateNode.complete)e.flags|=8192;else if(iy())e.flags|=8192;else throw On=kl,Eh}else e.flags&=-16777217}function Dg(e,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!jy(r))if(iy())e.flags|=8192;else throw On=kl,Eh}function so(e,r){r!==null&&(e.flags|=4),e.flags&16384&&(r=e.tag!==22?ir():536870912,e.lanes|=r,Bs|=r)}function La(e,r){if(!Xt)switch(e.tailMode){case"hidden":r=e.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?r||e.tail===null?e.tail=null:e.tail.sibling=null:u.sibling=null}}function ne(e){var r=e.alternate!==null&&e.alternate.child===e.child,a=0,u=0;if(r)for(var f=e.child;f!==null;)a|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)a|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=u,e.childLanes=a,r}function a1(e,r,a){var u=r.pendingProps;switch(dh(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ne(r),null;case 1:return ne(r),null;case 3:return a=r.stateNode,u=null,e!==null&&(u=e.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),cr(_e),ft(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(_s(r)?mr(r):e===null||e.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,mh())),ne(r),null;case 26:var f=r.type,d=r.memoizedState;return e===null?(mr(r),d!==null?(ne(r),Dg(r,d)):(ne(r),sc(r,f,null,u,a))):d?d!==e.memoizedState?(mr(r),ne(r),Dg(r,d)):(ne(r),r.flags&=-16777217):(e=e.memoizedProps,e!==u&&mr(r),ne(r),sc(r,f,e,u,a)),null;case 27:if(vt(r),a=at.current,f=r.type,e!==null&&r.stateNode!=null)e.memoizedProps!==u&&mr(r);else{if(!u){if(r.stateNode===null)throw Error(n(166));return ne(r),null}e=j.current,_s(r)?um(r):(e=Py(f,u,a),r.stateNode=e,mr(r))}return ne(r),null;case 5:if(vt(r),f=r.type,e!==null&&r.stateNode!=null)e.memoizedProps!==u&&mr(r);else{if(!u){if(r.stateNode===null)throw Error(n(166));return ne(r),null}if(d=j.current,_s(r))um(r);else{var v=bo(at.current);switch(d){case 1:d=v.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=v.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=v.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof u.is=="string"?v.createElement("select",{is:u.is}):v.createElement("select"),u.multiple?d.multiple=!0:u.size&&(d.size=u.size);break;default:d=typeof u.is=="string"?v.createElement(f,{is:u.is}):v.createElement(f)}}d[pe]=r,d[Be]=u;t:for(v=r.child;v!==null;){if(v.tag===5||v.tag===6)d.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===r)break t;for(;v.sibling===null;){if(v.return===null||v.return===r)break t;v=v.return}v.sibling.return=v.return,v=v.sibling}r.stateNode=d;t:switch(Le(d,f,u),f){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break t;case"img":u=!0;break t;default:u=!1}u&&mr(r)}}return ne(r),sc(r,r.type,e===null?null:e.memoizedProps,r.pendingProps,a),null;case 6:if(e&&r.stateNode!=null)e.memoizedProps!==u&&mr(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(n(166));if(e=at.current,_s(r)){if(e=r.stateNode,a=r.memoizedProps,u=null,f=Ne,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}e[pe]=r,e=!!(e.nodeValue===a||u!==null&&u.suppressHydrationWarning===!0||wy(e.nodeValue,a)),e||Gr(r,!0)}else e=bo(e).createTextNode(u),e[pe]=r,r.stateNode=e}return ne(r),null;case 31:if(a=r.memoizedState,e===null||e.memoizedState!==null){if(u=_s(r),a!==null){if(e===null){if(!u)throw Error(n(318));if(e=r.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(n(557));e[pe]=r}else wn(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ne(r),e=!1}else a=mh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return r.flags&256?(si(r),r):(si(r),null);if((r.flags&128)!==0)throw Error(n(558))}return ne(r),null;case 13:if(u=r.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=_s(r),u!==null&&u.dehydrated!==null){if(e===null){if(!f)throw Error(n(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(n(317));f[pe]=r}else wn(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ne(r),f=!1}else f=mh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(si(r),r):(si(r),null)}return si(r),(r.flags&128)!==0?(r.lanes=a,r):(a=u!==null,e=e!==null&&e.memoizedState!==null,a&&(u=r.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool),d=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(d=u.memoizedState.cachePool.pool),d!==f&&(u.flags|=2048)),a!==e&&a&&(r.child.flags|=8192),so(r,r.updateQueue),ne(r),null);case 4:return ft(),e===null&&Cc(r.stateNode.containerInfo),ne(r),null;case 10:return cr(r.type),ne(r),null;case 19:if(N(me),u=r.memoizedState,u===null)return ne(r),null;if(f=(r.flags&128)!==0,d=u.rendering,d===null)if(f)La(u,!1);else{if(de!==0||e!==null&&(e.flags&128)!==0)for(e=r.child;e!==null;){if(d=ql(e),d!==null){for(r.flags|=128,La(u,!1),e=d.updateQueue,r.updateQueue=e,so(r,e),r.subtreeFlags=0,e=a,a=r.child;a!==null;)nm(a,e),a=a.sibling;return F(me,me.current&1|2),Xt&&ur(r,u.treeForkCount),r.child}e=e.sibling}u.tail!==null&&ve()>ho&&(r.flags|=128,f=!0,La(u,!1),r.lanes=4194304)}else{if(!f)if(e=ql(d),e!==null){if(r.flags|=128,f=!0,e=e.updateQueue,r.updateQueue=e,so(r,e),La(u,!0),u.tail===null&&u.tailMode==="hidden"&&!d.alternate&&!Xt)return ne(r),null}else 2*ve()-u.renderingStartTime>ho&&a!==536870912&&(r.flags|=128,f=!0,La(u,!1),r.lanes=4194304);u.isBackwards?(d.sibling=r.child,r.child=d):(e=u.last,e!==null?e.sibling=d:r.child=d,u.last=d)}return u.tail!==null?(e=u.tail,u.rendering=e,u.tail=e.sibling,u.renderingStartTime=ve(),e.sibling=null,a=me.current,F(me,f?a&1|2:a&1),Xt&&ur(r,u.treeForkCount),e):(ne(r),null);case 22:case 23:return si(r),Rh(),u=r.memoizedState!==null,e!==null?e.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(a&536870912)!==0&&(r.flags&128)===0&&(ne(r),r.subtreeFlags&6&&(r.flags|=8192)):ne(r),a=r.updateQueue,a!==null&&so(r,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==a&&(r.flags|=2048),e!==null&&N(Mn),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),cr(_e),ne(r),null;case 25:return null;case 30:return null}throw Error(n(156,r.tag))}function l1(e,r){switch(dh(r),r.tag){case 1:return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 3:return cr(_e),ft(),e=r.flags,(e&65536)!==0&&(e&128)===0?(r.flags=e&-65537|128,r):null;case 26:case 27:case 5:return vt(r),null;case 31:if(r.memoizedState!==null){if(si(r),r.alternate===null)throw Error(n(340));wn()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 13:if(si(r),e=r.memoizedState,e!==null&&e.dehydrated!==null){if(r.alternate===null)throw Error(n(340));wn()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 19:return N(me),null;case 4:return ft(),null;case 10:return cr(r.type),null;case 22:case 23:return si(r),Rh(),e!==null&&N(Mn),e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 24:return cr(_e),null;case 25:return null;default:return null}}function Og(e,r){switch(dh(r),r.tag){case 3:cr(_e),ft();break;case 26:case 27:case 5:vt(r);break;case 4:ft();break;case 31:r.memoizedState!==null&&si(r);break;case 13:si(r);break;case 19:N(me);break;case 10:cr(r.type);break;case 22:case 23:si(r),Rh(),e!==null&&N(Mn);break;case 24:cr(_e)}}function Pa(e,r){try{var a=r.updateQueue,u=a!==null?a.lastEffect:null;if(u!==null){var f=u.next;a=f;do{if((a.tag&e)===e){u=void 0;var d=a.create,v=a.inst;u=d(),v.destroy=u}a=a.next}while(a!==f)}}catch(A){Kt(r,r.return,A)}}function qr(e,r,a){try{var u=r.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var d=f.next;u=d;do{if((u.tag&e)===e){var v=u.inst,A=v.destroy;if(A!==void 0){v.destroy=void 0,f=r;var P=a,$=A;try{$()}catch(it){Kt(f,P,it)}}}u=u.next}while(u!==d)}}catch(it){Kt(r,r.return,it)}}function Bg(e){var r=e.updateQueue;if(r!==null){var a=e.stateNode;try{Em(r,a)}catch(u){Kt(e,e.return,u)}}}function Ng(e,r,a){a.props=In(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(u){Kt(e,r,u)}}function Fa(e,r){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var u=e.stateNode;break;case 30:u=e.stateNode;break;default:u=e.stateNode}typeof a=="function"?e.refCleanup=a(u):a.current=u}}catch(f){Kt(e,r,f)}}function Xi(e,r){var a=e.ref,u=e.refCleanup;if(a!==null)if(typeof u=="function")try{u()}catch(f){Kt(e,r,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Kt(e,r,f)}else a.current=null}function Ig(e){var r=e.type,a=e.memoizedProps,u=e.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&u.focus();break t;case"img":a.src?u.src=a.src:a.srcSet&&(u.srcset=a.srcSet)}}catch(f){Kt(e,e.return,f)}}function ac(e,r,a){try{var u=e.stateNode;M1(u,e.type,a,r),u[Be]=r}catch(f){Kt(e,e.return,f)}}function Ug(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Jr(e.type)||e.tag===4}function lc(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Ug(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Jr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function oc(e,r,a){var u=e.tag;if(u===5||u===6)e=e.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(e),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=ar));else if(u!==4&&(u===27&&Jr(e.type)&&(a=e.stateNode,r=null),e=e.child,e!==null))for(oc(e,r,a),e=e.sibling;e!==null;)oc(e,r,a),e=e.sibling}function ao(e,r,a){var u=e.tag;if(u===5||u===6)e=e.stateNode,r?a.insertBefore(e,r):a.appendChild(e);else if(u!==4&&(u===27&&Jr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(ao(e,r,a),e=e.sibling;e!==null;)ao(e,r,a),e=e.sibling}function Lg(e){var r=e.stateNode,a=e.memoizedProps;try{for(var u=e.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);Le(r,u,a),r[pe]=e,r[Be]=a}catch(d){Kt(e,e.return,d)}}var gr=!1,Ee=!1,uc=!1,Pg=typeof WeakSet=="function"?WeakSet:Set,Re=null;function o1(e,r){if(e=e.containerInfo,Dc=Ro,e=$p(e),ih(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var f=u.anchorOffset,d=u.focusNode;u=u.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var v=0,A=-1,P=-1,$=0,it=0,st=e,Z=null;e:for(;;){for(var Q;st!==a||f!==0&&st.nodeType!==3||(A=v+f),st!==d||u!==0&&st.nodeType!==3||(P=v+u),st.nodeType===3&&(v+=st.nodeValue.length),(Q=st.firstChild)!==null;)Z=st,st=Q;for(;;){if(st===e)break e;if(Z===a&&++$===f&&(A=v),Z===d&&++it===u&&(P=v),(Q=st.nextSibling)!==null)break;st=Z,Z=st.parentNode}st=Q}a=A===-1||P===-1?null:{start:A,end:P}}else a=null}a=a||{start:0,end:0}}else a=null;for(Oc={focusedElem:e,selectionRange:a},Ro=!1,Re=r;Re!==null;)if(r=Re,e=r.child,(r.subtreeFlags&1028)!==0&&e!==null)e.return=r,Re=e;else for(;Re!==null;){switch(r=Re,d=r.alternate,e=r.flags,r.tag){case 0:if((e&4)!==0&&(e=r.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)f=e[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=r,f=d.memoizedProps,d=d.memoizedState,u=a.stateNode;try{var yt=In(a.type,f);e=u.getSnapshotBeforeUpdate(yt,d),u.__reactInternalSnapshotBeforeUpdate=e}catch(Mt){Kt(a,a.return,Mt)}}break;case 3:if((e&1024)!==0){if(e=r.stateNode.containerInfo,a=e.nodeType,a===9)Ic(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ic(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(n(163))}if(e=r.sibling,e!==null){e.return=r.return,Re=e;break}Re=r.return}}function Fg(e,r,a){var u=a.flags;switch(a.tag){case 0:case 11:case 15:vr(e,a),u&4&&Pa(5,a);break;case 1:if(vr(e,a),u&4)if(e=a.stateNode,r===null)try{e.componentDidMount()}catch(v){Kt(a,a.return,v)}else{var f=In(a.type,r.memoizedProps);r=r.memoizedState;try{e.componentDidUpdate(f,r,e.__reactInternalSnapshotBeforeUpdate)}catch(v){Kt(a,a.return,v)}}u&64&&Bg(a),u&512&&Fa(a,a.return);break;case 3:if(vr(e,a),u&64&&(e=a.updateQueue,e!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Em(e,r)}catch(v){Kt(a,a.return,v)}}break;case 27:r===null&&u&4&&Lg(a);case 26:case 5:vr(e,a),r===null&&u&4&&Ig(a),u&512&&Fa(a,a.return);break;case 12:vr(e,a);break;case 31:vr(e,a),u&4&&Hg(e,a);break;case 13:vr(e,a),u&4&&kg(e,a),u&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=y1.bind(null,a),P1(e,a))));break;case 22:if(u=a.memoizedState!==null||gr,!u){r=r!==null&&r.memoizedState!==null||Ee,f=gr;var d=Ee;gr=u,(Ee=r)&&!d?_r(e,a,(a.subtreeFlags&8772)!==0):vr(e,a),gr=f,Ee=d}break;case 30:break;default:vr(e,a)}}function Gg(e){var r=e.alternate;r!==null&&(e.alternate=null,Gg(r)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(r=e.stateNode,r!==null&&ca(r)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var le=null,We=!1;function yr(e,r,a){for(a=a.child;a!==null;)zg(e,r,a),a=a.sibling}function zg(e,r,a){if(Oe&&typeof Oe.onCommitFiberUnmount=="function")try{Oe.onCommitFiberUnmount(vn,a)}catch{}switch(a.tag){case 26:Ee||Xi(a,r),yr(e,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ee||Xi(a,r);var u=le,f=We;Jr(a.type)&&(le=a.stateNode,We=!1),yr(e,r,a),Ya(a.stateNode),le=u,We=f;break;case 5:Ee||Xi(a,r);case 6:if(u=le,f=We,le=null,yr(e,r,a),le=u,We=f,le!==null)if(We)try{(le.nodeType===9?le.body:le.nodeName==="HTML"?le.ownerDocument.body:le).removeChild(a.stateNode)}catch(d){Kt(a,r,d)}else try{le.removeChild(a.stateNode)}catch(d){Kt(a,r,d)}break;case 18:le!==null&&(We?(e=le,By(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),zs(e)):By(le,a.stateNode));break;case 4:u=le,f=We,le=a.stateNode.containerInfo,We=!0,yr(e,r,a),le=u,We=f;break;case 0:case 11:case 14:case 15:qr(2,a,r),Ee||qr(4,a,r),yr(e,r,a);break;case 1:Ee||(Xi(a,r),u=a.stateNode,typeof u.componentWillUnmount=="function"&&Ng(a,r,u)),yr(e,r,a);break;case 21:yr(e,r,a);break;case 22:Ee=(u=Ee)||a.memoizedState!==null,yr(e,r,a),Ee=u;break;default:yr(e,r,a)}}function Hg(e,r){if(r.memoizedState===null&&(e=r.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{zs(e)}catch(a){Kt(r,r.return,a)}}}function kg(e,r){if(r.memoizedState===null&&(e=r.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{zs(e)}catch(a){Kt(r,r.return,a)}}function u1(e){switch(e.tag){case 31:case 13:case 19:var r=e.stateNode;return r===null&&(r=e.stateNode=new Pg),r;case 22:return e=e.stateNode,r=e._retryCache,r===null&&(r=e._retryCache=new Pg),r;default:throw Error(n(435,e.tag))}}function lo(e,r){var a=u1(e);r.forEach(function(u){if(!a.has(u)){a.add(u);var f=v1.bind(null,e,u);u.then(f,f)}})}function $e(e,r){var a=r.deletions;if(a!==null)for(var u=0;u<a.length;u++){var f=a[u],d=e,v=r,A=v;t:for(;A!==null;){switch(A.tag){case 27:if(Jr(A.type)){le=A.stateNode,We=!1;break t}break;case 5:le=A.stateNode,We=!1;break t;case 3:case 4:le=A.stateNode.containerInfo,We=!0;break t}A=A.return}if(le===null)throw Error(n(160));zg(d,v,f),le=null,We=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)Xg(r,e),r=r.sibling}var Ri=null;function Xg(e,r){var a=e.alternate,u=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:$e(r,e),Ze(e),u&4&&(qr(3,e,e.return),Pa(3,e),qr(5,e,e.return));break;case 1:$e(r,e),Ze(e),u&512&&(Ee||a===null||Xi(a,a.return)),u&64&&gr&&(e=e.updateQueue,e!==null&&(u=e.callbacks,u!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?u:a.concat(u))));break;case 26:var f=Ri;if($e(r,e),Ze(e),u&512&&(Ee||a===null||Xi(a,a.return)),u&4){var d=a!==null?a.memoizedState:null;if(u=e.memoizedState,a===null)if(u===null)if(e.stateNode===null){t:{u=e.type,a=e.memoizedProps,f=f.ownerDocument||f;e:switch(u){case"title":d=f.getElementsByTagName("title")[0],(!d||d[zi]||d[pe]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(u),f.head.insertBefore(d,f.querySelector("head > title"))),Le(d,u,a),d[pe]=e,Ce(d),u=d;break t;case"link":var v=Xy("link","href",f).get(u+(a.href||""));if(v){for(var A=0;A<v.length;A++)if(d=v[A],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(A,1);break e}}d=f.createElement(u),Le(d,u,a),f.head.appendChild(d);break;case"meta":if(v=Xy("meta","content",f).get(u+(a.content||""))){for(A=0;A<v.length;A++)if(d=v[A],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(A,1);break e}}d=f.createElement(u),Le(d,u,a),f.head.appendChild(d);break;default:throw Error(n(468,u))}d[pe]=e,Ce(d),u=d}e.stateNode=u}else Vy(f,e.type,e.stateNode);else e.stateNode=ky(f,u,e.memoizedProps);else d!==u?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,u===null?Vy(f,e.type,e.stateNode):ky(f,u,e.memoizedProps)):u===null&&e.stateNode!==null&&ac(e,e.memoizedProps,a.memoizedProps)}break;case 27:$e(r,e),Ze(e),u&512&&(Ee||a===null||Xi(a,a.return)),a!==null&&u&4&&ac(e,e.memoizedProps,a.memoizedProps);break;case 5:if($e(r,e),Ze(e),u&512&&(Ee||a===null||Xi(a,a.return)),e.flags&32){f=e.stateNode;try{us(f,"")}catch(yt){Kt(e,e.return,yt)}}u&4&&e.stateNode!=null&&(f=e.memoizedProps,ac(e,f,a!==null?a.memoizedProps:f)),u&1024&&(uc=!0);break;case 6:if($e(r,e),Ze(e),u&4){if(e.stateNode===null)throw Error(n(162));u=e.memoizedProps,a=e.stateNode;try{a.nodeValue=u}catch(yt){Kt(e,e.return,yt)}}break;case 3:if(So=null,f=Ri,Ri=Eo(r.containerInfo),$e(r,e),Ri=f,Ze(e),u&4&&a!==null&&a.memoizedState.isDehydrated)try{zs(r.containerInfo)}catch(yt){Kt(e,e.return,yt)}uc&&(uc=!1,Vg(e));break;case 4:u=Ri,Ri=Eo(e.stateNode.containerInfo),$e(r,e),Ze(e),Ri=u;break;case 12:$e(r,e),Ze(e);break;case 31:$e(r,e),Ze(e),u&4&&(u=e.updateQueue,u!==null&&(e.updateQueue=null,lo(e,u)));break;case 13:$e(r,e),Ze(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(uo=ve()),u&4&&(u=e.updateQueue,u!==null&&(e.updateQueue=null,lo(e,u)));break;case 22:f=e.memoizedState!==null;var P=a!==null&&a.memoizedState!==null,$=gr,it=Ee;if(gr=$||f,Ee=it||P,$e(r,e),Ee=it,gr=$,Ze(e),u&8192)t:for(r=e.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||P||gr||Ee||Un(e)),a=null,r=e;;){if(r.tag===5||r.tag===26){if(a===null){P=a=r;try{if(d=P.stateNode,f)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{A=P.stateNode;var st=P.memoizedProps.style,Z=st!=null&&st.hasOwnProperty("display")?st.display:null;A.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(yt){Kt(P,P.return,yt)}}}else if(r.tag===6){if(a===null){P=r;try{P.stateNode.nodeValue=f?"":P.memoizedProps}catch(yt){Kt(P,P.return,yt)}}}else if(r.tag===18){if(a===null){P=r;try{var Q=P.stateNode;f?Ny(Q,!0):Ny(P.stateNode,!1)}catch(yt){Kt(P,P.return,yt)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===e)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break t;for(;r.sibling===null;){if(r.return===null||r.return===e)break t;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=e.updateQueue,u!==null&&(a=u.retryQueue,a!==null&&(u.retryQueue=null,lo(e,a))));break;case 19:$e(r,e),Ze(e),u&4&&(u=e.updateQueue,u!==null&&(e.updateQueue=null,lo(e,u)));break;case 30:break;case 21:break;default:$e(r,e),Ze(e)}}function Ze(e){var r=e.flags;if(r&2){try{for(var a,u=e.return;u!==null;){if(Ug(u)){a=u;break}u=u.return}if(a==null)throw Error(n(160));switch(a.tag){case 27:var f=a.stateNode,d=lc(e);ao(e,d,f);break;case 5:var v=a.stateNode;a.flags&32&&(us(v,""),a.flags&=-33);var A=lc(e);ao(e,A,v);break;case 3:case 4:var P=a.stateNode.containerInfo,$=lc(e);oc(e,$,P);break;default:throw Error(n(161))}}catch(it){Kt(e,e.return,it)}e.flags&=-3}r&4096&&(e.flags&=-4097)}function Vg(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var r=e;Vg(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),e=e.sibling}}function vr(e,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Fg(e,r.alternate,r),r=r.sibling}function Un(e){for(e=e.child;e!==null;){var r=e;switch(r.tag){case 0:case 11:case 14:case 15:qr(4,r,r.return),Un(r);break;case 1:Xi(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&Ng(r,r.return,a),Un(r);break;case 27:Ya(r.stateNode);case 26:case 5:Xi(r,r.return),Un(r);break;case 22:r.memoizedState===null&&Un(r);break;case 30:Un(r);break;default:Un(r)}e=e.sibling}}function _r(e,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,f=e,d=r,v=d.flags;switch(d.tag){case 0:case 11:case 15:_r(f,d,a),Pa(4,d);break;case 1:if(_r(f,d,a),u=d,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch($){Kt(u,u.return,$)}if(u=d,f=u.updateQueue,f!==null){var A=u.stateNode;try{var P=f.shared.hiddenCallbacks;if(P!==null)for(f.shared.hiddenCallbacks=null,f=0;f<P.length;f++)bm(P[f],A)}catch($){Kt(u,u.return,$)}}a&&v&64&&Bg(d),Fa(d,d.return);break;case 27:Lg(d);case 26:case 5:_r(f,d,a),a&&u===null&&v&4&&Ig(d),Fa(d,d.return);break;case 12:_r(f,d,a);break;case 31:_r(f,d,a),a&&v&4&&Hg(f,d);break;case 13:_r(f,d,a),a&&v&4&&kg(f,d);break;case 22:d.memoizedState===null&&_r(f,d,a),Fa(d,d.return);break;case 30:break;default:_r(f,d,a)}r=r.sibling}}function hc(e,r){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(e=r.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Sa(a))}function cc(e,r){e=null,r.alternate!==null&&(e=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==e&&(r.refCount++,e!=null&&Sa(e))}function Mi(e,r,a,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)jg(e,r,a,u),r=r.sibling}function jg(e,r,a,u){var f=r.flags;switch(r.tag){case 0:case 11:case 15:Mi(e,r,a,u),f&2048&&Pa(9,r);break;case 1:Mi(e,r,a,u);break;case 3:Mi(e,r,a,u),f&2048&&(e=null,r.alternate!==null&&(e=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==e&&(r.refCount++,e!=null&&Sa(e)));break;case 12:if(f&2048){Mi(e,r,a,u),e=r.stateNode;try{var d=r.memoizedProps,v=d.id,A=d.onPostCommit;typeof A=="function"&&A(v,r.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(P){Kt(r,r.return,P)}}else Mi(e,r,a,u);break;case 31:Mi(e,r,a,u);break;case 13:Mi(e,r,a,u);break;case 23:break;case 22:d=r.stateNode,v=r.alternate,r.memoizedState!==null?d._visibility&2?Mi(e,r,a,u):Ga(e,r):d._visibility&2?Mi(e,r,a,u):(d._visibility|=2,Ms(e,r,a,u,(r.subtreeFlags&10256)!==0||!1)),f&2048&&hc(v,r);break;case 24:Mi(e,r,a,u),f&2048&&cc(r.alternate,r);break;default:Mi(e,r,a,u)}}function Ms(e,r,a,u,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var d=e,v=r,A=a,P=u,$=v.flags;switch(v.tag){case 0:case 11:case 15:Ms(d,v,A,P,f),Pa(8,v);break;case 23:break;case 22:var it=v.stateNode;v.memoizedState!==null?it._visibility&2?Ms(d,v,A,P,f):Ga(d,v):(it._visibility|=2,Ms(d,v,A,P,f)),f&&$&2048&&hc(v.alternate,v);break;case 24:Ms(d,v,A,P,f),f&&$&2048&&cc(v.alternate,v);break;default:Ms(d,v,A,P,f)}r=r.sibling}}function Ga(e,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=e,u=r,f=u.flags;switch(u.tag){case 22:Ga(a,u),f&2048&&hc(u.alternate,u);break;case 24:Ga(a,u),f&2048&&cc(u.alternate,u);break;default:Ga(a,u)}r=r.sibling}}var za=8192;function Ds(e,r,a){if(e.subtreeFlags&za)for(e=e.child;e!==null;)qg(e,r,a),e=e.sibling}function qg(e,r,a){switch(e.tag){case 26:Ds(e,r,a),e.flags&za&&e.memoizedState!==null&&$1(a,Ri,e.memoizedState,e.memoizedProps);break;case 5:Ds(e,r,a);break;case 3:case 4:var u=Ri;Ri=Eo(e.stateNode.containerInfo),Ds(e,r,a),Ri=u;break;case 22:e.memoizedState===null&&(u=e.alternate,u!==null&&u.memoizedState!==null?(u=za,za=16777216,Ds(e,r,a),za=u):Ds(e,r,a));break;default:Ds(e,r,a)}}function Yg(e){var r=e.alternate;if(r!==null&&(e=r.child,e!==null)){r.child=null;do r=e.sibling,e.sibling=null,e=r;while(e!==null)}}function Ha(e){var r=e.deletions;if((e.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var u=r[a];Re=u,$g(u,e)}Yg(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Wg(e),e=e.sibling}function Wg(e){switch(e.tag){case 0:case 11:case 15:Ha(e),e.flags&2048&&qr(9,e,e.return);break;case 3:Ha(e);break;case 12:Ha(e);break;case 22:var r=e.stateNode;e.memoizedState!==null&&r._visibility&2&&(e.return===null||e.return.tag!==13)?(r._visibility&=-3,oo(e)):Ha(e);break;default:Ha(e)}}function oo(e){var r=e.deletions;if((e.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var u=r[a];Re=u,$g(u,e)}Yg(e)}for(e=e.child;e!==null;){switch(r=e,r.tag){case 0:case 11:case 15:qr(8,r,r.return),oo(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,oo(r));break;default:oo(r)}e=e.sibling}}function $g(e,r){for(;Re!==null;){var a=Re;switch(a.tag){case 0:case 11:case 15:qr(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var u=a.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Sa(a.memoizedState.cache)}if(u=a.child,u!==null)u.return=a,Re=u;else t:for(a=e;Re!==null;){u=Re;var f=u.sibling,d=u.return;if(Gg(u),u===a){Re=null;break t}if(f!==null){f.return=d,Re=f;break t}Re=d}}}var h1={getCacheForType:function(e){var r=Ie(_e),a=r.data.get(e);return a===void 0&&(a=e(),r.data.set(e,a)),a},cacheSignal:function(){return Ie(_e).controller.signal}},c1=typeof WeakMap=="function"?WeakMap:Map,Wt=0,ie=null,Ft=null,Ht=0,Zt=0,ai=null,Yr=!1,Os=!1,fc=!1,xr=0,de=0,Wr=0,Ln=0,dc=0,li=0,Bs=0,ka=null,Ke=null,pc=!1,uo=0,Zg=0,ho=1/0,co=null,$r=null,Se=0,Zr=null,Ns=null,br=0,mc=0,gc=null,Kg=null,Xa=0,yc=null;function oi(){return(Wt&2)!==0&&Ht!==0?Ht&-Ht:T.T!==null?Tc():rs()}function Qg(){if(li===0)if((Ht&536870912)===0||Xt){var e=Bt;Bt<<=1,(Bt&3932160)===0&&(Bt=262144),li=e}else li=536870912;return e=ni.current,e!==null&&(e.flags|=32),li}function Qe(e,r,a){(e===ie&&(Zt===2||Zt===9)||e.cancelPendingCommit!==null)&&(Is(e,0),Kr(e,Ht,li,!1)),Nr(e,a),((Wt&2)===0||e!==ie)&&(e===ie&&((Wt&2)===0&&(Ln|=a),de===4&&Kr(e,Ht,li,!1)),Vi(e))}function Jg(e,r,a){if((Wt&6)!==0)throw Error(n(327));var u=!a&&(r&127)===0&&(r&e.expiredLanes)===0||qe(e,r),f=u?p1(e,r):_c(e,r,!0),d=u;do{if(f===0){Os&&!u&&Kr(e,r,0,!1);break}else{if(a=e.current.alternate,d&&!f1(a)){f=_c(e,r,!1),d=!1;continue}if(f===2){if(d=r,e.errorRecoveryDisabledLanes&d)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){r=v;t:{var A=e;f=ka;var P=A.current.memoizedState.isDehydrated;if(P&&(Is(A,v).flags|=256),v=_c(A,v,!1),v!==2){if(fc&&!P){A.errorRecoveryDisabledLanes|=d,Ln|=d,f=4;break t}d=Ke,Ke=f,d!==null&&(Ke===null?Ke=d:Ke.push.apply(Ke,d))}f=v}if(d=!1,f!==2)continue}}if(f===1){Is(e,0),Kr(e,r,0,!0);break}t:{switch(u=e,d=f,d){case 0:case 1:throw Error(n(345));case 4:if((r&4194048)!==r)break;case 6:Kr(u,r,li,!Yr);break t;case 2:Ke=null;break;case 3:case 5:break;default:throw Error(n(329))}if((r&62914560)===r&&(f=uo+300-ve(),10<f)){if(Kr(u,r,li,!Yr),we(u,0,!0)!==0)break t;br=r,u.timeoutHandle=Dy(ty.bind(null,u,a,Ke,co,pc,r,li,Ln,Bs,Yr,d,"Throttled",-0,0),f);break t}ty(u,a,Ke,co,pc,r,li,Ln,Bs,Yr,d,null,-0,0)}}break}while(!0);Vi(e)}function ty(e,r,a,u,f,d,v,A,P,$,it,st,Z,Q){if(e.timeoutHandle=-1,st=r.subtreeFlags,st&8192||(st&16785408)===16785408){st={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ar},qg(r,d,st);var yt=(d&62914560)===d?uo-ve():(d&4194048)===d?Zg-ve():0;if(yt=Z1(st,yt),yt!==null){br=d,e.cancelPendingCommit=yt(oy.bind(null,e,r,d,a,u,f,v,A,P,it,st,null,Z,Q)),Kr(e,d,v,!$);return}}oy(e,r,d,a,u,f,v,A,P)}function f1(e){for(var r=e;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var u=0;u<a.length;u++){var f=a[u],d=f.getSnapshot;f=f.value;try{if(!ii(d(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Kr(e,r,a,u){r&=~dc,r&=~Ln,e.suspendedLanes|=r,e.pingedLanes&=~r,u&&(e.warmLanes|=r),u=e.expirationTimes;for(var f=r;0<f;){var d=31-q(f),v=1<<d;u[d]=-1,f&=~v}a!==0&&oa(e,a,r)}function fo(){return(Wt&6)===0?(Va(0),!1):!0}function vc(){if(Ft!==null){if(Zt===0)var e=Ft.return;else e=Ft,hr=Cn=null,Ih(e),Ss=null,wa=0,e=Ft;for(;e!==null;)Og(e.alternate,e),e=e.return;Ft=null}}function Is(e,r){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,B1(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),br=0,vc(),ie=e,Ft=a=or(e.current,null),Ht=r,Zt=0,ai=null,Yr=!1,Os=qe(e,r),fc=!1,Bs=li=dc=Ln=Wr=de=0,Ke=ka=null,pc=!1,(r&8)!==0&&(r|=r&32);var u=e.entangledLanes;if(u!==0)for(e=e.entanglements,u&=r;0<u;){var f=31-q(u),d=1<<f;r|=e[f],u&=~d}return xr=r,Nl(),a}function ey(e,r){Ut=null,T.H=Ia,r===Ts||r===Hl?(r=ym(),Zt=3):r===Eh?(r=ym(),Zt=4):Zt=r===Zh?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,ai=r,Ft===null&&(de=1,eo(e,gi(r,e.current)))}function iy(){var e=ni.current;return e===null?!0:(Ht&4194048)===Ht?xi===null:(Ht&62914560)===Ht||(Ht&536870912)!==0?e===xi:!1}function ry(){var e=T.H;return T.H=Ia,e===null?Ia:e}function ny(){var e=T.A;return T.A=h1,e}function po(){de=4,Yr||(Ht&4194048)!==Ht&&ni.current!==null||(Os=!0),(Wr&134217727)===0&&(Ln&134217727)===0||ie===null||Kr(ie,Ht,li,!1)}function _c(e,r,a){var u=Wt;Wt|=2;var f=ry(),d=ny();(ie!==e||Ht!==r)&&(co=null,Is(e,r)),r=!1;var v=de;t:do try{if(Zt!==0&&Ft!==null){var A=Ft,P=ai;switch(Zt){case 8:vc(),v=6;break t;case 3:case 2:case 9:case 6:ni.current===null&&(r=!0);var $=Zt;if(Zt=0,ai=null,Us(e,A,P,$),a&&Os){v=0;break t}break;default:$=Zt,Zt=0,ai=null,Us(e,A,P,$)}}d1(),v=de;break}catch(it){ey(e,it)}while(!0);return r&&e.shellSuspendCounter++,hr=Cn=null,Wt=u,T.H=f,T.A=d,Ft===null&&(ie=null,Ht=0,Nl()),v}function d1(){for(;Ft!==null;)sy(Ft)}function p1(e,r){var a=Wt;Wt|=2;var u=ry(),f=ny();ie!==e||Ht!==r?(co=null,ho=ve()+500,Is(e,r)):Os=qe(e,r);t:do try{if(Zt!==0&&Ft!==null){r=Ft;var d=ai;e:switch(Zt){case 1:Zt=0,ai=null,Us(e,r,d,1);break;case 2:case 9:if(mm(d)){Zt=0,ai=null,ay(r);break}r=function(){Zt!==2&&Zt!==9||ie!==e||(Zt=7),Vi(e)},d.then(r,r);break t;case 3:Zt=7;break t;case 4:Zt=5;break t;case 7:mm(d)?(Zt=0,ai=null,ay(r)):(Zt=0,ai=null,Us(e,r,d,7));break;case 5:var v=null;switch(Ft.tag){case 26:v=Ft.memoizedState;case 5:case 27:var A=Ft;if(v?jy(v):A.stateNode.complete){Zt=0,ai=null;var P=A.sibling;if(P!==null)Ft=P;else{var $=A.return;$!==null?(Ft=$,mo($)):Ft=null}break e}}Zt=0,ai=null,Us(e,r,d,5);break;case 6:Zt=0,ai=null,Us(e,r,d,6);break;case 8:vc(),de=6;break t;default:throw Error(n(462))}}m1();break}catch(it){ey(e,it)}while(!0);return hr=Cn=null,T.H=u,T.A=f,Wt=a,Ft!==null?0:(ie=null,Ht=0,Nl(),de)}function m1(){for(;Ft!==null&&!Or();)sy(Ft)}function sy(e){var r=Mg(e.alternate,e,xr);e.memoizedProps=e.pendingProps,r===null?mo(e):Ft=r}function ay(e){var r=e,a=r.alternate;switch(r.tag){case 15:case 0:r=Tg(a,r,r.pendingProps,r.type,void 0,Ht);break;case 11:r=Tg(a,r,r.pendingProps,r.type.render,r.ref,Ht);break;case 5:Ih(r);default:Og(a,r),r=Ft=nm(r,xr),r=Mg(a,r,xr)}e.memoizedProps=e.pendingProps,r===null?mo(e):Ft=r}function Us(e,r,a,u){hr=Cn=null,Ih(r),Ss=null,wa=0;var f=r.return;try{if(r1(e,f,r,a,Ht)){de=1,eo(e,gi(a,e.current)),Ft=null;return}}catch(d){if(f!==null)throw Ft=f,d;de=1,eo(e,gi(a,e.current)),Ft=null;return}r.flags&32768?(Xt||u===1?e=!0:Os||(Ht&536870912)!==0?e=!1:(Yr=e=!0,(u===2||u===9||u===3||u===6)&&(u=ni.current,u!==null&&u.tag===13&&(u.flags|=16384))),ly(r,e)):mo(r)}function mo(e){var r=e;do{if((r.flags&32768)!==0){ly(r,Yr);return}e=r.return;var a=a1(r.alternate,r,xr);if(a!==null){Ft=a;return}if(r=r.sibling,r!==null){Ft=r;return}Ft=r=e}while(r!==null);de===0&&(de=5)}function ly(e,r){do{var a=l1(e.alternate,e);if(a!==null){a.flags&=32767,Ft=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(e=e.sibling,e!==null)){Ft=e;return}Ft=e=a}while(e!==null);de=6,Ft=null}function oy(e,r,a,u,f,d,v,A,P){e.cancelPendingCommit=null;do go();while(Se!==0);if((Wt&6)!==0)throw Error(n(327));if(r!==null){if(r===e.current)throw Error(n(177));if(d=r.lanes|r.childLanes,d|=lh,bl(e,a,d,v,A,P),e===ie&&(Ft=ie=null,Ht=0),Ns=r,Zr=e,br=a,mc=d,gc=f,Kg=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,_1(ts,function(){return dy(),null})):(e.callbackNode=null,e.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=T.T,T.T=null,f=D.p,D.p=2,v=Wt,Wt|=4;try{o1(e,r,a)}finally{Wt=v,D.p=f,T.T=u}}Se=1,uy(),hy(),cy()}}function uy(){if(Se===1){Se=0;var e=Zr,r=Ns,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=T.T,T.T=null;var u=D.p;D.p=2;var f=Wt;Wt|=4;try{Xg(r,e);var d=Oc,v=$p(e.containerInfo),A=d.focusedElem,P=d.selectionRange;if(v!==A&&A&&A.ownerDocument&&Wp(A.ownerDocument.documentElement,A)){if(P!==null&&ih(A)){var $=P.start,it=P.end;if(it===void 0&&(it=$),"selectionStart"in A)A.selectionStart=$,A.selectionEnd=Math.min(it,A.value.length);else{var st=A.ownerDocument||document,Z=st&&st.defaultView||window;if(Z.getSelection){var Q=Z.getSelection(),yt=A.textContent.length,Mt=Math.min(P.start,yt),ee=P.end===void 0?Mt:Math.min(P.end,yt);!Q.extend&&Mt>ee&&(v=ee,ee=Mt,Mt=v);var X=Yp(A,Mt),G=Yp(A,ee);if(X&&G&&(Q.rangeCount!==1||Q.anchorNode!==X.node||Q.anchorOffset!==X.offset||Q.focusNode!==G.node||Q.focusOffset!==G.offset)){var W=st.createRange();W.setStart(X.node,X.offset),Q.removeAllRanges(),Mt>ee?(Q.addRange(W),Q.extend(G.node,G.offset)):(W.setEnd(G.node,G.offset),Q.addRange(W))}}}}for(st=[],Q=A;Q=Q.parentNode;)Q.nodeType===1&&st.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<st.length;A++){var rt=st[A];rt.element.scrollLeft=rt.left,rt.element.scrollTop=rt.top}}Ro=!!Dc,Oc=Dc=null}finally{Wt=f,D.p=u,T.T=a}}e.current=r,Se=2}}function hy(){if(Se===2){Se=0;var e=Zr,r=Ns,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=T.T,T.T=null;var u=D.p;D.p=2;var f=Wt;Wt|=4;try{Fg(e,r.alternate,r)}finally{Wt=f,D.p=u,T.T=a}}Se=3}}function cy(){if(Se===4||Se===3){Se=0,Br();var e=Zr,r=Ns,a=br,u=Kg;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Se=5:(Se=0,Ns=Zr=null,fy(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&($r=null),_n(a),r=r.stateNode,Oe&&typeof Oe.onCommitFiberRoot=="function")try{Oe.onCommitFiberRoot(vn,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=T.T,f=D.p,D.p=2,T.T=null;try{for(var d=e.onRecoverableError,v=0;v<u.length;v++){var A=u[v];d(A.value,{componentStack:A.stack})}}finally{T.T=r,D.p=f}}(br&3)!==0&&go(),Vi(e),f=e.pendingLanes,(a&261930)!==0&&(f&42)!==0?e===yc?Xa++:(Xa=0,yc=e):Xa=0,Va(0)}}function fy(e,r){(e.pooledCacheLanes&=r)===0&&(r=e.pooledCache,r!=null&&(e.pooledCache=null,Sa(r)))}function go(){return uy(),hy(),cy(),dy()}function dy(){if(Se!==5)return!1;var e=Zr,r=mc;mc=0;var a=_n(br),u=T.T,f=D.p;try{D.p=32>a?32:a,T.T=null,a=gc,gc=null;var d=Zr,v=br;if(Se=0,Ns=Zr=null,br=0,(Wt&6)!==0)throw Error(n(331));var A=Wt;if(Wt|=4,Wg(d.current),jg(d,d.current,v,a),Wt=A,Va(0,!1),Oe&&typeof Oe.onPostCommitFiberRoot=="function")try{Oe.onPostCommitFiberRoot(vn,d)}catch{}return!0}finally{D.p=f,T.T=u,fy(e,r)}}function py(e,r,a){r=gi(a,r),r=$h(e.stateNode,r,2),e=Xr(e,r,2),e!==null&&(Nr(e,2),Vi(e))}function Kt(e,r,a){if(e.tag===3)py(e,e,a);else for(;r!==null;){if(r.tag===3){py(r,e,a);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&($r===null||!$r.has(u))){e=gi(a,e),a=mg(2),u=Xr(r,a,2),u!==null&&(gg(a,u,r,e),Nr(u,2),Vi(u));break}}r=r.return}}function xc(e,r,a){var u=e.pingCache;if(u===null){u=e.pingCache=new c1;var f=new Set;u.set(r,f)}else f=u.get(r),f===void 0&&(f=new Set,u.set(r,f));f.has(a)||(fc=!0,f.add(a),e=g1.bind(null,e,r,a),r.then(e,e))}function g1(e,r,a){var u=e.pingCache;u!==null&&u.delete(r),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ie===e&&(Ht&a)===a&&(de===4||de===3&&(Ht&62914560)===Ht&&300>ve()-uo?(Wt&2)===0&&Is(e,0):dc|=a,Bs===Ht&&(Bs=0)),Vi(e)}function my(e,r){r===0&&(r=ir()),e=Sn(e,r),e!==null&&(Nr(e,r),Vi(e))}function y1(e){var r=e.memoizedState,a=0;r!==null&&(a=r.retryLane),my(e,a)}function v1(e,r){var a=0;switch(e.tag){case 31:case 13:var u=e.stateNode,f=e.memoizedState;f!==null&&(a=f.retryLane);break;case 19:u=e.stateNode;break;case 22:u=e.stateNode._retryCache;break;default:throw Error(n(314))}u!==null&&u.delete(r),my(e,a)}function _1(e,r){return fi(e,r)}var yo=null,Ls=null,bc=!1,vo=!1,Ec=!1,Qr=0;function Vi(e){e!==Ls&&e.next===null&&(Ls===null?yo=Ls=e:Ls=Ls.next=e),vo=!0,bc||(bc=!0,b1())}function Va(e,r){if(!Ec&&vo){Ec=!0;do for(var a=!1,u=yo;u!==null;){if(e!==0){var f=u.pendingLanes;if(f===0)var d=0;else{var v=u.suspendedLanes,A=u.pingedLanes;d=(1<<31-q(42|e)+1)-1,d&=f&~(v&~A),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,_y(u,d))}else d=Ht,d=we(u,u===ie?d:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(d&3)===0||qe(u,d)||(a=!0,_y(u,d));u=u.next}while(a);Ec=!1}}function x1(){gy()}function gy(){vo=bc=!1;var e=0;Qr!==0&&O1()&&(e=Qr);for(var r=ve(),a=null,u=yo;u!==null;){var f=u.next,d=yy(u,r);d===0?(u.next=null,a===null?yo=f:a.next=f,f===null&&(Ls=a)):(a=u,(e!==0||(d&3)!==0)&&(vo=!0)),u=f}Se!==0&&Se!==5||Va(e),Qr!==0&&(Qr=0)}function yy(e,r){for(var a=e.suspendedLanes,u=e.pingedLanes,f=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var v=31-q(d),A=1<<v,P=f[v];P===-1?((A&a)===0||(A&u)!==0)&&(f[v]=la(A,r)):P<=r&&(e.expiredLanes|=A),d&=~A}if(r=ie,a=Ht,a=we(e,e===r?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),u=e.callbackNode,a===0||e===r&&(Zt===2||Zt===9)||e.cancelPendingCommit!==null)return u!==null&&u!==null&&ke(u),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||qe(e,a)){if(r=a&-a,r===e.callbackPriority)return r;switch(u!==null&&ke(u),_n(a)){case 2:case 8:a=aa;break;case 32:a=ts;break;case 268435456:a=es;break;default:a=ts}return u=vy.bind(null,e),a=fi(a,u),e.callbackPriority=r,e.callbackNode=a,r}return u!==null&&u!==null&&ke(u),e.callbackPriority=2,e.callbackNode=null,2}function vy(e,r){if(Se!==0&&Se!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(go()&&e.callbackNode!==a)return null;var u=Ht;return u=we(e,e===ie?u:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),u===0?null:(Jg(e,u,r),yy(e,ve()),e.callbackNode!=null&&e.callbackNode===a?vy.bind(null,e):null)}function _y(e,r){if(go())return null;Jg(e,r,!0)}function b1(){N1(function(){(Wt&6)!==0?fi(_l,x1):gy()})}function Tc(){if(Qr===0){var e=bs;e===0&&(e=$t,$t<<=1,($t&261888)===0&&($t=256)),Qr=e}return Qr}function xy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Al(""+e)}function by(e,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,e.id&&a.setAttribute("form",e.id),r.parentNode.insertBefore(a,r),e=new FormData(e),a.parentNode.removeChild(a),e}function E1(e,r,a,u,f){if(r==="submit"&&a&&a.stateNode===f){var d=xy((f[Be]||null).action),v=u.submitter;v&&(r=(r=v[Be]||null)?xy(r.formAction):v.getAttribute("formAction"),r!==null&&(d=r,v=null));var A=new Ml("action","action",null,u,f);e.push({event:A,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Qr!==0){var P=v?by(f,v):new FormData(f);Xh(a,{pending:!0,data:P,method:f.method,action:d},null,P)}}else typeof d=="function"&&(A.preventDefault(),P=v?by(f,v):new FormData(f),Xh(a,{pending:!0,data:P,method:f.method,action:d},d,P))},currentTarget:f}]})}}for(var Sc=0;Sc<ah.length;Sc++){var Ac=ah[Sc],T1=Ac.toLowerCase(),S1=Ac[0].toUpperCase()+Ac.slice(1);Ci(T1,"on"+S1)}Ci(Qp,"onAnimationEnd"),Ci(Jp,"onAnimationIteration"),Ci(tm,"onAnimationStart"),Ci("dblclick","onDoubleClick"),Ci("focusin","onFocus"),Ci("focusout","onBlur"),Ci(zb,"onTransitionRun"),Ci(Hb,"onTransitionStart"),Ci(kb,"onTransitionCancel"),Ci(em,"onTransitionEnd"),ls("onMouseEnter",["mouseout","mouseover"]),ls("onMouseLeave",["mouseout","mouseover"]),ls("onPointerEnter",["pointerout","pointerover"]),ls("onPointerLeave",["pointerout","pointerover"]),xn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xn("onBeforeInput",["compositionend","keypress","textInput","paste"]),xn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ja="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),A1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ja));function Ey(e,r){r=(r&4)!==0;for(var a=0;a<e.length;a++){var u=e[a],f=u.event;u=u.listeners;t:{var d=void 0;if(r)for(var v=u.length-1;0<=v;v--){var A=u[v],P=A.instance,$=A.currentTarget;if(A=A.listener,P!==d&&f.isPropagationStopped())break t;d=A,f.currentTarget=$;try{d(f)}catch(it){Bl(it)}f.currentTarget=null,d=P}else for(v=0;v<u.length;v++){if(A=u[v],P=A.instance,$=A.currentTarget,A=A.listener,P!==d&&f.isPropagationStopped())break t;d=A,f.currentTarget=$;try{d(f)}catch(it){Bl(it)}f.currentTarget=null,d=P}}}}function Gt(e,r){var a=r[ns];a===void 0&&(a=r[ns]=new Set);var u=e+"__bubble";a.has(u)||(Ty(r,e,2,!1),a.add(u))}function wc(e,r,a){var u=0;r&&(u|=4),Ty(a,e,u,r)}var _o="_reactListening"+Math.random().toString(36).slice(2);function Cc(e){if(!e[_o]){e[_o]=!0,gp.forEach(function(a){a!=="selectionchange"&&(A1.has(a)||wc(a,!1,e),wc(a,!0,e))});var r=e.nodeType===9?e:e.ownerDocument;r===null||r[_o]||(r[_o]=!0,wc("selectionchange",!1,r))}}function Ty(e,r,a,u){switch(Qy(r)){case 2:var f=J1;break;case 8:f=tE;break;default:f=kc}a=f.bind(null,r,a,e),f=void 0,!Yu||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),u?f!==void 0?e.addEventListener(r,a,{capture:!0,passive:f}):e.addEventListener(r,a,!0):f!==void 0?e.addEventListener(r,a,{passive:f}):e.addEventListener(r,a,!1)}function Rc(e,r,a,u,f){var d=u;if((r&1)===0&&(r&2)===0&&u!==null)t:for(;;){if(u===null)return;var v=u.tag;if(v===3||v===4){var A=u.stateNode.containerInfo;if(A===f)break;if(v===4)for(v=u.return;v!==null;){var P=v.tag;if((P===3||P===4)&&v.stateNode.containerInfo===f)return;v=v.return}for(;A!==null;){if(v=nr(A),v===null)return;if(P=v.tag,P===5||P===6||P===26||P===27){u=d=v;continue t}A=A.parentNode}}u=u.return}Rp(function(){var $=d,it=ju(a),st=[];t:{var Z=im.get(e);if(Z!==void 0){var Q=Ml,yt=e;switch(e){case"keypress":if(Cl(a)===0)break t;case"keydown":case"keyup":Q=vb;break;case"focusin":yt="focus",Q=Ku;break;case"focusout":yt="blur",Q=Ku;break;case"beforeblur":case"afterblur":Q=Ku;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Op;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=ab;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=bb;break;case Qp:case Jp:case tm:Q=ub;break;case em:Q=Tb;break;case"scroll":case"scrollend":Q=nb;break;case"wheel":Q=Ab;break;case"copy":case"cut":case"paste":Q=cb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Np;break;case"toggle":case"beforetoggle":Q=Cb}var Mt=(r&4)!==0,ee=!Mt&&(e==="scroll"||e==="scrollend"),X=Mt?Z!==null?Z+"Capture":null:Z;Mt=[];for(var G=$,W;G!==null;){var rt=G;if(W=rt.stateNode,rt=rt.tag,rt!==5&&rt!==26&&rt!==27||W===null||X===null||(rt=da(G,X),rt!=null&&Mt.push(qa(G,rt,W))),ee)break;G=G.return}0<Mt.length&&(Z=new Q(Z,yt,null,a,it),st.push({event:Z,listeners:Mt}))}}if((r&7)===0){t:{if(Z=e==="mouseover"||e==="pointerover",Q=e==="mouseout"||e==="pointerout",Z&&a!==Vu&&(yt=a.relatedTarget||a.fromElement)&&(nr(yt)||yt[Gi]))break t;if((Q||Z)&&(Z=it.window===it?it:(Z=it.ownerDocument)?Z.defaultView||Z.parentWindow:window,Q?(yt=a.relatedTarget||a.toElement,Q=$,yt=yt?nr(yt):null,yt!==null&&(ee=o(yt),Mt=yt.tag,yt!==ee||Mt!==5&&Mt!==27&&Mt!==6)&&(yt=null)):(Q=null,yt=$),Q!==yt)){if(Mt=Op,rt="onMouseLeave",X="onMouseEnter",G="mouse",(e==="pointerout"||e==="pointerover")&&(Mt=Np,rt="onPointerLeave",X="onPointerEnter",G="pointer"),ee=Q==null?Z:fa(Q),W=yt==null?Z:fa(yt),Z=new Mt(rt,G+"leave",Q,a,it),Z.target=ee,Z.relatedTarget=W,rt=null,nr(it)===$&&(Mt=new Mt(X,G+"enter",yt,a,it),Mt.target=W,Mt.relatedTarget=ee,rt=Mt),ee=rt,Q&&yt)e:{for(Mt=w1,X=Q,G=yt,W=0,rt=X;rt;rt=Mt(rt))W++;rt=0;for(var Ct=G;Ct;Ct=Mt(Ct))rt++;for(;0<W-rt;)X=Mt(X),W--;for(;0<rt-W;)G=Mt(G),rt--;for(;W--;){if(X===G||G!==null&&X===G.alternate){Mt=X;break e}X=Mt(X),G=Mt(G)}Mt=null}else Mt=null;Q!==null&&Sy(st,Z,Q,Mt,!1),yt!==null&&ee!==null&&Sy(st,ee,yt,Mt,!0)}}t:{if(Z=$?fa($):window,Q=Z.nodeName&&Z.nodeName.toLowerCase(),Q==="select"||Q==="input"&&Z.type==="file")var qt=Hp;else if(Gp(Z))if(kp)qt=Pb;else{qt=Ub;var Tt=Ib}else Q=Z.nodeName,!Q||Q.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?$&&Xu($.elementType)&&(qt=Hp):qt=Lb;if(qt&&(qt=qt(e,$))){zp(st,qt,a,it);break t}Tt&&Tt(e,Z,$),e==="focusout"&&$&&Z.type==="number"&&$.memoizedProps.value!=null&&ku(Z,"number",Z.value)}switch(Tt=$?fa($):window,e){case"focusin":(Gp(Tt)||Tt.contentEditable==="true")&&(ds=Tt,rh=$,ba=null);break;case"focusout":ba=rh=ds=null;break;case"mousedown":nh=!0;break;case"contextmenu":case"mouseup":case"dragend":nh=!1,Zp(st,a,it);break;case"selectionchange":if(Gb)break;case"keydown":case"keyup":Zp(st,a,it)}var Pt;if(Ju)t:{switch(e){case"compositionstart":var kt="onCompositionStart";break t;case"compositionend":kt="onCompositionEnd";break t;case"compositionupdate":kt="onCompositionUpdate";break t}kt=void 0}else fs?Pp(e,a)&&(kt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(kt="onCompositionStart");kt&&(Ip&&a.locale!=="ko"&&(fs||kt!=="onCompositionStart"?kt==="onCompositionEnd"&&fs&&(Pt=Mp()):(Lr=it,Wu="value"in Lr?Lr.value:Lr.textContent,fs=!0)),Tt=xo($,kt),0<Tt.length&&(kt=new Bp(kt,e,null,a,it),st.push({event:kt,listeners:Tt}),Pt?kt.data=Pt:(Pt=Fp(a),Pt!==null&&(kt.data=Pt)))),(Pt=Mb?Db(e,a):Ob(e,a))&&(kt=xo($,"onBeforeInput"),0<kt.length&&(Tt=new Bp("onBeforeInput","beforeinput",null,a,it),st.push({event:Tt,listeners:kt}),Tt.data=Pt)),E1(st,e,$,a,it)}Ey(st,r)})}function qa(e,r,a){return{instance:e,listener:r,currentTarget:a}}function xo(e,r){for(var a=r+"Capture",u=[];e!==null;){var f=e,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=da(e,a),f!=null&&u.unshift(qa(e,f,d)),f=da(e,r),f!=null&&u.push(qa(e,f,d))),e.tag===3)return u;e=e.return}return[]}function w1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Sy(e,r,a,u,f){for(var d=r._reactName,v=[];a!==null&&a!==u;){var A=a,P=A.alternate,$=A.stateNode;if(A=A.tag,P!==null&&P===u)break;A!==5&&A!==26&&A!==27||$===null||(P=$,f?($=da(a,d),$!=null&&v.unshift(qa(a,$,P))):f||($=da(a,d),$!=null&&v.push(qa(a,$,P)))),a=a.return}v.length!==0&&e.push({event:r,listeners:v})}var C1=/\r\n?/g,R1=/\u0000|\uFFFD/g;function Ay(e){return(typeof e=="string"?e:""+e).replace(C1,`
`).replace(R1,"")}function wy(e,r){return r=Ay(r),Ay(e)===r}function te(e,r,a,u,f,d){switch(a){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||us(e,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&us(e,""+u);break;case"className":Tl(e,"class",u);break;case"tabIndex":Tl(e,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Tl(e,a,u);break;case"style":wp(e,u,d);break;case"data":if(r!=="object"){Tl(e,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||a!=="href")){e.removeAttribute(a);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){e.removeAttribute(a);break}u=Al(""+u),e.setAttribute(a,u);break;case"action":case"formAction":if(typeof u=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&te(e,r,"name",f.name,f,null),te(e,r,"formEncType",f.formEncType,f,null),te(e,r,"formMethod",f.formMethod,f,null),te(e,r,"formTarget",f.formTarget,f,null)):(te(e,r,"encType",f.encType,f,null),te(e,r,"method",f.method,f,null),te(e,r,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){e.removeAttribute(a);break}u=Al(""+u),e.setAttribute(a,u);break;case"onClick":u!=null&&(e.onclick=ar);break;case"onScroll":u!=null&&Gt("scroll",e);break;case"onScrollEnd":u!=null&&Gt("scrollend",e);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(n(61));if(a=u.__html,a!=null){if(f.children!=null)throw Error(n(60));e.innerHTML=a}}break;case"multiple":e.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":e.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){e.removeAttribute("xlink:href");break}a=Al(""+u),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(a,""+u):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":u===!0?e.setAttribute(a,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(a,u):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?e.setAttribute(a,u):e.removeAttribute(a);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?e.removeAttribute(a):e.setAttribute(a,u);break;case"popover":Gt("beforetoggle",e),Gt("toggle",e),El(e,"popover",u);break;case"xlinkActuate":sr(e,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":sr(e,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":sr(e,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":sr(e,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":sr(e,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":sr(e,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":sr(e,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":sr(e,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":sr(e,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":El(e,"is",u);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=ib.get(a)||a,El(e,a,u))}}function Mc(e,r,a,u,f,d){switch(a){case"style":wp(e,u,d);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(n(61));if(a=u.__html,a!=null){if(f.children!=null)throw Error(n(60));e.innerHTML=a}}break;case"children":typeof u=="string"?us(e,u):(typeof u=="number"||typeof u=="bigint")&&us(e,""+u);break;case"onScroll":u!=null&&Gt("scroll",e);break;case"onScrollEnd":u!=null&&Gt("scrollend",e);break;case"onClick":u!=null&&(e.onclick=ar);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!yp.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),d=e[Be]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(r,d,f),typeof u=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(r,u,f);break t}a in e?e[a]=u:u===!0?e.setAttribute(a,""):El(e,a,u)}}}function Le(e,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Gt("error",e),Gt("load",e);var u=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,r));default:te(e,r,d,v,a,null)}}f&&te(e,r,"srcSet",a.srcSet,a,null),u&&te(e,r,"src",a.src,a,null);return;case"input":Gt("invalid",e);var A=d=v=f=null,P=null,$=null;for(u in a)if(a.hasOwnProperty(u)){var it=a[u];if(it!=null)switch(u){case"name":f=it;break;case"type":v=it;break;case"checked":P=it;break;case"defaultChecked":$=it;break;case"value":d=it;break;case"defaultValue":A=it;break;case"children":case"dangerouslySetInnerHTML":if(it!=null)throw Error(n(137,r));break;default:te(e,r,u,it,a,null)}}Ep(e,d,A,P,$,v,f,!1);return;case"select":Gt("invalid",e),u=v=d=null;for(f in a)if(a.hasOwnProperty(f)&&(A=a[f],A!=null))switch(f){case"value":d=A;break;case"defaultValue":v=A;break;case"multiple":u=A;default:te(e,r,f,A,a,null)}r=d,a=v,e.multiple=!!u,r!=null?os(e,!!u,r,!1):a!=null&&os(e,!!u,a,!0);return;case"textarea":Gt("invalid",e),d=f=u=null;for(v in a)if(a.hasOwnProperty(v)&&(A=a[v],A!=null))switch(v){case"value":u=A;break;case"defaultValue":f=A;break;case"children":d=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(n(91));break;default:te(e,r,v,A,a,null)}Sp(e,u,f,d);return;case"option":for(P in a)if(a.hasOwnProperty(P)&&(u=a[P],u!=null))switch(P){case"selected":e.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:te(e,r,P,u,a,null)}return;case"dialog":Gt("beforetoggle",e),Gt("toggle",e),Gt("cancel",e),Gt("close",e);break;case"iframe":case"object":Gt("load",e);break;case"video":case"audio":for(u=0;u<ja.length;u++)Gt(ja[u],e);break;case"image":Gt("error",e),Gt("load",e);break;case"details":Gt("toggle",e);break;case"embed":case"source":case"link":Gt("error",e),Gt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($ in a)if(a.hasOwnProperty($)&&(u=a[$],u!=null))switch($){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,r));default:te(e,r,$,u,a,null)}return;default:if(Xu(r)){for(it in a)a.hasOwnProperty(it)&&(u=a[it],u!==void 0&&Mc(e,r,it,u,a,void 0));return}}for(A in a)a.hasOwnProperty(A)&&(u=a[A],u!=null&&te(e,r,A,u,a,null))}function M1(e,r,a,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,v=null,A=null,P=null,$=null,it=null;for(Q in a){var st=a[Q];if(a.hasOwnProperty(Q)&&st!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":P=st;default:u.hasOwnProperty(Q)||te(e,r,Q,null,u,st)}}for(var Z in u){var Q=u[Z];if(st=a[Z],u.hasOwnProperty(Z)&&(Q!=null||st!=null))switch(Z){case"type":d=Q;break;case"name":f=Q;break;case"checked":$=Q;break;case"defaultChecked":it=Q;break;case"value":v=Q;break;case"defaultValue":A=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(n(137,r));break;default:Q!==st&&te(e,r,Z,Q,u,st)}}Hu(e,v,A,P,$,it,d,f);return;case"select":Q=v=A=Z=null;for(d in a)if(P=a[d],a.hasOwnProperty(d)&&P!=null)switch(d){case"value":break;case"multiple":Q=P;default:u.hasOwnProperty(d)||te(e,r,d,null,u,P)}for(f in u)if(d=u[f],P=a[f],u.hasOwnProperty(f)&&(d!=null||P!=null))switch(f){case"value":Z=d;break;case"defaultValue":A=d;break;case"multiple":v=d;default:d!==P&&te(e,r,f,d,u,P)}r=A,a=v,u=Q,Z!=null?os(e,!!a,Z,!1):!!u!=!!a&&(r!=null?os(e,!!a,r,!0):os(e,!!a,a?[]:"",!1));return;case"textarea":Q=Z=null;for(A in a)if(f=a[A],a.hasOwnProperty(A)&&f!=null&&!u.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:te(e,r,A,null,u,f)}for(v in u)if(f=u[v],d=a[v],u.hasOwnProperty(v)&&(f!=null||d!=null))switch(v){case"value":Z=f;break;case"defaultValue":Q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(n(91));break;default:f!==d&&te(e,r,v,f,u,d)}Tp(e,Z,Q);return;case"option":for(var yt in a)if(Z=a[yt],a.hasOwnProperty(yt)&&Z!=null&&!u.hasOwnProperty(yt))switch(yt){case"selected":e.selected=!1;break;default:te(e,r,yt,null,u,Z)}for(P in u)if(Z=u[P],Q=a[P],u.hasOwnProperty(P)&&Z!==Q&&(Z!=null||Q!=null))switch(P){case"selected":e.selected=Z&&typeof Z!="function"&&typeof Z!="symbol";break;default:te(e,r,P,Z,u,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Mt in a)Z=a[Mt],a.hasOwnProperty(Mt)&&Z!=null&&!u.hasOwnProperty(Mt)&&te(e,r,Mt,null,u,Z);for($ in u)if(Z=u[$],Q=a[$],u.hasOwnProperty($)&&Z!==Q&&(Z!=null||Q!=null))switch($){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(n(137,r));break;default:te(e,r,$,Z,u,Q)}return;default:if(Xu(r)){for(var ee in a)Z=a[ee],a.hasOwnProperty(ee)&&Z!==void 0&&!u.hasOwnProperty(ee)&&Mc(e,r,ee,void 0,u,Z);for(it in u)Z=u[it],Q=a[it],!u.hasOwnProperty(it)||Z===Q||Z===void 0&&Q===void 0||Mc(e,r,it,Z,u,Q);return}}for(var X in a)Z=a[X],a.hasOwnProperty(X)&&Z!=null&&!u.hasOwnProperty(X)&&te(e,r,X,null,u,Z);for(st in u)Z=u[st],Q=a[st],!u.hasOwnProperty(st)||Z===Q||Z==null&&Q==null||te(e,r,st,Z,u,Q)}function Cy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function D1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,r=0,a=performance.getEntriesByType("resource"),u=0;u<a.length;u++){var f=a[u],d=f.transferSize,v=f.initiatorType,A=f.duration;if(d&&A&&Cy(v)){for(v=0,A=f.responseEnd,u+=1;u<a.length;u++){var P=a[u],$=P.startTime;if($>A)break;var it=P.transferSize,st=P.initiatorType;it&&Cy(st)&&(P=P.responseEnd,v+=it*(P<A?1:(A-$)/(P-$)))}if(--u,r+=8*(d+v)/(f.duration/1e3),e++,10<e)break}}if(0<e)return r/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Dc=null,Oc=null;function bo(e){return e.nodeType===9?e:e.ownerDocument}function Ry(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function My(e,r){if(e===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&r==="foreignObject"?0:e}function Bc(e,r){return e==="textarea"||e==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Nc=null;function O1(){var e=window.event;return e&&e.type==="popstate"?e===Nc?!1:(Nc=e,!0):(Nc=null,!1)}var Dy=typeof setTimeout=="function"?setTimeout:void 0,B1=typeof clearTimeout=="function"?clearTimeout:void 0,Oy=typeof Promise=="function"?Promise:void 0,N1=typeof queueMicrotask=="function"?queueMicrotask:typeof Oy<"u"?function(e){return Oy.resolve(null).then(e).catch(I1)}:Dy;function I1(e){setTimeout(function(){throw e})}function Jr(e){return e==="head"}function By(e,r){var a=r,u=0;do{var f=a.nextSibling;if(e.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(u===0){e.removeChild(f),zs(r);return}u--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")u++;else if(a==="html")Ya(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Ya(a);for(var d=a.firstChild;d;){var v=d.nextSibling,A=d.nodeName;d[zi]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=v}}else a==="body"&&Ya(e.ownerDocument.body);a=f}while(a);zs(r)}function Ny(e,r){var a=e;e=0;do{var u=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),u&&u.nodeType===8)if(a=u.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=u}while(a)}function Ic(e){var r=e.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Ic(a),ca(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function U1(e,r,a,u){for(;e.nodeType===1;){var f=a;if(e.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(u){if(!e[zi])switch(r){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(r==="input"&&e.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=bi(e.nextSibling),e===null)break}return null}function L1(e,r,a){if(r==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=bi(e.nextSibling),e===null))return null;return e}function Iy(e,r){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=bi(e.nextSibling),e===null))return null;return e}function Uc(e){return e.data==="$?"||e.data==="$~"}function Lc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function P1(e,r){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=r;else if(e.data!=="$?"||a.readyState!=="loading")r();else{var u=function(){r(),a.removeEventListener("DOMContentLoaded",u)};a.addEventListener("DOMContentLoaded",u),e._reactRetry=u}}function bi(e){for(;e!=null;e=e.nextSibling){var r=e.nodeType;if(r===1||r===3)break;if(r===8){if(r=e.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return e}var Pc=null;function Uy(e){e=e.nextSibling;for(var r=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(r===0)return bi(e.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}e=e.nextSibling}return null}function Ly(e){e=e.previousSibling;for(var r=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return e;r--}else a!=="/$"&&a!=="/&"||r++}e=e.previousSibling}return null}function Py(e,r,a){switch(r=bo(a),e){case"html":if(e=r.documentElement,!e)throw Error(n(452));return e;case"head":if(e=r.head,!e)throw Error(n(453));return e;case"body":if(e=r.body,!e)throw Error(n(454));return e;default:throw Error(n(451))}}function Ya(e){for(var r=e.attributes;r.length;)e.removeAttributeNode(r[0]);ca(e)}var Ei=new Map,Fy=new Set;function Eo(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Er=D.d;D.d={f:F1,r:G1,D:z1,C:H1,L:k1,m:X1,X:j1,S:V1,M:q1};function F1(){var e=Er.f(),r=fo();return e||r}function G1(e){var r=ss(e);r!==null&&r.tag===5&&r.type==="form"?eg(r):Er.r(e)}var Ps=typeof document>"u"?null:document;function Gy(e,r,a){var u=Ps;if(u&&typeof r=="string"&&r){var f=pi(r);f='link[rel="'+e+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),Fy.has(f)||(Fy.add(f),e={rel:e,crossOrigin:a,href:r},u.querySelector(f)===null&&(r=u.createElement("link"),Le(r,"link",e),Ce(r),u.head.appendChild(r)))}}function z1(e){Er.D(e),Gy("dns-prefetch",e,null)}function H1(e,r){Er.C(e,r),Gy("preconnect",e,r)}function k1(e,r,a){Er.L(e,r,a);var u=Ps;if(u&&e&&r){var f='link[rel="preload"][as="'+pi(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+pi(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+pi(a.imageSizes)+'"]')):f+='[href="'+pi(e)+'"]';var d=f;switch(r){case"style":d=Fs(e);break;case"script":d=Gs(e)}Ei.has(d)||(e=y({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:e,as:r},a),Ei.set(d,e),u.querySelector(f)!==null||r==="style"&&u.querySelector(Wa(d))||r==="script"&&u.querySelector($a(d))||(r=u.createElement("link"),Le(r,"link",e),Ce(r),u.head.appendChild(r)))}}function X1(e,r){Er.m(e,r);var a=Ps;if(a&&e){var u=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+pi(u)+'"][href="'+pi(e)+'"]',d=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Gs(e)}if(!Ei.has(d)&&(e=y({rel:"modulepreload",href:e},r),Ei.set(d,e),a.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector($a(d)))return}u=a.createElement("link"),Le(u,"link",e),Ce(u),a.head.appendChild(u)}}}function V1(e,r,a){Er.S(e,r,a);var u=Ps;if(u&&e){var f=as(u).hoistableStyles,d=Fs(e);r=r||"default";var v=f.get(d);if(!v){var A={loading:0,preload:null};if(v=u.querySelector(Wa(d)))A.loading=5;else{e=y({rel:"stylesheet",href:e,"data-precedence":r},a),(a=Ei.get(d))&&Fc(e,a);var P=v=u.createElement("link");Ce(P),Le(P,"link",e),P._p=new Promise(function($,it){P.onload=$,P.onerror=it}),P.addEventListener("load",function(){A.loading|=1}),P.addEventListener("error",function(){A.loading|=2}),A.loading|=4,To(v,r,u)}v={type:"stylesheet",instance:v,count:1,state:A},f.set(d,v)}}}function j1(e,r){Er.X(e,r);var a=Ps;if(a&&e){var u=as(a).hoistableScripts,f=Gs(e),d=u.get(f);d||(d=a.querySelector($a(f)),d||(e=y({src:e,async:!0},r),(r=Ei.get(f))&&Gc(e,r),d=a.createElement("script"),Ce(d),Le(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},u.set(f,d))}}function q1(e,r){Er.M(e,r);var a=Ps;if(a&&e){var u=as(a).hoistableScripts,f=Gs(e),d=u.get(f);d||(d=a.querySelector($a(f)),d||(e=y({src:e,async:!0,type:"module"},r),(r=Ei.get(f))&&Gc(e,r),d=a.createElement("script"),Ce(d),Le(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},u.set(f,d))}}function zy(e,r,a,u){var f=(f=at.current)?Eo(f):null;if(!f)throw Error(n(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=Fs(a.href),a=as(f).hoistableStyles,u=a.get(r),u||(u={type:"style",instance:null,count:0,state:null},a.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Fs(a.href);var d=as(f).hoistableStyles,v=d.get(e);if(v||(f=f.ownerDocument||f,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,v),(d=f.querySelector(Wa(e)))&&!d._p&&(v.instance=d,v.state.loading=5),Ei.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ei.set(e,a),d||Y1(f,e,a,v.state))),r&&u===null)throw Error(n(528,""));return v}if(r&&u!==null)throw Error(n(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Gs(a),a=as(f).hoistableScripts,u=a.get(r),u||(u={type:"script",instance:null,count:0,state:null},a.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,e))}}function Fs(e){return'href="'+pi(e)+'"'}function Wa(e){return'link[rel="stylesheet"]['+e+"]"}function Hy(e){return y({},e,{"data-precedence":e.precedence,precedence:null})}function Y1(e,r,a,u){e.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=e.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),Le(r,"link",a),Ce(r),e.head.appendChild(r))}function Gs(e){return'[src="'+pi(e)+'"]'}function $a(e){return"script[async]"+e}function ky(e,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var u=e.querySelector('style[data-href~="'+pi(a.href)+'"]');if(u)return r.instance=u,Ce(u),u;var f=y({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return u=(e.ownerDocument||e).createElement("style"),Ce(u),Le(u,"style",f),To(u,a.precedence,e),r.instance=u;case"stylesheet":f=Fs(a.href);var d=e.querySelector(Wa(f));if(d)return r.state.loading|=4,r.instance=d,Ce(d),d;u=Hy(a),(f=Ei.get(f))&&Fc(u,f),d=(e.ownerDocument||e).createElement("link"),Ce(d);var v=d;return v._p=new Promise(function(A,P){v.onload=A,v.onerror=P}),Le(d,"link",u),r.state.loading|=4,To(d,a.precedence,e),r.instance=d;case"script":return d=Gs(a.src),(f=e.querySelector($a(d)))?(r.instance=f,Ce(f),f):(u=a,(f=Ei.get(d))&&(u=y({},a),Gc(u,f)),e=e.ownerDocument||e,f=e.createElement("script"),Ce(f),Le(f,"link",u),e.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(n(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,To(u,a.precedence,e));return r.instance}function To(e,r,a){for(var u=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,d=f,v=0;v<u.length;v++){var A=u[v];if(A.dataset.precedence===r)d=A;else if(d!==f)break}d?d.parentNode.insertBefore(e,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(e,r.firstChild))}function Fc(e,r){e.crossOrigin==null&&(e.crossOrigin=r.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=r.referrerPolicy),e.title==null&&(e.title=r.title)}function Gc(e,r){e.crossOrigin==null&&(e.crossOrigin=r.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=r.referrerPolicy),e.integrity==null&&(e.integrity=r.integrity)}var So=null;function Xy(e,r,a){if(So===null){var u=new Map,f=So=new Map;f.set(a,u)}else f=So,u=f.get(a),u||(u=new Map,f.set(a,u));if(u.has(e))return u;for(u.set(e,null),a=a.getElementsByTagName(e),f=0;f<a.length;f++){var d=a[f];if(!(d[zi]||d[pe]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(r)||"";v=e+v;var A=u.get(v);A?A.push(d):u.set(v,[d])}}return u}function Vy(e,r,a){e=e.ownerDocument||e,e.head.insertBefore(a,r==="title"?e.querySelector("head > title"):null)}function W1(e,r,a){if(a===1||r.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return e=r.disabled,typeof r.precedence=="string"&&e==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function jy(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function $1(e,r,a,u){if(a.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=Fs(u.href),d=r.querySelector(Wa(f));if(d){r=d._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(e.count++,e=Ao.bind(e),r.then(e,e)),a.state.loading|=4,a.instance=d,Ce(d);return}d=r.ownerDocument||r,u=Hy(u),(f=Ei.get(f))&&Fc(u,f),d=d.createElement("link"),Ce(d);var v=d;v._p=new Promise(function(A,P){v.onload=A,v.onerror=P}),Le(d,"link",u),a.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Ao.bind(e),r.addEventListener("load",a),r.addEventListener("error",a))}}var zc=0;function Z1(e,r){return e.stylesheets&&e.count===0&&Co(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var u=setTimeout(function(){if(e.stylesheets&&Co(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+r);0<e.imgBytes&&zc===0&&(zc=62500*D1());var f=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Co(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>zc?50:800)+r);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(u),clearTimeout(f)}}:null}function Ao(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Co(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var wo=null;function Co(e,r){e.stylesheets=null,e.unsuspend!==null&&(e.count++,wo=new Map,r.forEach(K1,e),wo=null,Ao.call(e))}function K1(e,r){if(!(r.state.loading&4)){var a=wo.get(e);if(a)var u=a.get(null);else{a=new Map,wo.set(e,a);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var v=f[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),u=v)}u&&a.set(null,u)}f=r.instance,v=f.getAttribute("data-precedence"),d=a.get(v)||u,d===u&&a.set(null,f),a.set(v,f),this.count++,u=Ao.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),d?d.parentNode.insertBefore(f,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),r.state.loading|=4}}var Za={$$typeof:O,Provider:null,Consumer:null,_currentValue:R,_currentValue2:R,_threadCount:0};function Q1(e,r,a,u,f,d,v,A,P){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ve(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ve(0),this.hiddenUpdates=Ve(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function qy(e,r,a,u,f,d,v,A,P,$,it,st){return e=new Q1(e,r,a,v,P,$,it,st,A),r=1,d===!0&&(r|=24),d=ri(3,null,null,r),e.current=d,d.stateNode=e,r=_h(),r.refCount++,e.pooledCache=r,r.refCount++,d.memoizedState={element:u,isDehydrated:a,cache:r},Th(d),e}function Yy(e){return e?(e=gs,e):gs}function Wy(e,r,a,u,f,d){f=Yy(f),u.context===null?u.context=f:u.pendingContext=f,u=kr(r),u.payload={element:a},d=d===void 0?null:d,d!==null&&(u.callback=d),a=Xr(e,u,r),a!==null&&(Qe(a,e,r),Ra(a,e,r))}function $y(e,r){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<r?a:r}}function Hc(e,r){$y(e,r),(e=e.alternate)&&$y(e,r)}function Zy(e){if(e.tag===13||e.tag===31){var r=Sn(e,67108864);r!==null&&Qe(r,e,67108864),Hc(e,67108864)}}function Ky(e){if(e.tag===13||e.tag===31){var r=oi();r=Ur(r);var a=Sn(e,r);a!==null&&Qe(a,e,r),Hc(e,r)}}var Ro=!0;function J1(e,r,a,u){var f=T.T;T.T=null;var d=D.p;try{D.p=2,kc(e,r,a,u)}finally{D.p=d,T.T=f}}function tE(e,r,a,u){var f=T.T;T.T=null;var d=D.p;try{D.p=8,kc(e,r,a,u)}finally{D.p=d,T.T=f}}function kc(e,r,a,u){if(Ro){var f=Xc(u);if(f===null)Rc(e,r,u,Mo,a),Jy(e,u);else if(iE(f,e,r,a,u))u.stopPropagation();else if(Jy(e,u),r&4&&-1<eE.indexOf(e)){for(;f!==null;){var d=ss(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Xe(d.pendingLanes);if(v!==0){var A=d;for(A.pendingLanes|=2,A.entangledLanes|=2;v;){var P=1<<31-q(v);A.entanglements[1]|=P,v&=~P}Vi(d),(Wt&6)===0&&(ho=ve()+500,Va(0))}}break;case 31:case 13:A=Sn(d,2),A!==null&&Qe(A,d,2),fo(),Hc(d,2)}if(d=Xc(u),d===null&&Rc(e,r,u,Mo,a),d===f)break;f=d}f!==null&&u.stopPropagation()}else Rc(e,r,u,null,a)}}function Xc(e){return e=ju(e),Vc(e)}var Mo=null;function Vc(e){if(Mo=null,e=nr(e),e!==null){var r=o(e);if(r===null)e=null;else{var a=r.tag;if(a===13){if(e=h(r),e!==null)return e;e=null}else if(a===31){if(e=c(r),e!==null)return e;e=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;e=null}else r!==e&&(e=null)}}return Mo=e,null}function Qy(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Pu()){case _l:return 2;case aa:return 8;case ts:case yn:return 32;case es:return 268435456;default:return 32}default:return 32}}var jc=!1,tn=null,en=null,rn=null,Ka=new Map,Qa=new Map,nn=[],eE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Jy(e,r){switch(e){case"focusin":case"focusout":tn=null;break;case"dragenter":case"dragleave":en=null;break;case"mouseover":case"mouseout":rn=null;break;case"pointerover":case"pointerout":Ka.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qa.delete(r.pointerId)}}function Ja(e,r,a,u,f,d){return e===null||e.nativeEvent!==d?(e={blockedOn:r,domEventName:a,eventSystemFlags:u,nativeEvent:d,targetContainers:[f]},r!==null&&(r=ss(r),r!==null&&Zy(r)),e):(e.eventSystemFlags|=u,r=e.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),e)}function iE(e,r,a,u,f){switch(r){case"focusin":return tn=Ja(tn,e,r,a,u,f),!0;case"dragenter":return en=Ja(en,e,r,a,u,f),!0;case"mouseover":return rn=Ja(rn,e,r,a,u,f),!0;case"pointerover":var d=f.pointerId;return Ka.set(d,Ja(Ka.get(d)||null,e,r,a,u,f)),!0;case"gotpointercapture":return d=f.pointerId,Qa.set(d,Ja(Qa.get(d)||null,e,r,a,u,f)),!0}return!1}function tv(e){var r=nr(e.target);if(r!==null){var a=o(r);if(a!==null){if(r=a.tag,r===13){if(r=h(a),r!==null){e.blockedOn=r,ua(e.priority,function(){Ky(a)});return}}else if(r===31){if(r=c(a),r!==null){e.blockedOn=r,ua(e.priority,function(){Ky(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Do(e){if(e.blockedOn!==null)return!1;for(var r=e.targetContainers;0<r.length;){var a=Xc(e.nativeEvent);if(a===null){a=e.nativeEvent;var u=new a.constructor(a.type,a);Vu=u,a.target.dispatchEvent(u),Vu=null}else return r=ss(a),r!==null&&Zy(r),e.blockedOn=a,!1;r.shift()}return!0}function ev(e,r,a){Do(e)&&a.delete(r)}function rE(){jc=!1,tn!==null&&Do(tn)&&(tn=null),en!==null&&Do(en)&&(en=null),rn!==null&&Do(rn)&&(rn=null),Ka.forEach(ev),Qa.forEach(ev)}function Oo(e,r){e.blockedOn===r&&(e.blockedOn=null,jc||(jc=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,rE)))}var Bo=null;function iv(e){Bo!==e&&(Bo=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Bo===e&&(Bo=null);for(var r=0;r<e.length;r+=3){var a=e[r],u=e[r+1],f=e[r+2];if(typeof u!="function"){if(Vc(u||a)===null)continue;break}var d=ss(a);d!==null&&(e.splice(r,3),r-=3,Xh(d,{pending:!0,data:f,method:a.method,action:u},u,f))}}))}function zs(e){function r(P){return Oo(P,e)}tn!==null&&Oo(tn,e),en!==null&&Oo(en,e),rn!==null&&Oo(rn,e),Ka.forEach(r),Qa.forEach(r);for(var a=0;a<nn.length;a++){var u=nn[a];u.blockedOn===e&&(u.blockedOn=null)}for(;0<nn.length&&(a=nn[0],a.blockedOn===null);)tv(a),a.blockedOn===null&&nn.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(u=0;u<a.length;u+=3){var f=a[u],d=a[u+1],v=f[Be]||null;if(typeof d=="function")v||iv(a);else if(v){var A=null;if(d&&d.hasAttribute("formAction")){if(f=d,v=d[Be]||null)A=v.formAction;else if(Vc(f)!==null)continue}else A=v.action;typeof A=="function"?a[u+1]=A:(a.splice(u,3),u-=3),iv(a)}}}function rv(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(v){return f=v})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),u||setTimeout(a,20)}function a(){if(!u&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,f=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){u=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function qc(e){this._internalRoot=e}No.prototype.render=qc.prototype.render=function(e){var r=this._internalRoot;if(r===null)throw Error(n(409));var a=r.current,u=oi();Wy(a,u,e,r,null,null)},No.prototype.unmount=qc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var r=e.containerInfo;Wy(e.current,2,null,e,null,null),fo(),r[Gi]=null}};function No(e){this._internalRoot=e}No.prototype.unstable_scheduleHydration=function(e){if(e){var r=rs();e={blockedOn:null,target:e,priority:r};for(var a=0;a<nn.length&&r!==0&&r<nn[a].priority;a++);nn.splice(a,0,e),a===0&&tv(e)}};var nv=t.version;if(nv!=="19.2.0")throw Error(n(527,nv,"19.2.0"));D.findDOMNode=function(e){var r=e._reactInternals;if(r===void 0)throw typeof e.render=="function"?Error(n(188)):(e=Object.keys(e).join(","),Error(n(268,e)));return e=m(r),e=e!==null?g(e):null,e=e===null?null:e.stateNode,e};var nE={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:T,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Io=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Io.isDisabled&&Io.supportsFiber)try{vn=Io.inject(nE),Oe=Io}catch{}}return el.createRoot=function(e,r){if(!l(e))throw Error(n(299));var a=!1,u="",f=cg,d=fg,v=dg;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError)),r=qy(e,1,!1,null,null,a,u,null,f,d,v,rv),e[Gi]=r.current,Cc(e),new qc(r)},el.hydrateRoot=function(e,r,a){if(!l(e))throw Error(n(299));var u=!1,f="",d=cg,v=fg,A=dg,P=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError),a.formState!==void 0&&(P=a.formState)),r=qy(e,1,!0,r,a??null,u,f,P,d,v,A,rv),r.context=Yy(null),a=r.current,u=oi(),u=Ur(u),f=kr(u),f.callback=null,Xr(a,f,u),a=u,r.current.lanes=a,Nr(r,a),Vi(r),e[Gi]=r.current,Cc(e),new No(r)},el.version="19.2.0",el}var pv;function mE(){if(pv)return $c.exports;pv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),$c.exports=pE(),$c.exports}var gE=mE();const yE=wu(gE);var Kn=(s=>(s[s.WEBGL_LEGACY=0]="WEBGL_LEGACY",s[s.WEBGL=1]="WEBGL",s[s.WEBGL2=2]="WEBGL2",s))(Kn||{}),b_=(s=>(s[s.UNKNOWN=0]="UNKNOWN",s[s.WEBGL=1]="WEBGL",s[s.CANVAS=2]="CANVAS",s))(b_||{}),xd=(s=>(s[s.COLOR=16384]="COLOR",s[s.DEPTH=256]="DEPTH",s[s.STENCIL=1024]="STENCIL",s))(xd||{}),Rt=(s=>(s[s.NORMAL=0]="NORMAL",s[s.ADD=1]="ADD",s[s.MULTIPLY=2]="MULTIPLY",s[s.SCREEN=3]="SCREEN",s[s.OVERLAY=4]="OVERLAY",s[s.DARKEN=5]="DARKEN",s[s.LIGHTEN=6]="LIGHTEN",s[s.COLOR_DODGE=7]="COLOR_DODGE",s[s.COLOR_BURN=8]="COLOR_BURN",s[s.HARD_LIGHT=9]="HARD_LIGHT",s[s.SOFT_LIGHT=10]="SOFT_LIGHT",s[s.DIFFERENCE=11]="DIFFERENCE",s[s.EXCLUSION=12]="EXCLUSION",s[s.HUE=13]="HUE",s[s.SATURATION=14]="SATURATION",s[s.COLOR=15]="COLOR",s[s.LUMINOSITY=16]="LUMINOSITY",s[s.NORMAL_NPM=17]="NORMAL_NPM",s[s.ADD_NPM=18]="ADD_NPM",s[s.SCREEN_NPM=19]="SCREEN_NPM",s[s.NONE=20]="NONE",s[s.SRC_OVER=0]="SRC_OVER",s[s.SRC_IN=21]="SRC_IN",s[s.SRC_OUT=22]="SRC_OUT",s[s.SRC_ATOP=23]="SRC_ATOP",s[s.DST_OVER=24]="DST_OVER",s[s.DST_IN=25]="DST_IN",s[s.DST_OUT=26]="DST_OUT",s[s.DST_ATOP=27]="DST_ATOP",s[s.ERASE=26]="ERASE",s[s.SUBTRACT=28]="SUBTRACT",s[s.XOR=29]="XOR",s))(Rt||{}),Ki=(s=>(s[s.POINTS=0]="POINTS",s[s.LINES=1]="LINES",s[s.LINE_LOOP=2]="LINE_LOOP",s[s.LINE_STRIP=3]="LINE_STRIP",s[s.TRIANGLES=4]="TRIANGLES",s[s.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",s[s.TRIANGLE_FAN=6]="TRIANGLE_FAN",s))(Ki||{}),ht=(s=>(s[s.RGBA=6408]="RGBA",s[s.RGB=6407]="RGB",s[s.RG=33319]="RG",s[s.RED=6403]="RED",s[s.RGBA_INTEGER=36249]="RGBA_INTEGER",s[s.RGB_INTEGER=36248]="RGB_INTEGER",s[s.RG_INTEGER=33320]="RG_INTEGER",s[s.RED_INTEGER=36244]="RED_INTEGER",s[s.ALPHA=6406]="ALPHA",s[s.LUMINANCE=6409]="LUMINANCE",s[s.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",s[s.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",s[s.DEPTH_STENCIL=34041]="DEPTH_STENCIL",s))(ht||{}),Ks=(s=>(s[s.TEXTURE_2D=3553]="TEXTURE_2D",s[s.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",s[s.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",s[s.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",s[s.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",s[s.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",s[s.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",s[s.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",s[s.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",s))(Ks||{}),wt=(s=>(s[s.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",s[s.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",s[s.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",s[s.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",s[s.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",s[s.UNSIGNED_INT=5125]="UNSIGNED_INT",s[s.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",s[s.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",s[s.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",s[s.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",s[s.BYTE=5120]="BYTE",s[s.SHORT=5122]="SHORT",s[s.INT=5124]="INT",s[s.FLOAT=5126]="FLOAT",s[s.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",s[s.HALF_FLOAT=36193]="HALF_FLOAT",s))(wt||{}),mt=(s=>(s[s.FLOAT=0]="FLOAT",s[s.INT=1]="INT",s[s.UINT=2]="UINT",s))(mt||{}),Ar=(s=>(s[s.NEAREST=0]="NEAREST",s[s.LINEAR=1]="LINEAR",s))(Ar||{}),dn=(s=>(s[s.CLAMP=33071]="CLAMP",s[s.REPEAT=10497]="REPEAT",s[s.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",s))(dn||{}),tr=(s=>(s[s.OFF=0]="OFF",s[s.POW2=1]="POW2",s[s.ON=2]="ON",s[s.ON_MANUAL=3]="ON_MANUAL",s))(tr||{}),Je=(s=>(s[s.NPM=0]="NPM",s[s.UNPACK=1]="UNPACK",s[s.PMA=2]="PMA",s[s.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",s[s.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",s[s.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",s))(Je||{}),Zi=(s=>(s[s.NO=0]="NO",s[s.YES=1]="YES",s[s.AUTO=2]="AUTO",s[s.BLEND=0]="BLEND",s[s.CLEAR=1]="CLEAR",s[s.BLIT=2]="BLIT",s))(Zi||{}),np=(s=>(s[s.AUTO=0]="AUTO",s[s.MANUAL=1]="MANUAL",s))(np||{}),Si=(s=>(s.LOW="lowp",s.MEDIUM="mediump",s.HIGH="highp",s))(Si||{}),Ae=(s=>(s[s.NONE=0]="NONE",s[s.SCISSOR=1]="SCISSOR",s[s.STENCIL=2]="STENCIL",s[s.SPRITE=3]="SPRITE",s[s.COLOR=4]="COLOR",s))(Ae||{}),Te=(s=>(s[s.NONE=0]="NONE",s[s.LOW=2]="LOW",s[s.MEDIUM=4]="MEDIUM",s[s.HIGH=8]="HIGH",s))(Te||{}),Qi=(s=>(s[s.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",s[s.ARRAY_BUFFER=34962]="ARRAY_BUFFER",s[s.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",s))(Qi||{});const vE={createCanvas:(s,t)=>{const i=document.createElement("canvas");return i.width=s,i.height=t,i},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(s,t)=>fetch(s,t),parseXML:s=>new DOMParser().parseFromString(s,"text/xml")},gt={ADAPTER:vE,RESOLUTION:1,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};var Jc=/iPhone/i,mv=/iPod/i,gv=/iPad/i,yv=/\biOS-universal(?:.+)Mac\b/i,tf=/\bAndroid(?:.+)Mobile\b/i,vv=/Android/i,Hs=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,Uo=/Silk/i,Tr=/Windows Phone/i,_v=/\bWindows(?:.+)ARM\b/i,xv=/BlackBerry/i,bv=/BB10/i,Ev=/Opera Mini/i,Tv=/\b(CriOS|Chrome)(?:.+)Mobile/i,Sv=/Mobile(?:.+)Firefox\b/i,Av=function(s){return typeof s<"u"&&s.platform==="MacIntel"&&typeof s.maxTouchPoints=="number"&&s.maxTouchPoints>1&&typeof MSStream>"u"};function _E(s){return function(t){return t.test(s)}}function wv(s){var t={userAgent:"",platform:"",maxTouchPoints:0};!s&&typeof navigator<"u"?t={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof s=="string"?t.userAgent=s:s&&s.userAgent&&(t={userAgent:s.userAgent,platform:s.platform,maxTouchPoints:s.maxTouchPoints||0});var i=t.userAgent,n=i.split("[FBAN");typeof n[1]<"u"&&(i=n[0]),n=i.split("Twitter"),typeof n[1]<"u"&&(i=n[0]);var l=_E(i),o={apple:{phone:l(Jc)&&!l(Tr),ipod:l(mv),tablet:!l(Jc)&&(l(gv)||Av(t))&&!l(Tr),universal:l(yv),device:(l(Jc)||l(mv)||l(gv)||l(yv)||Av(t))&&!l(Tr)},amazon:{phone:l(Hs),tablet:!l(Hs)&&l(Uo),device:l(Hs)||l(Uo)},android:{phone:!l(Tr)&&l(Hs)||!l(Tr)&&l(tf),tablet:!l(Tr)&&!l(Hs)&&!l(tf)&&(l(Uo)||l(vv)),device:!l(Tr)&&(l(Hs)||l(Uo)||l(tf)||l(vv))||l(/\bokhttp\b/i)},windows:{phone:l(Tr),tablet:l(_v),device:l(Tr)||l(_v)},other:{blackberry:l(xv),blackberry10:l(bv),opera:l(Ev),firefox:l(Sv),chrome:l(Tv),device:l(xv)||l(bv)||l(Ev)||l(Sv)||l(Tv)},any:!1,phone:!1,tablet:!1};return o.any=o.apple.device||o.android.device||o.windows.device||o.other.device,o.phone=o.apple.phone||o.android.phone||o.windows.phone,o.tablet=o.apple.tablet||o.android.tablet||o.windows.tablet,o}const xE=wv.default??wv,wr=xE(globalThis.navigator);gt.RETINA_PREFIX=/@([0-9\.]+)x/;gt.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var ef={exports:{}},Cv;function bE(){return Cv||(Cv=1,(function(s){var t=Object.prototype.hasOwnProperty,i="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(i=!1));function l(p,m,g){this.fn=p,this.context=m,this.once=g||!1}function o(p,m,g,y,x){if(typeof g!="function")throw new TypeError("The listener must be a function");var _=new l(g,y||p,x),E=i?i+m:m;return p._events[E]?p._events[E].fn?p._events[E]=[p._events[E],_]:p._events[E].push(_):(p._events[E]=_,p._eventsCount++),p}function h(p,m){--p._eventsCount===0?p._events=new n:delete p._events[m]}function c(){this._events=new n,this._eventsCount=0}c.prototype.eventNames=function(){var m=[],g,y;if(this._eventsCount===0)return m;for(y in g=this._events)t.call(g,y)&&m.push(i?y.slice(1):y);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(g)):m},c.prototype.listeners=function(m){var g=i?i+m:m,y=this._events[g];if(!y)return[];if(y.fn)return[y.fn];for(var x=0,_=y.length,E=new Array(_);x<_;x++)E[x]=y[x].fn;return E},c.prototype.listenerCount=function(m){var g=i?i+m:m,y=this._events[g];return y?y.fn?1:y.length:0},c.prototype.emit=function(m,g,y,x,_,E){var w=i?i+m:m;if(!this._events[w])return!1;var S=this._events[w],C=arguments.length,I,O;if(S.fn){switch(S.once&&this.removeListener(m,S.fn,void 0,!0),C){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,g),!0;case 3:return S.fn.call(S.context,g,y),!0;case 4:return S.fn.call(S.context,g,y,x),!0;case 5:return S.fn.call(S.context,g,y,x,_),!0;case 6:return S.fn.call(S.context,g,y,x,_,E),!0}for(O=1,I=new Array(C-1);O<C;O++)I[O-1]=arguments[O];S.fn.apply(S.context,I)}else{var U=S.length,B;for(O=0;O<U;O++)switch(S[O].once&&this.removeListener(m,S[O].fn,void 0,!0),C){case 1:S[O].fn.call(S[O].context);break;case 2:S[O].fn.call(S[O].context,g);break;case 3:S[O].fn.call(S[O].context,g,y);break;case 4:S[O].fn.call(S[O].context,g,y,x);break;default:if(!I)for(B=1,I=new Array(C-1);B<C;B++)I[B-1]=arguments[B];S[O].fn.apply(S[O].context,I)}}return!0},c.prototype.on=function(m,g,y){return o(this,m,g,y,!1)},c.prototype.once=function(m,g,y){return o(this,m,g,y,!0)},c.prototype.removeListener=function(m,g,y,x){var _=i?i+m:m;if(!this._events[_])return this;if(!g)return h(this,_),this;var E=this._events[_];if(E.fn)E.fn===g&&(!x||E.once)&&(!y||E.context===y)&&h(this,_);else{for(var w=0,S=[],C=E.length;w<C;w++)(E[w].fn!==g||x&&!E[w].once||y&&E[w].context!==y)&&S.push(E[w]);S.length?this._events[_]=S.length===1?S[0]:S:h(this,_)}return this},c.prototype.removeAllListeners=function(m){var g;return m?(g=i?i+m:m,this._events[g]&&h(this,g)):(this._events=new n,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=i,c.EventEmitter=c,s.exports=c})(ef)),ef.exports}var EE=bE();const gl=wu(EE);var Lo={exports:{}},Rv;function TE(){if(Rv)return Lo.exports;Rv=1,Lo.exports=s,Lo.exports.default=s;function s(T,D,R){R=R||2;var H=D&&D.length,L=H?D[0]*R:T.length,b=t(T,0,L,R,!0),N=[];if(!b||b.next===b.prev)return N;var F,j,tt,at,lt,dt,ft;if(H&&(b=p(T,D,b,R)),T.length>80*R){F=tt=T[0],j=at=T[1];for(var ot=R;ot<L;ot+=R)lt=T[ot],dt=T[ot+1],lt<F&&(F=lt),dt<j&&(j=dt),lt>tt&&(tt=lt),dt>at&&(at=dt);ft=Math.max(tt-F,at-j),ft=ft!==0?32767/ft:0}return n(b,N,R,F,j,ft,0),N}function t(T,D,R,H,L){var b,N;if(L===ct(T,D,R,H)>0)for(b=D;b<R;b+=H)N=k(b,T[b],T[b+1],N);else for(b=R-H;b>=D;b-=H)N=k(b,T[b],T[b+1],N);return N&&U(N,N.next)&&(Y(N),N=N.next),N}function i(T,D){if(!T)return T;D||(D=T);var R=T,H;do if(H=!1,!R.steiner&&(U(R,R.next)||O(R.prev,R,R.next)===0)){if(Y(R),R=D=R.prev,R===R.next)break;H=!0}else R=R.next;while(H||R!==D);return D}function n(T,D,R,H,L,b,N){if(T){!N&&b&&_(T,H,L,b);for(var F=T,j,tt;T.prev!==T.next;){if(j=T.prev,tt=T.next,b?o(T,H,L,b):l(T)){D.push(j.i/R|0),D.push(T.i/R|0),D.push(tt.i/R|0),Y(T),T=tt.next,F=tt.next;continue}if(T=tt,T===F){N?N===1?(T=h(i(T),D,R),n(T,D,R,H,L,b,2)):N===2&&c(T,D,R,H,L,b):n(i(T),D,R,H,L,b,1);break}}}}function l(T){var D=T.prev,R=T,H=T.next;if(O(D,R,H)>=0)return!1;for(var L=D.x,b=R.x,N=H.x,F=D.y,j=R.y,tt=H.y,at=L<b?L<N?L:N:b<N?b:N,lt=F<j?F<tt?F:tt:j<tt?j:tt,dt=L>b?L>N?L:N:b>N?b:N,ft=F>j?F>tt?F:tt:j>tt?j:tt,ot=H.next;ot!==D;){if(ot.x>=at&&ot.x<=dt&&ot.y>=lt&&ot.y<=ft&&C(L,F,b,j,N,tt,ot.x,ot.y)&&O(ot.prev,ot,ot.next)>=0)return!1;ot=ot.next}return!0}function o(T,D,R,H){var L=T.prev,b=T,N=T.next;if(O(L,b,N)>=0)return!1;for(var F=L.x,j=b.x,tt=N.x,at=L.y,lt=b.y,dt=N.y,ft=F<j?F<tt?F:tt:j<tt?j:tt,ot=at<lt?at<dt?at:dt:lt<dt?lt:dt,vt=F>j?F>tt?F:tt:j>tt?j:tt,bt=at>lt?at>dt?at:dt:lt>dt?lt:dt,Dt=w(ft,ot,D,R,H),Ot=w(vt,bt,D,R,H),xt=T.prevZ,Et=T.nextZ;xt&&xt.z>=Dt&&Et&&Et.z<=Ot;){if(xt.x>=ft&&xt.x<=vt&&xt.y>=ot&&xt.y<=bt&&xt!==L&&xt!==N&&C(F,at,j,lt,tt,dt,xt.x,xt.y)&&O(xt.prev,xt,xt.next)>=0||(xt=xt.prevZ,Et.x>=ft&&Et.x<=vt&&Et.y>=ot&&Et.y<=bt&&Et!==L&&Et!==N&&C(F,at,j,lt,tt,dt,Et.x,Et.y)&&O(Et.prev,Et,Et.next)>=0))return!1;Et=Et.nextZ}for(;xt&&xt.z>=Dt;){if(xt.x>=ft&&xt.x<=vt&&xt.y>=ot&&xt.y<=bt&&xt!==L&&xt!==N&&C(F,at,j,lt,tt,dt,xt.x,xt.y)&&O(xt.prev,xt,xt.next)>=0)return!1;xt=xt.prevZ}for(;Et&&Et.z<=Ot;){if(Et.x>=ft&&Et.x<=vt&&Et.y>=ot&&Et.y<=bt&&Et!==L&&Et!==N&&C(F,at,j,lt,tt,dt,Et.x,Et.y)&&O(Et.prev,Et,Et.next)>=0)return!1;Et=Et.nextZ}return!0}function h(T,D,R){var H=T;do{var L=H.prev,b=H.next.next;!U(L,b)&&B(L,H,H.next,b)&&J(L,b)&&J(b,L)&&(D.push(L.i/R|0),D.push(H.i/R|0),D.push(b.i/R|0),Y(H),Y(H.next),H=T=b),H=H.next}while(H!==T);return i(H)}function c(T,D,R,H,L,b){var N=T;do{for(var F=N.next.next;F!==N.prev;){if(N.i!==F.i&&I(N,F)){var j=ut(N,F);N=i(N,N.next),j=i(j,j.next),n(N,D,R,H,L,b,0),n(j,D,R,H,L,b,0);return}F=F.next}N=N.next}while(N!==T)}function p(T,D,R,H){var L=[],b,N,F,j,tt;for(b=0,N=D.length;b<N;b++)F=D[b]*H,j=b<N-1?D[b+1]*H:T.length,tt=t(T,F,j,H,!1),tt===tt.next&&(tt.steiner=!0),L.push(S(tt));for(L.sort(m),b=0;b<L.length;b++)R=g(L[b],R);return R}function m(T,D){return T.x-D.x}function g(T,D){var R=y(T,D);if(!R)return D;var H=ut(R,T);return i(H,H.next),i(R,R.next)}function y(T,D){var R=D,H=T.x,L=T.y,b=-1/0,N;do{if(L<=R.y&&L>=R.next.y&&R.next.y!==R.y){var F=R.x+(L-R.y)*(R.next.x-R.x)/(R.next.y-R.y);if(F<=H&&F>b&&(b=F,N=R.x<R.next.x?R:R.next,F===H))return N}R=R.next}while(R!==D);if(!N)return null;var j=N,tt=N.x,at=N.y,lt=1/0,dt;R=N;do H>=R.x&&R.x>=tt&&H!==R.x&&C(L<at?H:b,L,tt,at,L<at?b:H,L,R.x,R.y)&&(dt=Math.abs(L-R.y)/(H-R.x),J(R,T)&&(dt<lt||dt===lt&&(R.x>N.x||R.x===N.x&&x(N,R)))&&(N=R,lt=dt)),R=R.next;while(R!==j);return N}function x(T,D){return O(T.prev,T,D.prev)<0&&O(D.next,T,T.next)<0}function _(T,D,R,H){var L=T;do L.z===0&&(L.z=w(L.x,L.y,D,R,H)),L.prevZ=L.prev,L.nextZ=L.next,L=L.next;while(L!==T);L.prevZ.nextZ=null,L.prevZ=null,E(L)}function E(T){var D,R,H,L,b,N,F,j,tt=1;do{for(R=T,T=null,b=null,N=0;R;){for(N++,H=R,F=0,D=0;D<tt&&(F++,H=H.nextZ,!!H);D++);for(j=tt;F>0||j>0&&H;)F!==0&&(j===0||!H||R.z<=H.z)?(L=R,R=R.nextZ,F--):(L=H,H=H.nextZ,j--),b?b.nextZ=L:T=L,L.prevZ=b,b=L;R=H}b.nextZ=null,tt*=2}while(N>1);return T}function w(T,D,R,H,L){return T=(T-R)*L|0,D=(D-H)*L|0,T=(T|T<<8)&16711935,T=(T|T<<4)&252645135,T=(T|T<<2)&858993459,T=(T|T<<1)&1431655765,D=(D|D<<8)&16711935,D=(D|D<<4)&252645135,D=(D|D<<2)&858993459,D=(D|D<<1)&1431655765,T|D<<1}function S(T){var D=T,R=T;do(D.x<R.x||D.x===R.x&&D.y<R.y)&&(R=D),D=D.next;while(D!==T);return R}function C(T,D,R,H,L,b,N,F){return(L-N)*(D-F)>=(T-N)*(b-F)&&(T-N)*(H-F)>=(R-N)*(D-F)&&(R-N)*(b-F)>=(L-N)*(H-F)}function I(T,D){return T.next.i!==D.i&&T.prev.i!==D.i&&!V(T,D)&&(J(T,D)&&J(D,T)&&nt(T,D)&&(O(T.prev,T,D.prev)||O(T,D.prev,D))||U(T,D)&&O(T.prev,T,T.next)>0&&O(D.prev,D,D.next)>0)}function O(T,D,R){return(D.y-T.y)*(R.x-D.x)-(D.x-T.x)*(R.y-D.y)}function U(T,D){return T.x===D.x&&T.y===D.y}function B(T,D,R,H){var L=M(O(T,D,R)),b=M(O(T,D,H)),N=M(O(R,H,T)),F=M(O(R,H,D));return!!(L!==b&&N!==F||L===0&&z(T,R,D)||b===0&&z(T,H,D)||N===0&&z(R,T,H)||F===0&&z(R,D,H))}function z(T,D,R){return D.x<=Math.max(T.x,R.x)&&D.x>=Math.min(T.x,R.x)&&D.y<=Math.max(T.y,R.y)&&D.y>=Math.min(T.y,R.y)}function M(T){return T>0?1:T<0?-1:0}function V(T,D){var R=T;do{if(R.i!==T.i&&R.next.i!==T.i&&R.i!==D.i&&R.next.i!==D.i&&B(R,R.next,T,D))return!0;R=R.next}while(R!==T);return!1}function J(T,D){return O(T.prev,T,T.next)<0?O(T,D,T.next)>=0&&O(T,T.prev,D)>=0:O(T,D,T.prev)<0||O(T,T.next,D)<0}function nt(T,D){var R=T,H=!1,L=(T.x+D.x)/2,b=(T.y+D.y)/2;do R.y>b!=R.next.y>b&&R.next.y!==R.y&&L<(R.next.x-R.x)*(b-R.y)/(R.next.y-R.y)+R.x&&(H=!H),R=R.next;while(R!==T);return H}function ut(T,D){var R=new et(T.i,T.x,T.y),H=new et(D.i,D.x,D.y),L=T.next,b=D.prev;return T.next=D,D.prev=T,R.next=L,L.prev=R,H.next=R,R.prev=H,b.next=H,H.prev=b,H}function k(T,D,R,H){var L=new et(T,D,R);return H?(L.next=H.next,L.prev=H,H.next.prev=L,H.next=L):(L.prev=L,L.next=L),L}function Y(T){T.next.prev=T.prev,T.prev.next=T.next,T.prevZ&&(T.prevZ.nextZ=T.nextZ),T.nextZ&&(T.nextZ.prevZ=T.prevZ)}function et(T,D,R){this.i=T,this.x=D,this.y=R,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}s.deviation=function(T,D,R,H){var L=D&&D.length,b=L?D[0]*R:T.length,N=Math.abs(ct(T,0,b,R));if(L)for(var F=0,j=D.length;F<j;F++){var tt=D[F]*R,at=F<j-1?D[F+1]*R:T.length;N-=Math.abs(ct(T,tt,at,R))}var lt=0;for(F=0;F<H.length;F+=3){var dt=H[F]*R,ft=H[F+1]*R,ot=H[F+2]*R;lt+=Math.abs((T[dt]-T[ot])*(T[ft+1]-T[dt+1])-(T[dt]-T[ft])*(T[ot+1]-T[dt+1]))}return N===0&&lt===0?0:Math.abs((lt-N)/N)};function ct(T,D,R,H){for(var L=0,b=D,N=R-H;b<R;b+=H)L+=(T[N]-T[b])*(T[b+1]+T[N+1]),N=b;return L}return s.flatten=function(T){for(var D=T[0][0].length,R={vertices:[],holes:[],dimensions:D},H=0,L=0;L<T.length;L++){for(var b=0;b<T[L].length;b++)for(var N=0;N<D;N++)R.vertices.push(T[L][b][N]);L>0&&(H+=T[L-1].length,R.holes.push(H))}return R},Lo.exports}var SE=TE();const AE=wu(SE);var Pn={},al={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */var wE=al.exports,Mv;function CE(){return Mv||(Mv=1,(function(s,t){(function(i){var n=t&&!t.nodeType&&t,l=s&&!s.nodeType&&s,o=typeof cu=="object"&&cu;(o.global===o||o.window===o||o.self===o)&&(i=o);var h,c=2147483647,p=36,m=1,g=26,y=38,x=700,_=72,E=128,w="-",S=/^xn--/,C=/[^\x20-\x7E]/,I=/[\x2E\u3002\uFF0E\uFF61]/g,O={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},U=p-m,B=Math.floor,z=String.fromCharCode,M;function V(L){throw new RangeError(O[L])}function J(L,b){for(var N=L.length,F=[];N--;)F[N]=b(L[N]);return F}function nt(L,b){var N=L.split("@"),F="";N.length>1&&(F=N[0]+"@",L=N[1]),L=L.replace(I,".");var j=L.split("."),tt=J(j,b).join(".");return F+tt}function ut(L){for(var b=[],N=0,F=L.length,j,tt;N<F;)j=L.charCodeAt(N++),j>=55296&&j<=56319&&N<F?(tt=L.charCodeAt(N++),(tt&64512)==56320?b.push(((j&1023)<<10)+(tt&1023)+65536):(b.push(j),N--)):b.push(j);return b}function k(L){return J(L,function(b){var N="";return b>65535&&(b-=65536,N+=z(b>>>10&1023|55296),b=56320|b&1023),N+=z(b),N}).join("")}function Y(L){return L-48<10?L-22:L-65<26?L-65:L-97<26?L-97:p}function et(L,b){return L+22+75*(L<26)-((b!=0)<<5)}function ct(L,b,N){var F=0;for(L=N?B(L/x):L>>1,L+=B(L/b);L>U*g>>1;F+=p)L=B(L/U);return B(F+(U+1)*L/(L+y))}function T(L){var b=[],N=L.length,F,j=0,tt=E,at=_,lt,dt,ft,ot,vt,bt,Dt,Ot,xt;for(lt=L.lastIndexOf(w),lt<0&&(lt=0),dt=0;dt<lt;++dt)L.charCodeAt(dt)>=128&&V("not-basic"),b.push(L.charCodeAt(dt));for(ft=lt>0?lt+1:0;ft<N;){for(ot=j,vt=1,bt=p;ft>=N&&V("invalid-input"),Dt=Y(L.charCodeAt(ft++)),(Dt>=p||Dt>B((c-j)/vt))&&V("overflow"),j+=Dt*vt,Ot=bt<=at?m:bt>=at+g?g:bt-at,!(Dt<Ot);bt+=p)xt=p-Ot,vt>B(c/xt)&&V("overflow"),vt*=xt;F=b.length+1,at=ct(j-ot,F,ot==0),B(j/F)>c-tt&&V("overflow"),tt+=B(j/F),j%=F,b.splice(j++,0,tt)}return k(b)}function D(L){var b,N,F,j,tt,at,lt,dt,ft,ot,vt,bt=[],Dt,Ot,xt,Et;for(L=ut(L),Dt=L.length,b=E,N=0,tt=_,at=0;at<Dt;++at)vt=L[at],vt<128&&bt.push(z(vt));for(F=j=bt.length,j&&bt.push(w);F<Dt;){for(lt=c,at=0;at<Dt;++at)vt=L[at],vt>=b&&vt<lt&&(lt=vt);for(Ot=F+1,lt-b>B((c-N)/Ot)&&V("overflow"),N+=(lt-b)*Ot,b=lt,at=0;at<Dt;++at)if(vt=L[at],vt<b&&++N>c&&V("overflow"),vt==b){for(dt=N,ft=p;ot=ft<=tt?m:ft>=tt+g?g:ft-tt,!(dt<ot);ft+=p)Et=dt-ot,xt=p-ot,bt.push(z(et(ot+Et%xt,0))),dt=B(Et/xt);bt.push(z(et(dt,0))),tt=ct(N,Ot,F==j),N=0,++F}++N,++b}return bt.join("")}function R(L){return nt(L,function(b){return S.test(b)?T(b.slice(4).toLowerCase()):b})}function H(L){return nt(L,function(b){return C.test(b)?"xn--"+D(b):b})}if(h={version:"1.4.1",ucs2:{decode:ut,encode:k},decode:T,encode:D,toASCII:H,toUnicode:R},n&&l)if(s.exports==n)l.exports=h;else for(M in h)h.hasOwnProperty(M)&&(n[M]=h[M]);else i.punycode=h})(wE)})(al,al.exports)),al.exports}var rf,Dv;function na(){return Dv||(Dv=1,rf=TypeError),rf}const RE={},ME=Object.freeze(Object.defineProperty({__proto__:null,default:RE},Symbol.toStringTag,{value:"Module"})),DE=aE(ME);var nf,Ov;function Cu(){if(Ov)return nf;Ov=1;var s=typeof Map=="function"&&Map.prototype,t=Object.getOwnPropertyDescriptor&&s?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,i=s&&t&&typeof t.get=="function"?t.get:null,n=s&&Map.prototype.forEach,l=typeof Set=="function"&&Set.prototype,o=Object.getOwnPropertyDescriptor&&l?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,h=l&&o&&typeof o.get=="function"?o.get:null,c=l&&Set.prototype.forEach,p=typeof WeakMap=="function"&&WeakMap.prototype,m=p?WeakMap.prototype.has:null,g=typeof WeakSet=="function"&&WeakSet.prototype,y=g?WeakSet.prototype.has:null,x=typeof WeakRef=="function"&&WeakRef.prototype,_=x?WeakRef.prototype.deref:null,E=Boolean.prototype.valueOf,w=Object.prototype.toString,S=Function.prototype.toString,C=String.prototype.match,I=String.prototype.slice,O=String.prototype.replace,U=String.prototype.toUpperCase,B=String.prototype.toLowerCase,z=RegExp.prototype.test,M=Array.prototype.concat,V=Array.prototype.join,J=Array.prototype.slice,nt=Math.floor,ut=typeof BigInt=="function"?BigInt.prototype.valueOf:null,k=Object.getOwnPropertySymbols,Y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,et=typeof Symbol=="function"&&typeof Symbol.iterator=="object",ct=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===et||!0)?Symbol.toStringTag:null,T=Object.prototype.propertyIsEnumerable,D=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(q){return q.__proto__}:null);function R(q,K){if(q===1/0||q===-1/0||q!==q||q&&q>-1e3&&q<1e3||z.call(/e/,K))return K;var jt=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof q=="number"){var Qt=q<0?-nt(-q):nt(q);if(Qt!==q){var $t=String(Qt),Bt=I.call(K,$t.length+1);return O.call($t,jt,"$&_")+"."+O.call(O.call(Bt,/([0-9]{3})/g,"$&_"),/_$/,"")}}return O.call(K,jt,"$&_")}var H=DE,L=H.custom,b=Ot(L)?L:null,N={__proto__:null,double:'"',single:"'"},F={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};nf=function q(K,jt,Qt,$t){var Bt=jt||{};if(oe(Bt,"quoteStyle")&&!oe(N,Bt.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(oe(Bt,"maxStringLength")&&(typeof Bt.maxStringLength=="number"?Bt.maxStringLength<0&&Bt.maxStringLength!==1/0:Bt.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var ei=oe(Bt,"customInspect")?Bt.customInspect:!0;if(typeof ei!="boolean"&&ei!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(oe(Bt,"indent")&&Bt.indent!==null&&Bt.indent!=="	"&&!(parseInt(Bt.indent,10)===Bt.indent&&Bt.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(oe(Bt,"numericSeparator")&&typeof Bt.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var Xe=Bt.numericSeparator;if(typeof K>"u")return"undefined";if(K===null)return"null";if(typeof K=="boolean")return K?"true":"false";if(typeof K=="string")return aa(K,Bt);if(typeof K=="number"){if(K===0)return 1/0/K>0?"0":"-0";var we=String(K);return Xe?R(K,we):we}if(typeof K=="bigint"){var qe=String(K)+"n";return Xe?R(K,qe):qe}var la=typeof Bt.depth>"u"?5:Bt.depth;if(typeof Qt>"u"&&(Qt=0),Qt>=la&&la>0&&typeof K=="object")return lt(K)?"[Array]":"[Object]";var ir=vn(Bt,Qt);if(typeof $t>"u")$t=[];else if(fi($t,K)>=0)return"[Circular]";function Ve(rr,zi,ca){if(zi&&($t=J.call($t),$t.push(zi)),ca){var nr={depth:Bt.depth};return oe(Bt,"quoteStyle")&&(nr.quoteStyle=Bt.quoteStyle),q(rr,nr,Qt+1,$t)}return q(rr,Bt,Qt+1,$t)}if(typeof K=="function"&&!ft(K)){var Nr=Fi(K),bl=ti(K,Ve);return"[Function"+(Nr?": "+Nr:" (anonymous)")+"]"+(bl.length>0?" { "+V.call(bl,", ")+" }":"")}if(Ot(K)){var oa=et?O.call(String(K),/^(Symbol\(.*\))_[^)]*$/,"$1"):Y.call(K);return typeof K=="object"&&!et?yn(oa):oa}if(_l(K)){for(var Ir="<"+B.call(String(K.nodeName)),is=K.attributes||[],Ur=0;Ur<is.length;Ur++)Ir+=" "+is[Ur].name+"="+j(tt(is[Ur].value),"double",Bt);return Ir+=">",K.childNodes&&K.childNodes.length&&(Ir+="..."),Ir+="</"+B.call(String(K.nodeName))+">",Ir}if(lt(K)){if(K.length===0)return"[]";var _n=ti(K,Ve);return ir&&!Fu(_n)?"["+Oe(_n,ir)+"]":"[ "+V.call(_n,", ")+" ]"}if(ot(K)){var rs=ti(K,Ve);return!("cause"in Error.prototype)&&"cause"in K&&!T.call(K,"cause")?"{ ["+String(K)+"] "+V.call(M.call("[cause]: "+Ve(K.cause),rs),", ")+" }":rs.length===0?"["+String(K)+"]":"{ ["+String(K)+"] "+V.call(rs,", ")+" }"}if(typeof K=="object"&&ei){if(b&&typeof K[b]=="function"&&H)return H(K,{depth:la-Qt});if(ei!=="symbol"&&typeof K.inspect=="function")return K.inspect()}if(ke(K)){var ua=[];return n&&n.call(K,function(rr,zi){ua.push(Ve(zi,K,!0)+" => "+Ve(rr,K))}),xl("Map",i.call(K),ua,ir)}if(ve(K)){var wi=[];return c&&c.call(K,function(rr){wi.push(Ve(rr,K))}),xl("Set",h.call(K),wi,ir)}if(Or(K))return es("WeakMap");if(Pu(K))return es("WeakSet");if(Br(K))return es("WeakRef");if(bt(K))return yn(Ve(Number(K)));if(xt(K))return yn(Ve(ut.call(K)));if(Dt(K))return yn(E.call(K));if(vt(K))return yn(Ve(String(K)));if(typeof window<"u"&&K===window)return"{ [object Window] }";if(typeof globalThis<"u"&&K===globalThis||typeof cu<"u"&&K===cu)return"{ [object globalThis] }";if(!dt(K)&&!ft(K)){var pe=ti(K,Ve),Be=D?D(K)===Object.prototype:K instanceof Object||K.constructor===Object,Gi=K instanceof Object?"":"null prototype",ns=!Be&&ct&&Object(K)===K&&ct in K?I.call(ce(K),8,-1):Gi?"Object":"",Gu=Be||typeof K.constructor!="function"?"":K.constructor.name?K.constructor.name+" ":"",ha=Gu+(ns||Gi?"["+V.call(M.call([],ns||[],Gi||[]),": ")+"] ":"");return pe.length===0?ha+"{}":ir?ha+"{"+Oe(pe,ir)+"}":ha+"{ "+V.call(pe,", ")+" }"}return String(K)};function j(q,K,jt){var Qt=jt.quoteStyle||K,$t=N[Qt];return $t+q+$t}function tt(q){return O.call(String(q),/"/g,"&quot;")}function at(q){return!ct||!(typeof q=="object"&&(ct in q||typeof q[ct]<"u"))}function lt(q){return ce(q)==="[object Array]"&&at(q)}function dt(q){return ce(q)==="[object Date]"&&at(q)}function ft(q){return ce(q)==="[object RegExp]"&&at(q)}function ot(q){return ce(q)==="[object Error]"&&at(q)}function vt(q){return ce(q)==="[object String]"&&at(q)}function bt(q){return ce(q)==="[object Number]"&&at(q)}function Dt(q){return ce(q)==="[object Boolean]"&&at(q)}function Ot(q){if(et)return q&&typeof q=="object"&&q instanceof Symbol;if(typeof q=="symbol")return!0;if(!q||typeof q!="object"||!Y)return!1;try{return Y.call(q),!0}catch{}return!1}function xt(q){if(!q||typeof q!="object"||!ut)return!1;try{return ut.call(q),!0}catch{}return!1}var Et=Object.prototype.hasOwnProperty||function(q){return q in this};function oe(q,K){return Et.call(q,K)}function ce(q){return w.call(q)}function Fi(q){if(q.name)return q.name;var K=C.call(S.call(q),/^function\s*([\w$]+)/);return K?K[1]:null}function fi(q,K){if(q.indexOf)return q.indexOf(K);for(var jt=0,Qt=q.length;jt<Qt;jt++)if(q[jt]===K)return jt;return-1}function ke(q){if(!i||!q||typeof q!="object")return!1;try{i.call(q);try{h.call(q)}catch{return!0}return q instanceof Map}catch{}return!1}function Or(q){if(!m||!q||typeof q!="object")return!1;try{m.call(q,m);try{y.call(q,y)}catch{return!0}return q instanceof WeakMap}catch{}return!1}function Br(q){if(!_||!q||typeof q!="object")return!1;try{return _.call(q),!0}catch{}return!1}function ve(q){if(!h||!q||typeof q!="object")return!1;try{h.call(q);try{i.call(q)}catch{return!0}return q instanceof Set}catch{}return!1}function Pu(q){if(!y||!q||typeof q!="object")return!1;try{y.call(q,y);try{m.call(q,m)}catch{return!0}return q instanceof WeakSet}catch{}return!1}function _l(q){return!q||typeof q!="object"?!1:typeof HTMLElement<"u"&&q instanceof HTMLElement?!0:typeof q.nodeName=="string"&&typeof q.getAttribute=="function"}function aa(q,K){if(q.length>K.maxStringLength){var jt=q.length-K.maxStringLength,Qt="... "+jt+" more character"+(jt>1?"s":"");return aa(I.call(q,0,K.maxStringLength),K)+Qt}var $t=F[K.quoteStyle||"single"];$t.lastIndex=0;var Bt=O.call(O.call(q,$t,"\\$1"),/[\x00-\x1f]/g,ts);return j(Bt,"single",K)}function ts(q){var K=q.charCodeAt(0),jt={8:"b",9:"t",10:"n",12:"f",13:"r"}[K];return jt?"\\"+jt:"\\x"+(K<16?"0":"")+U.call(K.toString(16))}function yn(q){return"Object("+q+")"}function es(q){return q+" { ? }"}function xl(q,K,jt,Qt){var $t=Qt?Oe(jt,Qt):V.call(jt,", ");return q+" ("+K+") {"+$t+"}"}function Fu(q){for(var K=0;K<q.length;K++)if(fi(q[K],`
`)>=0)return!1;return!0}function vn(q,K){var jt;if(q.indent==="	")jt="	";else if(typeof q.indent=="number"&&q.indent>0)jt=V.call(Array(q.indent+1)," ");else return null;return{base:jt,prev:V.call(Array(K+1),jt)}}function Oe(q,K){if(q.length===0)return"";var jt=`
`+K.prev+K.base;return jt+V.call(q,","+jt)+`
`+K.prev}function ti(q,K){var jt=lt(q),Qt=[];if(jt){Qt.length=q.length;for(var $t=0;$t<q.length;$t++)Qt[$t]=oe(q,$t)?K(q[$t],q):""}var Bt=typeof k=="function"?k(q):[],ei;if(et){ei={};for(var Xe=0;Xe<Bt.length;Xe++)ei["$"+Bt[Xe]]=Bt[Xe]}for(var we in q)oe(q,we)&&(jt&&String(Number(we))===we&&we<q.length||et&&ei["$"+we]instanceof Symbol||(z.call(/[^\w$]/,we)?Qt.push(K(we,q)+": "+K(q[we],q)):Qt.push(we+": "+K(q[we],q))));if(typeof k=="function")for(var qe=0;qe<Bt.length;qe++)T.call(q,Bt[qe])&&Qt.push("["+K(Bt[qe])+"]: "+K(q[Bt[qe]],q));return Qt}return nf}var sf,Bv;function OE(){if(Bv)return sf;Bv=1;var s=Cu(),t=na(),i=function(c,p,m){for(var g=c,y;(y=g.next)!=null;g=y)if(y.key===p)return g.next=y.next,m||(y.next=c.next,c.next=y),y},n=function(c,p){if(c){var m=i(c,p);return m&&m.value}},l=function(c,p,m){var g=i(c,p);g?g.value=m:c.next={key:p,next:c.next,value:m}},o=function(c,p){return c?!!i(c,p):!1},h=function(c,p){if(c)return i(c,p,!0)};return sf=function(){var p,m={assert:function(g){if(!m.has(g))throw new t("Side channel does not contain "+s(g))},delete:function(g){var y=p&&p.next,x=h(p,g);return x&&y&&y===x&&(p=void 0),!!x},get:function(g){return n(p,g)},has:function(g){return o(p,g)},set:function(g,y){p||(p={next:void 0}),l(p,g,y)}};return m},sf}var af,Nv;function E_(){return Nv||(Nv=1,af=Object),af}var lf,Iv;function BE(){return Iv||(Iv=1,lf=Error),lf}var of,Uv;function NE(){return Uv||(Uv=1,of=EvalError),of}var uf,Lv;function IE(){return Lv||(Lv=1,uf=RangeError),uf}var hf,Pv;function UE(){return Pv||(Pv=1,hf=ReferenceError),hf}var cf,Fv;function LE(){return Fv||(Fv=1,cf=SyntaxError),cf}var ff,Gv;function PE(){return Gv||(Gv=1,ff=URIError),ff}var df,zv;function FE(){return zv||(zv=1,df=Math.abs),df}var pf,Hv;function GE(){return Hv||(Hv=1,pf=Math.floor),pf}var mf,kv;function zE(){return kv||(kv=1,mf=Math.max),mf}var gf,Xv;function HE(){return Xv||(Xv=1,gf=Math.min),gf}var yf,Vv;function kE(){return Vv||(Vv=1,yf=Math.pow),yf}var vf,jv;function XE(){return jv||(jv=1,vf=Math.round),vf}var _f,qv;function VE(){return qv||(qv=1,_f=Number.isNaN||function(t){return t!==t}),_f}var xf,Yv;function jE(){if(Yv)return xf;Yv=1;var s=VE();return xf=function(i){return s(i)||i===0?i:i<0?-1:1},xf}var bf,Wv;function qE(){return Wv||(Wv=1,bf=Object.getOwnPropertyDescriptor),bf}var Ef,$v;function T_(){if($v)return Ef;$v=1;var s=qE();if(s)try{s([],"length")}catch{s=null}return Ef=s,Ef}var Tf,Zv;function YE(){if(Zv)return Tf;Zv=1;var s=Object.defineProperty||!1;if(s)try{s({},"a",{value:1})}catch{s=!1}return Tf=s,Tf}var Sf,Kv;function WE(){return Kv||(Kv=1,Sf=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},i=Symbol("test"),n=Object(i);if(typeof i=="string"||Object.prototype.toString.call(i)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var l=42;t[i]=l;for(var o in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var h=Object.getOwnPropertySymbols(t);if(h.length!==1||h[0]!==i||!Object.prototype.propertyIsEnumerable.call(t,i))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var c=Object.getOwnPropertyDescriptor(t,i);if(c.value!==l||c.enumerable!==!0)return!1}return!0}),Sf}var Af,Qv;function $E(){if(Qv)return Af;Qv=1;var s=typeof Symbol<"u"&&Symbol,t=WE();return Af=function(){return typeof s!="function"||typeof Symbol!="function"||typeof s("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:t()},Af}var wf,Jv;function S_(){return Jv||(Jv=1,wf=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),wf}var Cf,t0;function A_(){if(t0)return Cf;t0=1;var s=E_();return Cf=s.getPrototypeOf||null,Cf}var Rf,e0;function ZE(){if(e0)return Rf;e0=1;var s="Function.prototype.bind called on incompatible ",t=Object.prototype.toString,i=Math.max,n="[object Function]",l=function(p,m){for(var g=[],y=0;y<p.length;y+=1)g[y]=p[y];for(var x=0;x<m.length;x+=1)g[x+p.length]=m[x];return g},o=function(p,m){for(var g=[],y=m,x=0;y<p.length;y+=1,x+=1)g[x]=p[y];return g},h=function(c,p){for(var m="",g=0;g<c.length;g+=1)m+=c[g],g+1<c.length&&(m+=p);return m};return Rf=function(p){var m=this;if(typeof m!="function"||t.apply(m)!==n)throw new TypeError(s+m);for(var g=o(arguments,1),y,x=function(){if(this instanceof y){var C=m.apply(this,l(g,arguments));return Object(C)===C?C:this}return m.apply(p,l(g,arguments))},_=i(0,m.length-g.length),E=[],w=0;w<_;w++)E[w]="$"+w;if(y=Function("binder","return function ("+h(E,",")+"){ return binder.apply(this,arguments); }")(x),m.prototype){var S=function(){};S.prototype=m.prototype,y.prototype=new S,S.prototype=null}return y},Rf}var Mf,i0;function Ru(){if(i0)return Mf;i0=1;var s=ZE();return Mf=Function.prototype.bind||s,Mf}var Df,r0;function sp(){return r0||(r0=1,Df=Function.prototype.call),Df}var Of,n0;function w_(){return n0||(n0=1,Of=Function.prototype.apply),Of}var Bf,s0;function KE(){return s0||(s0=1,Bf=typeof Reflect<"u"&&Reflect&&Reflect.apply),Bf}var Nf,a0;function QE(){if(a0)return Nf;a0=1;var s=Ru(),t=w_(),i=sp(),n=KE();return Nf=n||s.call(i,t),Nf}var If,l0;function C_(){if(l0)return If;l0=1;var s=Ru(),t=na(),i=sp(),n=QE();return If=function(o){if(o.length<1||typeof o[0]!="function")throw new t("a function is required");return n(s,i,o)},If}var Uf,o0;function JE(){if(o0)return Uf;o0=1;var s=C_(),t=T_(),i;try{i=[].__proto__===Array.prototype}catch(h){if(!h||typeof h!="object"||!("code"in h)||h.code!=="ERR_PROTO_ACCESS")throw h}var n=!!i&&t&&t(Object.prototype,"__proto__"),l=Object,o=l.getPrototypeOf;return Uf=n&&typeof n.get=="function"?s([n.get]):typeof o=="function"?function(c){return o(c==null?c:l(c))}:!1,Uf}var Lf,u0;function tT(){if(u0)return Lf;u0=1;var s=S_(),t=A_(),i=JE();return Lf=s?function(l){return s(l)}:t?function(l){if(!l||typeof l!="object"&&typeof l!="function")throw new TypeError("getProto: not an object");return t(l)}:i?function(l){return i(l)}:null,Lf}var Pf,h0;function eT(){if(h0)return Pf;h0=1;var s=Function.prototype.call,t=Object.prototype.hasOwnProperty,i=Ru();return Pf=i.call(s,t),Pf}var Ff,c0;function ap(){if(c0)return Ff;c0=1;var s,t=E_(),i=BE(),n=NE(),l=IE(),o=UE(),h=LE(),c=na(),p=PE(),m=FE(),g=GE(),y=zE(),x=HE(),_=kE(),E=XE(),w=jE(),S=Function,C=function(ft){try{return S('"use strict"; return ('+ft+").constructor;")()}catch{}},I=T_(),O=YE(),U=function(){throw new c},B=I?(function(){try{return arguments.callee,U}catch{try{return I(arguments,"callee").get}catch{return U}}})():U,z=$E()(),M=tT(),V=A_(),J=S_(),nt=w_(),ut=sp(),k={},Y=typeof Uint8Array>"u"||!M?s:M(Uint8Array),et={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?s:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?s:ArrayBuffer,"%ArrayIteratorPrototype%":z&&M?M([][Symbol.iterator]()):s,"%AsyncFromSyncIteratorPrototype%":s,"%AsyncFunction%":k,"%AsyncGenerator%":k,"%AsyncGeneratorFunction%":k,"%AsyncIteratorPrototype%":k,"%Atomics%":typeof Atomics>"u"?s:Atomics,"%BigInt%":typeof BigInt>"u"?s:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?s:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?s:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?s:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":i,"%eval%":eval,"%EvalError%":n,"%Float16Array%":typeof Float16Array>"u"?s:Float16Array,"%Float32Array%":typeof Float32Array>"u"?s:Float32Array,"%Float64Array%":typeof Float64Array>"u"?s:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?s:FinalizationRegistry,"%Function%":S,"%GeneratorFunction%":k,"%Int8Array%":typeof Int8Array>"u"?s:Int8Array,"%Int16Array%":typeof Int16Array>"u"?s:Int16Array,"%Int32Array%":typeof Int32Array>"u"?s:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":z&&M?M(M([][Symbol.iterator]())):s,"%JSON%":typeof JSON=="object"?JSON:s,"%Map%":typeof Map>"u"?s:Map,"%MapIteratorPrototype%":typeof Map>"u"||!z||!M?s:M(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":t,"%Object.getOwnPropertyDescriptor%":I,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?s:Promise,"%Proxy%":typeof Proxy>"u"?s:Proxy,"%RangeError%":l,"%ReferenceError%":o,"%Reflect%":typeof Reflect>"u"?s:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?s:Set,"%SetIteratorPrototype%":typeof Set>"u"||!z||!M?s:M(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?s:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":z&&M?M(""[Symbol.iterator]()):s,"%Symbol%":z?Symbol:s,"%SyntaxError%":h,"%ThrowTypeError%":B,"%TypedArray%":Y,"%TypeError%":c,"%Uint8Array%":typeof Uint8Array>"u"?s:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?s:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?s:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?s:Uint32Array,"%URIError%":p,"%WeakMap%":typeof WeakMap>"u"?s:WeakMap,"%WeakRef%":typeof WeakRef>"u"?s:WeakRef,"%WeakSet%":typeof WeakSet>"u"?s:WeakSet,"%Function.prototype.call%":ut,"%Function.prototype.apply%":nt,"%Object.defineProperty%":O,"%Object.getPrototypeOf%":V,"%Math.abs%":m,"%Math.floor%":g,"%Math.max%":y,"%Math.min%":x,"%Math.pow%":_,"%Math.round%":E,"%Math.sign%":w,"%Reflect.getPrototypeOf%":J};if(M)try{null.error}catch(ft){var ct=M(M(ft));et["%Error.prototype%"]=ct}var T=function ft(ot){var vt;if(ot==="%AsyncFunction%")vt=C("async function () {}");else if(ot==="%GeneratorFunction%")vt=C("function* () {}");else if(ot==="%AsyncGeneratorFunction%")vt=C("async function* () {}");else if(ot==="%AsyncGenerator%"){var bt=ft("%AsyncGeneratorFunction%");bt&&(vt=bt.prototype)}else if(ot==="%AsyncIteratorPrototype%"){var Dt=ft("%AsyncGenerator%");Dt&&M&&(vt=M(Dt.prototype))}return et[ot]=vt,vt},D={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},R=Ru(),H=eT(),L=R.call(ut,Array.prototype.concat),b=R.call(nt,Array.prototype.splice),N=R.call(ut,String.prototype.replace),F=R.call(ut,String.prototype.slice),j=R.call(ut,RegExp.prototype.exec),tt=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,at=/\\(\\)?/g,lt=function(ot){var vt=F(ot,0,1),bt=F(ot,-1);if(vt==="%"&&bt!=="%")throw new h("invalid intrinsic syntax, expected closing `%`");if(bt==="%"&&vt!=="%")throw new h("invalid intrinsic syntax, expected opening `%`");var Dt=[];return N(ot,tt,function(Ot,xt,Et,oe){Dt[Dt.length]=Et?N(oe,at,"$1"):xt||Ot}),Dt},dt=function(ot,vt){var bt=ot,Dt;if(H(D,bt)&&(Dt=D[bt],bt="%"+Dt[0]+"%"),H(et,bt)){var Ot=et[bt];if(Ot===k&&(Ot=T(bt)),typeof Ot>"u"&&!vt)throw new c("intrinsic "+ot+" exists, but is not available. Please file an issue!");return{alias:Dt,name:bt,value:Ot}}throw new h("intrinsic "+ot+" does not exist!")};return Ff=function(ot,vt){if(typeof ot!="string"||ot.length===0)throw new c("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof vt!="boolean")throw new c('"allowMissing" argument must be a boolean');if(j(/^%?[^%]*%?$/,ot)===null)throw new h("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var bt=lt(ot),Dt=bt.length>0?bt[0]:"",Ot=dt("%"+Dt+"%",vt),xt=Ot.name,Et=Ot.value,oe=!1,ce=Ot.alias;ce&&(Dt=ce[0],b(bt,L([0,1],ce)));for(var Fi=1,fi=!0;Fi<bt.length;Fi+=1){var ke=bt[Fi],Or=F(ke,0,1),Br=F(ke,-1);if((Or==='"'||Or==="'"||Or==="`"||Br==='"'||Br==="'"||Br==="`")&&Or!==Br)throw new h("property names with quotes must have matching quotes");if((ke==="constructor"||!fi)&&(oe=!0),Dt+="."+ke,xt="%"+Dt+"%",H(et,xt))Et=et[xt];else if(Et!=null){if(!(ke in Et)){if(!vt)throw new c("base intrinsic for "+ot+" exists, but the property is not available.");return}if(I&&Fi+1>=bt.length){var ve=I(Et,ke);fi=!!ve,fi&&"get"in ve&&!("originalValue"in ve.get)?Et=ve.get:Et=Et[ke]}else fi=H(Et,ke),Et=Et[ke];fi&&!oe&&(et[xt]=Et)}}return Et},Ff}var Gf,f0;function R_(){if(f0)return Gf;f0=1;var s=ap(),t=C_(),i=t([s("%String.prototype.indexOf%")]);return Gf=function(l,o){var h=s(l,!!o);return typeof h=="function"&&i(l,".prototype.")>-1?t([h]):h},Gf}var zf,d0;function M_(){if(d0)return zf;d0=1;var s=ap(),t=R_(),i=Cu(),n=na(),l=s("%Map%",!0),o=t("Map.prototype.get",!0),h=t("Map.prototype.set",!0),c=t("Map.prototype.has",!0),p=t("Map.prototype.delete",!0),m=t("Map.prototype.size",!0);return zf=!!l&&function(){var y,x={assert:function(_){if(!x.has(_))throw new n("Side channel does not contain "+i(_))},delete:function(_){if(y){var E=p(y,_);return m(y)===0&&(y=void 0),E}return!1},get:function(_){if(y)return o(y,_)},has:function(_){return y?c(y,_):!1},set:function(_,E){y||(y=new l),h(y,_,E)}};return x},zf}var Hf,p0;function iT(){if(p0)return Hf;p0=1;var s=ap(),t=R_(),i=Cu(),n=M_(),l=na(),o=s("%WeakMap%",!0),h=t("WeakMap.prototype.get",!0),c=t("WeakMap.prototype.set",!0),p=t("WeakMap.prototype.has",!0),m=t("WeakMap.prototype.delete",!0);return Hf=o?function(){var y,x,_={assert:function(E){if(!_.has(E))throw new l("Side channel does not contain "+i(E))},delete:function(E){if(o&&E&&(typeof E=="object"||typeof E=="function")){if(y)return m(y,E)}else if(n&&x)return x.delete(E);return!1},get:function(E){return o&&E&&(typeof E=="object"||typeof E=="function")&&y?h(y,E):x&&x.get(E)},has:function(E){return o&&E&&(typeof E=="object"||typeof E=="function")&&y?p(y,E):!!x&&x.has(E)},set:function(E,w){o&&E&&(typeof E=="object"||typeof E=="function")?(y||(y=new o),c(y,E,w)):n&&(x||(x=n()),x.set(E,w))}};return _}:n,Hf}var kf,m0;function rT(){if(m0)return kf;m0=1;var s=na(),t=Cu(),i=OE(),n=M_(),l=iT(),o=l||n||i;return kf=function(){var c,p={assert:function(m){if(!p.has(m))throw new s("Side channel does not contain "+t(m))},delete:function(m){return!!c&&c.delete(m)},get:function(m){return c&&c.get(m)},has:function(m){return!!c&&c.has(m)},set:function(m,g){c||(c=o()),c.set(m,g)}};return p},kf}var Xf,g0;function lp(){if(g0)return Xf;g0=1;var s=String.prototype.replace,t=/%20/g,i={RFC1738:"RFC1738",RFC3986:"RFC3986"};return Xf={default:i.RFC3986,formatters:{RFC1738:function(n){return s.call(n,t,"+")},RFC3986:function(n){return String(n)}},RFC1738:i.RFC1738,RFC3986:i.RFC3986},Xf}var Vf,y0;function D_(){if(y0)return Vf;y0=1;var s=lp(),t=Object.prototype.hasOwnProperty,i=Array.isArray,n=(function(){for(var S=[],C=0;C<256;++C)S.push("%"+((C<16?"0":"")+C.toString(16)).toUpperCase());return S})(),l=function(C){for(;C.length>1;){var I=C.pop(),O=I.obj[I.prop];if(i(O)){for(var U=[],B=0;B<O.length;++B)typeof O[B]<"u"&&U.push(O[B]);I.obj[I.prop]=U}}},o=function(C,I){for(var O=I&&I.plainObjects?{__proto__:null}:{},U=0;U<C.length;++U)typeof C[U]<"u"&&(O[U]=C[U]);return O},h=function S(C,I,O){if(!I)return C;if(typeof I!="object"&&typeof I!="function"){if(i(C))C.push(I);else if(C&&typeof C=="object")(O&&(O.plainObjects||O.allowPrototypes)||!t.call(Object.prototype,I))&&(C[I]=!0);else return[C,I];return C}if(!C||typeof C!="object")return[C].concat(I);var U=C;return i(C)&&!i(I)&&(U=o(C,O)),i(C)&&i(I)?(I.forEach(function(B,z){if(t.call(C,z)){var M=C[z];M&&typeof M=="object"&&B&&typeof B=="object"?C[z]=S(M,B,O):C.push(B)}else C[z]=B}),C):Object.keys(I).reduce(function(B,z){var M=I[z];return t.call(B,z)?B[z]=S(B[z],M,O):B[z]=M,B},U)},c=function(C,I){return Object.keys(I).reduce(function(O,U){return O[U]=I[U],O},C)},p=function(S,C,I){var O=S.replace(/\+/g," ");if(I==="iso-8859-1")return O.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(O)}catch{return O}},m=1024,g=function(C,I,O,U,B){if(C.length===0)return C;var z=C;if(typeof C=="symbol"?z=Symbol.prototype.toString.call(C):typeof C!="string"&&(z=String(C)),O==="iso-8859-1")return escape(z).replace(/%u[0-9a-f]{4}/gi,function(Y){return"%26%23"+parseInt(Y.slice(2),16)+"%3B"});for(var M="",V=0;V<z.length;V+=m){for(var J=z.length>=m?z.slice(V,V+m):z,nt=[],ut=0;ut<J.length;++ut){var k=J.charCodeAt(ut);if(k===45||k===46||k===95||k===126||k>=48&&k<=57||k>=65&&k<=90||k>=97&&k<=122||B===s.RFC1738&&(k===40||k===41)){nt[nt.length]=J.charAt(ut);continue}if(k<128){nt[nt.length]=n[k];continue}if(k<2048){nt[nt.length]=n[192|k>>6]+n[128|k&63];continue}if(k<55296||k>=57344){nt[nt.length]=n[224|k>>12]+n[128|k>>6&63]+n[128|k&63];continue}ut+=1,k=65536+((k&1023)<<10|J.charCodeAt(ut)&1023),nt[nt.length]=n[240|k>>18]+n[128|k>>12&63]+n[128|k>>6&63]+n[128|k&63]}M+=nt.join("")}return M},y=function(C){for(var I=[{obj:{o:C},prop:"o"}],O=[],U=0;U<I.length;++U)for(var B=I[U],z=B.obj[B.prop],M=Object.keys(z),V=0;V<M.length;++V){var J=M[V],nt=z[J];typeof nt=="object"&&nt!==null&&O.indexOf(nt)===-1&&(I.push({obj:z,prop:J}),O.push(nt))}return l(I),C},x=function(C){return Object.prototype.toString.call(C)==="[object RegExp]"},_=function(C){return!C||typeof C!="object"?!1:!!(C.constructor&&C.constructor.isBuffer&&C.constructor.isBuffer(C))},E=function(C,I){return[].concat(C,I)},w=function(C,I){if(i(C)){for(var O=[],U=0;U<C.length;U+=1)O.push(I(C[U]));return O}return I(C)};return Vf={arrayToObject:o,assign:c,combine:E,compact:y,decode:p,encode:g,isBuffer:_,isRegExp:x,maybeMap:w,merge:h},Vf}var jf,v0;function nT(){if(v0)return jf;v0=1;var s=rT(),t=D_(),i=lp(),n=Object.prototype.hasOwnProperty,l={brackets:function(S){return S+"[]"},comma:"comma",indices:function(S,C){return S+"["+C+"]"},repeat:function(S){return S}},o=Array.isArray,h=Array.prototype.push,c=function(w,S){h.apply(w,o(S)?S:[S])},p=Date.prototype.toISOString,m=i.default,g={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:t.encode,encodeValuesOnly:!1,filter:void 0,format:m,formatter:i.formatters[m],indices:!1,serializeDate:function(S){return p.call(S)},skipNulls:!1,strictNullHandling:!1},y=function(S){return typeof S=="string"||typeof S=="number"||typeof S=="boolean"||typeof S=="symbol"||typeof S=="bigint"},x={},_=function w(S,C,I,O,U,B,z,M,V,J,nt,ut,k,Y,et,ct,T,D){for(var R=S,H=D,L=0,b=!1;(H=H.get(x))!==void 0&&!b;){var N=H.get(S);if(L+=1,typeof N<"u"){if(N===L)throw new RangeError("Cyclic object value");b=!0}typeof H.get(x)>"u"&&(L=0)}if(typeof J=="function"?R=J(C,R):R instanceof Date?R=k(R):I==="comma"&&o(R)&&(R=t.maybeMap(R,function(xt){return xt instanceof Date?k(xt):xt})),R===null){if(B)return V&&!ct?V(C,g.encoder,T,"key",Y):C;R=""}if(y(R)||t.isBuffer(R)){if(V){var F=ct?C:V(C,g.encoder,T,"key",Y);return[et(F)+"="+et(V(R,g.encoder,T,"value",Y))]}return[et(C)+"="+et(String(R))]}var j=[];if(typeof R>"u")return j;var tt;if(I==="comma"&&o(R))ct&&V&&(R=t.maybeMap(R,V)),tt=[{value:R.length>0?R.join(",")||null:void 0}];else if(o(J))tt=J;else{var at=Object.keys(R);tt=nt?at.sort(nt):at}var lt=M?String(C).replace(/\./g,"%2E"):String(C),dt=O&&o(R)&&R.length===1?lt+"[]":lt;if(U&&o(R)&&R.length===0)return dt+"[]";for(var ft=0;ft<tt.length;++ft){var ot=tt[ft],vt=typeof ot=="object"&&ot&&typeof ot.value<"u"?ot.value:R[ot];if(!(z&&vt===null)){var bt=ut&&M?String(ot).replace(/\./g,"%2E"):String(ot),Dt=o(R)?typeof I=="function"?I(dt,bt):dt:dt+(ut?"."+bt:"["+bt+"]");D.set(S,L);var Ot=s();Ot.set(x,D),c(j,w(vt,Dt,I,O,U,B,z,M,I==="comma"&&ct&&o(R)?null:V,J,nt,ut,k,Y,et,ct,T,Ot))}}return j},E=function(S){if(!S)return g;if(typeof S.allowEmptyArrays<"u"&&typeof S.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof S.encodeDotInKeys<"u"&&typeof S.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(S.encoder!==null&&typeof S.encoder<"u"&&typeof S.encoder!="function")throw new TypeError("Encoder has to be a function.");var C=S.charset||g.charset;if(typeof S.charset<"u"&&S.charset!=="utf-8"&&S.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var I=i.default;if(typeof S.format<"u"){if(!n.call(i.formatters,S.format))throw new TypeError("Unknown format option provided.");I=S.format}var O=i.formatters[I],U=g.filter;(typeof S.filter=="function"||o(S.filter))&&(U=S.filter);var B;if(S.arrayFormat in l?B=S.arrayFormat:"indices"in S?B=S.indices?"indices":"repeat":B=g.arrayFormat,"commaRoundTrip"in S&&typeof S.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var z=typeof S.allowDots>"u"?S.encodeDotInKeys===!0?!0:g.allowDots:!!S.allowDots;return{addQueryPrefix:typeof S.addQueryPrefix=="boolean"?S.addQueryPrefix:g.addQueryPrefix,allowDots:z,allowEmptyArrays:typeof S.allowEmptyArrays=="boolean"?!!S.allowEmptyArrays:g.allowEmptyArrays,arrayFormat:B,charset:C,charsetSentinel:typeof S.charsetSentinel=="boolean"?S.charsetSentinel:g.charsetSentinel,commaRoundTrip:!!S.commaRoundTrip,delimiter:typeof S.delimiter>"u"?g.delimiter:S.delimiter,encode:typeof S.encode=="boolean"?S.encode:g.encode,encodeDotInKeys:typeof S.encodeDotInKeys=="boolean"?S.encodeDotInKeys:g.encodeDotInKeys,encoder:typeof S.encoder=="function"?S.encoder:g.encoder,encodeValuesOnly:typeof S.encodeValuesOnly=="boolean"?S.encodeValuesOnly:g.encodeValuesOnly,filter:U,format:I,formatter:O,serializeDate:typeof S.serializeDate=="function"?S.serializeDate:g.serializeDate,skipNulls:typeof S.skipNulls=="boolean"?S.skipNulls:g.skipNulls,sort:typeof S.sort=="function"?S.sort:null,strictNullHandling:typeof S.strictNullHandling=="boolean"?S.strictNullHandling:g.strictNullHandling}};return jf=function(w,S){var C=w,I=E(S),O,U;typeof I.filter=="function"?(U=I.filter,C=U("",C)):o(I.filter)&&(U=I.filter,O=U);var B=[];if(typeof C!="object"||C===null)return"";var z=l[I.arrayFormat],M=z==="comma"&&I.commaRoundTrip;O||(O=Object.keys(C)),I.sort&&O.sort(I.sort);for(var V=s(),J=0;J<O.length;++J){var nt=O[J],ut=C[nt];I.skipNulls&&ut===null||c(B,_(ut,nt,z,M,I.allowEmptyArrays,I.strictNullHandling,I.skipNulls,I.encodeDotInKeys,I.encode?I.encoder:null,I.filter,I.sort,I.allowDots,I.serializeDate,I.format,I.formatter,I.encodeValuesOnly,I.charset,V))}var k=B.join(I.delimiter),Y=I.addQueryPrefix===!0?"?":"";return I.charsetSentinel&&(I.charset==="iso-8859-1"?Y+="utf8=%26%2310003%3B&":Y+="utf8=%E2%9C%93&"),k.length>0?Y+k:""},jf}var qf,_0;function sT(){if(_0)return qf;_0=1;var s=D_(),t=Object.prototype.hasOwnProperty,i=Array.isArray,n={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:s.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},l=function(x){return x.replace(/&#(\d+);/g,function(_,E){return String.fromCharCode(parseInt(E,10))})},o=function(x,_,E){if(x&&typeof x=="string"&&_.comma&&x.indexOf(",")>-1)return x.split(",");if(_.throwOnLimitExceeded&&E>=_.arrayLimit)throw new RangeError("Array limit exceeded. Only "+_.arrayLimit+" element"+(_.arrayLimit===1?"":"s")+" allowed in an array.");return x},h="utf8=%26%2310003%3B",c="utf8=%E2%9C%93",p=function(_,E){var w={__proto__:null},S=E.ignoreQueryPrefix?_.replace(/^\?/,""):_;S=S.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var C=E.parameterLimit===1/0?void 0:E.parameterLimit,I=S.split(E.delimiter,E.throwOnLimitExceeded?C+1:C);if(E.throwOnLimitExceeded&&I.length>C)throw new RangeError("Parameter limit exceeded. Only "+C+" parameter"+(C===1?"":"s")+" allowed.");var O=-1,U,B=E.charset;if(E.charsetSentinel)for(U=0;U<I.length;++U)I[U].indexOf("utf8=")===0&&(I[U]===c?B="utf-8":I[U]===h&&(B="iso-8859-1"),O=U,U=I.length);for(U=0;U<I.length;++U)if(U!==O){var z=I[U],M=z.indexOf("]="),V=M===-1?z.indexOf("="):M+1,J,nt;V===-1?(J=E.decoder(z,n.decoder,B,"key"),nt=E.strictNullHandling?null:""):(J=E.decoder(z.slice(0,V),n.decoder,B,"key"),nt=s.maybeMap(o(z.slice(V+1),E,i(w[J])?w[J].length:0),function(k){return E.decoder(k,n.decoder,B,"value")})),nt&&E.interpretNumericEntities&&B==="iso-8859-1"&&(nt=l(String(nt))),z.indexOf("[]=")>-1&&(nt=i(nt)?[nt]:nt);var ut=t.call(w,J);ut&&E.duplicates==="combine"?w[J]=s.combine(w[J],nt):(!ut||E.duplicates==="last")&&(w[J]=nt)}return w},m=function(x,_,E,w){var S=0;if(x.length>0&&x[x.length-1]==="[]"){var C=x.slice(0,-1).join("");S=Array.isArray(_)&&_[C]?_[C].length:0}for(var I=w?_:o(_,E,S),O=x.length-1;O>=0;--O){var U,B=x[O];if(B==="[]"&&E.parseArrays)U=E.allowEmptyArrays&&(I===""||E.strictNullHandling&&I===null)?[]:s.combine([],I);else{U=E.plainObjects?{__proto__:null}:{};var z=B.charAt(0)==="["&&B.charAt(B.length-1)==="]"?B.slice(1,-1):B,M=E.decodeDotInKeys?z.replace(/%2E/g,"."):z,V=parseInt(M,10);!E.parseArrays&&M===""?U={0:I}:!isNaN(V)&&B!==M&&String(V)===M&&V>=0&&E.parseArrays&&V<=E.arrayLimit?(U=[],U[V]=I):M!=="__proto__"&&(U[M]=I)}I=U}return I},g=function(_,E,w,S){if(_){var C=w.allowDots?_.replace(/\.([^.[]+)/g,"[$1]"):_,I=/(\[[^[\]]*])/,O=/(\[[^[\]]*])/g,U=w.depth>0&&I.exec(C),B=U?C.slice(0,U.index):C,z=[];if(B){if(!w.plainObjects&&t.call(Object.prototype,B)&&!w.allowPrototypes)return;z.push(B)}for(var M=0;w.depth>0&&(U=O.exec(C))!==null&&M<w.depth;){if(M+=1,!w.plainObjects&&t.call(Object.prototype,U[1].slice(1,-1))&&!w.allowPrototypes)return;z.push(U[1])}if(U){if(w.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+w.depth+" and strictDepth is true");z.push("["+C.slice(U.index)+"]")}return m(z,E,w,S)}},y=function(_){if(!_)return n;if(typeof _.allowEmptyArrays<"u"&&typeof _.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof _.decodeDotInKeys<"u"&&typeof _.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(_.decoder!==null&&typeof _.decoder<"u"&&typeof _.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof _.charset<"u"&&_.charset!=="utf-8"&&_.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(typeof _.throwOnLimitExceeded<"u"&&typeof _.throwOnLimitExceeded!="boolean")throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var E=typeof _.charset>"u"?n.charset:_.charset,w=typeof _.duplicates>"u"?n.duplicates:_.duplicates;if(w!=="combine"&&w!=="first"&&w!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var S=typeof _.allowDots>"u"?_.decodeDotInKeys===!0?!0:n.allowDots:!!_.allowDots;return{allowDots:S,allowEmptyArrays:typeof _.allowEmptyArrays=="boolean"?!!_.allowEmptyArrays:n.allowEmptyArrays,allowPrototypes:typeof _.allowPrototypes=="boolean"?_.allowPrototypes:n.allowPrototypes,allowSparse:typeof _.allowSparse=="boolean"?_.allowSparse:n.allowSparse,arrayLimit:typeof _.arrayLimit=="number"?_.arrayLimit:n.arrayLimit,charset:E,charsetSentinel:typeof _.charsetSentinel=="boolean"?_.charsetSentinel:n.charsetSentinel,comma:typeof _.comma=="boolean"?_.comma:n.comma,decodeDotInKeys:typeof _.decodeDotInKeys=="boolean"?_.decodeDotInKeys:n.decodeDotInKeys,decoder:typeof _.decoder=="function"?_.decoder:n.decoder,delimiter:typeof _.delimiter=="string"||s.isRegExp(_.delimiter)?_.delimiter:n.delimiter,depth:typeof _.depth=="number"||_.depth===!1?+_.depth:n.depth,duplicates:w,ignoreQueryPrefix:_.ignoreQueryPrefix===!0,interpretNumericEntities:typeof _.interpretNumericEntities=="boolean"?_.interpretNumericEntities:n.interpretNumericEntities,parameterLimit:typeof _.parameterLimit=="number"?_.parameterLimit:n.parameterLimit,parseArrays:_.parseArrays!==!1,plainObjects:typeof _.plainObjects=="boolean"?_.plainObjects:n.plainObjects,strictDepth:typeof _.strictDepth=="boolean"?!!_.strictDepth:n.strictDepth,strictNullHandling:typeof _.strictNullHandling=="boolean"?_.strictNullHandling:n.strictNullHandling,throwOnLimitExceeded:typeof _.throwOnLimitExceeded=="boolean"?_.throwOnLimitExceeded:!1}};return qf=function(x,_){var E=y(_);if(x===""||x===null||typeof x>"u")return E.plainObjects?{__proto__:null}:{};for(var w=typeof x=="string"?p(x,E):x,S=E.plainObjects?{__proto__:null}:{},C=Object.keys(w),I=0;I<C.length;++I){var O=C[I],U=g(O,w[O],E,typeof x=="string");S=s.merge(S,U,E)}return E.allowSparse===!0?S:s.compact(S)},qf}var Yf,x0;function aT(){if(x0)return Yf;x0=1;var s=nT(),t=sT(),i=lp();return Yf={formats:i,parse:t,stringify:s},Yf}var b0;function lT(){if(b0)return Pn;b0=1;var s=CE();function t(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var i=/^([a-z0-9.+-]+:)/i,n=/:[0-9]*$/,l=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,o=["<",">",'"',"`"," ","\r",`
`,"	"],h=["{","}","|","\\","^","`"].concat(o),c=["'"].concat(h),p=["%","/","?",";","#"].concat(c),m=["/","?","#"],g=255,y=/^[+a-z0-9A-Z_-]{0,63}$/,x=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,_={javascript:!0,"javascript:":!0},E={javascript:!0,"javascript:":!0},w={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},S=aT();function C(B,z,M){if(B&&typeof B=="object"&&B instanceof t)return B;var V=new t;return V.parse(B,z,M),V}t.prototype.parse=function(B,z,M){if(typeof B!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof B);var V=B.indexOf("?"),J=V!==-1&&V<B.indexOf("#")?"?":"#",nt=B.split(J),ut=/\\/g;nt[0]=nt[0].replace(ut,"/"),B=nt.join(J);var k=B;if(k=k.trim(),!M&&B.split("#").length===1){var Y=l.exec(k);if(Y)return this.path=k,this.href=k,this.pathname=Y[1],Y[2]?(this.search=Y[2],z?this.query=S.parse(this.search.substr(1)):this.query=this.search.substr(1)):z&&(this.search="",this.query={}),this}var et=i.exec(k);if(et){et=et[0];var ct=et.toLowerCase();this.protocol=ct,k=k.substr(et.length)}if(M||et||k.match(/^\/\/[^@/]+@[^@/]+/)){var T=k.substr(0,2)==="//";T&&!(et&&E[et])&&(k=k.substr(2),this.slashes=!0)}if(!E[et]&&(T||et&&!w[et])){for(var D=-1,R=0;R<m.length;R++){var H=k.indexOf(m[R]);H!==-1&&(D===-1||H<D)&&(D=H)}var L,b;D===-1?b=k.lastIndexOf("@"):b=k.lastIndexOf("@",D),b!==-1&&(L=k.slice(0,b),k=k.slice(b+1),this.auth=decodeURIComponent(L)),D=-1;for(var R=0;R<p.length;R++){var H=k.indexOf(p[R]);H!==-1&&(D===-1||H<D)&&(D=H)}D===-1&&(D=k.length),this.host=k.slice(0,D),k=k.slice(D),this.parseHost(),this.hostname=this.hostname||"";var N=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!N)for(var F=this.hostname.split(/\./),R=0,j=F.length;R<j;R++){var tt=F[R];if(tt&&!tt.match(y)){for(var at="",lt=0,dt=tt.length;lt<dt;lt++)tt.charCodeAt(lt)>127?at+="x":at+=tt[lt];if(!at.match(y)){var ft=F.slice(0,R),ot=F.slice(R+1),vt=tt.match(x);vt&&(ft.push(vt[1]),ot.unshift(vt[2])),ot.length&&(k="/"+ot.join(".")+k),this.hostname=ft.join(".");break}}}this.hostname.length>g?this.hostname="":this.hostname=this.hostname.toLowerCase(),N||(this.hostname=s.toASCII(this.hostname));var bt=this.port?":"+this.port:"",Dt=this.hostname||"";this.host=Dt+bt,this.href+=this.host,N&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),k[0]!=="/"&&(k="/"+k))}if(!_[ct])for(var R=0,j=c.length;R<j;R++){var Ot=c[R];if(k.indexOf(Ot)!==-1){var xt=encodeURIComponent(Ot);xt===Ot&&(xt=escape(Ot)),k=k.split(Ot).join(xt)}}var Et=k.indexOf("#");Et!==-1&&(this.hash=k.substr(Et),k=k.slice(0,Et));var oe=k.indexOf("?");if(oe!==-1?(this.search=k.substr(oe),this.query=k.substr(oe+1),z&&(this.query=S.parse(this.query)),k=k.slice(0,oe)):z&&(this.search="",this.query={}),k&&(this.pathname=k),w[ct]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var bt=this.pathname||"",ce=this.search||"";this.path=bt+ce}return this.href=this.format(),this};function I(B){return typeof B=="string"&&(B=C(B)),B instanceof t?B.format():t.prototype.format.call(B)}t.prototype.format=function(){var B=this.auth||"";B&&(B=encodeURIComponent(B),B=B.replace(/%3A/i,":"),B+="@");var z=this.protocol||"",M=this.pathname||"",V=this.hash||"",J=!1,nt="";this.host?J=B+this.host:this.hostname&&(J=B+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(J+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(nt=S.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var ut=this.search||nt&&"?"+nt||"";return z&&z.substr(-1)!==":"&&(z+=":"),this.slashes||(!z||w[z])&&J!==!1?(J="//"+(J||""),M&&M.charAt(0)!=="/"&&(M="/"+M)):J||(J=""),V&&V.charAt(0)!=="#"&&(V="#"+V),ut&&ut.charAt(0)!=="?"&&(ut="?"+ut),M=M.replace(/[?#]/g,function(k){return encodeURIComponent(k)}),ut=ut.replace("#","%23"),z+J+M+ut+V};function O(B,z){return C(B,!1,!0).resolve(z)}t.prototype.resolve=function(B){return this.resolveObject(C(B,!1,!0)).format()};function U(B,z){return B?C(B,!1,!0).resolveObject(z):z}return t.prototype.resolveObject=function(B){if(typeof B=="string"){var z=new t;z.parse(B,!1,!0),B=z}for(var M=new t,V=Object.keys(this),J=0;J<V.length;J++){var nt=V[J];M[nt]=this[nt]}if(M.hash=B.hash,B.href==="")return M.href=M.format(),M;if(B.slashes&&!B.protocol){for(var ut=Object.keys(B),k=0;k<ut.length;k++){var Y=ut[k];Y!=="protocol"&&(M[Y]=B[Y])}return w[M.protocol]&&M.hostname&&!M.pathname&&(M.pathname="/",M.path=M.pathname),M.href=M.format(),M}if(B.protocol&&B.protocol!==M.protocol){if(!w[B.protocol]){for(var et=Object.keys(B),ct=0;ct<et.length;ct++){var T=et[ct];M[T]=B[T]}return M.href=M.format(),M}if(M.protocol=B.protocol,!B.host&&!E[B.protocol]){for(var j=(B.pathname||"").split("/");j.length&&!(B.host=j.shift()););B.host||(B.host=""),B.hostname||(B.hostname=""),j[0]!==""&&j.unshift(""),j.length<2&&j.unshift(""),M.pathname=j.join("/")}else M.pathname=B.pathname;if(M.search=B.search,M.query=B.query,M.host=B.host||"",M.auth=B.auth,M.hostname=B.hostname||B.host,M.port=B.port,M.pathname||M.search){var D=M.pathname||"",R=M.search||"";M.path=D+R}return M.slashes=M.slashes||B.slashes,M.href=M.format(),M}var H=M.pathname&&M.pathname.charAt(0)==="/",L=B.host||B.pathname&&B.pathname.charAt(0)==="/",b=L||H||M.host&&B.pathname,N=b,F=M.pathname&&M.pathname.split("/")||[],j=B.pathname&&B.pathname.split("/")||[],tt=M.protocol&&!w[M.protocol];if(tt&&(M.hostname="",M.port=null,M.host&&(F[0]===""?F[0]=M.host:F.unshift(M.host)),M.host="",B.protocol&&(B.hostname=null,B.port=null,B.host&&(j[0]===""?j[0]=B.host:j.unshift(B.host)),B.host=null),b=b&&(j[0]===""||F[0]==="")),L)M.host=B.host||B.host===""?B.host:M.host,M.hostname=B.hostname||B.hostname===""?B.hostname:M.hostname,M.search=B.search,M.query=B.query,F=j;else if(j.length)F||(F=[]),F.pop(),F=F.concat(j),M.search=B.search,M.query=B.query;else if(B.search!=null){if(tt){M.host=F.shift(),M.hostname=M.host;var at=M.host&&M.host.indexOf("@")>0?M.host.split("@"):!1;at&&(M.auth=at.shift(),M.hostname=at.shift(),M.host=M.hostname)}return M.search=B.search,M.query=B.query,(M.pathname!==null||M.search!==null)&&(M.path=(M.pathname?M.pathname:"")+(M.search?M.search:"")),M.href=M.format(),M}if(!F.length)return M.pathname=null,M.search?M.path="/"+M.search:M.path=null,M.href=M.format(),M;for(var lt=F.slice(-1)[0],dt=(M.host||B.host||F.length>1)&&(lt==="."||lt==="..")||lt==="",ft=0,ot=F.length;ot>=0;ot--)lt=F[ot],lt==="."?F.splice(ot,1):lt===".."?(F.splice(ot,1),ft++):ft&&(F.splice(ot,1),ft--);if(!b&&!N)for(;ft--;ft)F.unshift("..");b&&F[0]!==""&&(!F[0]||F[0].charAt(0)!=="/")&&F.unshift(""),dt&&F.join("/").substr(-1)!=="/"&&F.push("");var vt=F[0]===""||F[0]&&F[0].charAt(0)==="/";if(tt){M.hostname=vt?"":F.length?F.shift():"",M.host=M.hostname;var at=M.host&&M.host.indexOf("@")>0?M.host.split("@"):!1;at&&(M.auth=at.shift(),M.hostname=at.shift(),M.host=M.hostname)}return b=b||M.host&&F.length,b&&!vt&&F.unshift(""),F.length>0?M.pathname=F.join("/"):(M.pathname=null,M.path=null),(M.pathname!==null||M.search!==null)&&(M.path=(M.pathname?M.pathname:"")+(M.search?M.search:"")),M.auth=B.auth||M.auth,M.slashes=M.slashes||B.slashes,M.href=M.format(),M},t.prototype.parseHost=function(){var B=this.host,z=n.exec(B);z&&(z=z[0],z!==":"&&(this.port=z.substr(1)),B=B.substr(0,B.length-z.length)),B&&(this.hostname=B)},Pn.parse=C,Pn.resolve=O,Pn.resolveObject=U,Pn.format=I,Pn.Url=t,Pn}lT();const E0={};function zt(s,t,i=3){if(E0[t])return;let n=new Error().stack;typeof n>"u"?console.warn("PixiJS Deprecation Warning: ",`${t}
Deprecated since v${s}`):(n=n.split(`
`).splice(i).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${t}
Deprecated since v${s}`),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${t}
Deprecated since v${s}`),console.warn(n))),E0[t]=!0}function Di(s){if(typeof s!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(s)}`)}function il(s){return s.split("?")[0].split("#")[0]}function oT(s){return s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function uT(s,t,i){return s.replace(new RegExp(oT(t),"g"),i)}function hT(s,t){let i="",n=0,l=-1,o=0,h=-1;for(let c=0;c<=s.length;++c){if(c<s.length)h=s.charCodeAt(c);else{if(h===47)break;h=47}if(h===47){if(!(l===c-1||o===1))if(l!==c-1&&o===2){if(i.length<2||n!==2||i.charCodeAt(i.length-1)!==46||i.charCodeAt(i.length-2)!==46){if(i.length>2){const p=i.lastIndexOf("/");if(p!==i.length-1){p===-1?(i="",n=0):(i=i.slice(0,p),n=i.length-1-i.lastIndexOf("/")),l=c,o=0;continue}}else if(i.length===2||i.length===1){i="",n=0,l=c,o=0;continue}}}else i.length>0?i+=`/${s.slice(l+1,c)}`:i=s.slice(l+1,c),n=c-l-1;l=c,o=0}else h===46&&o!==-1?++o:o=-1}return i}const De={toPosix(s){return uT(s,"\\","/")},isUrl(s){return/^https?:/.test(this.toPosix(s))},isDataUrl(s){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(s)},isBlobUrl(s){return s.startsWith("blob:")},hasProtocol(s){return/^[^/:]+:/.test(this.toPosix(s))},getProtocol(s){Di(s),s=this.toPosix(s);const t=/^file:\/\/\//.exec(s);if(t)return t[0];const i=/^[^/:]+:\/{0,2}/.exec(s);return i?i[0]:""},toAbsolute(s,t,i){if(Di(s),this.isDataUrl(s)||this.isBlobUrl(s))return s;const n=il(this.toPosix(t??gt.ADAPTER.getBaseUrl())),l=il(this.toPosix(i??this.rootname(n)));return s=this.toPosix(s),s.startsWith("/")?De.join(l,s.slice(1)):this.isAbsolute(s)?s:this.join(n,s)},normalize(s){if(Di(s),s.length===0)return".";if(this.isDataUrl(s)||this.isBlobUrl(s))return s;s=this.toPosix(s);let t="";const i=s.startsWith("/");this.hasProtocol(s)&&(t=this.rootname(s),s=s.slice(t.length));const n=s.endsWith("/");return s=hT(s),s.length>0&&n&&(s+="/"),i?`/${s}`:t+s},isAbsolute(s){return Di(s),s=this.toPosix(s),this.hasProtocol(s)?!0:s.startsWith("/")},join(...s){if(s.length===0)return".";let t;for(let i=0;i<s.length;++i){const n=s[i];if(Di(n),n.length>0)if(t===void 0)t=n;else{const l=s[i-1]??"";this.joinExtensions.includes(this.extname(l).toLowerCase())?t+=`/../${n}`:t+=`/${n}`}}return t===void 0?".":this.normalize(t)},dirname(s){if(Di(s),s.length===0)return".";s=this.toPosix(s);let t=s.charCodeAt(0);const i=t===47;let n=-1,l=!0;const o=this.getProtocol(s),h=s;s=s.slice(o.length);for(let c=s.length-1;c>=1;--c)if(t=s.charCodeAt(c),t===47){if(!l){n=c;break}}else l=!1;return n===-1?i?"/":this.isUrl(h)?o+s:o:i&&n===1?"//":o+s.slice(0,n)},rootname(s){Di(s),s=this.toPosix(s);let t="";if(s.startsWith("/")?t="/":t=this.getProtocol(s),this.isUrl(s)){const i=s.indexOf("/",t.length);i!==-1?t=s.slice(0,i):t=s,t.endsWith("/")||(t+="/")}return t},basename(s,t){Di(s),t&&Di(t),s=il(this.toPosix(s));let i=0,n=-1,l=!0,o;if(t!==void 0&&t.length>0&&t.length<=s.length){if(t.length===s.length&&t===s)return"";let h=t.length-1,c=-1;for(o=s.length-1;o>=0;--o){const p=s.charCodeAt(o);if(p===47){if(!l){i=o+1;break}}else c===-1&&(l=!1,c=o+1),h>=0&&(p===t.charCodeAt(h)?--h===-1&&(n=o):(h=-1,n=c))}return i===n?n=c:n===-1&&(n=s.length),s.slice(i,n)}for(o=s.length-1;o>=0;--o)if(s.charCodeAt(o)===47){if(!l){i=o+1;break}}else n===-1&&(l=!1,n=o+1);return n===-1?"":s.slice(i,n)},extname(s){Di(s),s=il(this.toPosix(s));let t=-1,i=0,n=-1,l=!0,o=0;for(let h=s.length-1;h>=0;--h){const c=s.charCodeAt(h);if(c===47){if(!l){i=h+1;break}continue}n===-1&&(l=!1,n=h+1),c===46?t===-1?t=h:o!==1&&(o=1):t!==-1&&(o=-1)}return t===-1||n===-1||o===0||o===1&&t===n-1&&t===i+1?"":s.slice(t,n)},parse(s){Di(s);const t={root:"",dir:"",base:"",ext:"",name:""};if(s.length===0)return t;s=il(this.toPosix(s));let i=s.charCodeAt(0);const n=this.isAbsolute(s);let l;t.root=this.rootname(s),n||this.hasProtocol(s)?l=1:l=0;let o=-1,h=0,c=-1,p=!0,m=s.length-1,g=0;for(;m>=l;--m){if(i=s.charCodeAt(m),i===47){if(!p){h=m+1;break}continue}c===-1&&(p=!1,c=m+1),i===46?o===-1?o=m:g!==1&&(g=1):o!==-1&&(g=-1)}return o===-1||c===-1||g===0||g===1&&o===c-1&&o===h+1?c!==-1&&(h===0&&n?t.base=t.name=s.slice(1,c):t.base=t.name=s.slice(h,c)):(h===0&&n?(t.name=s.slice(1,o),t.base=s.slice(1,c)):(t.name=s.slice(h,o),t.base=s.slice(h,c)),t.ext=s.slice(o,c)),t.dir=this.dirname(s),t},sep:"/",delimiter:":",joinExtensions:[".html"]};let Wf;async function cT(){return Wf??(Wf=(async()=>{var o;const s=document.createElement("canvas").getContext("webgl");if(!s)return Je.UNPACK;const t=await new Promise(h=>{const c=document.createElement("video");c.onloadeddata=()=>h(c),c.onerror=()=>h(null),c.autoplay=!1,c.crossOrigin="anonymous",c.preload="auto",c.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",c.load()});if(!t)return Je.UNPACK;const i=s.createTexture();s.bindTexture(s.TEXTURE_2D,i);const n=s.createFramebuffer();s.bindFramebuffer(s.FRAMEBUFFER,n),s.framebufferTexture2D(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.TEXTURE_2D,i,0),s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),s.pixelStorei(s.UNPACK_COLORSPACE_CONVERSION_WEBGL,s.NONE),s.texImage2D(s.TEXTURE_2D,0,s.RGBA,s.RGBA,s.UNSIGNED_BYTE,t);const l=new Uint8Array(4);return s.readPixels(0,0,1,1,s.RGBA,s.UNSIGNED_BYTE,l),s.deleteFramebuffer(n),s.deleteTexture(i),(o=s.getExtension("WEBGL_lose_context"))==null||o.loseContext(),l[0]<=l[3]?Je.PMA:Je.UNPACK})()),Wf}let $f;function fT(){return typeof $f>"u"&&($f=(function(){var t;const s={stencil:!0,failIfMajorPerformanceCaveat:gt.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!gt.ADAPTER.getWebGLRenderingContext())return!1;const i=gt.ADAPTER.createCanvas();let n=i.getContext("webgl",s)||i.getContext("experimental-webgl",s);const l=!!((t=n==null?void 0:n.getContextAttributes())!=null&&t.stencil);if(n){const o=n.getExtension("WEBGL_lose_context");o&&o.loseContext()}return n=null,l}catch{return!1}})()),$f}var dT={grad:.9,turn:360,rad:360/(2*Math.PI)},Sr=function(s){return typeof s=="string"?s.length>0:typeof s=="number"},Me=function(s,t,i){return t===void 0&&(t=0),i===void 0&&(i=Math.pow(10,t)),Math.round(i*s)/i+0},Ai=function(s,t,i){return t===void 0&&(t=0),i===void 0&&(i=1),s>i?i:s>t?s:t},O_=function(s){return(s=isFinite(s)?s%360:0)>0?s:s+360},T0=function(s){return{r:Ai(s.r,0,255),g:Ai(s.g,0,255),b:Ai(s.b,0,255),a:Ai(s.a)}},Zf=function(s){return{r:Me(s.r),g:Me(s.g),b:Me(s.b),a:Me(s.a,3)}},pT=/^#([0-9a-f]{3,8})$/i,Po=function(s){var t=s.toString(16);return t.length<2?"0"+t:t},B_=function(s){var t=s.r,i=s.g,n=s.b,l=s.a,o=Math.max(t,i,n),h=o-Math.min(t,i,n),c=h?o===t?(i-n)/h:o===i?2+(n-t)/h:4+(t-i)/h:0;return{h:60*(c<0?c+6:c),s:o?h/o*100:0,v:o/255*100,a:l}},N_=function(s){var t=s.h,i=s.s,n=s.v,l=s.a;t=t/360*6,i/=100,n/=100;var o=Math.floor(t),h=n*(1-i),c=n*(1-(t-o)*i),p=n*(1-(1-t+o)*i),m=o%6;return{r:255*[n,c,h,h,p,n][m],g:255*[p,n,n,c,h,h][m],b:255*[h,h,p,n,n,c][m],a:l}},S0=function(s){return{h:O_(s.h),s:Ai(s.s,0,100),l:Ai(s.l,0,100),a:Ai(s.a)}},A0=function(s){return{h:Me(s.h),s:Me(s.s),l:Me(s.l),a:Me(s.a,3)}},w0=function(s){return N_((i=(t=s).s,{h:t.h,s:(i*=((n=t.l)<50?n:100-n)/100)>0?2*i/(n+i)*100:0,v:n+i,a:t.a}));var t,i,n},pl=function(s){return{h:(t=B_(s)).h,s:(l=(200-(i=t.s))*(n=t.v)/100)>0&&l<200?i*n/100/(l<=100?l:200-l)*100:0,l:l/2,a:t.a};var t,i,n,l},mT=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,gT=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,yT=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,vT=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,bd={string:[[function(s){var t=pT.exec(s);return t?(s=t[1]).length<=4?{r:parseInt(s[0]+s[0],16),g:parseInt(s[1]+s[1],16),b:parseInt(s[2]+s[2],16),a:s.length===4?Me(parseInt(s[3]+s[3],16)/255,2):1}:s.length===6||s.length===8?{r:parseInt(s.substr(0,2),16),g:parseInt(s.substr(2,2),16),b:parseInt(s.substr(4,2),16),a:s.length===8?Me(parseInt(s.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(s){var t=yT.exec(s)||vT.exec(s);return t?t[2]!==t[4]||t[4]!==t[6]?null:T0({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:t[7]===void 0?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(s){var t=mT.exec(s)||gT.exec(s);if(!t)return null;var i,n,l=S0({h:(i=t[1],n=t[2],n===void 0&&(n="deg"),Number(i)*(dT[n]||1)),s:Number(t[3]),l:Number(t[4]),a:t[5]===void 0?1:Number(t[5])/(t[6]?100:1)});return w0(l)},"hsl"]],object:[[function(s){var t=s.r,i=s.g,n=s.b,l=s.a,o=l===void 0?1:l;return Sr(t)&&Sr(i)&&Sr(n)?T0({r:Number(t),g:Number(i),b:Number(n),a:Number(o)}):null},"rgb"],[function(s){var t=s.h,i=s.s,n=s.l,l=s.a,o=l===void 0?1:l;if(!Sr(t)||!Sr(i)||!Sr(n))return null;var h=S0({h:Number(t),s:Number(i),l:Number(n),a:Number(o)});return w0(h)},"hsl"],[function(s){var t=s.h,i=s.s,n=s.v,l=s.a,o=l===void 0?1:l;if(!Sr(t)||!Sr(i)||!Sr(n))return null;var h=(function(c){return{h:O_(c.h),s:Ai(c.s,0,100),v:Ai(c.v,0,100),a:Ai(c.a)}})({h:Number(t),s:Number(i),v:Number(n),a:Number(o)});return N_(h)},"hsv"]]},C0=function(s,t){for(var i=0;i<t.length;i++){var n=t[i][0](s);if(n)return[n,t[i][1]]}return[null,void 0]},_T=function(s){return typeof s=="string"?C0(s.trim(),bd.string):typeof s=="object"&&s!==null?C0(s,bd.object):[null,void 0]},Kf=function(s,t){var i=pl(s);return{h:i.h,s:Ai(i.s+100*t,0,100),l:i.l,a:i.a}},Qf=function(s){return(299*s.r+587*s.g+114*s.b)/1e3/255},R0=function(s,t){var i=pl(s);return{h:i.h,s:i.s,l:Ai(i.l+100*t,0,100),a:i.a}},Ed=(function(){function s(t){this.parsed=_T(t)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return s.prototype.isValid=function(){return this.parsed!==null},s.prototype.brightness=function(){return Me(Qf(this.rgba),2)},s.prototype.isDark=function(){return Qf(this.rgba)<.5},s.prototype.isLight=function(){return Qf(this.rgba)>=.5},s.prototype.toHex=function(){return t=Zf(this.rgba),i=t.r,n=t.g,l=t.b,h=(o=t.a)<1?Po(Me(255*o)):"","#"+Po(i)+Po(n)+Po(l)+h;var t,i,n,l,o,h},s.prototype.toRgb=function(){return Zf(this.rgba)},s.prototype.toRgbString=function(){return t=Zf(this.rgba),i=t.r,n=t.g,l=t.b,(o=t.a)<1?"rgba("+i+", "+n+", "+l+", "+o+")":"rgb("+i+", "+n+", "+l+")";var t,i,n,l,o},s.prototype.toHsl=function(){return A0(pl(this.rgba))},s.prototype.toHslString=function(){return t=A0(pl(this.rgba)),i=t.h,n=t.s,l=t.l,(o=t.a)<1?"hsla("+i+", "+n+"%, "+l+"%, "+o+")":"hsl("+i+", "+n+"%, "+l+"%)";var t,i,n,l,o},s.prototype.toHsv=function(){return t=B_(this.rgba),{h:Me(t.h),s:Me(t.s),v:Me(t.v),a:Me(t.a,3)};var t},s.prototype.invert=function(){return ji({r:255-(t=this.rgba).r,g:255-t.g,b:255-t.b,a:t.a});var t},s.prototype.saturate=function(t){return t===void 0&&(t=.1),ji(Kf(this.rgba,t))},s.prototype.desaturate=function(t){return t===void 0&&(t=.1),ji(Kf(this.rgba,-t))},s.prototype.grayscale=function(){return ji(Kf(this.rgba,-1))},s.prototype.lighten=function(t){return t===void 0&&(t=.1),ji(R0(this.rgba,t))},s.prototype.darken=function(t){return t===void 0&&(t=.1),ji(R0(this.rgba,-t))},s.prototype.rotate=function(t){return t===void 0&&(t=15),this.hue(this.hue()+t)},s.prototype.alpha=function(t){return typeof t=="number"?ji({r:(i=this.rgba).r,g:i.g,b:i.b,a:t}):Me(this.rgba.a,3);var i},s.prototype.hue=function(t){var i=pl(this.rgba);return typeof t=="number"?ji({h:t,s:i.s,l:i.l,a:i.a}):Me(i.h)},s.prototype.isEqual=function(t){return this.toHex()===ji(t).toHex()},s})(),ji=function(s){return s instanceof Ed?s:new Ed(s)},M0=[],xT=function(s){s.forEach(function(t){M0.indexOf(t)<0&&(t(Ed,bd),M0.push(t))})};function bT(s,t){var i={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},n={};for(var l in i)n[i[l]]=l;var o={};s.prototype.toName=function(h){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var c,p,m=n[this.toHex()];if(m)return m;if(h!=null&&h.closest){var g=this.toRgb(),y=1/0,x="black";if(!o.length)for(var _ in i)o[_]=new s(i[_]).toRgb();for(var E in i){var w=(c=g,p=o[E],Math.pow(c.r-p.r,2)+Math.pow(c.g-p.g,2)+Math.pow(c.b-p.b,2));w<y&&(y=w,x=E)}return x}},t.string.push([function(h){var c=h.toLowerCase(),p=c==="transparent"?"#0000":i[c];return p?new s(p).toRgb():null},"name"])}xT([bT]);const Vs=class ru{constructor(t=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=t}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(t){return this.value=t,this}set value(t){if(t instanceof ru)this._value=this.cloneSource(t._value),this._int=t._int,this._components.set(t._components);else{if(t===null)throw new Error("Cannot set PIXI.Color#value to null");(this._value===null||!this.isSourceEqual(this._value,t))&&(this.normalize(t),this._value=this.cloneSource(t))}}get value(){return this._value}cloneSource(t){return typeof t=="string"||typeof t=="number"||t instanceof Number||t===null?t:Array.isArray(t)||ArrayBuffer.isView(t)?t.slice(0):typeof t=="object"&&t!==null?{...t}:t}isSourceEqual(t,i){const n=typeof t;if(n!==typeof i)return!1;if(n==="number"||n==="string"||t instanceof Number)return t===i;if(Array.isArray(t)&&Array.isArray(i)||ArrayBuffer.isView(t)&&ArrayBuffer.isView(i))return t.length!==i.length?!1:t.every((l,o)=>l===i[o]);if(t!==null&&i!==null){const l=Object.keys(t),o=Object.keys(i);return l.length!==o.length?!1:l.every(h=>t[h]===i[h])}return t===i}toRgba(){const[t,i,n,l]=this._components;return{r:t,g:i,b:n,a:l}}toRgb(){const[t,i,n]=this._components;return{r:t,g:i,b:n}}toRgbaString(){const[t,i,n]=this.toUint8RgbArray();return`rgba(${t},${i},${n},${this.alpha})`}toUint8RgbArray(t){const[i,n,l]=this._components;return t=t??[],t[0]=Math.round(i*255),t[1]=Math.round(n*255),t[2]=Math.round(l*255),t}toRgbArray(t){t=t??[];const[i,n,l]=this._components;return t[0]=i,t[1]=n,t[2]=l,t}toNumber(){return this._int}toLittleEndianNumber(){const t=this._int;return(t>>16)+(t&65280)+((t&255)<<16)}multiply(t){const[i,n,l,o]=ru.temp.setValue(t)._components;return this._components[0]*=i,this._components[1]*=n,this._components[2]*=l,this._components[3]*=o,this.refreshInt(),this._value=null,this}premultiply(t,i=!0){return i&&(this._components[0]*=t,this._components[1]*=t,this._components[2]*=t),this._components[3]=t,this.refreshInt(),this._value=null,this}toPremultiplied(t,i=!0){if(t===1)return(255<<24)+this._int;if(t===0)return i?0:this._int;let n=this._int>>16&255,l=this._int>>8&255,o=this._int&255;return i&&(n=n*t+.5|0,l=l*t+.5|0,o=o*t+.5|0),(t*255<<24)+(n<<16)+(l<<8)+o}toHex(){const t=this._int.toString(16);return`#${"000000".substring(0,6-t.length)+t}`}toHexa(){const t=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-t.length)+t}setAlpha(t){return this._components[3]=this._clamp(t),this}round(t){const[i,n,l]=this._components;return this._components[0]=Math.round(i*t)/t,this._components[1]=Math.round(n*t)/t,this._components[2]=Math.round(l*t)/t,this.refreshInt(),this._value=null,this}toArray(t){t=t??[];const[i,n,l,o]=this._components;return t[0]=i,t[1]=n,t[2]=l,t[3]=o,t}normalize(t){let i,n,l,o;if((typeof t=="number"||t instanceof Number)&&t>=0&&t<=16777215){const h=t;i=(h>>16&255)/255,n=(h>>8&255)/255,l=(h&255)/255,o=1}else if((Array.isArray(t)||t instanceof Float32Array)&&t.length>=3&&t.length<=4)t=this._clamp(t),[i,n,l,o=1]=t;else if((t instanceof Uint8Array||t instanceof Uint8ClampedArray)&&t.length>=3&&t.length<=4)t=this._clamp(t,0,255),[i,n,l,o=255]=t,i/=255,n/=255,l/=255,o/=255;else if(typeof t=="string"||typeof t=="object"){if(typeof t=="string"){const c=ru.HEX_PATTERN.exec(t);c&&(t=`#${c[2]}`)}const h=ji(t);h.isValid()&&({r:i,g:n,b:l,a:o}=h.rgba,i/=255,n/=255,l/=255)}if(i!==void 0)this._components[0]=i,this._components[1]=n,this._components[2]=l,this._components[3]=o,this.refreshInt();else throw new Error(`Unable to convert color ${t}`)}refreshInt(){this._clamp(this._components);const[t,i,n]=this._components;this._int=(t*255<<16)+(i*255<<8)+(n*255|0)}_clamp(t,i=0,n=1){return typeof t=="number"?Math.min(Math.max(t,i),n):(t.forEach((l,o)=>{t[o]=Math.min(Math.max(l,i),n)}),t)}};Vs.shared=new Vs,Vs.temp=new Vs,Vs.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let se=Vs;function ET(s){return zt("7.2.0","utils.hex2string is deprecated, use Color#toHex instead"),se.shared.setValue(s).toHex()}function TT(s){return zt("7.2.0","utils.rgb2hex is deprecated, use Color#toNumber instead"),se.shared.setValue(s).toNumber()}function ST(){const s=[],t=[];for(let n=0;n<32;n++)s[n]=n,t[n]=n;s[Rt.NORMAL_NPM]=Rt.NORMAL,s[Rt.ADD_NPM]=Rt.ADD,s[Rt.SCREEN_NPM]=Rt.SCREEN,t[Rt.NORMAL]=Rt.NORMAL_NPM,t[Rt.ADD]=Rt.ADD_NPM,t[Rt.SCREEN]=Rt.SCREEN_NPM;const i=[];return i.push(t),i.push(s),i}const I_=ST();function U_(s,t){return I_[t?1:0][s]}function AT(s,t=null){const i=s*6;if(t=t||new Uint16Array(i),t.length!==i)throw new Error(`Out buffer length is incorrect, got ${t.length} and expected ${i}`);for(let n=0,l=0;n<i;n+=6,l+=4)t[n+0]=l+0,t[n+1]=l+1,t[n+2]=l+2,t[n+3]=l+0,t[n+4]=l+2,t[n+5]=l+3;return t}function L_(s){if(s.BYTES_PER_ELEMENT===4)return s instanceof Float32Array?"Float32Array":s instanceof Uint32Array?"Uint32Array":"Int32Array";if(s.BYTES_PER_ELEMENT===2){if(s instanceof Uint16Array)return"Uint16Array"}else if(s.BYTES_PER_ELEMENT===1&&s instanceof Uint8Array)return"Uint8Array";return null}function fu(s){return s+=s===0?1:0,--s,s|=s>>>1,s|=s>>>2,s|=s>>>4,s|=s>>>8,s|=s>>>16,s+1}function D0(s){return!(s&s-1)&&!!s}function O0(s){let t=(s>65535?1:0)<<4;s>>>=t;let i=(s>255?1:0)<<3;return s>>>=i,t|=i,i=(s>15?1:0)<<2,s>>>=i,t|=i,i=(s>3?1:0)<<1,s>>>=i,t|=i,t|s>>1}function Qs(s,t,i){const n=s.length;let l;if(t>=n||i===0)return;i=t+i>n?n-t:i;const o=n-i;for(l=t;l<o;++l)s[l]=s[l+i];s.length=o}function cn(s){return s===0?0:s<0?-1:1}let wT=0;function $n(){return++wT}const Td=class{constructor(s,t,i,n){this.left=s,this.top=t,this.right=i,this.bottom=n}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};Td.EMPTY=new Td(0,0,0,0);let B0=Td;const N0={},qi=Object.create(null),an=Object.create(null);class CT{constructor(t,i,n){this._canvas=gt.ADAPTER.createCanvas(),this._context=this._canvas.getContext("2d"),this.resolution=n||gt.RESOLUTION,this.resize(t,i)}clear(){this._checkDestroyed(),this._context.setTransform(1,0,0,1,0,0),this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}resize(t,i){this._checkDestroyed(),this._canvas.width=Math.round(t*this.resolution),this._canvas.height=Math.round(i*this.resolution)}destroy(){this._context=null,this._canvas=null}get width(){return this._checkDestroyed(),this._canvas.width}set width(t){this._checkDestroyed(),this._canvas.width=Math.round(t)}get height(){return this._checkDestroyed(),this._canvas.height}set height(t){this._checkDestroyed(),this._canvas.height=Math.round(t)}get canvas(){return this._checkDestroyed(),this._canvas}get context(){return this._checkDestroyed(),this._context}_checkDestroyed(){if(this._canvas===null)throw new TypeError("The CanvasRenderTarget has already been destroyed")}}function I0(s,t,i){for(let n=0,l=4*i*t;n<t;++n,l+=4)if(s[l+3]!==0)return!1;return!0}function U0(s,t,i,n,l){const o=4*t;for(let h=n,c=n*o+4*i;h<=l;++h,c+=o)if(s[c+3]!==0)return!1;return!0}function RT(s){const{width:t,height:i}=s,n=s.getContext("2d",{willReadFrequently:!0});if(n===null)throw new TypeError("Failed to get canvas 2D context");const l=n.getImageData(0,0,t,i).data;let o=0,h=0,c=t-1,p=i-1;for(;h<i&&I0(l,t,h);)++h;if(h===i)return B0.EMPTY;for(;I0(l,t,p);)--p;for(;U0(l,t,o,h,p);)++o;for(;U0(l,t,c,h,p);)--c;return++c,++p,new B0(o,h,c,p)}function MT(s){const t=RT(s),{width:i,height:n}=t;let l=null;if(!t.isEmpty()){const o=s.getContext("2d");if(o===null)throw new TypeError("Failed to get canvas 2D context");l=o.getImageData(t.left,t.top,i,n)}return{width:i,height:n,data:l}}function DT(s,t=globalThis.location){if(s.startsWith("data:"))return"";t=t||globalThis.location;const i=new URL(s,document.baseURI);return i.hostname!==t.hostname||i.port!==t.port||i.protocol!==t.protocol?"anonymous":""}function Mr(s,t=1){var n;const i=(n=gt.RETINA_PREFIX)==null?void 0:n.exec(s);return i?parseFloat(i[1]):t}var pt=(s=>(s.Renderer="renderer",s.Application="application",s.RendererSystem="renderer-webgl-system",s.RendererPlugin="renderer-webgl-plugin",s.CanvasRendererSystem="renderer-canvas-system",s.CanvasRendererPlugin="renderer-canvas-plugin",s.Asset="asset",s.LoadParser="load-parser",s.ResolveParser="resolve-parser",s.CacheParser="cache-parser",s.DetectionParser="detection-parser",s))(pt||{});const Sd=s=>{if(typeof s=="function"||typeof s=="object"&&s.extension){if(!s.extension)throw new Error("Extension class must have an extension object");s={...typeof s.extension!="object"?{type:s.extension}:s.extension,ref:s}}if(typeof s=="object")s={...s};else throw new Error("Invalid extension type");return typeof s.type=="string"&&(s.type=[s.type]),s},L0=(s,t)=>Sd(s).priority??t,St={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...s){return s.map(Sd).forEach(t=>{t.type.forEach(i=>{var n,l;return(l=(n=this._removeHandlers)[i])==null?void 0:l.call(n,t)})}),this},add(...s){return s.map(Sd).forEach(t=>{t.type.forEach(i=>{var o,h;const n=this._addHandlers,l=this._queue;n[i]?(o=n[i])==null||o.call(n,t):(l[i]=l[i]||[],(h=l[i])==null||h.push(t))})}),this},handle(s,t,i){var h;const n=this._addHandlers,l=this._removeHandlers;if(n[s]||l[s])throw new Error(`Extension type ${s} already has a handler`);n[s]=t,l[s]=i;const o=this._queue;return o[s]&&((h=o[s])==null||h.forEach(c=>t(c)),delete o[s]),this},handleByMap(s,t){return this.handle(s,i=>{i.name&&(t[i.name]=i.ref)},i=>{i.name&&delete t[i.name]})},handleByList(s,t,i=-1){return this.handle(s,n=>{t.includes(n.ref)||(t.push(n.ref),t.sort((l,o)=>L0(o,i)-L0(l,i)))},n=>{const l=t.indexOf(n.ref);l!==-1&&t.splice(l,1)})}};class Ad{constructor(t){typeof t=="number"?this.rawBinaryData=new ArrayBuffer(t):t instanceof Uint8Array?this.rawBinaryData=t.buffer:this.rawBinaryData=t,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(t){return this[`${t}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${t} isn't a valid view type`)}}}const OT=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function BT(s){let t="";for(let i=0;i<s;++i)i>0&&(t+=`
else `),i<s-1&&(t+=`if(test == ${i}.0){}`);return t}function NT(s,t){if(s===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const i=t.createShader(t.FRAGMENT_SHADER);for(;;){const n=OT.replace(/%forloop%/gi,BT(s));if(t.shaderSource(i,n),t.compileShader(i),!t.getShaderParameter(i,t.COMPILE_STATUS))s=s/2|0;else break}return s}const Jf=0,td=1,ed=2,id=3,rd=4,nd=5;class er{constructor(){this.data=0,this.blendMode=Rt.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<Jf)}set blend(t){!!(this.data&1<<Jf)!==t&&(this.data^=1<<Jf)}get offsets(){return!!(this.data&1<<td)}set offsets(t){!!(this.data&1<<td)!==t&&(this.data^=1<<td)}get culling(){return!!(this.data&1<<ed)}set culling(t){!!(this.data&1<<ed)!==t&&(this.data^=1<<ed)}get depthTest(){return!!(this.data&1<<id)}set depthTest(t){!!(this.data&1<<id)!==t&&(this.data^=1<<id)}get depthMask(){return!!(this.data&1<<nd)}set depthMask(t){!!(this.data&1<<nd)!==t&&(this.data^=1<<nd)}get clockwiseFrontFace(){return!!(this.data&1<<rd)}set clockwiseFrontFace(t){!!(this.data&1<<rd)!==t&&(this.data^=1<<rd)}get blendMode(){return this._blendMode}set blendMode(t){this.blend=t!==Rt.NONE,this._blendMode=t}get polygonOffset(){return this._polygonOffset}set polygonOffset(t){this.offsets=!!t,this._polygonOffset=t}static for2d(){const t=new er;return t.depthTest=!1,t.blend=!0,t}}er.prototype.toString=function(){return`[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`};const wd=[];function P_(s,t){if(!s)return null;let i="";if(typeof s=="string"){const n=/\.(\w{3,4})(?:$|\?|#)/i.exec(s);n&&(i=n[1].toLowerCase())}for(let n=wd.length-1;n>=0;--n){const l=wd[n];if(l.test&&l.test(s,i))return new l(s,t)}throw new Error("Unrecognized source type to auto-detect Resource")}class Ui{constructor(t){this.items=[],this._name=t,this._aliasCount=0}emit(t,i,n,l,o,h,c,p){if(arguments.length>8)throw new Error("max arguments reached");const{name:m,items:g}=this;this._aliasCount++;for(let y=0,x=g.length;y<x;y++)g[y][m](t,i,n,l,o,h,c,p);return g===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(t){return t[this._name]&&(this.ensureNonAliasedItems(),this.remove(t),this.items.push(t)),this}remove(t){const i=this.items.indexOf(t);return i!==-1&&(this.ensureNonAliasedItems(),this.items.splice(i,1)),this}contains(t){return this.items.includes(t)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items.length=0,this._name=""}get empty(){return this.items.length===0}get name(){return this._name}}Object.defineProperties(Ui.prototype,{dispatch:{value:Ui.prototype.emit},run:{value:Ui.prototype.emit}});class ml{constructor(t=0,i=0){this._width=t,this._height=i,this.destroyed=!1,this.internal=!1,this.onResize=new Ui("setRealSize"),this.onUpdate=new Ui("update"),this.onError=new Ui("onError")}bind(t){this.onResize.add(t),this.onUpdate.add(t),this.onError.add(t),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(t){this.onResize.remove(t),this.onUpdate.remove(t),this.onError.remove(t)}resize(t,i){(t!==this._width||i!==this._height)&&(this._width=t,this._height=i,this.onResize.emit(t,i))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(t,i,n){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(t,i){return!1}}class Mu extends ml{constructor(t,i){const{width:n,height:l}=i||{};if(!n||!l)throw new Error("BufferResource width or height invalid");super(n,l),this.data=t,this.unpackAlignment=i.unpackAlignment??4}upload(t,i,n){const l=t.gl;l.pixelStorei(l.UNPACK_ALIGNMENT,this.unpackAlignment),l.pixelStorei(l.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.alphaMode===Je.UNPACK);const o=i.realWidth,h=i.realHeight;return n.width===o&&n.height===h?l.texSubImage2D(i.target,0,0,0,o,h,i.format,n.type,this.data):(n.width=o,n.height=h,l.texImage2D(i.target,0,n.internalFormat,o,h,0,i.format,n.type,this.data)),!0}dispose(){this.data=null}static test(t){return t===null||t instanceof Int8Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array}}const IT={scaleMode:Ar.NEAREST,alphaMode:Je.NPM},Cd=class js extends gl{constructor(t=null,i=null){super(),i=Object.assign({},js.defaultOptions,i);const{alphaMode:n,mipmap:l,anisotropicLevel:o,scaleMode:h,width:c,height:p,wrapMode:m,format:g,type:y,target:x,resolution:_,resourceOptions:E}=i;t&&!(t instanceof ml)&&(t=P_(t,E),t.internal=!0),this.resolution=_||gt.RESOLUTION,this.width=Math.round((c||0)*this.resolution)/this.resolution,this.height=Math.round((p||0)*this.resolution)/this.resolution,this._mipmap=l,this.anisotropicLevel=o,this._wrapMode=m,this._scaleMode=h,this.format=g,this.type=y,this.target=x,this.alphaMode=n,this.uid=$n(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=c>0&&p>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(t)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(t){this._mipmap!==t&&(this._mipmap=t,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(t){this._scaleMode!==t&&(this._scaleMode=t,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(t){this._wrapMode!==t&&(this._wrapMode=t,this.dirtyStyleId++)}setStyle(t,i){let n;return t!==void 0&&t!==this.scaleMode&&(this.scaleMode=t,n=!0),i!==void 0&&i!==this.mipmap&&(this.mipmap=i,n=!0),n&&this.dirtyStyleId++,this}setSize(t,i,n){return n=n||this.resolution,this.setRealSize(t*n,i*n,n)}setRealSize(t,i,n){return this.resolution=n||this.resolution,this.width=Math.round(t)/this.resolution,this.height=Math.round(i)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=D0(this.realWidth)&&D0(this.realHeight)}setResolution(t){const i=this.resolution;return i===t?this:(this.resolution=t,this.valid&&(this.width=Math.round(this.width*i)/t,this.height=Math.round(this.height*i)/t,this.emit("update",this)),this._refreshPOT(),this)}setResource(t){if(this.resource===t)return this;if(this.resource)throw new Error("Resource can be set only once");return t.bind(this),this.resource=t,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(t){this.emit("error",this,t)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete an[this.cacheId],delete qi[this.cacheId],this.cacheId=null),this.valid=!1,this.dispose(),js.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(t,i,n=gt.STRICT_TEXTURE_CACHE){const l=typeof t=="string";let o=null;if(l)o=t;else{if(!t._pixiId){const c=(i==null?void 0:i.pixiIdPrefix)||"pixiid";t._pixiId=`${c}_${$n()}`}o=t._pixiId}let h=an[o];if(l&&n&&!h)throw new Error(`The cacheId "${o}" does not exist in BaseTextureCache.`);return h||(h=new js(t,i),h.cacheId=o,js.addToCache(h,o)),h}static fromBuffer(t,i,n,l){t=t||new Float32Array(i*n*4);const o=new Mu(t,{width:i,height:n,...l==null?void 0:l.resourceOptions});let h,c;return t instanceof Float32Array?(h=ht.RGBA,c=wt.FLOAT):t instanceof Int32Array?(h=ht.RGBA_INTEGER,c=wt.INT):t instanceof Uint32Array?(h=ht.RGBA_INTEGER,c=wt.UNSIGNED_INT):t instanceof Int16Array?(h=ht.RGBA_INTEGER,c=wt.SHORT):t instanceof Uint16Array?(h=ht.RGBA_INTEGER,c=wt.UNSIGNED_SHORT):t instanceof Int8Array?(h=ht.RGBA,c=wt.BYTE):(h=ht.RGBA,c=wt.UNSIGNED_BYTE),o.internal=!0,new js(o,Object.assign({},IT,{type:c,format:h},l))}static addToCache(t,i){i&&(t.textureCacheIds.includes(i)||t.textureCacheIds.push(i),an[i]&&an[i]!==t&&console.warn(`BaseTexture added to the cache with an id [${i}] that already had an entry`),an[i]=t)}static removeFromCache(t){if(typeof t=="string"){const i=an[t];if(i){const n=i.textureCacheIds.indexOf(t);return n>-1&&i.textureCacheIds.splice(n,1),delete an[t],i}}else if(t!=null&&t.textureCacheIds){for(let i=0;i<t.textureCacheIds.length;++i)delete an[t.textureCacheIds[i]];return t.textureCacheIds.length=0,t}return null}};Cd.defaultOptions={mipmap:tr.POW2,anisotropicLevel:0,scaleMode:Ar.LINEAR,wrapMode:dn.CLAMP,alphaMode:Je.UNPACK,target:Ks.TEXTURE_2D,format:ht.RGBA,type:wt.UNSIGNED_BYTE},Cd._globalBatch=0;let It=Cd;class Rd{constructor(){this.texArray=null,this.blend=0,this.type=Ki.TRIANGLES,this.start=0,this.size=0,this.data=null}}let UT=0;class ye{constructor(t,i=!0,n=!1){this.data=t||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=n,this.static=i,this.id=UT++,this.disposeRunner=new Ui("disposeBuffer")}update(t){t instanceof Array&&(t=new Float32Array(t)),this.data=t||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(t){this.type=t?Qi.ELEMENT_ARRAY_BUFFER:Qi.ARRAY_BUFFER}get index(){return this.type===Qi.ELEMENT_ARRAY_BUFFER}static from(t){return t instanceof Array&&(t=new Float32Array(t)),new ye(t)}}class du{constructor(t,i=0,n=!1,l=wt.FLOAT,o,h,c,p=1){this.buffer=t,this.size=i,this.normalized=n,this.type=l,this.stride=o,this.start=h,this.instance=c,this.divisor=p}destroy(){this.buffer=null}static from(t,i,n,l,o){return new du(t,i,n,l,o)}}const LT={Float32Array,Uint32Array,Int32Array,Uint8Array};function PT(s,t){let i=0,n=0;const l={};for(let p=0;p<s.length;p++)n+=t[p],i+=s[p].length;const o=new ArrayBuffer(i*4);let h=null,c=0;for(let p=0;p<s.length;p++){const m=t[p],g=s[p],y=L_(g);l[y]||(l[y]=new LT[y](o)),h=l[y];for(let x=0;x<g.length;x++){const _=(x/m|0)*n+c,E=x%m;h[_+E]=g[x]}c+=m}return new Float32Array(o)}const P0={5126:4,5123:2,5121:1};let FT=0;const GT={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array};class pn{constructor(t=[],i={}){this.buffers=t,this.indexBuffer=null,this.attributes=i,this.glVertexArrayObjects={},this.id=FT++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new Ui("disposeGeometry"),this.refCount=0}addAttribute(t,i,n=0,l=!1,o,h,c,p=!1){if(!i)throw new Error("You must pass a buffer when creating an attribute");i instanceof ye||(i instanceof Array&&(i=new Float32Array(i)),i=new ye(i));const m=t.split("|");if(m.length>1){for(let y=0;y<m.length;y++)this.addAttribute(m[y],i,n,l,o);return this}let g=this.buffers.indexOf(i);return g===-1&&(this.buffers.push(i),g=this.buffers.length-1),this.attributes[t]=new du(g,n,l,o,h,c,p),this.instanced=this.instanced||p,this}getAttribute(t){return this.attributes[t]}getBuffer(t){return this.buffers[this.getAttribute(t).buffer]}addIndex(t){return t instanceof ye||(t instanceof Array&&(t=new Uint16Array(t)),t=new ye(t)),t.type=Qi.ELEMENT_ARRAY_BUFFER,this.indexBuffer=t,this.buffers.includes(t)||this.buffers.push(t),this}getIndex(){return this.indexBuffer}interleave(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;const t=[],i=[],n=new ye;let l;for(l in this.attributes){const o=this.attributes[l],h=this.buffers[o.buffer];t.push(h.data),i.push(o.size*P0[o.type]/4),o.buffer=0}for(n.data=PT(t,i),l=0;l<this.buffers.length;l++)this.buffers[l]!==this.indexBuffer&&this.buffers[l].destroy();return this.buffers=[n],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const t in this.attributes){const i=this.attributes[t];return this.buffers[i.buffer].data.length/(i.stride/4||i.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const t=new pn;for(let i=0;i<this.buffers.length;i++)t.buffers[i]=new ye(this.buffers[i].data.slice(0));for(const i in this.attributes){const n=this.attributes[i];t.attributes[i]=new du(n.buffer,n.size,n.normalized,n.type,n.stride,n.start,n.instance)}return this.indexBuffer&&(t.indexBuffer=t.buffers[this.buffers.indexOf(this.indexBuffer)],t.indexBuffer.type=Qi.ELEMENT_ARRAY_BUFFER),t}static merge(t){const i=new pn,n=[],l=[],o=[];let h;for(let c=0;c<t.length;c++){h=t[c];for(let p=0;p<h.buffers.length;p++)l[p]=l[p]||0,l[p]+=h.buffers[p].data.length,o[p]=0}for(let c=0;c<h.buffers.length;c++)n[c]=new GT[L_(h.buffers[c].data)](l[c]),i.buffers[c]=new ye(n[c]);for(let c=0;c<t.length;c++){h=t[c];for(let p=0;p<h.buffers.length;p++)n[p].set(h.buffers[p].data,o[p]),o[p]+=h.buffers[p].data.length}if(i.attributes=h.attributes,h.indexBuffer){i.indexBuffer=i.buffers[h.buffers.indexOf(h.indexBuffer)],i.indexBuffer.type=Qi.ELEMENT_ARRAY_BUFFER;let c=0,p=0,m=0,g=0;for(let y=0;y<h.buffers.length;y++)if(h.buffers[y]!==h.indexBuffer){g=y;break}for(const y in h.attributes){const x=h.attributes[y];(x.buffer|0)===g&&(p+=x.size*P0[x.type]/4)}for(let y=0;y<t.length;y++){const x=t[y].indexBuffer.data;for(let _=0;_<x.length;_++)i.indexBuffer.data[_+m]+=c;c+=t[y].buffers[g].data.length/p,m+=x.length}}return i}}class F_ extends pn{constructor(t=!1){super(),this._buffer=new ye(null,t,!1),this._indexBuffer=new ye(null,t,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,wt.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,wt.FLOAT).addAttribute("aColor",this._buffer,4,!0,wt.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,wt.FLOAT).addIndex(this._indexBuffer)}}const pu=Math.PI*2,zT=180/Math.PI,HT=Math.PI/180;var Fe=(s=>(s[s.POLY=0]="POLY",s[s.RECT=1]="RECT",s[s.CIRC=2]="CIRC",s[s.ELIP=3]="ELIP",s[s.RREC=4]="RREC",s))(Fe||{});class Vt{constructor(t=0,i=0){this.x=0,this.y=0,this.x=t,this.y=i}clone(){return new Vt(this.x,this.y)}copyFrom(t){return this.set(t.x,t.y),this}copyTo(t){return t.set(this.x,this.y),t}equals(t){return t.x===this.x&&t.y===this.y}set(t=0,i=t){return this.x=t,this.y=i,this}}Vt.prototype.toString=function(){return`[@pixi/math:Point x=${this.x} y=${this.y}]`};const Fo=[new Vt,new Vt,new Vt,new Vt];class Lt{constructor(t=0,i=0,n=0,l=0){this.x=Number(t),this.y=Number(i),this.width=Number(n),this.height=Number(l),this.type=Fe.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new Lt(0,0,0,0)}clone(){return new Lt(this.x,this.y,this.width,this.height)}copyFrom(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this}copyTo(t){return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t}contains(t,i){return this.width<=0||this.height<=0?!1:t>=this.x&&t<this.x+this.width&&i>=this.y&&i<this.y+this.height}intersects(t,i){if(!i){const V=this.x<t.x?t.x:this.x;if((this.right>t.right?t.right:this.right)<=V)return!1;const J=this.y<t.y?t.y:this.y;return(this.bottom>t.bottom?t.bottom:this.bottom)>J}const n=this.left,l=this.right,o=this.top,h=this.bottom;if(l<=n||h<=o)return!1;const c=Fo[0].set(t.left,t.top),p=Fo[1].set(t.left,t.bottom),m=Fo[2].set(t.right,t.top),g=Fo[3].set(t.right,t.bottom);if(m.x<=c.x||p.y<=c.y)return!1;const y=Math.sign(i.a*i.d-i.b*i.c);if(y===0||(i.apply(c,c),i.apply(p,p),i.apply(m,m),i.apply(g,g),Math.max(c.x,p.x,m.x,g.x)<=n||Math.min(c.x,p.x,m.x,g.x)>=l||Math.max(c.y,p.y,m.y,g.y)<=o||Math.min(c.y,p.y,m.y,g.y)>=h))return!1;const x=y*(p.y-c.y),_=y*(c.x-p.x),E=x*n+_*o,w=x*l+_*o,S=x*n+_*h,C=x*l+_*h;if(Math.max(E,w,S,C)<=x*c.x+_*c.y||Math.min(E,w,S,C)>=x*g.x+_*g.y)return!1;const I=y*(c.y-m.y),O=y*(m.x-c.x),U=I*n+O*o,B=I*l+O*o,z=I*n+O*h,M=I*l+O*h;return!(Math.max(U,B,z,M)<=I*c.x+O*c.y||Math.min(U,B,z,M)>=I*g.x+O*g.y)}pad(t=0,i=t){return this.x-=t,this.y-=i,this.width+=t*2,this.height+=i*2,this}fit(t){const i=Math.max(this.x,t.x),n=Math.min(this.x+this.width,t.x+t.width),l=Math.max(this.y,t.y),o=Math.min(this.y+this.height,t.y+t.height);return this.x=i,this.width=Math.max(n-i,0),this.y=l,this.height=Math.max(o-l,0),this}ceil(t=1,i=.001){const n=Math.ceil((this.x+this.width-i)*t)/t,l=Math.ceil((this.y+this.height-i)*t)/t;return this.x=Math.floor((this.x+i)*t)/t,this.y=Math.floor((this.y+i)*t)/t,this.width=n-this.x,this.height=l-this.y,this}enlarge(t){const i=Math.min(this.x,t.x),n=Math.max(this.x+this.width,t.x+t.width),l=Math.min(this.y,t.y),o=Math.max(this.y+this.height,t.y+t.height);return this.x=i,this.width=n-i,this.y=l,this.height=o-l,this}}Lt.prototype.toString=function(){return`[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class Du{constructor(t=0,i=0,n=0){this.x=t,this.y=i,this.radius=n,this.type=Fe.CIRC}clone(){return new Du(this.x,this.y,this.radius)}contains(t,i){if(this.radius<=0)return!1;const n=this.radius*this.radius;let l=this.x-t,o=this.y-i;return l*=l,o*=o,l+o<=n}getBounds(){return new Lt(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)}}Du.prototype.toString=function(){return`[@pixi/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`};class Ou{constructor(t=0,i=0,n=0,l=0){this.x=t,this.y=i,this.width=n,this.height=l,this.type=Fe.ELIP}clone(){return new Ou(this.x,this.y,this.width,this.height)}contains(t,i){if(this.width<=0||this.height<=0)return!1;let n=(t-this.x)/this.width,l=(i-this.y)/this.height;return n*=n,l*=l,n+l<=1}getBounds(){return new Lt(this.x-this.width,this.y-this.height,this.width,this.height)}}Ou.prototype.toString=function(){return`[@pixi/math:Ellipse x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class Yn{constructor(...t){let i=Array.isArray(t[0])?t[0]:t;if(typeof i[0]!="number"){const n=[];for(let l=0,o=i.length;l<o;l++)n.push(i[l].x,i[l].y);i=n}this.points=i,this.type=Fe.POLY,this.closeStroke=!0}clone(){const t=this.points.slice(),i=new Yn(t);return i.closeStroke=this.closeStroke,i}contains(t,i){let n=!1;const l=this.points.length/2;for(let o=0,h=l-1;o<l;h=o++){const c=this.points[o*2],p=this.points[o*2+1],m=this.points[h*2],g=this.points[h*2+1];p>i!=g>i&&t<(m-c)*((i-p)/(g-p))+c&&(n=!n)}return n}}Yn.prototype.toString=function(){return`[@pixi/math:PolygoncloseStroke=${this.closeStroke}points=${this.points.reduce((s,t)=>`${s}, ${t}`,"")}]`};class Bu{constructor(t=0,i=0,n=0,l=0,o=20){this.x=t,this.y=i,this.width=n,this.height=l,this.radius=o,this.type=Fe.RREC}clone(){return new Bu(this.x,this.y,this.width,this.height,this.radius)}contains(t,i){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&i>=this.y&&i<=this.y+this.height){const n=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(i>=this.y+n&&i<=this.y+this.height-n||t>=this.x+n&&t<=this.x+this.width-n)return!0;let l=t-(this.x+n),o=i-(this.y+n);const h=n*n;if(l*l+o*o<=h||(l=t-(this.x+this.width-n),l*l+o*o<=h)||(o=i-(this.y+this.height-n),l*l+o*o<=h)||(l=t-(this.x+n),l*l+o*o<=h))return!0}return!1}}Bu.prototype.toString=function(){return`[@pixi/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`};class ae{constructor(t=1,i=0,n=0,l=1,o=0,h=0){this.array=null,this.a=t,this.b=i,this.c=n,this.d=l,this.tx=o,this.ty=h}fromArray(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]}set(t,i,n,l,o,h){return this.a=t,this.b=i,this.c=n,this.d=l,this.tx=o,this.ty=h,this}toArray(t,i){this.array||(this.array=new Float32Array(9));const n=i||this.array;return t?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n}apply(t,i){i=i||new Vt;const n=t.x,l=t.y;return i.x=this.a*n+this.c*l+this.tx,i.y=this.b*n+this.d*l+this.ty,i}applyInverse(t,i){i=i||new Vt;const n=1/(this.a*this.d+this.c*-this.b),l=t.x,o=t.y;return i.x=this.d*n*l+-this.c*n*o+(this.ty*this.c-this.tx*this.d)*n,i.y=this.a*n*o+-this.b*n*l+(-this.ty*this.a+this.tx*this.b)*n,i}translate(t,i){return this.tx+=t,this.ty+=i,this}scale(t,i){return this.a*=t,this.d*=i,this.c*=t,this.b*=i,this.tx*=t,this.ty*=i,this}rotate(t){const i=Math.cos(t),n=Math.sin(t),l=this.a,o=this.c,h=this.tx;return this.a=l*i-this.b*n,this.b=l*n+this.b*i,this.c=o*i-this.d*n,this.d=o*n+this.d*i,this.tx=h*i-this.ty*n,this.ty=h*n+this.ty*i,this}append(t){const i=this.a,n=this.b,l=this.c,o=this.d;return this.a=t.a*i+t.b*l,this.b=t.a*n+t.b*o,this.c=t.c*i+t.d*l,this.d=t.c*n+t.d*o,this.tx=t.tx*i+t.ty*l+this.tx,this.ty=t.tx*n+t.ty*o+this.ty,this}setTransform(t,i,n,l,o,h,c,p,m){return this.a=Math.cos(c+m)*o,this.b=Math.sin(c+m)*o,this.c=-Math.sin(c-p)*h,this.d=Math.cos(c-p)*h,this.tx=t-(n*this.a+l*this.c),this.ty=i-(n*this.b+l*this.d),this}prepend(t){const i=this.tx;if(t.a!==1||t.b!==0||t.c!==0||t.d!==1){const n=this.a,l=this.c;this.a=n*t.a+this.b*t.c,this.b=n*t.b+this.b*t.d,this.c=l*t.a+this.d*t.c,this.d=l*t.b+this.d*t.d}return this.tx=i*t.a+this.ty*t.c+t.tx,this.ty=i*t.b+this.ty*t.d+t.ty,this}decompose(t){const i=this.a,n=this.b,l=this.c,o=this.d,h=t.pivot,c=-Math.atan2(-l,o),p=Math.atan2(n,i),m=Math.abs(c+p);return m<1e-5||Math.abs(pu-m)<1e-5?(t.rotation=p,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=c,t.skew.y=p),t.scale.x=Math.sqrt(i*i+n*n),t.scale.y=Math.sqrt(l*l+o*o),t.position.x=this.tx+(h.x*i+h.y*l),t.position.y=this.ty+(h.x*n+h.y*o),t}invert(){const t=this.a,i=this.b,n=this.c,l=this.d,o=this.tx,h=t*l-i*n;return this.a=l/h,this.b=-i/h,this.c=-n/h,this.d=t/h,this.tx=(n*this.ty-l*o)/h,this.ty=-(t*this.ty-i*o)/h,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const t=new ae;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t}copyTo(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t}copyFrom(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this}static get IDENTITY(){return new ae}static get TEMP_MATRIX(){return new ae}}ae.prototype.toString=function(){return`[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`};const zn=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Hn=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],kn=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Xn=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],Md=[],G_=[],Go=Math.sign;function kT(){for(let s=0;s<16;s++){const t=[];Md.push(t);for(let i=0;i<16;i++){const n=Go(zn[s]*zn[i]+kn[s]*Hn[i]),l=Go(Hn[s]*zn[i]+Xn[s]*Hn[i]),o=Go(zn[s]*kn[i]+kn[s]*Xn[i]),h=Go(Hn[s]*kn[i]+Xn[s]*Xn[i]);for(let c=0;c<16;c++)if(zn[c]===n&&Hn[c]===l&&kn[c]===o&&Xn[c]===h){t.push(c);break}}}for(let s=0;s<16;s++){const t=new ae;t.set(zn[s],Hn[s],kn[s],Xn[s],0,0),G_.push(t)}}kT();const ue={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:s=>zn[s],uY:s=>Hn[s],vX:s=>kn[s],vY:s=>Xn[s],inv:s=>s&8?s&15:-s&7,add:(s,t)=>Md[s][t],sub:(s,t)=>Md[s][ue.inv(t)],rotate180:s=>s^4,isVertical:s=>(s&3)===2,byDirection:(s,t)=>Math.abs(s)*2<=Math.abs(t)?t>=0?ue.S:ue.N:Math.abs(t)*2<=Math.abs(s)?s>0?ue.E:ue.W:t>0?s>0?ue.SE:ue.SW:s>0?ue.NE:ue.NW,matrixAppendRotationInv:(s,t,i=0,n=0)=>{const l=G_[ue.inv(t)];l.tx=i,l.ty=n,s.append(l)}};class Cr{constructor(t,i,n=0,l=0){this._x=n,this._y=l,this.cb=t,this.scope=i}clone(t=this.cb,i=this.scope){return new Cr(t,i,this._x,this._y)}set(t=0,i=t){return(this._x!==t||this._y!==i)&&(this._x=t,this._y=i,this.cb.call(this.scope)),this}copyFrom(t){return(this._x!==t.x||this._y!==t.y)&&(this._x=t.x,this._y=t.y,this.cb.call(this.scope)),this}copyTo(t){return t.set(this._x,this._y),t}equals(t){return t.x===this._x&&t.y===this._y}get x(){return this._x}set x(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))}get y(){return this._y}set y(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))}}Cr.prototype.toString=function(){return`[@pixi/math:ObservablePoint x=${this.x} y=${this.y} scope=${this.scope}]`};const Dd=class{constructor(){this.worldTransform=new ae,this.localTransform=new ae,this.position=new Cr(this.onChange,this,0,0),this.scale=new Cr(this.onChange,this,1,1),this.pivot=new Cr(this.onChange,this,0,0),this.skew=new Cr(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}updateLocalTransform(){const s=this.localTransform;this._localID!==this._currentLocalID&&(s.a=this._cx*this.scale.x,s.b=this._sx*this.scale.x,s.c=this._cy*this.scale.y,s.d=this._sy*this.scale.y,s.tx=this.position.x-(this.pivot.x*s.a+this.pivot.y*s.c),s.ty=this.position.y-(this.pivot.x*s.b+this.pivot.y*s.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(s){const t=this.localTransform;if(this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==s._worldID){const i=s.worldTransform,n=this.worldTransform;n.a=t.a*i.a+t.b*i.c,n.b=t.a*i.b+t.b*i.d,n.c=t.c*i.a+t.d*i.c,n.d=t.c*i.b+t.d*i.d,n.tx=t.tx*i.a+t.ty*i.c+i.tx,n.ty=t.tx*i.b+t.ty*i.d+i.ty,this._parentID=s._worldID,this._worldID++}}setFromMatrix(s){s.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(s){this._rotation!==s&&(this._rotation=s,this.updateSkew())}};Dd.IDENTITY=new Dd;let op=Dd;op.prototype.toString=function(){return`[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`};var XT=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,VT=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`;function F0(s,t,i){const n=s.createShader(t);return s.shaderSource(n,i),s.compileShader(n),n}function sd(s){const t=new Array(s);for(let i=0;i<t.length;i++)t[i]=!1;return t}function z_(s,t){switch(s){case"float":return 0;case"vec2":return new Float32Array(2*t);case"vec3":return new Float32Array(3*t);case"vec4":return new Float32Array(4*t);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*t);case"ivec3":return new Int32Array(3*t);case"ivec4":return new Int32Array(4*t);case"uvec2":return new Uint32Array(2*t);case"uvec3":return new Uint32Array(3*t);case"uvec4":return new Uint32Array(4*t);case"bool":return!1;case"bvec2":return sd(2*t);case"bvec3":return sd(3*t);case"bvec4":return sd(4*t);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const Js=[{test:s=>s.type==="float"&&s.size===1&&!s.isArray,code:s=>`
            if(uv["${s}"] !== ud["${s}"].value)
            {
                ud["${s}"].value = uv["${s}"]
                gl.uniform1f(ud["${s}"].location, uv["${s}"])
            }
            `},{test:(s,t)=>(s.type==="sampler2D"||s.type==="samplerCube"||s.type==="sampler2DArray")&&s.size===1&&!s.isArray&&(t==null||t.castToBaseTexture!==void 0),code:s=>`t = syncData.textureCount++;

            renderer.texture.bind(uv["${s}"], t);

            if(ud["${s}"].value !== t)
            {
                ud["${s}"].value = t;
                gl.uniform1i(ud["${s}"].location, t);
; // eslint-disable-line max-len
            }`},{test:(s,t)=>s.type==="mat3"&&s.size===1&&!s.isArray&&t.a!==void 0,code:s=>`
            gl.uniformMatrix3fv(ud["${s}"].location, false, uv["${s}"].toArray(true));
            `,codeUbo:s=>`
                var ${s}_matrix = uv.${s}.toArray(true);

                data[offset] = ${s}_matrix[0];
                data[offset+1] = ${s}_matrix[1];
                data[offset+2] = ${s}_matrix[2];
        
                data[offset + 4] = ${s}_matrix[3];
                data[offset + 5] = ${s}_matrix[4];
                data[offset + 6] = ${s}_matrix[5];
        
                data[offset + 8] = ${s}_matrix[6];
                data[offset + 9] = ${s}_matrix[7];
                data[offset + 10] = ${s}_matrix[8];
            `},{test:(s,t)=>s.type==="vec2"&&s.size===1&&!s.isArray&&t.x!==void 0,code:s=>`
                cv = ud["${s}"].value;
                v = uv["${s}"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["${s}"].location, v.x, v.y);
                }`,codeUbo:s=>`
                v = uv.${s};

                data[offset] = v.x;
                data[offset+1] = v.y;
            `},{test:s=>s.type==="vec2"&&s.size===1&&!s.isArray,code:s=>`
                cv = ud["${s}"].value;
                v = uv["${s}"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["${s}"].location, v[0], v[1]);
                }
            `},{test:(s,t)=>s.type==="vec4"&&s.size===1&&!s.isArray&&t.width!==void 0,code:s=>`
                cv = ud["${s}"].value;
                v = uv["${s}"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["${s}"].location, v.x, v.y, v.width, v.height)
                }`,codeUbo:s=>`
                    v = uv.${s};

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `},{test:(s,t)=>s.type==="vec4"&&s.size===1&&!s.isArray&&t.red!==void 0,code:s=>`
                cv = ud["${s}"].value;
                v = uv["${s}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
                    cv[3] = v.alpha;
                    gl.uniform4f(ud["${s}"].location, v.red, v.green, v.blue, v.alpha)
                }`,codeUbo:s=>`
                    v = uv.${s};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                    data[offset+3] = v.alpha;
                `},{test:(s,t)=>s.type==="vec3"&&s.size===1&&!s.isArray&&t.red!==void 0,code:s=>`
                cv = ud["${s}"].value;
                v = uv["${s}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.a)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
    
                    gl.uniform3f(ud["${s}"].location, v.red, v.green, v.blue)
                }`,codeUbo:s=>`
                    v = uv.${s};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                `},{test:s=>s.type==="vec4"&&s.size===1&&!s.isArray,code:s=>`
                cv = ud["${s}"].value;
                v = uv["${s}"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["${s}"].location, v[0], v[1], v[2], v[3])
                }`}],jT={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},qT={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function YT(s,t){var n;const i=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(const l in s.uniforms){const o=t[l];if(!o){((n=s.uniforms[l])==null?void 0:n.group)===!0&&(s.uniforms[l].ubo?i.push(`
                        renderer.shader.syncUniformBufferGroup(uv.${l}, '${l}');
                    `):i.push(`
                        renderer.shader.syncUniformGroup(uv.${l}, syncData);
                    `));continue}const h=s.uniforms[l];let c=!1;for(let p=0;p<Js.length;p++)if(Js[p].test(o,h)){i.push(Js[p].code(l,h)),c=!0;break}if(!c){const p=(o.size===1&&!o.isArray?jT:qT)[o.type].replace("location",`ud["${l}"].location`);i.push(`
            cu = ud["${l}"];
            cv = cu.value;
            v = uv["${l}"];
            ${p};`)}}return new Function("ud","uv","renderer","syncData",i.join(`
`))}const H_={};let ks=H_;function WT(){if(ks===H_||ks!=null&&ks.isContextLost()){const s=gt.ADAPTER.createCanvas();let t;gt.PREFER_ENV>=Kn.WEBGL2&&(t=s.getContext("webgl2",{})),t||(t=s.getContext("webgl",{})||s.getContext("experimental-webgl",{}),t?t.getExtension("WEBGL_draw_buffers"):t=null),ks=t}return ks}let zo;function $T(){if(!zo){zo=Si.MEDIUM;const s=WT();if(s&&s.getShaderPrecisionFormat){const t=s.getShaderPrecisionFormat(s.FRAGMENT_SHADER,s.HIGH_FLOAT);t&&(zo=t.precision?Si.HIGH:Si.MEDIUM)}}return zo}function G0(s,t){const i=s.getShaderSource(t).split(`
`).map((m,g)=>`${g}: ${m}`),n=s.getShaderInfoLog(t),l=n.split(`
`),o={},h=l.map(m=>parseFloat(m.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(m=>m&&!o[m]?(o[m]=!0,!0):!1),c=[""];h.forEach(m=>{i[m-1]=`%c${i[m-1]}%c`,c.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const p=i.join(`
`);c[0]=p,console.error(n),console.groupCollapsed("click to view full shader code"),console.warn(...c),console.groupEnd()}function ZT(s,t,i,n){s.getProgramParameter(t,s.LINK_STATUS)||(s.getShaderParameter(i,s.COMPILE_STATUS)||G0(s,i),s.getShaderParameter(n,s.COMPILE_STATUS)||G0(s,n),console.error("PixiJS Error: Could not initialize shader."),s.getProgramInfoLog(t)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",s.getProgramInfoLog(t)))}const KT={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function k_(s){return KT[s]}let Ho=null;const z0={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function X_(s,t){if(!Ho){const i=Object.keys(z0);Ho={};for(let n=0;n<i.length;++n){const l=i[n];Ho[s[l]]=z0[l]}}return Ho[t]}function H0(s,t,i){if(s.substring(0,9)!=="precision"){let n=t;return t===Si.HIGH&&i!==Si.HIGH&&(n=Si.MEDIUM),`precision ${n} float;
${s}`}else if(i!==Si.HIGH&&s.substring(0,15)==="precision highp")return s.replace("precision highp","precision mediump");return s}let rl;function QT(){if(typeof rl=="boolean")return rl;try{rl=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{rl=!1}return rl}let JT=0;const ko={},Od=class qs{constructor(t,i,n="pixi-shader",l={}){this.extra={},this.id=JT++,this.vertexSrc=t||qs.defaultVertexSrc,this.fragmentSrc=i||qs.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=l,this.vertexSrc.substring(0,8)!=="#version"&&(n=n.replace(/\s+/g,"-"),ko[n]?(ko[n]++,n+=`-${ko[n]}`):ko[n]=1,this.vertexSrc=`#define SHADER_NAME ${n}
${this.vertexSrc}`,this.fragmentSrc=`#define SHADER_NAME ${n}
${this.fragmentSrc}`,this.vertexSrc=H0(this.vertexSrc,qs.defaultVertexPrecision,Si.HIGH),this.fragmentSrc=H0(this.fragmentSrc,qs.defaultFragmentPrecision,$T())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return VT}static get defaultFragmentSrc(){return XT}static from(t,i,n){const l=t+i;let o=N0[l];return o||(N0[l]=o=new qs(t,i,n)),o}};Od.defaultVertexPrecision=Si.HIGH,Od.defaultFragmentPrecision=wr.apple.device?Si.HIGH:Si.MEDIUM;let Rr=Od,tS=0;class Li{constructor(t,i,n){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=tS++,this.static=!!i,this.ubo=!!n,t instanceof ye?(this.buffer=t,this.buffer.type=Qi.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=t,this.ubo&&(this.buffer=new ye(new Float32Array(1)),this.buffer.type=Qi.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(t,i,n){if(!this.ubo)this.uniforms[t]=new Li(i,n);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")}static from(t,i,n){return new Li(t,i,n)}static uboFrom(t,i){return new Li(t,i??!0,!0)}}class Ji{constructor(t,i){this.uniformBindCount=0,this.program=t,i?i instanceof Li?this.uniformGroup=i:this.uniformGroup=new Li(i):this.uniformGroup=new Li({}),this.disposeRunner=new Ui("disposeShader")}checkUniformExists(t,i){if(i.uniforms[t])return!0;for(const n in i.uniforms){const l=i.uniforms[n];if(l.group===!0&&this.checkUniformExists(t,l))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(t,i,n){const l=Rr.from(t,i);return new Ji(l,n)}}class eS{constructor(t,i){if(this.vertexSrc=t,this.fragTemplate=i,this.programCache={},this.defaultGroupCache={},!i.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!i.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(t){if(!this.programCache[t]){const n=new Int32Array(t);for(let o=0;o<t;o++)n[o]=o;this.defaultGroupCache[t]=Li.from({uSamplers:n},!0);let l=this.fragTemplate;l=l.replace(/%count%/gi,`${t}`),l=l.replace(/%forloop%/gi,this.generateSampleSrc(t)),this.programCache[t]=new Rr(this.vertexSrc,l)}const i={tint:new Float32Array([1,1,1,1]),translationMatrix:new ae,default:this.defaultGroupCache[t]};return new Ji(this.programCache[t],i)}generateSampleSrc(t){let i="";i+=`
`,i+=`
`;for(let n=0;n<t;n++)n>0&&(i+=`
else `),n<t-1&&(i+=`if(vTextureId < ${n}.5)`),i+=`
{`,i+=`
	color = texture2D(uSamplers[${n}], vTextureCoord);`,i+=`
}`;return i+=`
`,i+=`
`,i}}class Bd{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let t=0;t<this.count;t++)this.elements[t]=null;this.count=0}}function iS(){return!wr.apple.device}function rS(s){let t=!0;const i=gt.ADAPTER.getNavigator();if(wr.tablet||wr.phone){if(wr.apple.device){const n=i.userAgent.match(/OS (\d+)_(\d+)?/);n&&parseInt(n[1],10)<11&&(t=!1)}if(wr.android.device){const n=i.userAgent.match(/Android\s([0-9.]*)/);n&&parseInt(n[1],10)<7&&(t=!1)}}return t?s:4}class Nu{constructor(t){this.renderer=t}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(t){}}var nS=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,sS=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`;const ll=class Bi extends Nu{constructor(t){super(t),this.setShaderGenerator(),this.geometryClass=F_,this.vertexSize=6,this.state=er.for2d(),this.size=Bi.defaultBatchSize*4,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),t.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){return this._defaultMaxTextures=this._defaultMaxTextures??rS(32),this._defaultMaxTextures}static set defaultMaxTextures(t){this._defaultMaxTextures=t}static get canUploadSameBuffer(){return this._canUploadSameBuffer=this._canUploadSameBuffer??iS(),this._canUploadSameBuffer}static set canUploadSameBuffer(t){this._canUploadSameBuffer=t}get MAX_TEXTURES(){return zt("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return sS}static get defaultFragmentTemplate(){return nS}setShaderGenerator({vertex:t=Bi.defaultVertexSrc,fragment:i=Bi.defaultFragmentTemplate}={}){this.shaderGenerator=new eS(t,i)}contextChange(){const t=this.renderer.gl;gt.PREFER_ENV===Kn.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),Bi.defaultMaxTextures),this.maxTextures=NT(this.maxTextures,t)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let i=0;i<this._packedGeometryPoolSize;i++)this._packedGeometries[i]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:t,_textureArrayPool:i}=Bi,n=this.size/4,l=Math.floor(n/this.maxTextures)+1;for(;t.length<n;)t.push(new Rd);for(;i.length<l;)i.push(new Bd);for(let o=0;o<this.maxTextures;o++)this._tempBoundTextures[o]=null}onPrerender(){this._flushId=0}render(t){t._texture.valid&&(this._vertexCount+t.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=t.vertexData.length/2,this._indexCount+=t.indices.length,this._bufferedTextures[this._bufferSize]=t._texture.baseTexture,this._bufferedElements[this._bufferSize++]=t)}buildTexturesAndDrawCalls(){const{_bufferedTextures:t,maxTextures:i}=this,n=Bi._textureArrayPool,l=this.renderer.batch,o=this._tempBoundTextures,h=this.renderer.textureGC.count;let c=++It._globalBatch,p=0,m=n[0],g=0;l.copyBoundTextures(o,i);for(let y=0;y<this._bufferSize;++y){const x=t[y];t[y]=null,x._batchEnabled!==c&&(m.count>=i&&(l.boundArray(m,o,c,i),this.buildDrawCalls(m,g,y),g=y,m=n[++p],++c),x._batchEnabled=c,x.touched=h,m.elements[m.count++]=x)}m.count>0&&(l.boundArray(m,o,c,i),this.buildDrawCalls(m,g,this._bufferSize),++p,++c);for(let y=0;y<o.length;y++)o[y]=null;It._globalBatch=c}buildDrawCalls(t,i,n){const{_bufferedElements:l,_attributeBuffer:o,_indexBuffer:h,vertexSize:c}=this,p=Bi._drawCallPool;let m=this._dcIndex,g=this._aIndex,y=this._iIndex,x=p[m];x.start=this._iIndex,x.texArray=t;for(let _=i;_<n;++_){const E=l[_],w=E._texture.baseTexture,S=I_[w.alphaMode?1:0][E.blendMode];l[_]=null,i<_&&x.blend!==S&&(x.size=y-x.start,i=_,x=p[++m],x.texArray=t,x.start=y),this.packInterleavedGeometry(E,o,h,g,y),g+=E.vertexData.length/2*c,y+=E.indices.length,x.blend=S}i<n&&(x.size=y-x.start,++m),this._dcIndex=m,this._aIndex=g,this._iIndex=y}bindAndClearTexArray(t){const i=this.renderer.texture;for(let n=0;n<t.count;n++)i.bind(t.elements[n],t.ids[n]),t.elements[n]=null;t.count=0}updateGeometry(){const{_packedGeometries:t,_attributeBuffer:i,_indexBuffer:n}=this;Bi.canUploadSameBuffer?(t[this._flushId]._buffer.update(i.rawBinaryData),t[this._flushId]._indexBuffer.update(n),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,t[this._flushId]=new this.geometryClass),t[this._flushId]._buffer.update(i.rawBinaryData),t[this._flushId]._indexBuffer.update(n),this.renderer.geometry.bind(t[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const t=this._dcIndex,{gl:i,state:n}=this.renderer,l=Bi._drawCallPool;let o=null;for(let h=0;h<t;h++){const{texArray:c,type:p,size:m,start:g,blend:y}=l[h];o!==c&&(o=c,this.bindAndClearTexArray(c)),this.state.blendMode=y,n.set(this.state),i.drawElements(p,m,i.UNSIGNED_SHORT,g*2)}}flush(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),Bi.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]&&this._packedGeometries[t].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(t){const i=fu(Math.ceil(t/8)),n=O0(i),l=i*8;this._aBuffers.length<=n&&(this._iBuffers.length=n+1);let o=this._aBuffers[l];return o||(this._aBuffers[l]=o=new Ad(l*this.vertexSize*4)),o}getIndexBuffer(t){const i=fu(Math.ceil(t/12)),n=O0(i),l=i*12;this._iBuffers.length<=n&&(this._iBuffers.length=n+1);let o=this._iBuffers[n];return o||(this._iBuffers[n]=o=new Uint16Array(l)),o}packInterleavedGeometry(t,i,n,l,o){const{uint32View:h,float32View:c}=i,p=l/this.vertexSize,m=t.uvs,g=t.indices,y=t.vertexData,x=t._texture.baseTexture._batchLocation,_=Math.min(t.worldAlpha,1),E=se.shared.setValue(t._tintRGB).toPremultiplied(_,t._texture.baseTexture.alphaMode>0);for(let w=0;w<y.length;w+=2)c[l++]=y[w],c[l++]=y[w+1],c[l++]=m[w],c[l++]=m[w+1],h[l++]=E,c[l++]=x;for(let w=0;w<g.length;w++)n[o++]=p+g[w]}};ll.defaultBatchSize=4096,ll.extension={name:"batch",type:pt.RendererPlugin},ll._drawCallPool=[],ll._textureArrayPool=[];let Vn=ll;St.add(Vn);var aS=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,lS=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const Nd=class ol extends Ji{constructor(t,i,n){const l=Rr.from(t||ol.defaultVertexSrc,i||ol.defaultFragmentSrc);super(l,n),this.padding=0,this.resolution=ol.defaultResolution,this.multisample=ol.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new er}apply(t,i,n,l,o){t.applyFilter(this,i,n,l)}get blendMode(){return this.state.blendMode}set blendMode(t){this.state.blendMode=t}get resolution(){return this._resolution}set resolution(t){this._resolution=t}static get defaultVertexSrc(){return lS}static get defaultFragmentSrc(){return aS}};Nd.defaultResolution=1,Nd.defaultMultisample=Te.NONE;let He=Nd;class mu{constructor(){this.clearBeforeRender=!0,this._backgroundColor=new se(0),this.alpha=1}init(t){this.clearBeforeRender=t.clearBeforeRender;const{backgroundColor:i,background:n,backgroundAlpha:l}=t,o=n??i;o!==void 0&&(this.color=o),this.alpha=l}get color(){return this._backgroundColor.value}set color(t){this._backgroundColor.setValue(t)}get alpha(){return this._backgroundColor.alpha}set alpha(t){this._backgroundColor.setAlpha(t)}get backgroundColor(){return this._backgroundColor}destroy(){}}mu.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0},mu.extension={type:[pt.RendererSystem,pt.CanvasRendererSystem],name:"background"};St.add(mu);class V_{constructor(t){this.renderer=t,this.emptyRenderer=new Nu(t),this.currentRenderer=this.emptyRenderer}setObjectRenderer(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(t,i){const{boundTextures:n}=this.renderer.texture;for(let l=i-1;l>=0;--l)t[l]=n[l]||null,t[l]&&(t[l]._batchLocation=l)}boundArray(t,i,n,l){const{elements:o,ids:h,count:c}=t;let p=0;for(let m=0;m<c;m++){const g=o[m],y=g._batchLocation;if(y>=0&&y<l&&i[y]===g){h[m]=y;continue}for(;p<l;){const x=i[p];if(x&&x._batchEnabled===n&&x._batchLocation===p){p++;continue}h[m]=p,g._batchLocation=p,i[p]=g;break}}}destroy(){this.renderer=null}}V_.extension={type:pt.RendererSystem,name:"batch"};St.add(V_);let k0=0;class gu{constructor(t){this.renderer=t,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(t){this.gl=t,this.renderer.gl=t,this.renderer.CONTEXT_UID=k0++}init(t){if(t.context)this.initFromContext(t.context);else{const i=this.renderer.background.alpha<1,n=t.premultipliedAlpha;this.preserveDrawingBuffer=t.preserveDrawingBuffer,this.useContextAlpha=t.useContextAlpha,this.powerPreference=t.powerPreference,this.initFromOptions({alpha:i,premultipliedAlpha:n,antialias:t.antialias,stencil:!0,preserveDrawingBuffer:t.preserveDrawingBuffer,powerPreference:t.powerPreference})}}initFromContext(t){this.gl=t,this.validateContext(t),this.renderer.gl=t,this.renderer.CONTEXT_UID=k0++,this.renderer.runners.contextChange.emit(t);const i=this.renderer.view;i.addEventListener!==void 0&&(i.addEventListener("webglcontextlost",this.handleContextLost,!1),i.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(t){const i=this.createContext(this.renderer.view,t);this.initFromContext(i)}createContext(t,i){let n;if(gt.PREFER_ENV>=Kn.WEBGL2&&(n=t.getContext("webgl2",i)),n)this.webGLVersion=2;else if(this.webGLVersion=1,n=t.getContext("webgl",i)||t.getContext("experimental-webgl",i),!n)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=n,this.getExtensions(),this.gl}getExtensions(){const{gl:t}=this,i={loseContext:t.getExtension("WEBGL_lose_context"),anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),s3tc:t.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:t.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:t.getExtension("WEBGL_compressed_texture_etc"),etc1:t.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:t.getExtension("WEBGL_compressed_texture_atc"),astc:t.getExtension("WEBGL_compressed_texture_astc"),bptc:t.getExtension("EXT_texture_compression_bptc")};this.webGLVersion===1?Object.assign(this.extensions,i,{drawBuffers:t.getExtension("WEBGL_draw_buffers"),depthTexture:t.getExtension("WEBGL_depth_texture"),vertexArrayObject:t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:t.getExtension("OES_element_index_uint"),floatTexture:t.getExtension("OES_texture_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),textureHalfFloat:t.getExtension("OES_texture_half_float"),textureHalfFloatLinear:t.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,i,{colorBufferFloat:t.getExtension("EXT_color_buffer_float")})}handleContextLost(t){t.preventDefault(),setTimeout(()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()},0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const t=this.renderer.view;this.renderer=null,t.removeEventListener!==void 0&&(t.removeEventListener("webglcontextlost",this.handleContextLost),t.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(t){const i=t.getContextAttributes(),n="WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext;n&&(this.webGLVersion=2),i&&!i.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const l=n||!!t.getExtension("OES_element_index_uint");this.supports.uint32Indices=l,l||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}gu.defaultOptions={context:null,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:"default"},gu.extension={type:pt.RendererSystem,name:"context"};St.add(gu);class Id{constructor(t,i){if(this.width=Math.round(t),this.height=Math.round(i),!this.width||!this.height)throw new Error("Framebuffer width or height is zero");this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Ui("disposeFramebuffer"),this.multisample=Te.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(t=0,i){return this.colorTextures[t]=i||new It(null,{scaleMode:Ar.NEAREST,resolution:1,mipmap:tr.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(t){return this.depthTexture=t||new It(null,{scaleMode:Ar.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:tr.OFF,format:ht.DEPTH_COMPONENT,type:wt.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(t,i){if(t=Math.round(t),i=Math.round(i),!t||!i)throw new Error("Framebuffer width and height must not be zero");if(!(t===this.width&&i===this.height)){this.width=t,this.height=i,this.dirtyId++,this.dirtySize++;for(let n=0;n<this.colorTextures.length;n++){const l=this.colorTextures[n],o=l.resolution;l.setSize(t/o,i/o)}if(this.depthTexture){const n=this.depthTexture.resolution;this.depthTexture.setSize(t/n,i/n)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}class j_ extends It{constructor(t={}){if(typeof t=="number"){const i=arguments[0],n=arguments[1],l=arguments[2],o=arguments[3];t={width:i,height:n,scaleMode:l,resolution:o}}t.width=t.width??100,t.height=t.height??100,t.multisample??(t.multisample=Te.NONE),super(null,t),this.mipmap=tr.OFF,this.valid=!0,this._clear=new se([0,0,0,0]),this.framebuffer=new Id(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=t.multisample,this.maskStack=[],this.filterStack=[{}]}set clearColor(t){this._clear.setValue(t)}get clearColor(){return this._clear.value}get clear(){return this._clear}get multisample(){return this.framebuffer.multisample}set multisample(t){this.framebuffer.multisample=t}resize(t,i){this.framebuffer.resize(t*this.resolution,i*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}class Dr extends ml{constructor(t){const i=t,n=i.naturalWidth||i.videoWidth||i.displayWidth||i.width,l=i.naturalHeight||i.videoHeight||i.displayHeight||i.height;super(n,l),this.source=t,this.noSubImage=!1}static crossOrigin(t,i,n){n===void 0&&!i.startsWith("data:")?t.crossOrigin=DT(i):n!==!1&&(t.crossOrigin=typeof n=="string"?n:"anonymous")}upload(t,i,n,l){const o=t.gl,h=i.realWidth,c=i.realHeight;if(l=l||this.source,typeof HTMLImageElement<"u"&&l instanceof HTMLImageElement){if(!l.complete||l.naturalWidth===0)return!1}else if(typeof HTMLVideoElement<"u"&&l instanceof HTMLVideoElement&&l.readyState<=1)return!1;return o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.alphaMode===Je.UNPACK),!this.noSubImage&&i.target===o.TEXTURE_2D&&n.width===h&&n.height===c?o.texSubImage2D(o.TEXTURE_2D,0,0,0,i.format,n.type,l):(n.width=h,n.height=c,o.texImage2D(i.target,0,n.internalFormat,i.format,n.type,l)),!0}update(){if(this.destroyed)return;const t=this.source,i=t.naturalWidth||t.videoWidth||t.width,n=t.naturalHeight||t.videoHeight||t.height;this.resize(i,n),super.update()}dispose(){this.source=null}}class q_ extends Dr{constructor(t,i){if(i=i||{},typeof t=="string"){const n=new Image;Dr.crossOrigin(n,t,i.crossorigin),n.src=t,t=n}super(t),!t.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=t.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(i.createBitmap??gt.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode=typeof i.alphaMode=="number"?i.alphaMode:null,this.bitmap=null,this._load=null,i.autoLoad!==!1&&this.load()}load(t){return this._load?this._load:(t!==void 0&&(this.createBitmap=t),this._load=new Promise((i,n)=>{const l=this.source;this.url=l.src;const o=()=>{this.destroyed||(l.onload=null,l.onerror=null,this.update(),this._load=null,this.createBitmap?i(this.process()):i(this))};l.complete&&l.src?o():(l.onload=o,l.onerror=h=>{n(h),this.onError.emit(h)})}),this._load)}process(){const t=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);const i=globalThis.createImageBitmap,n=!t.crossOrigin||t.crossOrigin==="anonymous";return this._process=fetch(t.src,{mode:n?"cors":"no-cors"}).then(l=>l.blob()).then(l=>i(l,0,0,t.width,t.height,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===Je.UNPACK?"premultiply":"none"})).then(l=>this.destroyed?Promise.reject():(this.bitmap=l,this.update(),this._process=null,Promise.resolve(this))),this._process}upload(t,i,n){if(typeof this.alphaMode=="number"&&(i.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(t,i,n);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(t,i,n,this.bitmap),!this.preserveBitmap){let l=!0;const o=i._glTextures;for(const h in o){const c=o[h];if(c!==n&&c.dirtyId!==i.dirtyId){l=!1;break}}l&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(t){return typeof HTMLImageElement<"u"&&(typeof t=="string"||t instanceof HTMLImageElement)}}class up{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(t,i,n){const l=i.width,o=i.height;if(n){const h=t.width/2/l,c=t.height/2/o,p=t.x/l+h,m=t.y/o+c;n=ue.add(n,ue.NW),this.x0=p+h*ue.uX(n),this.y0=m+c*ue.uY(n),n=ue.add(n,2),this.x1=p+h*ue.uX(n),this.y1=m+c*ue.uY(n),n=ue.add(n,2),this.x2=p+h*ue.uX(n),this.y2=m+c*ue.uY(n),n=ue.add(n,2),this.x3=p+h*ue.uX(n),this.y3=m+c*ue.uY(n)}else this.x0=t.x/l,this.y0=t.y/o,this.x1=(t.x+t.width)/l,this.y1=t.y/o,this.x2=(t.x+t.width)/l,this.y2=(t.y+t.height)/o,this.x3=t.x/l,this.y3=(t.y+t.height)/o;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}}up.prototype.toString=function(){return`[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`};const X0=new up;function Xo(s){s.destroy=function(){},s.on=function(){},s.once=function(){},s.emit=function(){}}class _t extends gl{constructor(t,i,n,l,o,h,c){if(super(),this.noFrame=!1,i||(this.noFrame=!0,i=new Lt(0,0,1,1)),t instanceof _t&&(t=t.baseTexture),this.baseTexture=t,this._frame=i,this.trim=l,this.valid=!1,this.destroyed=!1,this._uvs=X0,this.uvMatrix=null,this.orig=n||i,this._rotate=Number(o||0),o===!0)this._rotate=2;else if(this._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=h?new Vt(h.x,h.y):new Vt(0,0),this.defaultBorders=c,this._updateID=0,this.textureCacheIds=[],t.valid?this.noFrame?t.valid&&this.onBaseTextureUpdated(t):this.frame=i:t.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&t.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(t){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=t.width,this._frame.height=t.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(t){if(this.baseTexture){if(t){const{resource:i}=this.baseTexture;i!=null&&i.url&&qi[i.url]&&_t.removeFromCache(i.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,_t.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}clone(){var l;const t=this._frame.clone(),i=this._frame===this.orig?t:this.orig.clone(),n=new _t(this.baseTexture,!this.noFrame&&t,i,(l=this.trim)==null?void 0:l.clone(),this.rotate,this.defaultAnchor,this.defaultBorders);return this.noFrame&&(n._frame=t),n}updateUvs(){this._uvs===X0&&(this._uvs=new up),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(t,i={},n=gt.STRICT_TEXTURE_CACHE){const l=typeof t=="string";let o=null;if(l)o=t;else if(t instanceof It){if(!t.cacheId){const c=(i==null?void 0:i.pixiIdPrefix)||"pixiid";t.cacheId=`${c}-${$n()}`,It.addToCache(t,t.cacheId)}o=t.cacheId}else{if(!t._pixiId){const c=(i==null?void 0:i.pixiIdPrefix)||"pixiid";t._pixiId=`${c}_${$n()}`}o=t._pixiId}let h=qi[o];if(l&&n&&!h)throw new Error(`The cacheId "${o}" does not exist in TextureCache.`);return!h&&!(t instanceof It)?(i.resolution||(i.resolution=Mr(t)),h=new _t(new It(t,i)),h.baseTexture.cacheId=o,It.addToCache(h.baseTexture,o),_t.addToCache(h,o)):!h&&t instanceof It&&(h=new _t(t),_t.addToCache(h,o)),h}static fromURL(t,i){const n=Object.assign({autoLoad:!1},i==null?void 0:i.resourceOptions),l=_t.from(t,Object.assign({resourceOptions:n},i),!1),o=l.baseTexture.resource;return l.baseTexture.valid?Promise.resolve(l):o.load().then(()=>Promise.resolve(l))}static fromBuffer(t,i,n,l){return new _t(It.fromBuffer(t,i,n,l))}static fromLoader(t,i,n,l){const o=new It(t,Object.assign({scaleMode:It.defaultOptions.scaleMode,resolution:Mr(i)},l)),{resource:h}=o;h instanceof q_&&(h.url=i);const c=new _t(o);return n||(n=i),It.addToCache(c.baseTexture,n),_t.addToCache(c,n),n!==i&&(It.addToCache(c.baseTexture,i),_t.addToCache(c,i)),c.baseTexture.valid?Promise.resolve(c):new Promise(p=>{c.baseTexture.once("loaded",()=>p(c))})}static addToCache(t,i){i&&(t.textureCacheIds.includes(i)||t.textureCacheIds.push(i),qi[i]&&qi[i]!==t&&console.warn(`Texture added to the cache with an id [${i}] that already had an entry`),qi[i]=t)}static removeFromCache(t){if(typeof t=="string"){const i=qi[t];if(i){const n=i.textureCacheIds.indexOf(t);return n>-1&&i.textureCacheIds.splice(n,1),delete qi[t],i}}else if(t!=null&&t.textureCacheIds){for(let i=0;i<t.textureCacheIds.length;++i)qi[t.textureCacheIds[i]]===t&&delete qi[t.textureCacheIds[i]];return t.textureCacheIds.length=0,t}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(t){this._frame=t,this.noFrame=!1;const{x:i,y:n,width:l,height:o}=t,h=i+l>this.baseTexture.width,c=n+o>this.baseTexture.height;if(h||c){const p=h&&c?"and":"or",m=`X: ${i} + ${l} = ${i+l} > ${this.baseTexture.width}`,g=`Y: ${n} + ${o} = ${n+o} > ${this.baseTexture.height}`;throw new Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${m} ${p} ${g}`)}this.valid=l&&o&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=t),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(t){this._rotate=t,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return _t._EMPTY||(_t._EMPTY=new _t(new It),Xo(_t._EMPTY),Xo(_t._EMPTY.baseTexture)),_t._EMPTY}static get WHITE(){if(!_t._WHITE){const t=gt.ADAPTER.createCanvas(16,16),i=t.getContext("2d");t.width=16,t.height=16,i.fillStyle="white",i.fillRect(0,0,16,16),_t._WHITE=new _t(It.from(t)),Xo(_t._WHITE),Xo(_t._WHITE.baseTexture)}return _t._WHITE}}class Qn extends _t{constructor(t,i){super(t,i),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(t){this.framebuffer.multisample=t}resize(t,i,n=!0){const l=this.baseTexture.resolution,o=Math.round(t*l)/l,h=Math.round(i*l)/l;this.valid=o>0&&h>0,this._frame.width=this.orig.width=o,this._frame.height=this.orig.height=h,n&&this.baseTexture.resize(o,h),this.updateUvs()}setResolution(t){const{baseTexture:i}=this;i.resolution!==t&&(i.setResolution(t),this.resize(i.width,i.height,!1))}static create(t){return new Qn(new j_(t))}}class Y_{constructor(t){this.texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(t,i,n=Te.NONE){const l=new j_(Object.assign({width:t,height:i,resolution:1,multisample:n},this.textureOptions));return new Qn(l)}getOptimalTexture(t,i,n=1,l=Te.NONE){let o;t=Math.max(Math.ceil(t*n-1e-6),1),i=Math.max(Math.ceil(i*n-1e-6),1),!this.enableFullScreen||t!==this._pixelsWidth||i!==this._pixelsHeight?(t=fu(t),i=fu(i),o=((t&65535)<<16|i&65535)>>>0,l>1&&(o+=l*4294967296)):o=l>1?-l:-1,this.texturePool[o]||(this.texturePool[o]=[]);let h=this.texturePool[o].pop();return h||(h=this.createTexture(t,i,l)),h.filterPoolKey=o,h.setResolution(n),h}getFilterTexture(t,i,n){const l=this.getOptimalTexture(t.width,t.height,i||t.resolution,n||Te.NONE);return l.filterFrame=t.filterFrame,l}returnTexture(t){const i=t.filterPoolKey;t.filterFrame=null,this.texturePool[i].push(t)}returnFilterTexture(t){this.returnTexture(t)}clear(t){if(t=t!==!1,t)for(const i in this.texturePool){const n=this.texturePool[i];if(n)for(let l=0;l<n.length;l++)n[l].destroy(!0)}this.texturePool={}}setScreenSize(t){if(!(t.width===this._pixelsWidth&&t.height===this._pixelsHeight)){this.enableFullScreen=t.width>0&&t.height>0;for(const i in this.texturePool){if(!(Number(i)<0))continue;const n=this.texturePool[i];if(n)for(let l=0;l<n.length;l++)n[l].destroy(!0);this.texturePool[i]=[]}this._pixelsWidth=t.width,this._pixelsHeight=t.height}}}Y_.SCREEN_KEY=-1;class oS extends pn{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}class W_ extends pn{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new ye(this.vertices),this.uvBuffer=new ye(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(t,i){let n=0,l=0;return this.uvs[0]=n,this.uvs[1]=l,this.uvs[2]=n+i.width/t.width,this.uvs[3]=l,this.uvs[4]=n+i.width/t.width,this.uvs[5]=l+i.height/t.height,this.uvs[6]=n,this.uvs[7]=l+i.height/t.height,n=i.x,l=i.y,this.vertices[0]=n,this.vertices[1]=l,this.vertices[2]=n+i.width,this.vertices[3]=l,this.vertices[4]=n+i.width,this.vertices[5]=l+i.height,this.vertices[6]=n,this.vertices[7]=l+i.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}class uS{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=Te.NONE,this.sourceFrame=new Lt,this.destinationFrame=new Lt,this.bindingSourceFrame=new Lt,this.bindingDestinationFrame=new Lt,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}const Vo=[new Vt,new Vt,new Vt,new Vt],ad=new ae;class $_{constructor(t){this.renderer=t,this.defaultFilterStack=[{}],this.texturePool=new Y_,this.statePool=[],this.quad=new oS,this.quadUv=new W_,this.tempRect=new Lt,this.activeState={},this.globalUniforms=new Li({outputFrame:new Lt,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(t,i){const n=this.renderer,l=this.defaultFilterStack,o=this.statePool.pop()||new uS,h=n.renderTexture;let c,p;if(h.current){const S=h.current;c=S.resolution,p=S.multisample}else c=n.resolution,p=n.multisample;let m=i[0].resolution||c,g=i[0].multisample??p,y=i[0].padding,x=i[0].autoFit,_=i[0].legacy??!0;for(let S=1;S<i.length;S++){const C=i[S];m=Math.min(m,C.resolution||c),g=Math.min(g,C.multisample??p),y=this.useMaxPadding?Math.max(y,C.padding):y+C.padding,x=x&&C.autoFit,_=_||(C.legacy??!0)}l.length===1&&(this.defaultFilterStack[0].renderTexture=h.current),l.push(o),o.resolution=m,o.multisample=g,o.legacy=_,o.target=t,o.sourceFrame.copyFrom(t.filterArea||t.getBounds(!0)),o.sourceFrame.pad(y);const E=this.tempRect.copyFrom(h.sourceFrame);n.projection.transform&&this.transformAABB(ad.copyFrom(n.projection.transform).invert(),E),x?(o.sourceFrame.fit(E),(o.sourceFrame.width<=0||o.sourceFrame.height<=0)&&(o.sourceFrame.width=0,o.sourceFrame.height=0)):o.sourceFrame.intersects(E)||(o.sourceFrame.width=0,o.sourceFrame.height=0),this.roundFrame(o.sourceFrame,h.current?h.current.resolution:n.resolution,h.sourceFrame,h.destinationFrame,n.projection.transform),o.renderTexture=this.getOptimalFilterTexture(o.sourceFrame.width,o.sourceFrame.height,m,g),o.filters=i,o.destinationFrame.width=o.renderTexture.width,o.destinationFrame.height=o.renderTexture.height;const w=this.tempRect;w.x=0,w.y=0,w.width=o.sourceFrame.width,w.height=o.sourceFrame.height,o.renderTexture.filterFrame=o.sourceFrame,o.bindingSourceFrame.copyFrom(h.sourceFrame),o.bindingDestinationFrame.copyFrom(h.destinationFrame),o.transform=n.projection.transform,n.projection.transform=null,h.bind(o.renderTexture,o.sourceFrame,w),n.framebuffer.clear(0,0,0,0)}pop(){const t=this.defaultFilterStack,i=t.pop(),n=i.filters;this.activeState=i;const l=this.globalUniforms.uniforms;l.outputFrame=i.sourceFrame,l.resolution=i.resolution;const o=l.inputSize,h=l.inputPixel,c=l.inputClamp;if(o[0]=i.destinationFrame.width,o[1]=i.destinationFrame.height,o[2]=1/o[0],o[3]=1/o[1],h[0]=Math.round(o[0]*i.resolution),h[1]=Math.round(o[1]*i.resolution),h[2]=1/h[0],h[3]=1/h[1],c[0]=.5*h[2],c[1]=.5*h[3],c[2]=i.sourceFrame.width*o[2]-.5*h[2],c[3]=i.sourceFrame.height*o[3]-.5*h[3],i.legacy){const m=l.filterArea;m[0]=i.destinationFrame.width,m[1]=i.destinationFrame.height,m[2]=i.sourceFrame.x,m[3]=i.sourceFrame.y,l.filterClamp=l.inputClamp}this.globalUniforms.update();const p=t[t.length-1];if(this.renderer.framebuffer.blit(),n.length===1)n[0].apply(this,i.renderTexture,p.renderTexture,Zi.BLEND,i),this.returnFilterTexture(i.renderTexture);else{let m=i.renderTexture,g=this.getOptimalFilterTexture(m.width,m.height,i.resolution);g.filterFrame=m.filterFrame;let y=0;for(y=0;y<n.length-1;++y){y===1&&i.multisample>1&&(g=this.getOptimalFilterTexture(m.width,m.height,i.resolution),g.filterFrame=m.filterFrame),n[y].apply(this,m,g,Zi.CLEAR,i);const x=m;m=g,g=x}n[y].apply(this,m,p.renderTexture,Zi.BLEND,i),y>1&&i.multisample>1&&this.returnFilterTexture(i.renderTexture),this.returnFilterTexture(m),this.returnFilterTexture(g)}i.clear(),this.statePool.push(i)}bindAndClear(t,i=Zi.CLEAR){const{renderTexture:n,state:l}=this.renderer;if(t===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,t==null?void 0:t.filterFrame){const h=this.tempRect;h.x=0,h.y=0,h.width=t.filterFrame.width,h.height=t.filterFrame.height,n.bind(t,t.filterFrame,h)}else t!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?n.bind(t):this.renderer.renderTexture.bind(t,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);const o=l.stateId&1||this.forceClear;(i===Zi.CLEAR||i===Zi.BLIT&&o)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(t,i,n,l){const o=this.renderer;o.state.set(t.state),this.bindAndClear(n,l),t.uniforms.uSampler=i,t.uniforms.filterGlobals=this.globalUniforms,o.shader.bind(t),t.legacy=!!t.program.attributeData.aTextureCoord,t.legacy?(this.quadUv.map(i._frame,i.filterFrame),o.geometry.bind(this.quadUv),o.geometry.draw(Ki.TRIANGLES)):(o.geometry.bind(this.quad),o.geometry.draw(Ki.TRIANGLE_STRIP))}calculateSpriteMatrix(t,i){const{sourceFrame:n,destinationFrame:l}=this.activeState,{orig:o}=i._texture,h=t.set(l.width,0,0,l.height,n.x,n.y),c=i.worldTransform.copyTo(ae.TEMP_MATRIX);return c.invert(),h.prepend(c),h.scale(1/o.width,1/o.height),h.translate(i.anchor.x,i.anchor.y),h}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(t,i,n=1,l=Te.NONE){return this.texturePool.getOptimalTexture(t,i,n,l)}getFilterTexture(t,i,n){if(typeof t=="number"){const o=t;t=i,i=o}t=t||this.activeState.renderTexture;const l=this.texturePool.getOptimalTexture(t.width,t.height,i||t.resolution,n||Te.NONE);return l.filterFrame=t.filterFrame,l}returnFilterTexture(t){this.texturePool.returnTexture(t)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(t,i){const n=Vo[0],l=Vo[1],o=Vo[2],h=Vo[3];n.set(i.left,i.top),l.set(i.left,i.bottom),o.set(i.right,i.top),h.set(i.right,i.bottom),t.apply(n,n),t.apply(l,l),t.apply(o,o),t.apply(h,h);const c=Math.min(n.x,l.x,o.x,h.x),p=Math.min(n.y,l.y,o.y,h.y),m=Math.max(n.x,l.x,o.x,h.x),g=Math.max(n.y,l.y,o.y,h.y);i.x=c,i.y=p,i.width=m-c,i.height=g-p}roundFrame(t,i,n,l,o){if(!(t.width<=0||t.height<=0||n.width<=0||n.height<=0)){if(o){const{a:h,b:c,c:p,d:m}=o;if((Math.abs(c)>1e-4||Math.abs(p)>1e-4)&&(Math.abs(h)>1e-4||Math.abs(m)>1e-4))return}o=o?ad.copyFrom(o):ad.identity(),o.translate(-n.x,-n.y).scale(l.width/n.width,l.height/n.height).translate(l.x,l.y),this.transformAABB(o,t),t.ceil(i),this.transformAABB(o.invert(),t)}}}$_.extension={type:pt.RendererSystem,name:"filter"};St.add($_);class hS{constructor(t){this.framebuffer=t,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=Te.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}const cS=new Lt;class Z_{constructor(t){this.renderer=t,this.managedFramebuffers=[],this.unknownFramebuffer=new Id(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);const t=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Lt,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){let i=this.renderer.context.extensions.drawBuffers,n=this.renderer.context.extensions.depthTexture;gt.PREFER_ENV===Kn.WEBGL_LEGACY&&(i=null,n=null),i?t.drawBuffers=l=>i.drawBuffersWEBGL(l):(this.hasMRT=!1,t.drawBuffers=()=>{}),n||(this.writeDepthTexture=!1)}else this.msaaSamples=t.getInternalformatParameter(t.RENDERBUFFER,t.RGBA8,t.SAMPLES)}bind(t,i,n=0){const{gl:l}=this;if(t){const o=t.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(t);this.current!==t&&(this.current=t,l.bindFramebuffer(l.FRAMEBUFFER,o.framebuffer)),o.mipLevel!==n&&(t.dirtyId++,t.dirtyFormat++,o.mipLevel=n),o.dirtyId!==t.dirtyId&&(o.dirtyId=t.dirtyId,o.dirtyFormat!==t.dirtyFormat?(o.dirtyFormat=t.dirtyFormat,o.dirtySize=t.dirtySize,this.updateFramebuffer(t,n)):o.dirtySize!==t.dirtySize&&(o.dirtySize=t.dirtySize,this.resizeFramebuffer(t)));for(let h=0;h<t.colorTextures.length;h++){const c=t.colorTextures[h];this.renderer.texture.unbind(c.parentTextureArray||c)}if(t.depthTexture&&this.renderer.texture.unbind(t.depthTexture),i){const h=i.width>>n,c=i.height>>n,p=h/i.width;this.setViewport(i.x*p,i.y*p,h,c)}else{const h=t.width>>n,c=t.height>>n;this.setViewport(0,0,h,c)}}else this.current&&(this.current=null,l.bindFramebuffer(l.FRAMEBUFFER,null)),i?this.setViewport(i.x,i.y,i.width,i.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(t,i,n,l){const o=this.viewport;t=Math.round(t),i=Math.round(i),n=Math.round(n),l=Math.round(l),(o.width!==n||o.height!==l||o.x!==t||o.y!==i)&&(o.x=t,o.y=i,o.width=n,o.height=l,this.gl.viewport(t,i,n,l))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(t,i,n,l,o=xd.COLOR|xd.DEPTH){const{gl:h}=this;h.clearColor(t,i,n,l),h.clear(o)}initFramebuffer(t){const{gl:i}=this,n=new hS(i.createFramebuffer());return n.multisample=this.detectSamples(t.multisample),t.glFramebuffers[this.CONTEXT_UID]=n,this.managedFramebuffers.push(t),t.disposeRunner.add(this),n}resizeFramebuffer(t){const{gl:i}=this,n=t.glFramebuffers[this.CONTEXT_UID];if(n.stencil){i.bindRenderbuffer(i.RENDERBUFFER,n.stencil);let h;this.renderer.context.webGLVersion===1?h=i.DEPTH_STENCIL:t.depth&&t.stencil?h=i.DEPTH24_STENCIL8:t.depth?h=i.DEPTH_COMPONENT24:h=i.STENCIL_INDEX8,n.msaaBuffer?i.renderbufferStorageMultisample(i.RENDERBUFFER,n.multisample,h,t.width,t.height):i.renderbufferStorage(i.RENDERBUFFER,h,t.width,t.height)}const l=t.colorTextures;let o=l.length;i.drawBuffers||(o=Math.min(o,1));for(let h=0;h<o;h++){const c=l[h],p=c.parentTextureArray||c;this.renderer.texture.bind(p,0),h===0&&n.msaaBuffer&&(i.bindRenderbuffer(i.RENDERBUFFER,n.msaaBuffer),i.renderbufferStorageMultisample(i.RENDERBUFFER,n.multisample,p._glTextures[this.CONTEXT_UID].internalFormat,t.width,t.height))}t.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(t.depthTexture,0)}updateFramebuffer(t,i){const{gl:n}=this,l=t.glFramebuffers[this.CONTEXT_UID],o=t.colorTextures;let h=o.length;n.drawBuffers||(h=Math.min(h,1)),l.multisample>1&&this.canMultisampleFramebuffer(t)?l.msaaBuffer=l.msaaBuffer||n.createRenderbuffer():l.msaaBuffer&&(n.deleteRenderbuffer(l.msaaBuffer),l.msaaBuffer=null,l.blitFramebuffer&&(l.blitFramebuffer.dispose(),l.blitFramebuffer=null));const c=[];for(let p=0;p<h;p++){const m=o[p],g=m.parentTextureArray||m;this.renderer.texture.bind(g,0),p===0&&l.msaaBuffer?(n.bindRenderbuffer(n.RENDERBUFFER,l.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,l.multisample,g._glTextures[this.CONTEXT_UID].internalFormat,t.width,t.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,l.msaaBuffer)):(n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+p,m.target,g._glTextures[this.CONTEXT_UID].texture,i),c.push(n.COLOR_ATTACHMENT0+p))}if(c.length>1&&n.drawBuffers(c),t.depthTexture&&this.writeDepthTexture){const p=t.depthTexture;this.renderer.texture.bind(p,0),n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,p._glTextures[this.CONTEXT_UID].texture,i)}if((t.stencil||t.depth)&&!(t.depthTexture&&this.writeDepthTexture)){l.stencil=l.stencil||n.createRenderbuffer();let p,m;this.renderer.context.webGLVersion===1?(p=n.DEPTH_STENCIL_ATTACHMENT,m=n.DEPTH_STENCIL):t.depth&&t.stencil?(p=n.DEPTH_STENCIL_ATTACHMENT,m=n.DEPTH24_STENCIL8):t.depth?(p=n.DEPTH_ATTACHMENT,m=n.DEPTH_COMPONENT24):(p=n.STENCIL_ATTACHMENT,m=n.STENCIL_INDEX8),n.bindRenderbuffer(n.RENDERBUFFER,l.stencil),l.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,l.multisample,m,t.width,t.height):n.renderbufferStorage(n.RENDERBUFFER,m,t.width,t.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,p,n.RENDERBUFFER,l.stencil)}else l.stencil&&(n.deleteRenderbuffer(l.stencil),l.stencil=null)}canMultisampleFramebuffer(t){return this.renderer.context.webGLVersion!==1&&t.colorTextures.length<=1&&!t.depthTexture}detectSamples(t){const{msaaSamples:i}=this;let n=Te.NONE;if(t<=1||i===null)return n;for(let l=0;l<i.length;l++)if(i[l]<=t){n=i[l];break}return n===1&&(n=Te.NONE),n}blit(t,i,n){const{current:l,renderer:o,gl:h,CONTEXT_UID:c}=this;if(o.context.webGLVersion!==2||!l)return;const p=l.glFramebuffers[c];if(!p)return;if(!t){if(!p.msaaBuffer)return;const g=l.colorTextures[0];if(!g)return;p.blitFramebuffer||(p.blitFramebuffer=new Id(l.width,l.height),p.blitFramebuffer.addColorTexture(0,g)),t=p.blitFramebuffer,t.colorTextures[0]!==g&&(t.colorTextures[0]=g,t.dirtyId++,t.dirtyFormat++),(t.width!==l.width||t.height!==l.height)&&(t.width=l.width,t.height=l.height,t.dirtyId++,t.dirtySize++)}i||(i=cS,i.width=l.width,i.height=l.height),n||(n=i);const m=i.width===n.width&&i.height===n.height;this.bind(t),h.bindFramebuffer(h.READ_FRAMEBUFFER,p.framebuffer),h.blitFramebuffer(i.left,i.top,i.right,i.bottom,n.left,n.top,n.right,n.bottom,h.COLOR_BUFFER_BIT,m?h.NEAREST:h.LINEAR),h.bindFramebuffer(h.READ_FRAMEBUFFER,t.glFramebuffers[this.CONTEXT_UID].framebuffer)}disposeFramebuffer(t,i){const n=t.glFramebuffers[this.CONTEXT_UID],l=this.gl;if(!n)return;delete t.glFramebuffers[this.CONTEXT_UID];const o=this.managedFramebuffers.indexOf(t);o>=0&&this.managedFramebuffers.splice(o,1),t.disposeRunner.remove(this),i||(l.deleteFramebuffer(n.framebuffer),n.msaaBuffer&&l.deleteRenderbuffer(n.msaaBuffer),n.stencil&&l.deleteRenderbuffer(n.stencil)),n.blitFramebuffer&&this.disposeFramebuffer(n.blitFramebuffer,i)}disposeAll(t){const i=this.managedFramebuffers;this.managedFramebuffers=[];for(let n=0;n<i.length;n++)this.disposeFramebuffer(i[n],t)}forceStencil(){const t=this.current;if(!t)return;const i=t.glFramebuffers[this.CONTEXT_UID];if(!i||i.stencil&&t.stencil)return;t.stencil=!0;const n=t.width,l=t.height,o=this.gl,h=i.stencil=o.createRenderbuffer();o.bindRenderbuffer(o.RENDERBUFFER,h);let c,p;this.renderer.context.webGLVersion===1?(c=o.DEPTH_STENCIL_ATTACHMENT,p=o.DEPTH_STENCIL):t.depth?(c=o.DEPTH_STENCIL_ATTACHMENT,p=o.DEPTH24_STENCIL8):(c=o.STENCIL_ATTACHMENT,p=o.STENCIL_INDEX8),i.msaaBuffer?o.renderbufferStorageMultisample(o.RENDERBUFFER,i.multisample,p,n,l):o.renderbufferStorage(o.RENDERBUFFER,p,n,l),o.framebufferRenderbuffer(o.FRAMEBUFFER,c,o.RENDERBUFFER,h)}reset(){this.current=this.unknownFramebuffer,this.viewport=new Lt}destroy(){this.renderer=null}}Z_.extension={type:pt.RendererSystem,name:"framebuffer"};St.add(Z_);const ld={5126:4,5123:2,5121:1};class K_{constructor(t){this.renderer=t,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const t=this.gl=this.renderer.gl,i=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,i.webGLVersion!==2){let n=this.renderer.context.extensions.vertexArrayObject;gt.PREFER_ENV===Kn.WEBGL_LEGACY&&(n=null),n?(t.createVertexArray=()=>n.createVertexArrayOES(),t.bindVertexArray=l=>n.bindVertexArrayOES(l),t.deleteVertexArray=l=>n.deleteVertexArrayOES(l)):(this.hasVao=!1,t.createVertexArray=()=>null,t.bindVertexArray=()=>null,t.deleteVertexArray=()=>null)}if(i.webGLVersion!==2){const n=t.getExtension("ANGLE_instanced_arrays");n?(t.vertexAttribDivisor=(l,o)=>n.vertexAttribDivisorANGLE(l,o),t.drawElementsInstanced=(l,o,h,c,p)=>n.drawElementsInstancedANGLE(l,o,h,c,p),t.drawArraysInstanced=(l,o,h,c)=>n.drawArraysInstancedANGLE(l,o,h,c)):this.hasInstance=!1}this.canUseUInt32ElementIndex=i.webGLVersion===2||!!i.extensions.uint32ElementIndex}bind(t,i){i=i||this.renderer.shader.shader;const{gl:n}=this;let l=t.glVertexArrayObjects[this.CONTEXT_UID],o=!1;l||(this.managedGeometries[t.id]=t,t.disposeRunner.add(this),t.glVertexArrayObjects[this.CONTEXT_UID]=l={},o=!0);const h=l[i.program.id]||this.initGeometryVao(t,i,o);this._activeGeometry=t,this._activeVao!==h&&(this._activeVao=h,this.hasVao?n.bindVertexArray(h):this.activateVao(t,i.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const t=this._activeGeometry,i=this.renderer.buffer;for(let n=0;n<t.buffers.length;n++){const l=t.buffers[n];i.update(l)}}checkCompatibility(t,i){const n=t.attributes,l=i.attributeData;for(const o in l)if(!n[o])throw new Error(`shader and geometry incompatible, geometry missing the "${o}" attribute`)}getSignature(t,i){const n=t.attributes,l=i.attributeData,o=["g",t.id];for(const h in n)l[h]&&o.push(h,l[h].location);return o.join("-")}initGeometryVao(t,i,n=!0){const l=this.gl,o=this.CONTEXT_UID,h=this.renderer.buffer,c=i.program;c.glPrograms[o]||this.renderer.shader.generateProgram(i),this.checkCompatibility(t,c);const p=this.getSignature(t,c),m=t.glVertexArrayObjects[this.CONTEXT_UID];let g=m[p];if(g)return m[c.id]=g,g;const y=t.buffers,x=t.attributes,_={},E={};for(const w in y)_[w]=0,E[w]=0;for(const w in x)!x[w].size&&c.attributeData[w]?x[w].size=c.attributeData[w].size:x[w].size||console.warn(`PIXI Geometry attribute '${w}' size cannot be determined (likely the bound shader does not have the attribute)`),_[x[w].buffer]+=x[w].size*ld[x[w].type];for(const w in x){const S=x[w],C=S.size;S.stride===void 0&&(_[S.buffer]===C*ld[S.type]?S.stride=0:S.stride=_[S.buffer]),S.start===void 0&&(S.start=E[S.buffer],E[S.buffer]+=C*ld[S.type])}g=l.createVertexArray(),l.bindVertexArray(g);for(let w=0;w<y.length;w++){const S=y[w];h.bind(S),n&&S._glBuffers[o].refCount++}return this.activateVao(t,c),m[c.id]=g,m[p]=g,l.bindVertexArray(null),h.unbind(Qi.ARRAY_BUFFER),g}disposeGeometry(t,i){var c;if(!this.managedGeometries[t.id])return;delete this.managedGeometries[t.id];const n=t.glVertexArrayObjects[this.CONTEXT_UID],l=this.gl,o=t.buffers,h=(c=this.renderer)==null?void 0:c.buffer;if(t.disposeRunner.remove(this),!!n){if(h)for(let p=0;p<o.length;p++){const m=o[p]._glBuffers[this.CONTEXT_UID];m&&(m.refCount--,m.refCount===0&&!i&&h.dispose(o[p],i))}if(!i){for(const p in n)if(p[0]==="g"){const m=n[p];this._activeVao===m&&this.unbind(),l.deleteVertexArray(m)}}delete t.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(t){const i=Object.keys(this.managedGeometries);for(let n=0;n<i.length;n++)this.disposeGeometry(this.managedGeometries[i[n]],t)}activateVao(t,i){const n=this.gl,l=this.CONTEXT_UID,o=this.renderer.buffer,h=t.buffers,c=t.attributes;t.indexBuffer&&o.bind(t.indexBuffer);let p=null;for(const m in c){const g=c[m],y=h[g.buffer],x=y._glBuffers[l];if(i.attributeData[m]){p!==x&&(o.bind(y),p=x);const _=i.attributeData[m].location;if(n.enableVertexAttribArray(_),n.vertexAttribPointer(_,g.size,g.type||n.FLOAT,g.normalized,g.stride,g.start),g.instance)if(this.hasInstance)n.vertexAttribDivisor(_,g.divisor);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}}draw(t,i,n,l){const{gl:o}=this,h=this._activeGeometry;if(h.indexBuffer){const c=h.indexBuffer.data.BYTES_PER_ELEMENT,p=c===2?o.UNSIGNED_SHORT:o.UNSIGNED_INT;c===2||c===4&&this.canUseUInt32ElementIndex?h.instanced?o.drawElementsInstanced(t,i||h.indexBuffer.data.length,p,(n||0)*c,l||1):o.drawElements(t,i||h.indexBuffer.data.length,p,(n||0)*c):console.warn("unsupported index buffer type: uint32")}else h.instanced?o.drawArraysInstanced(t,n,i||h.getSize(),l||1):o.drawArrays(t,n,i||h.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}K_.extension={type:pt.RendererSystem,name:"geometry"};St.add(K_);const V0=new ae;class Q_{constructor(t,i){this._texture=t,this.mapCoord=new ae,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof i>"u"?.5:i,this.isSimple=!1}get texture(){return this._texture}set texture(t){this._texture=t,this._textureID=-1}multiplyUvs(t,i){i===void 0&&(i=t);const n=this.mapCoord;for(let l=0;l<t.length;l+=2){const o=t[l],h=t[l+1];i[l]=o*n.a+h*n.c+n.tx,i[l+1]=o*n.b+h*n.d+n.ty}return i}update(t){const i=this._texture;if(!i||!i.valid||!t&&this._textureID===i._updateID)return!1;this._textureID=i._updateID,this._updateID++;const n=i._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);const l=i.orig,o=i.trim;o&&(V0.set(l.width/o.width,0,0,l.height/o.height,-o.x/o.width,-o.y/o.height),this.mapCoord.append(V0));const h=i.baseTexture,c=this.uClampFrame,p=this.clampMargin/h.resolution,m=this.clampOffset;return c[0]=(i._frame.x+p+m)/h.width,c[1]=(i._frame.y+p+m)/h.height,c[2]=(i._frame.x+i._frame.width-p+m)/h.width,c[3]=(i._frame.y+i._frame.height-p+m)/h.height,this.uClampOffset[0]=m/h.realWidth,this.uClampOffset[1]=m/h.realHeight,this.isSimple=i._frame.width===h.width&&i._frame.height===h.height&&i.rotate===0,!0}}var fS=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,dS=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`;class pS extends He{constructor(t,i,n){let l=null;typeof t!="string"&&i===void 0&&n===void 0&&(l=t,t=void 0,i=void 0,n=void 0),super(t||dS,i||fS,n),this.maskSprite=l,this.maskMatrix=new ae}get maskSprite(){return this._maskSprite}set maskSprite(t){this._maskSprite=t,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(t,i,n,l){const o=this._maskSprite,h=o._texture;h.valid&&(h.uvMatrix||(h.uvMatrix=new Q_(h,0)),h.uvMatrix.update(),this.uniforms.npmAlpha=h.baseTexture.alphaMode?0:1,this.uniforms.mask=h,this.uniforms.otherMatrix=t.calculateSpriteMatrix(this.maskMatrix,o).prepend(h.uvMatrix.mapCoord),this.uniforms.alpha=o.worldAlpha,this.uniforms.maskClamp=h.uvMatrix.uClampFrame,t.applyFilter(this,i,n,l))}}class mS{constructor(t=null){this.type=Ae.NONE,this.autoDetect=!0,this.maskObject=t||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=He.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(t){t?this._filters?this._filters[0]=t:this._filters=[t]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=Ae.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(t){t?(this._stencilCounter=t._stencilCounter,this._scissorCounter=t._scissorCounter,this._scissorRect=t._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}class J_{constructor(t){this.renderer=t,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(t){this.maskStack=t,this.renderer.scissor.setMaskStack(t),this.renderer.stencil.setMaskStack(t)}push(t,i){let n=i;if(!n.isMaskData){const o=this.maskDataPool.pop()||new mS;o.pooled=!0,o.maskObject=i,n=o}const l=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(n.copyCountersOrReset(l),n._colorMask=l?l._colorMask:15,n.autoDetect&&this.detect(n),n._target=t,n.type!==Ae.SPRITE&&this.maskStack.push(n),n.enabled)switch(n.type){case Ae.SCISSOR:this.renderer.scissor.push(n);break;case Ae.STENCIL:this.renderer.stencil.push(n);break;case Ae.SPRITE:n.copyCountersOrReset(null),this.pushSpriteMask(n);break;case Ae.COLOR:this.pushColorMask(n);break}n.type===Ae.SPRITE&&this.maskStack.push(n)}pop(t){const i=this.maskStack.pop();if(!(!i||i._target!==t)){if(i.enabled)switch(i.type){case Ae.SCISSOR:this.renderer.scissor.pop(i);break;case Ae.STENCIL:this.renderer.stencil.pop(i.maskObject);break;case Ae.SPRITE:this.popSpriteMask(i);break;case Ae.COLOR:this.popColorMask(i);break}if(i.reset(),i.pooled&&this.maskDataPool.push(i),this.maskStack.length!==0){const n=this.maskStack[this.maskStack.length-1];n.type===Ae.SPRITE&&n._filters&&(n._filters[0].maskSprite=n.maskObject)}}}detect(t){const i=t.maskObject;i?i.isSprite?t.type=Ae.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(t)?t.type=Ae.SCISSOR:t.type=Ae.STENCIL:t.type=Ae.COLOR}pushSpriteMask(t){const{maskObject:i}=t,n=t._target;let l=t._filters;l||(l=this.alphaMaskPool[this.alphaMaskIndex],l||(l=this.alphaMaskPool[this.alphaMaskIndex]=[new pS])),l[0].resolution=t.resolution,l[0].multisample=t.multisample,l[0].maskSprite=i;const o=n.filterArea;n.filterArea=i.getBounds(!0),this.renderer.filter.push(n,l),n.filterArea=o,t._filters||this.alphaMaskIndex++}popSpriteMask(t){this.renderer.filter.pop(),t._filters?t._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(t){const i=t._colorMask,n=t._colorMask=i&t.colorMask;n!==i&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}popColorMask(t){const i=t._colorMask,n=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;n!==i&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}destroy(){this.renderer=null}}J_.extension={type:pt.RendererSystem,name:"mask"};St.add(J_);class tx{constructor(t){this.renderer=t,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(t){const{gl:i}=this.renderer,n=this.getStackLength();this.maskStack=t;const l=this.getStackLength();l!==n&&(l===0?i.disable(this.glConst):(i.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}const j0=new ae,q0=[],ex=class nu extends tx{constructor(t){super(t),this.glConst=gt.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const t=this.maskStack[this.maskStack.length-1];return t?t._scissorCounter:0}calcScissorRect(t){if(t._scissorRectLocal)return;const i=t._scissorRect,{maskObject:n}=t,{renderer:l}=this,o=l.renderTexture,h=n.getBounds(!0,q0.pop()??new Lt);this.roundFrameToPixels(h,o.current?o.current.resolution:l.resolution,o.sourceFrame,o.destinationFrame,l.projection.transform),i&&h.fit(i),t._scissorRectLocal=h}static isMatrixRotated(t){if(!t)return!1;const{a:i,b:n,c:l,d:o}=t;return(Math.abs(n)>1e-4||Math.abs(l)>1e-4)&&(Math.abs(i)>1e-4||Math.abs(o)>1e-4)}testScissor(t){const{maskObject:i}=t;if(!i.isFastRect||!i.isFastRect()||nu.isMatrixRotated(i.worldTransform)||nu.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(t);const n=t._scissorRectLocal;return n.width>0&&n.height>0}roundFrameToPixels(t,i,n,l,o){nu.isMatrixRotated(o)||(o=o?j0.copyFrom(o):j0.identity(),o.translate(-n.x,-n.y).scale(l.width/n.width,l.height/n.height).translate(l.x,l.y),this.renderer.filter.transformAABB(o,t),t.fit(l),t.x=Math.round(t.x*i),t.y=Math.round(t.y*i),t.width=Math.round(t.width*i),t.height=Math.round(t.height*i))}push(t){t._scissorRectLocal||this.calcScissorRect(t);const{gl:i}=this.renderer;t._scissorRect||i.enable(i.SCISSOR_TEST),t._scissorCounter++,t._scissorRect=t._scissorRectLocal,this._useCurrent()}pop(t){const{gl:i}=this.renderer;t&&q0.push(t._scissorRectLocal),this.getStackLength()>0?this._useCurrent():i.disable(i.SCISSOR_TEST)}_useCurrent(){const t=this.maskStack[this.maskStack.length-1]._scissorRect;let i;this.renderer.renderTexture.current?i=t.y:i=this.renderer.height-t.height-t.y,this.renderer.gl.scissor(t.x,i,t.width,t.height)}};ex.extension={type:pt.RendererSystem,name:"scissor"};let gS=ex;St.add(gS);class ix extends tx{constructor(t){super(t),this.glConst=gt.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const t=this.maskStack[this.maskStack.length-1];return t?t._stencilCounter:0}push(t){const i=t.maskObject,{gl:n}=this.renderer,l=t._stencilCounter;l===0&&(this.renderer.framebuffer.forceStencil(),n.clearStencil(0),n.clear(n.STENCIL_BUFFER_BIT),n.enable(n.STENCIL_TEST)),t._stencilCounter++;const o=t._colorMask;o!==0&&(t._colorMask=0,n.colorMask(!1,!1,!1,!1)),n.stencilFunc(n.EQUAL,l,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.INCR),i.renderable=!0,i.render(this.renderer),this.renderer.batch.flush(),i.renderable=!1,o!==0&&(t._colorMask=o,n.colorMask((o&1)!==0,(o&2)!==0,(o&4)!==0,(o&8)!==0)),this._useCurrent()}pop(t){const i=this.renderer.gl;if(this.getStackLength()===0)i.disable(i.STENCIL_TEST);else{const n=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,l=n?n._colorMask:15;l!==0&&(n._colorMask=0,i.colorMask(!1,!1,!1,!1)),i.stencilOp(i.KEEP,i.KEEP,i.DECR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,l!==0&&(n._colorMask=l,i.colorMask((l&1)!==0,(l&2)!==0,(l&4)!==0,(l&8)!==0)),this._useCurrent()}}_useCurrent(){const t=this.renderer.gl;t.stencilFunc(t.EQUAL,this.getStackLength(),4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP)}}ix.extension={type:pt.RendererSystem,name:"stencil"};St.add(ix);class rx{constructor(t){this.renderer=t,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get(){return zt("7.0.0","renderer.plugins.extract has moved to renderer.extract"),t.extract}},prepare:{enumerable:!1,get(){return zt("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),t.prepare}},interaction:{enumerable:!1,get(){return zt("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),t.events}}})}init(){const t=this.rendererPlugins;for(const i in t)this.plugins[i]=new t[i](this.renderer)}destroy(){for(const t in this.plugins)this.plugins[t].destroy(),this.plugins[t]=null}}rx.extension={type:[pt.RendererSystem,pt.CanvasRendererSystem],name:"_plugin"};St.add(rx);class nx{constructor(t){this.renderer=t,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new ae,this.transform=null}update(t,i,n,l){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=i||this.sourceFrame||t,this.calculateProjection(this.destinationFrame,this.sourceFrame,n,l),this.transform&&this.projectionMatrix.append(this.transform);const o=this.renderer;o.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,o.globalUniforms.update(),o.shader.shader&&o.shader.syncUniformGroup(o.shader.shader.uniforms.globals)}calculateProjection(t,i,n,l){const o=this.projectionMatrix,h=l?-1:1;o.identity(),o.a=1/i.width*2,o.d=h*(1/i.height*2),o.tx=-1-i.x*o.a,o.ty=-h-i.y*o.d}setTransform(t){}destroy(){this.renderer=null}}nx.extension={type:pt.RendererSystem,name:"projection"};St.add(nx);const yS=new op,Y0=new Lt;class sx{constructor(t){this.renderer=t,this._tempMatrix=new ae}generateTexture(t,i){const{region:n,...l}=i||{},o=(n==null?void 0:n.copyTo(Y0))||t.getLocalBounds(Y0,!0),h=l.resolution||this.renderer.resolution;o.width=Math.max(o.width,1/h),o.height=Math.max(o.height,1/h),l.width=o.width,l.height=o.height,l.resolution=h,l.multisample??(l.multisample=this.renderer.multisample);const c=Qn.create(l);this._tempMatrix.tx=-o.x,this._tempMatrix.ty=-o.y;const p=t.transform;return t.transform=yS,this.renderer.render(t,{renderTexture:c,transform:this._tempMatrix,skipUpdateTransform:!!t.parent,blit:!0}),t.transform=p,c}destroy(){}}sx.extension={type:[pt.RendererSystem,pt.CanvasRendererSystem],name:"textureGenerator"};St.add(sx);const Fn=new Lt,nl=new Lt;class ax{constructor(t){this.renderer=t,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new Lt,this.destinationFrame=new Lt,this.viewportFrame=new Lt}contextChange(){var i;const t=(i=this.renderer)==null?void 0:i.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(t&&t.alpha&&t.premultipliedAlpha)}bind(t=null,i,n){const l=this.renderer;this.current=t;let o,h,c;t?(o=t.baseTexture,c=o.resolution,i||(Fn.width=t.frame.width,Fn.height=t.frame.height,i=Fn),n||(nl.x=t.frame.x,nl.y=t.frame.y,nl.width=i.width,nl.height=i.height,n=nl),h=o.framebuffer):(c=l.resolution,i||(Fn.width=l._view.screen.width,Fn.height=l._view.screen.height,i=Fn),n||(n=Fn,n.width=i.width,n.height=i.height));const p=this.viewportFrame;p.x=n.x*c,p.y=n.y*c,p.width=n.width*c,p.height=n.height*c,t||(p.y=l.view.height-(p.y+p.height)),p.ceil(),this.renderer.framebuffer.bind(h,p),this.renderer.projection.update(n,i,c,!h),t?this.renderer.mask.setMaskStack(o.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(i),this.destinationFrame.copyFrom(n)}clear(t,i){const n=this.current?this.current.baseTexture.clear:this.renderer.background.backgroundColor,l=se.shared.setValue(t||n);(this.current&&this.current.baseTexture.alphaMode>0||!this.current&&this._rendererPremultipliedAlpha)&&l.premultiply(l.alpha);const o=this.destinationFrame,h=this.current?this.current.baseTexture:this.renderer._view.screen,c=o.width!==h.width||o.height!==h.height;if(c){let{x:p,y:m,width:g,height:y}=this.viewportFrame;p=Math.round(p),m=Math.round(m),g=Math.round(g),y=Math.round(y),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(p,m,g,y)}this.renderer.framebuffer.clear(l.red,l.green,l.blue,l.alpha,i),c&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}ax.extension={type:pt.RendererSystem,name:"renderTexture"};St.add(ax);class vS{constructor(t,i){this.program=t,this.uniformData=i,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}function _S(s,t){const i={},n=t.getProgramParameter(s,t.ACTIVE_ATTRIBUTES);for(let l=0;l<n;l++){const o=t.getActiveAttrib(s,l);if(o.name.startsWith("gl_"))continue;const h=X_(t,o.type),c={type:h,name:o.name,size:k_(h),location:t.getAttribLocation(s,o.name)};i[o.name]=c}return i}function xS(s,t){const i={},n=t.getProgramParameter(s,t.ACTIVE_UNIFORMS);for(let l=0;l<n;l++){const o=t.getActiveUniform(s,l),h=o.name.replace(/\[.*?\]$/,""),c=!!o.name.match(/\[.*?\]$/),p=X_(t,o.type);i[h]={name:h,index:l,type:p,size:o.size,isArray:c,value:z_(p,o.size)}}return i}function bS(s,t){var c;const i=F0(s,s.VERTEX_SHADER,t.vertexSrc),n=F0(s,s.FRAGMENT_SHADER,t.fragmentSrc),l=s.createProgram();s.attachShader(l,i),s.attachShader(l,n);const o=(c=t.extra)==null?void 0:c.transformFeedbackVaryings;if(o&&(typeof s.transformFeedbackVaryings!="function"?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):s.transformFeedbackVaryings(l,o.names,o.bufferMode==="separate"?s.SEPARATE_ATTRIBS:s.INTERLEAVED_ATTRIBS)),s.linkProgram(l),s.getProgramParameter(l,s.LINK_STATUS)||ZT(s,l,i,n),t.attributeData=_S(l,s),t.uniformData=xS(l,s),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(t.vertexSrc)){const p=Object.keys(t.attributeData);p.sort((m,g)=>m>g?1:-1);for(let m=0;m<p.length;m++)t.attributeData[p[m]].location=m,s.bindAttribLocation(l,m,p[m]);s.linkProgram(l)}s.deleteShader(i),s.deleteShader(n);const h={};for(const p in t.uniformData){const m=t.uniformData[p];h[p]={location:s.getUniformLocation(l,p),value:z_(m.type,m.size)}}return new vS(l,h)}function ES(s,t,i,n,l){i.buffer.update(l)}const TS={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},lx={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:32,mat3:48,mat4:64};function SS(s){const t=s.map(o=>({data:o,offset:0,dataLen:0,dirty:0}));let i=0,n=0,l=0;for(let o=0;o<t.length;o++){const h=t[o];if(i=lx[h.data.type],h.data.size>1&&(i=Math.max(i,16)*h.data.size),h.dataLen=i,n%i!==0&&n<16){const c=n%i%16;n+=c,l+=c}n+i>16?(l=Math.ceil(l/16)*16,h.offset=l,l+=i,n=i):(h.offset=l,n+=i,l+=i)}return l=Math.ceil(l/16)*16,{uboElements:t,size:l}}function AS(s,t){const i=[];for(const n in s)t[n]&&i.push(t[n]);return i.sort((n,l)=>n.index-l.index),i}function wS(s,t){if(!s.autoManage)return{size:0,syncFunc:ES};const i=AS(s.uniforms,t),{uboElements:n,size:l}=SS(i),o=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `];for(let h=0;h<n.length;h++){const c=n[h],p=s.uniforms[c.data.name],m=c.data.name;let g=!1;for(let y=0;y<Js.length;y++){const x=Js[y];if(x.codeUbo&&x.test(c.data,p)){o.push(`offset = ${c.offset/4};`,Js[y].codeUbo(c.data.name,p)),g=!0;break}}if(!g)if(c.data.size>1){const y=k_(c.data.type),x=Math.max(lx[c.data.type]/16,1),_=y/x,E=(4-_%4)%4;o.push(`
                cv = ud.${m}.value;
                v = uv.${m};
                offset = ${c.offset/4};

                t = 0;

                for(var i=0; i < ${c.data.size*x}; i++)
                {
                    for(var j = 0; j < ${_}; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += ${E};
                }

                `)}else{const y=TS[c.data.type];o.push(`
                cv = ud.${m}.value;
                v = uv.${m};
                offset = ${c.offset/4};
                ${y};
                `)}}return o.push(`
       renderer.buffer.update(buffer);
    `),{size:l,syncFunc:new Function("ud","uv","renderer","syncData","buffer",o.join(`
`))}}let CS=0;const jo={textureCount:0,uboCount:0};class ox{constructor(t){this.destroyed=!1,this.renderer=t,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=CS++}systemCheck(){if(!QT())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(t){this.gl=t,this.reset()}bind(t,i){t.disposeRunner.add(this),t.uniforms.globals=this.renderer.globalUniforms;const n=t.program,l=n.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(t);return this.shader=t,this.program!==n&&(this.program=n,this.gl.useProgram(l.program)),i||(jo.textureCount=0,jo.uboCount=0,this.syncUniformGroup(t.uniformGroup,jo)),l}setUniforms(t){const i=this.shader.program,n=i.glPrograms[this.renderer.CONTEXT_UID];i.syncUniforms(n.uniformData,t,this.renderer)}syncUniformGroup(t,i){const n=this.getGlProgram();(!t.static||t.dirtyId!==n.uniformDirtyGroups[t.id])&&(n.uniformDirtyGroups[t.id]=t.dirtyId,this.syncUniforms(t,n,i))}syncUniforms(t,i,n){(t.syncUniforms[this.shader.program.id]||this.createSyncGroups(t))(i.uniformData,t.uniforms,this.renderer,n)}createSyncGroups(t){const i=this.getSignature(t,this.shader.program.uniformData,"u");return this.cache[i]||(this.cache[i]=YT(t,this.shader.program.uniformData)),t.syncUniforms[this.shader.program.id]=this.cache[i],t.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(t,i){const n=this.getGlProgram();if(!t.static||t.dirtyId!==0||!n.uniformGroups[t.id]){t.dirtyId=0;const l=n.uniformGroups[t.id]||this.createSyncBufferGroup(t,n,i);t.buffer.update(),l(n.uniformData,t.uniforms,this.renderer,jo,t.buffer)}this.renderer.buffer.bindBufferBase(t.buffer,n.uniformBufferBindings[i])}createSyncBufferGroup(t,i,n){const{gl:l}=this.renderer;this.renderer.buffer.bind(t.buffer);const o=this.gl.getUniformBlockIndex(i.program,n);i.uniformBufferBindings[n]=this.shader.uniformBindCount,l.uniformBlockBinding(i.program,o,this.shader.uniformBindCount),this.shader.uniformBindCount++;const h=this.getSignature(t,this.shader.program.uniformData,"ubo");let c=this._uboCache[h];if(c||(c=this._uboCache[h]=wS(t,this.shader.program.uniformData)),t.autoManage){const p=new Float32Array(c.size/4);t.buffer.update(p)}return i.uniformGroups[t.id]=c.syncFunc,i.uniformGroups[t.id]}getSignature(t,i,n){const l=t.uniforms,o=[`${n}-`];for(const h in l)o.push(h),i[h]&&o.push(i[h].type);return o.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(t){const i=this.gl,n=t.program,l=bS(i,n);return n.glPrograms[this.renderer.CONTEXT_UID]=l,l}reset(){this.program=null,this.shader=null}disposeShader(t){this.shader===t&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}ox.extension={type:pt.RendererSystem,name:"shader"};St.add(ox);class yu{constructor(t){this.renderer=t}run(t){const{renderer:i}=this;i.runners.init.emit(i.options),t.hello&&console.log(`PixiJS 7.4.3 - ${i.rendererLogId} - https://pixijs.com`),i.resize(i.screen.width,i.screen.height)}destroy(){}}yu.defaultOptions={hello:!1},yu.extension={type:[pt.RendererSystem,pt.CanvasRendererSystem],name:"startup"};St.add(yu);function RS(s,t=[]){return t[Rt.NORMAL]=[s.ONE,s.ONE_MINUS_SRC_ALPHA],t[Rt.ADD]=[s.ONE,s.ONE],t[Rt.MULTIPLY]=[s.DST_COLOR,s.ONE_MINUS_SRC_ALPHA,s.ONE,s.ONE_MINUS_SRC_ALPHA],t[Rt.SCREEN]=[s.ONE,s.ONE_MINUS_SRC_COLOR,s.ONE,s.ONE_MINUS_SRC_ALPHA],t[Rt.OVERLAY]=[s.ONE,s.ONE_MINUS_SRC_ALPHA],t[Rt.DARKEN]=[s.ONE,s.ONE_MINUS_SRC_ALPHA],t[Rt.LIGHTEN]=[s.ONE,s.ONE_MINUS_SRC_ALPHA],t[Rt.COLOR_DODGE]=[s.ONE,s.ONE_MINUS_SRC_ALPHA],t[Rt.COLOR_BURN]=[s.ONE,s.ONE_MINUS_SRC_ALPHA],t[Rt.HARD_LIGHT]=[s.ONE,s.ONE_MINUS_SRC_ALPHA],t[Rt.SOFT_LIGHT]=[s.ONE,s.ONE_MINUS_SRC_ALPHA],t[Rt.DIFFERENCE]=[s.ONE,s.ONE_MINUS_SRC_ALPHA],t[Rt.EXCLUSION]=[s.ONE,s.ONE_MINUS_SRC_ALPHA],t[Rt.HUE]=[s.ONE,s.ONE_MINUS_SRC_ALPHA],t[Rt.SATURATION]=[s.ONE,s.ONE_MINUS_SRC_ALPHA],t[Rt.COLOR]=[s.ONE,s.ONE_MINUS_SRC_ALPHA],t[Rt.LUMINOSITY]=[s.ONE,s.ONE_MINUS_SRC_ALPHA],t[Rt.NONE]=[0,0],t[Rt.NORMAL_NPM]=[s.SRC_ALPHA,s.ONE_MINUS_SRC_ALPHA,s.ONE,s.ONE_MINUS_SRC_ALPHA],t[Rt.ADD_NPM]=[s.SRC_ALPHA,s.ONE,s.ONE,s.ONE],t[Rt.SCREEN_NPM]=[s.SRC_ALPHA,s.ONE_MINUS_SRC_COLOR,s.ONE,s.ONE_MINUS_SRC_ALPHA],t[Rt.SRC_IN]=[s.DST_ALPHA,s.ZERO],t[Rt.SRC_OUT]=[s.ONE_MINUS_DST_ALPHA,s.ZERO],t[Rt.SRC_ATOP]=[s.DST_ALPHA,s.ONE_MINUS_SRC_ALPHA],t[Rt.DST_OVER]=[s.ONE_MINUS_DST_ALPHA,s.ONE],t[Rt.DST_IN]=[s.ZERO,s.SRC_ALPHA],t[Rt.DST_OUT]=[s.ZERO,s.ONE_MINUS_SRC_ALPHA],t[Rt.DST_ATOP]=[s.ONE_MINUS_DST_ALPHA,s.SRC_ALPHA],t[Rt.XOR]=[s.ONE_MINUS_DST_ALPHA,s.ONE_MINUS_SRC_ALPHA],t[Rt.SUBTRACT]=[s.ONE,s.ONE,s.ONE,s.ONE,s.FUNC_REVERSE_SUBTRACT,s.FUNC_ADD],t}const MS=0,DS=1,OS=2,BS=3,NS=4,IS=5,ux=class Ud{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=Rt.NONE,this._blendEq=!1,this.map=[],this.map[MS]=this.setBlend,this.map[DS]=this.setOffset,this.map[OS]=this.setCullFace,this.map[BS]=this.setDepthTest,this.map[NS]=this.setFrontFace,this.map[IS]=this.setDepthMask,this.checks=[],this.defaultState=new er,this.defaultState.blend=!0}contextChange(t){this.gl=t,this.blendModes=RS(t),this.set(this.defaultState),this.reset()}set(t){if(t=t||this.defaultState,this.stateId!==t.data){let i=this.stateId^t.data,n=0;for(;i;)i&1&&this.map[n].call(this,!!(t.data&1<<n)),i=i>>1,n++;this.stateId=t.data}for(let i=0;i<this.checks.length;i++)this.checks[i](this,t)}forceState(t){t=t||this.defaultState;for(let i=0;i<this.map.length;i++)this.map[i].call(this,!!(t.data&1<<i));for(let i=0;i<this.checks.length;i++)this.checks[i](this,t);this.stateId=t.data}setBlend(t){this.updateCheck(Ud.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)}setOffset(t){this.updateCheck(Ud.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(t){this.gl.depthMask(t)}setCullFace(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])}setBlendMode(t){if(t===this.blendMode)return;this.blendMode=t;const i=this.blendModes[t],n=this.gl;i.length===2?n.blendFunc(i[0],i[1]):n.blendFuncSeparate(i[0],i[1],i[2],i[3]),i.length===6?(this._blendEq=!0,n.blendEquationSeparate(i[4],i[5])):this._blendEq&&(this._blendEq=!1,n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD))}setPolygonOffset(t,i){this.gl.polygonOffset(t,i)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(t,i){const n=this.checks.indexOf(t);i&&n===-1?this.checks.push(t):!i&&n!==-1&&this.checks.splice(n,1)}static checkBlendMode(t,i){t.setBlendMode(i.blendMode)}static checkPolygonOffset(t,i){t.setPolygonOffset(1,i.polygonOffset)}destroy(){this.gl=null}};ux.extension={type:pt.RendererSystem,name:"state"};let US=ux;St.add(US);class LS extends gl{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(t){this.addRunners(...t.runners);const i=(t.priority??[]).filter(l=>t.systems[l]),n=[...i,...Object.keys(t.systems).filter(l=>!i.includes(l))];for(const l of n)this.addSystem(t.systems[l],l)}addRunners(...t){t.forEach(i=>{this.runners[i]=new Ui(i)})}addSystem(t,i){const n=new t(this);if(this[i])throw new Error(`Whoops! The name "${i}" is already in use`);this[i]=n,this._systemsHash[i]=n;for(const l in this.runners)this.runners[l].add(n);return this}emitWithCustomOptions(t,i){const n=Object.keys(this._systemsHash);t.items.forEach(l=>{const o=n.find(h=>this._systemsHash[h]===l);l[t.name](i[o])})}destroy(){Object.values(this.runners).forEach(t=>{t.destroy()}),this._systemsHash={}}}const ul=class su{constructor(t){this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=su.defaultMaxIdle,this.checkCountMax=su.defaultCheckCountMax,this.mode=su.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==np.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const t=this.renderer.texture,i=t.managedTextures;let n=!1;for(let l=0;l<i.length;l++){const o=i[l];o.resource&&this.count-o.touched>this.maxIdle&&(t.destroyTexture(o,!0),i[l]=null,n=!0)}if(n){let l=0;for(let o=0;o<i.length;o++)i[o]!==null&&(i[l++]=i[o]);i.length=l}}unload(t){const i=this.renderer.texture,n=t._texture;n&&!n.framebuffer&&i.destroyTexture(n);for(let l=t.children.length-1;l>=0;l--)this.unload(t.children[l])}destroy(){this.renderer=null}};ul.defaultMode=np.AUTO,ul.defaultMaxIdle=3600,ul.defaultCheckCountMax=600,ul.extension={type:pt.RendererSystem,name:"textureGC"};let jn=ul;St.add(jn);class od{constructor(t){this.texture=t,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=wt.UNSIGNED_BYTE,this.internalFormat=ht.RGBA,this.samplerType=0}}function PS(s){let t;return"WebGL2RenderingContext"in globalThis&&s instanceof globalThis.WebGL2RenderingContext?t={[s.RGB]:mt.FLOAT,[s.RGBA]:mt.FLOAT,[s.ALPHA]:mt.FLOAT,[s.LUMINANCE]:mt.FLOAT,[s.LUMINANCE_ALPHA]:mt.FLOAT,[s.R8]:mt.FLOAT,[s.R8_SNORM]:mt.FLOAT,[s.RG8]:mt.FLOAT,[s.RG8_SNORM]:mt.FLOAT,[s.RGB8]:mt.FLOAT,[s.RGB8_SNORM]:mt.FLOAT,[s.RGB565]:mt.FLOAT,[s.RGBA4]:mt.FLOAT,[s.RGB5_A1]:mt.FLOAT,[s.RGBA8]:mt.FLOAT,[s.RGBA8_SNORM]:mt.FLOAT,[s.RGB10_A2]:mt.FLOAT,[s.RGB10_A2UI]:mt.FLOAT,[s.SRGB8]:mt.FLOAT,[s.SRGB8_ALPHA8]:mt.FLOAT,[s.R16F]:mt.FLOAT,[s.RG16F]:mt.FLOAT,[s.RGB16F]:mt.FLOAT,[s.RGBA16F]:mt.FLOAT,[s.R32F]:mt.FLOAT,[s.RG32F]:mt.FLOAT,[s.RGB32F]:mt.FLOAT,[s.RGBA32F]:mt.FLOAT,[s.R11F_G11F_B10F]:mt.FLOAT,[s.RGB9_E5]:mt.FLOAT,[s.R8I]:mt.INT,[s.R8UI]:mt.UINT,[s.R16I]:mt.INT,[s.R16UI]:mt.UINT,[s.R32I]:mt.INT,[s.R32UI]:mt.UINT,[s.RG8I]:mt.INT,[s.RG8UI]:mt.UINT,[s.RG16I]:mt.INT,[s.RG16UI]:mt.UINT,[s.RG32I]:mt.INT,[s.RG32UI]:mt.UINT,[s.RGB8I]:mt.INT,[s.RGB8UI]:mt.UINT,[s.RGB16I]:mt.INT,[s.RGB16UI]:mt.UINT,[s.RGB32I]:mt.INT,[s.RGB32UI]:mt.UINT,[s.RGBA8I]:mt.INT,[s.RGBA8UI]:mt.UINT,[s.RGBA16I]:mt.INT,[s.RGBA16UI]:mt.UINT,[s.RGBA32I]:mt.INT,[s.RGBA32UI]:mt.UINT,[s.DEPTH_COMPONENT16]:mt.FLOAT,[s.DEPTH_COMPONENT24]:mt.FLOAT,[s.DEPTH_COMPONENT32F]:mt.FLOAT,[s.DEPTH_STENCIL]:mt.FLOAT,[s.DEPTH24_STENCIL8]:mt.FLOAT,[s.DEPTH32F_STENCIL8]:mt.FLOAT}:t={[s.RGB]:mt.FLOAT,[s.RGBA]:mt.FLOAT,[s.ALPHA]:mt.FLOAT,[s.LUMINANCE]:mt.FLOAT,[s.LUMINANCE_ALPHA]:mt.FLOAT,[s.DEPTH_STENCIL]:mt.FLOAT},t}function FS(s){let t;return"WebGL2RenderingContext"in globalThis&&s instanceof globalThis.WebGL2RenderingContext?t={[wt.UNSIGNED_BYTE]:{[ht.RGBA]:s.RGBA8,[ht.RGB]:s.RGB8,[ht.RG]:s.RG8,[ht.RED]:s.R8,[ht.RGBA_INTEGER]:s.RGBA8UI,[ht.RGB_INTEGER]:s.RGB8UI,[ht.RG_INTEGER]:s.RG8UI,[ht.RED_INTEGER]:s.R8UI,[ht.ALPHA]:s.ALPHA,[ht.LUMINANCE]:s.LUMINANCE,[ht.LUMINANCE_ALPHA]:s.LUMINANCE_ALPHA},[wt.BYTE]:{[ht.RGBA]:s.RGBA8_SNORM,[ht.RGB]:s.RGB8_SNORM,[ht.RG]:s.RG8_SNORM,[ht.RED]:s.R8_SNORM,[ht.RGBA_INTEGER]:s.RGBA8I,[ht.RGB_INTEGER]:s.RGB8I,[ht.RG_INTEGER]:s.RG8I,[ht.RED_INTEGER]:s.R8I},[wt.UNSIGNED_SHORT]:{[ht.RGBA_INTEGER]:s.RGBA16UI,[ht.RGB_INTEGER]:s.RGB16UI,[ht.RG_INTEGER]:s.RG16UI,[ht.RED_INTEGER]:s.R16UI,[ht.DEPTH_COMPONENT]:s.DEPTH_COMPONENT16},[wt.SHORT]:{[ht.RGBA_INTEGER]:s.RGBA16I,[ht.RGB_INTEGER]:s.RGB16I,[ht.RG_INTEGER]:s.RG16I,[ht.RED_INTEGER]:s.R16I},[wt.UNSIGNED_INT]:{[ht.RGBA_INTEGER]:s.RGBA32UI,[ht.RGB_INTEGER]:s.RGB32UI,[ht.RG_INTEGER]:s.RG32UI,[ht.RED_INTEGER]:s.R32UI,[ht.DEPTH_COMPONENT]:s.DEPTH_COMPONENT24},[wt.INT]:{[ht.RGBA_INTEGER]:s.RGBA32I,[ht.RGB_INTEGER]:s.RGB32I,[ht.RG_INTEGER]:s.RG32I,[ht.RED_INTEGER]:s.R32I},[wt.FLOAT]:{[ht.RGBA]:s.RGBA32F,[ht.RGB]:s.RGB32F,[ht.RG]:s.RG32F,[ht.RED]:s.R32F,[ht.DEPTH_COMPONENT]:s.DEPTH_COMPONENT32F},[wt.HALF_FLOAT]:{[ht.RGBA]:s.RGBA16F,[ht.RGB]:s.RGB16F,[ht.RG]:s.RG16F,[ht.RED]:s.R16F},[wt.UNSIGNED_SHORT_5_6_5]:{[ht.RGB]:s.RGB565},[wt.UNSIGNED_SHORT_4_4_4_4]:{[ht.RGBA]:s.RGBA4},[wt.UNSIGNED_SHORT_5_5_5_1]:{[ht.RGBA]:s.RGB5_A1},[wt.UNSIGNED_INT_2_10_10_10_REV]:{[ht.RGBA]:s.RGB10_A2,[ht.RGBA_INTEGER]:s.RGB10_A2UI},[wt.UNSIGNED_INT_10F_11F_11F_REV]:{[ht.RGB]:s.R11F_G11F_B10F},[wt.UNSIGNED_INT_5_9_9_9_REV]:{[ht.RGB]:s.RGB9_E5},[wt.UNSIGNED_INT_24_8]:{[ht.DEPTH_STENCIL]:s.DEPTH24_STENCIL8},[wt.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[ht.DEPTH_STENCIL]:s.DEPTH32F_STENCIL8}}:t={[wt.UNSIGNED_BYTE]:{[ht.RGBA]:s.RGBA,[ht.RGB]:s.RGB,[ht.ALPHA]:s.ALPHA,[ht.LUMINANCE]:s.LUMINANCE,[ht.LUMINANCE_ALPHA]:s.LUMINANCE_ALPHA},[wt.UNSIGNED_SHORT_5_6_5]:{[ht.RGB]:s.RGB},[wt.UNSIGNED_SHORT_4_4_4_4]:{[ht.RGBA]:s.RGBA},[wt.UNSIGNED_SHORT_5_5_5_1]:{[ht.RGBA]:s.RGBA}},t}class hx{constructor(t){this.renderer=t,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new It,this.hasIntegerTextures=!1}contextChange(){const t=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=FS(t),this.samplerTypes=PS(t);const i=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=i;for(let l=0;l<i;l++)this.boundTextures[l]=null;this.emptyTextures={};const n=new od(t.createTexture());t.bindTexture(t.TEXTURE_2D,n.texture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[t.TEXTURE_2D]=n,this.emptyTextures[t.TEXTURE_CUBE_MAP]=new od(t.createTexture()),t.bindTexture(t.TEXTURE_CUBE_MAP,this.emptyTextures[t.TEXTURE_CUBE_MAP].texture);for(let l=0;l<6;l++)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+l,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,null);t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MIN_FILTER,t.LINEAR);for(let l=0;l<this.boundTextures.length;l++)this.bind(null,l)}bind(t,i=0){const{gl:n}=this;if(t=t==null?void 0:t.castToBaseTexture(),(t==null?void 0:t.valid)&&!t.parentTextureArray){t.touched=this.renderer.textureGC.count;const l=t._glTextures[this.CONTEXT_UID]||this.initTexture(t);this.boundTextures[i]!==t&&(this.currentLocation!==i&&(this.currentLocation=i,n.activeTexture(n.TEXTURE0+i)),n.bindTexture(t.target,l.texture)),l.dirtyId!==t.dirtyId?(this.currentLocation!==i&&(this.currentLocation=i,n.activeTexture(n.TEXTURE0+i)),this.updateTexture(t)):l.dirtyStyleId!==t.dirtyStyleId&&this.updateTextureStyle(t),this.boundTextures[i]=t}else this.currentLocation!==i&&(this.currentLocation=i,n.activeTexture(n.TEXTURE0+i)),n.bindTexture(n.TEXTURE_2D,this.emptyTextures[n.TEXTURE_2D].texture),this.boundTextures[i]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let t=0;t<this.boundTextures.length;t++)this.boundTextures[t]=this.unknownTexture}unbind(t){const{gl:i,boundTextures:n}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let l=0;l<n.length;l++)n[l]===this.unknownTexture&&this.bind(null,l)}for(let l=0;l<n.length;l++)n[l]===t&&(this.currentLocation!==l&&(i.activeTexture(i.TEXTURE0+l),this.currentLocation=l),i.bindTexture(t.target,this.emptyTextures[t.target].texture),n[l]=null)}ensureSamplerType(t){const{boundTextures:i,hasIntegerTextures:n,CONTEXT_UID:l}=this;if(n)for(let o=t-1;o>=0;--o){const h=i[o];h&&h._glTextures[l].samplerType!==mt.FLOAT&&this.renderer.texture.unbind(h)}}initTexture(t){const i=new od(this.gl.createTexture());return i.dirtyId=-1,t._glTextures[this.CONTEXT_UID]=i,this.managedTextures.push(t),t.on("dispose",this.destroyTexture,this),i}initTextureType(t,i){var n;i.internalFormat=((n=this.internalFormats[t.type])==null?void 0:n[t.format])??t.format,i.samplerType=this.samplerTypes[i.internalFormat]??mt.FLOAT,this.webGLVersion===2&&t.type===wt.HALF_FLOAT?i.type=this.gl.HALF_FLOAT:i.type=t.type}updateTexture(t){var l;const i=t._glTextures[this.CONTEXT_UID];if(!i)return;const n=this.renderer;if(this.initTextureType(t,i),(l=t.resource)==null?void 0:l.upload(n,t,i))i.samplerType!==mt.FLOAT&&(this.hasIntegerTextures=!0);else{const o=t.realWidth,h=t.realHeight,c=n.gl;(i.width!==o||i.height!==h||i.dirtyId<0)&&(i.width=o,i.height=h,c.texImage2D(t.target,0,i.internalFormat,o,h,0,t.format,i.type,null))}t.dirtyStyleId!==i.dirtyStyleId&&this.updateTextureStyle(t),i.dirtyId=t.dirtyId}destroyTexture(t,i){const{gl:n}=this;if(t=t.castToBaseTexture(),t._glTextures[this.CONTEXT_UID]&&(this.unbind(t),n.deleteTexture(t._glTextures[this.CONTEXT_UID].texture),t.off("dispose",this.destroyTexture,this),delete t._glTextures[this.CONTEXT_UID],!i)){const l=this.managedTextures.indexOf(t);l!==-1&&Qs(this.managedTextures,l,1)}}updateTextureStyle(t){var n;const i=t._glTextures[this.CONTEXT_UID];i&&((t.mipmap===tr.POW2||this.webGLVersion!==2)&&!t.isPowerOfTwo?i.mipmap=!1:i.mipmap=t.mipmap>=1,this.webGLVersion!==2&&!t.isPowerOfTwo?i.wrapMode=dn.CLAMP:i.wrapMode=t.wrapMode,(n=t.resource)!=null&&n.style(this.renderer,t,i)||this.setStyle(t,i),i.dirtyStyleId=t.dirtyStyleId)}setStyle(t,i){const n=this.gl;if(i.mipmap&&t.mipmap!==tr.ON_MANUAL&&n.generateMipmap(t.target),n.texParameteri(t.target,n.TEXTURE_WRAP_S,i.wrapMode),n.texParameteri(t.target,n.TEXTURE_WRAP_T,i.wrapMode),i.mipmap){n.texParameteri(t.target,n.TEXTURE_MIN_FILTER,t.scaleMode===Ar.LINEAR?n.LINEAR_MIPMAP_LINEAR:n.NEAREST_MIPMAP_NEAREST);const l=this.renderer.context.extensions.anisotropicFiltering;if(l&&t.anisotropicLevel>0&&t.scaleMode===Ar.LINEAR){const o=Math.min(t.anisotropicLevel,n.getParameter(l.MAX_TEXTURE_MAX_ANISOTROPY_EXT));n.texParameterf(t.target,l.TEXTURE_MAX_ANISOTROPY_EXT,o)}}else n.texParameteri(t.target,n.TEXTURE_MIN_FILTER,t.scaleMode===Ar.LINEAR?n.LINEAR:n.NEAREST);n.texParameteri(t.target,n.TEXTURE_MAG_FILTER,t.scaleMode===Ar.LINEAR?n.LINEAR:n.NEAREST)}destroy(){this.renderer=null}}hx.extension={type:pt.RendererSystem,name:"texture"};St.add(hx);class cx{constructor(t){this.renderer=t}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(t){const{gl:i,CONTEXT_UID:n}=this,l=t._glTransformFeedbacks[n]||this.createGLTransformFeedback(t);i.bindTransformFeedback(i.TRANSFORM_FEEDBACK,l)}unbind(){const{gl:t}=this;t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(t,i){const{gl:n,renderer:l}=this;i&&l.shader.bind(i),n.beginTransformFeedback(t)}endTransformFeedback(){const{gl:t}=this;t.endTransformFeedback()}createGLTransformFeedback(t){const{gl:i,renderer:n,CONTEXT_UID:l}=this,o=i.createTransformFeedback();t._glTransformFeedbacks[l]=o,i.bindTransformFeedback(i.TRANSFORM_FEEDBACK,o);for(let h=0;h<t.buffers.length;h++){const c=t.buffers[h];c&&(n.buffer.update(c),c._glBuffers[l].refCount++,i.bindBufferBase(i.TRANSFORM_FEEDBACK_BUFFER,h,c._glBuffers[l].buffer||null))}return i.bindTransformFeedback(i.TRANSFORM_FEEDBACK,null),t.disposeRunner.add(this),o}disposeTransformFeedback(t,i){const n=t._glTransformFeedbacks[this.CONTEXT_UID],l=this.gl;t.disposeRunner.remove(this);const o=this.renderer.buffer;if(o)for(let h=0;h<t.buffers.length;h++){const c=t.buffers[h];if(!c)continue;const p=c._glBuffers[this.CONTEXT_UID];p&&(p.refCount--,p.refCount===0&&!i&&o.dispose(c,i))}n&&(i||l.deleteTransformFeedback(n),delete t._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}cx.extension={type:pt.RendererSystem,name:"transformFeedback"};St.add(cx);class vu{constructor(t){this.renderer=t}init(t){this.screen=new Lt(0,0,t.width,t.height),this.element=t.view||gt.ADAPTER.createCanvas(),this.resolution=t.resolution||gt.RESOLUTION,this.autoDensity=!!t.autoDensity}resizeView(t,i){this.element.width=Math.round(t*this.resolution),this.element.height=Math.round(i*this.resolution);const n=this.element.width/this.resolution,l=this.element.height/this.resolution;this.screen.width=n,this.screen.height=l,this.autoDensity&&(this.element.style.width=`${n}px`,this.element.style.height=`${l}px`),this.renderer.emit("resize",n,l),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(t){var i;t&&((i=this.element.parentNode)==null||i.removeChild(this.element)),this.renderer=null,this.element=null,this.screen=null}}vu.defaultOptions={width:800,height:600,resolution:void 0,autoDensity:!1},vu.extension={type:[pt.RendererSystem,pt.CanvasRendererSystem],name:"_view"};St.add(vu);gt.PREFER_ENV=Kn.WEBGL2;gt.STRICT_TEXTURE_CACHE=!1;gt.RENDER_OPTIONS={...gu.defaultOptions,...mu.defaultOptions,...vu.defaultOptions,...yu.defaultOptions};Object.defineProperties(gt,{WRAP_MODE:{get(){return It.defaultOptions.wrapMode},set(s){zt("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),It.defaultOptions.wrapMode=s}},SCALE_MODE:{get(){return It.defaultOptions.scaleMode},set(s){zt("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),It.defaultOptions.scaleMode=s}},MIPMAP_TEXTURES:{get(){return It.defaultOptions.mipmap},set(s){zt("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),It.defaultOptions.mipmap=s}},ANISOTROPIC_LEVEL:{get(){return It.defaultOptions.anisotropicLevel},set(s){zt("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),It.defaultOptions.anisotropicLevel=s}},FILTER_RESOLUTION:{get(){return zt("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),He.defaultResolution},set(s){He.defaultResolution=s}},FILTER_MULTISAMPLE:{get(){return zt("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),He.defaultMultisample},set(s){He.defaultMultisample=s}},SPRITE_MAX_TEXTURES:{get(){return Vn.defaultMaxTextures},set(s){zt("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),Vn.defaultMaxTextures=s}},SPRITE_BATCH_SIZE:{get(){return Vn.defaultBatchSize},set(s){zt("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),Vn.defaultBatchSize=s}},CAN_UPLOAD_SAME_BUFFER:{get(){return Vn.canUploadSameBuffer},set(s){zt("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),Vn.canUploadSameBuffer=s}},GC_MODE:{get(){return jn.defaultMode},set(s){zt("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),jn.defaultMode=s}},GC_MAX_IDLE:{get(){return jn.defaultMaxIdle},set(s){zt("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),jn.defaultMaxIdle=s}},GC_MAX_CHECK_COUNT:{get(){return jn.defaultCheckCountMax},set(s){zt("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),jn.defaultCheckCountMax=s}},PRECISION_VERTEX:{get(){return Rr.defaultVertexPrecision},set(s){zt("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),Rr.defaultVertexPrecision=s}},PRECISION_FRAGMENT:{get(){return Rr.defaultFragmentPrecision},set(s){zt("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),Rr.defaultFragmentPrecision=s}}});var Zn=(s=>(s[s.INTERACTION=50]="INTERACTION",s[s.HIGH=25]="HIGH",s[s.NORMAL=0]="NORMAL",s[s.LOW=-25]="LOW",s[s.UTILITY=-50]="UTILITY",s))(Zn||{});class ud{constructor(t,i=null,n=0,l=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=t,this.context=i,this.priority=n,this.once=l}match(t,i=null){return this.fn===t&&this.context===i}emit(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));const i=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),i}connect(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this}destroy(t=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const i=this.next;return this.next=t?null:i,this.previous=null,i}}const fx=class ui{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new ud(null,null,1/0),this.deltaMS=1/ui.targetFPMS,this.elapsedMS=1/ui.targetFPMS,this._tick=t=>{this._requestId=null,this.started&&(this.update(t),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(t,i,n=Zn.NORMAL){return this._addListener(new ud(t,i,n))}addOnce(t,i,n=Zn.NORMAL){return this._addListener(new ud(t,i,n,!0))}_addListener(t){let i=this._head.next,n=this._head;if(!i)t.connect(n);else{for(;i;){if(t.priority>i.priority){t.connect(n);break}n=i,i=i.next}t.previous||t.connect(n)}return this._startIfPossible(),this}remove(t,i){let n=this._head.next;for(;n;)n.match(t,i)?n=n.destroy():n=n.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let t=0,i=this._head;for(;i=i.next;)t++;return t}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let t=this._head.next;for(;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}}update(t=performance.now()){let i;if(t>this.lastTime){if(i=this.elapsedMS=t-this.lastTime,i>this._maxElapsedMS&&(i=this._maxElapsedMS),i*=this.speed,this._minElapsedMS){const o=t-this._lastFrame|0;if(o<this._minElapsedMS)return;this._lastFrame=t-o%this._minElapsedMS}this.deltaMS=i,this.deltaTime=this.deltaMS*ui.targetFPMS;const n=this._head;let l=n.next;for(;l;)l=l.emit(this.deltaTime);n.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(t){const i=Math.min(this.maxFPS,t),n=Math.min(Math.max(0,i)/1e3,ui.targetFPMS);this._maxElapsedMS=1/n}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(t){if(t===0)this._minElapsedMS=0;else{const i=Math.max(this.minFPS,t);this._minElapsedMS=1/(i/1e3)}}static get shared(){if(!ui._shared){const t=ui._shared=new ui;t.autoStart=!0,t._protected=!0}return ui._shared}static get system(){if(!ui._system){const t=ui._system=new ui;t.autoStart=!0,t._protected=!0}return ui._system}};fx.targetFPMS=.06;let hi=fx;Object.defineProperties(gt,{TARGET_FPMS:{get(){return hi.targetFPMS},set(s){zt("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),hi.targetFPMS=s}}});class dx{static init(t){t=Object.assign({autoStart:!0,sharedTicker:!1},t),Object.defineProperty(this,"ticker",{set(i){this._ticker&&this._ticker.remove(this.render,this),this._ticker=i,i&&i.add(this.render,this,Zn.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=t.sharedTicker?hi.shared:new hi,t.autoStart&&this.start()}static destroy(){if(this._ticker){const t=this._ticker;this.ticker=null,t.destroy()}}}dx.extension=pt.Application;St.add(dx);const px=[];St.handleByList(pt.Renderer,px);function GS(s){for(const t of px)if(t.test(s))return new t(s);throw new Error("Unable to auto-detect a suitable renderer.")}var zS=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,HS=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const kS=zS,mx=HS;class gx{constructor(t){this.renderer=t}contextChange(t){let i;if(this.renderer.context.webGLVersion===1){const n=t.getParameter(t.FRAMEBUFFER_BINDING);t.bindFramebuffer(t.FRAMEBUFFER,null),i=t.getParameter(t.SAMPLES),t.bindFramebuffer(t.FRAMEBUFFER,n)}else{const n=t.getParameter(t.DRAW_FRAMEBUFFER_BINDING);t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),i=t.getParameter(t.SAMPLES),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,n)}i>=Te.HIGH?this.multisample=Te.HIGH:i>=Te.MEDIUM?this.multisample=Te.MEDIUM:i>=Te.LOW?this.multisample=Te.LOW:this.multisample=Te.NONE}destroy(){}}gx.extension={type:pt.RendererSystem,name:"_multisample"};St.add(gx);class XS{constructor(t){this.buffer=t||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}class yx{constructor(t){this.renderer=t,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(t){const{gl:i,CONTEXT_UID:n}=this,l=t._glBuffers[n]||this.createGLBuffer(t);i.bindBuffer(t.type,l.buffer)}unbind(t){const{gl:i}=this;i.bindBuffer(t,null)}bindBufferBase(t,i){const{gl:n,CONTEXT_UID:l}=this;if(this.boundBufferBases[i]!==t){const o=t._glBuffers[l]||this.createGLBuffer(t);this.boundBufferBases[i]=t,n.bindBufferBase(n.UNIFORM_BUFFER,i,o.buffer)}}bindBufferRange(t,i,n){const{gl:l,CONTEXT_UID:o}=this;n=n||0;const h=t._glBuffers[o]||this.createGLBuffer(t);l.bindBufferRange(l.UNIFORM_BUFFER,i||0,h.buffer,n*256,256)}update(t){const{gl:i,CONTEXT_UID:n}=this,l=t._glBuffers[n]||this.createGLBuffer(t);if(t._updateID!==l.updateID)if(l.updateID=t._updateID,i.bindBuffer(t.type,l.buffer),l.byteLength>=t.data.byteLength)i.bufferSubData(t.type,0,t.data);else{const o=t.static?i.STATIC_DRAW:i.DYNAMIC_DRAW;l.byteLength=t.data.byteLength,i.bufferData(t.type,t.data,o)}}dispose(t,i){if(!this.managedBuffers[t.id])return;delete this.managedBuffers[t.id];const n=t._glBuffers[this.CONTEXT_UID],l=this.gl;t.disposeRunner.remove(this),n&&(i||l.deleteBuffer(n.buffer),delete t._glBuffers[this.CONTEXT_UID])}disposeAll(t){const i=Object.keys(this.managedBuffers);for(let n=0;n<i.length;n++)this.dispose(this.managedBuffers[i[n]],t)}createGLBuffer(t){const{CONTEXT_UID:i,gl:n}=this;return t._glBuffers[i]=new XS(n.createBuffer()),this.managedBuffers[t.id]=t,t.disposeRunner.add(this),t._glBuffers[i]}}yx.extension={type:pt.RendererSystem,name:"buffer"};St.add(yx);class vx{constructor(t){this.renderer=t}render(t,i){const n=this.renderer;let l,o,h,c;if(i&&(l=i.renderTexture,o=i.clear,h=i.transform,c=i.skipUpdateTransform),this.renderingToScreen=!l,n.runners.prerender.emit(),n.emit("prerender"),n.projection.transform=h,!n.context.isLost){if(l||(this.lastObjectRendered=t),!c){const p=t.enableTempParent();t.updateTransform(),t.disableTempParent(p)}n.renderTexture.bind(l),n.batch.currentRenderer.start(),(o??n.background.clearBeforeRender)&&n.renderTexture.clear(),t.render(n),n.batch.currentRenderer.flush(),l&&(i.blit&&n.framebuffer.blit(),l.baseTexture.update()),n.runners.postrender.emit(),n.projection.transform=null,n.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}vx.extension={type:pt.RendererSystem,name:"objectRenderer"};St.add(vx);const au=class Ld extends LS{constructor(t){super(),this.type=b_.WEBGL,t=Object.assign({},gt.RENDER_OPTIONS,t),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new Li({projectionMatrix:new ae},!0);const i={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:Ld.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(i),"useContextAlpha"in t&&(zt("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),t.premultipliedAlpha=t.useContextAlpha&&t.useContextAlpha!=="notMultiplied",t.backgroundAlpha=t.useContextAlpha===!1?1:t.backgroundAlpha),this._plugin.rendererPlugins=Ld.__plugins,this.options=t,this.startup.run(this.options)}static test(t){return t!=null&&t.forceCanvas?!1:fT()}render(t,i){this.objectRenderer.render(t,i)}resize(t,i){this._view.resizeView(t,i)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(t=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:t}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(t){this._view.resolution=t,this.runners.resolutionChange.emit(t)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return`WebGL ${this.context.webGLVersion}`}get clearBeforeRender(){return zt("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return zt("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return zt("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return zt("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(t){zt("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=t}get backgroundAlpha(){return zt("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha}set backgroundAlpha(t){zt("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=t}get powerPreference(){return zt("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(t,i){return this.textureGenerator.generateTexture(t,i)}};au.extension={type:pt.Renderer,priority:1},au.__plugins={},au.__systems={};let hp=au;St.handleByMap(pt.RendererPlugin,hp.__plugins);St.handleByMap(pt.RendererSystem,hp.__systems);St.add(hp);class _x extends ml{constructor(t,i){const{width:n,height:l}=i||{};super(n,l),this.items=[],this.itemDirtyIds=[];for(let o=0;o<t;o++){const h=new It;this.items.push(h),this.itemDirtyIds.push(-2)}this.length=t,this._load=null,this.baseTexture=null}initFromArray(t,i){for(let n=0;n<this.length;n++)t[n]&&(t[n].castToBaseTexture?this.addBaseTextureAt(t[n].castToBaseTexture(),n):t[n]instanceof ml?this.addResourceAt(t[n],n):this.addResourceAt(P_(t[n],i),n))}dispose(){for(let t=0,i=this.length;t<i;t++)this.items[t].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(t,i){if(!this.items[i])throw new Error(`Index ${i} is out of bounds`);return t.valid&&!this.valid&&this.resize(t.width,t.height),this.items[i].setResource(t),this}bind(t){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");super.bind(t);for(let i=0;i<this.length;i++)this.items[i].parentTextureArray=t,this.items[i].on("update",t.update,t)}unbind(t){super.unbind(t);for(let i=0;i<this.length;i++)this.items[i].parentTextureArray=null,this.items[i].off("update",t.update,t)}load(){if(this._load)return this._load;const t=this.items.map(i=>i.resource).filter(i=>i).map(i=>i.load());return this._load=Promise.all(t).then(()=>{const{realWidth:i,realHeight:n}=this.items[0];return this.resize(i,n),this.update(),Promise.resolve(this)}),this._load}}class VS extends _x{constructor(t,i){const{width:n,height:l}=i||{};let o,h;Array.isArray(t)?(o=t,h=t.length):h=t,super(h,{width:n,height:l}),o&&this.initFromArray(o,i)}addBaseTextureAt(t,i){if(t.resource)this.addResourceAt(t.resource,i);else throw new Error("ArrayResource does not support RenderTexture");return this}bind(t){super.bind(t),t.target=Ks.TEXTURE_2D_ARRAY}upload(t,i,n){const{length:l,itemDirtyIds:o,items:h}=this,{gl:c}=t;n.dirtyId<0&&c.texImage3D(c.TEXTURE_2D_ARRAY,0,n.internalFormat,this._width,this._height,l,0,i.format,n.type,null);for(let p=0;p<l;p++){const m=h[p];o[p]<m.dirtyId&&(o[p]=m.dirtyId,m.valid&&c.texSubImage3D(c.TEXTURE_2D_ARRAY,0,0,0,p,m.resource.width,m.resource.height,1,i.format,n.type,m.resource.source))}return!0}}class jS extends Dr{constructor(t){super(t)}static test(t){const{OffscreenCanvas:i}=globalThis;return i&&t instanceof i?!0:globalThis.HTMLCanvasElement&&t instanceof HTMLCanvasElement}}const xx=class hl extends _x{constructor(t,i){const{width:n,height:l,autoLoad:o,linkBaseTexture:h}=i||{};if(t&&t.length!==hl.SIDES)throw new Error(`Invalid length. Got ${t.length}, expected 6`);super(6,{width:n,height:l});for(let c=0;c<hl.SIDES;c++)this.items[c].target=Ks.TEXTURE_CUBE_MAP_POSITIVE_X+c;this.linkBaseTexture=h!==!1,t&&this.initFromArray(t,i),o!==!1&&this.load()}bind(t){super.bind(t),t.target=Ks.TEXTURE_CUBE_MAP}addBaseTextureAt(t,i,n){if(n===void 0&&(n=this.linkBaseTexture),!this.items[i])throw new Error(`Index ${i} is out of bounds`);if(!this.linkBaseTexture||t.parentTextureArray||Object.keys(t._glTextures).length>0)if(t.resource)this.addResourceAt(t.resource,i);else throw new Error("CubeResource does not support copying of renderTexture.");else t.target=Ks.TEXTURE_CUBE_MAP_POSITIVE_X+i,t.parentTextureArray=this.baseTexture,this.items[i]=t;return t.valid&&!this.valid&&this.resize(t.realWidth,t.realHeight),this.items[i]=t,this}upload(t,i,n){const l=this.itemDirtyIds;for(let o=0;o<hl.SIDES;o++){const h=this.items[o];(l[o]<h.dirtyId||n.dirtyId<i.dirtyId)&&(h.valid&&h.resource?(h.resource.upload(t,h,n),l[o]=h.dirtyId):l[o]<-1&&(t.gl.texImage2D(h.target,0,n.internalFormat,i.realWidth,i.realHeight,0,i.format,n.type,null),l[o]=-1))}return!0}static test(t){return Array.isArray(t)&&t.length===hl.SIDES}};xx.SIDES=6;let qS=xx;class Zs extends Dr{constructor(t,i){i=i||{};let n,l,o;typeof t=="string"?(n=Zs.EMPTY,l=t,o=!0):(n=t,l=null,o=!1),super(n),this.url=l,this.crossOrigin=i.crossOrigin??!0,this.alphaMode=typeof i.alphaMode=="number"?i.alphaMode:null,this.ownsImageBitmap=i.ownsImageBitmap??o,this._load=null,i.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(async(t,i)=>{if(this.url===null){t(this);return}try{const n=await gt.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;const l=await n.blob();if(this.destroyed)return;const o=await createImageBitmap(l,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===Je.UNPACK?"premultiply":"none"});if(this.destroyed){o.close();return}this.source=o,this.update(),t(this)}catch(n){if(this.destroyed)return;i(n),this.onError.emit(n)}}),this._load)}upload(t,i,n){return this.source instanceof ImageBitmap?(typeof this.alphaMode=="number"&&(i.alphaMode=this.alphaMode),super.upload(t,i,n)):(this.load(),!1)}dispose(){this.ownsImageBitmap&&this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(t){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&(typeof t=="string"||t instanceof ImageBitmap)}static get EMPTY(){return Zs._EMPTY=Zs._EMPTY??gt.ADAPTER.createCanvas(0,0),Zs._EMPTY}}const Pd=class lu extends Dr{constructor(t,i){i=i||{},super(gt.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=t,this.scale=i.scale||1,this._overrideWidth=i.width,this._overrideHeight=i.height,this._resolve=null,this._crossorigin=i.crossorigin,this._load=null,i.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(t=>{if(this._resolve=()=>{this.update(),t(this)},lu.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`}this._loadSvg()}),this._load)}_loadSvg(){const t=new Image;Dr.crossOrigin(t,this.svg,this._crossorigin),t.src=this.svg,t.onerror=i=>{this._resolve&&(t.onerror=null,this.onError.emit(i))},t.onload=()=>{if(!this._resolve)return;const i=t.width,n=t.height;if(!i||!n)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let l=i*this.scale,o=n*this.scale;(this._overrideWidth||this._overrideHeight)&&(l=this._overrideWidth||this._overrideHeight/n*i,o=this._overrideHeight||this._overrideWidth/i*n),l=Math.round(l),o=Math.round(o);const h=this.source;h.width=l,h.height=o,h._pixiId=`canvas_${$n()}`,h.getContext("2d").drawImage(t,0,0,i,n,0,0,l,o),this._resolve(),this._resolve=null}}static getSize(t){const i=lu.SVG_SIZE.exec(t),n={};return i&&(n[i[1]]=Math.round(parseFloat(i[3])),n[i[5]]=Math.round(parseFloat(i[7]))),n}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(t,i){return i==="svg"||typeof t=="string"&&t.startsWith("data:image/svg+xml")||typeof t=="string"&&lu.SVG_XML.test(t)}};Pd.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,Pd.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;let Fd=Pd;class YS extends Dr{constructor(t){super(t)}static test(t){return!!globalThis.VideoFrame&&t instanceof globalThis.VideoFrame}}const Gd=class zd extends Dr{constructor(t,i){if(i=i||{},!(t instanceof HTMLVideoElement)){const n=document.createElement("video");i.autoLoad!==!1&&n.setAttribute("preload","auto"),i.playsinline!==!1&&(n.setAttribute("webkit-playsinline",""),n.setAttribute("playsinline","")),i.muted===!0&&(n.setAttribute("muted",""),n.muted=!0),i.loop===!0&&n.setAttribute("loop",""),i.autoPlay!==!1&&n.setAttribute("autoplay",""),typeof t=="string"&&(t=[t]);const l=t[0].src||t[0];Dr.crossOrigin(n,l,i.crossorigin);for(let o=0;o<t.length;++o){const h=document.createElement("source");let{src:c,mime:p}=t[o];if(c=c||t[o],c.startsWith("data:"))p=c.slice(5,c.indexOf(";"));else if(!c.startsWith("blob:")){const m=c.split("?").shift().toLowerCase(),g=m.slice(m.lastIndexOf(".")+1);p=p||zd.MIME_TYPES[g]||`video/${g}`}h.src=c,p&&(h.type=p),n.appendChild(h)}t=n}super(t),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=i.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=i.autoPlay!==!1,this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),i.autoLoad!==!1&&this.load()}update(t=0){if(!this.destroyed){if(this._updateFPS){const i=hi.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-i)}(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}_videoFrameRequestCallback(){this.update(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback)}load(){if(this._load)return this._load;const t=this.source;return(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),t.addEventListener("play",this._onPlayStart),t.addEventListener("pause",this._onPlayStop),t.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._onCanPlay():(t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlay),t.addEventListener("error",this._onError,!0)),this._load=new Promise((i,n)=>{this.valid?i(this):(this._resolve=i,this._reject=n,t.load())}),this._load}_onError(t){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(t),this._reject&&(this._reject(t),this._reject=null,this._resolve=null)}_isSourcePlaying(){const t=this.source;return!t.paused&&!t.ended}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0)}_onCanPlay(){const t=this.source;t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlay);const i=this.valid;this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0,!i&&this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&t.play()}dispose(){this._configureAutoUpdate();const t=this.source;t&&(t.removeEventListener("play",this._onPlayStart),t.removeEventListener("pause",this._onPlayStop),t.removeEventListener("seeked",this._onSeeked),t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlay),t.removeEventListener("error",this._onError,!0),t.pause(),t.src="",t.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(t){t!==this._autoUpdate&&(this._autoUpdate=t,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(t){t!==this._updateFPS&&(this._updateFPS=t,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.source.requestVideoFrameCallback?(this._isConnectedToTicker&&(hi.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(hi.shared.add(this.update,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(hi.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(t,i){return globalThis.HTMLVideoElement&&t instanceof HTMLVideoElement||zd.TYPES.includes(i)}};Gd.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],Gd.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let bx=Gd;wd.push(Zs,q_,jS,bx,YS,Fd,Mu,qS,VS);class _u{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(t){return this.minX>this.maxX||this.minY>this.maxY?Lt.EMPTY:(t=t||new Lt(0,0,1,1),t.x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)}addPoint(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)}addPointMatrix(t,i){const{a:n,b:l,c:o,d:h,tx:c,ty:p}=t,m=n*i.x+o*i.y+c,g=l*i.x+h*i.y+p;this.minX=Math.min(this.minX,m),this.maxX=Math.max(this.maxX,m),this.minY=Math.min(this.minY,g),this.maxY=Math.max(this.maxY,g)}addQuad(t){let i=this.minX,n=this.minY,l=this.maxX,o=this.maxY,h=t[0],c=t[1];i=h<i?h:i,n=c<n?c:n,l=h>l?h:l,o=c>o?c:o,h=t[2],c=t[3],i=h<i?h:i,n=c<n?c:n,l=h>l?h:l,o=c>o?c:o,h=t[4],c=t[5],i=h<i?h:i,n=c<n?c:n,l=h>l?h:l,o=c>o?c:o,h=t[6],c=t[7],i=h<i?h:i,n=c<n?c:n,l=h>l?h:l,o=c>o?c:o,this.minX=i,this.minY=n,this.maxX=l,this.maxY=o}addFrame(t,i,n,l,o){this.addFrameMatrix(t.worldTransform,i,n,l,o)}addFrameMatrix(t,i,n,l,o){const h=t.a,c=t.b,p=t.c,m=t.d,g=t.tx,y=t.ty;let x=this.minX,_=this.minY,E=this.maxX,w=this.maxY,S=h*i+p*n+g,C=c*i+m*n+y;x=S<x?S:x,_=C<_?C:_,E=S>E?S:E,w=C>w?C:w,S=h*l+p*n+g,C=c*l+m*n+y,x=S<x?S:x,_=C<_?C:_,E=S>E?S:E,w=C>w?C:w,S=h*i+p*o+g,C=c*i+m*o+y,x=S<x?S:x,_=C<_?C:_,E=S>E?S:E,w=C>w?C:w,S=h*l+p*o+g,C=c*l+m*o+y,x=S<x?S:x,_=C<_?C:_,E=S>E?S:E,w=C>w?C:w,this.minX=x,this.minY=_,this.maxX=E,this.maxY=w}addVertexData(t,i,n){let l=this.minX,o=this.minY,h=this.maxX,c=this.maxY;for(let p=i;p<n;p+=2){const m=t[p],g=t[p+1];l=m<l?m:l,o=g<o?g:o,h=m>h?m:h,c=g>c?g:c}this.minX=l,this.minY=o,this.maxX=h,this.maxY=c}addVertices(t,i,n,l){this.addVerticesMatrix(t.worldTransform,i,n,l)}addVerticesMatrix(t,i,n,l,o=0,h=o){const c=t.a,p=t.b,m=t.c,g=t.d,y=t.tx,x=t.ty;let _=this.minX,E=this.minY,w=this.maxX,S=this.maxY;for(let C=n;C<l;C+=2){const I=i[C],O=i[C+1],U=c*I+m*O+y,B=g*O+p*I+x;_=Math.min(_,U-o),w=Math.max(w,U+o),E=Math.min(E,B-h),S=Math.max(S,B+h)}this.minX=_,this.minY=E,this.maxX=w,this.maxY=S}addBounds(t){const i=this.minX,n=this.minY,l=this.maxX,o=this.maxY;this.minX=t.minX<i?t.minX:i,this.minY=t.minY<n?t.minY:n,this.maxX=t.maxX>l?t.maxX:l,this.maxY=t.maxY>o?t.maxY:o}addBoundsMask(t,i){const n=t.minX>i.minX?t.minX:i.minX,l=t.minY>i.minY?t.minY:i.minY,o=t.maxX<i.maxX?t.maxX:i.maxX,h=t.maxY<i.maxY?t.maxY:i.maxY;if(n<=o&&l<=h){const c=this.minX,p=this.minY,m=this.maxX,g=this.maxY;this.minX=n<c?n:c,this.minY=l<p?l:p,this.maxX=o>m?o:m,this.maxY=h>g?h:g}}addBoundsMatrix(t,i){this.addFrameMatrix(i,t.minX,t.minY,t.maxX,t.maxY)}addBoundsArea(t,i){const n=t.minX>i.x?t.minX:i.x,l=t.minY>i.y?t.minY:i.y,o=t.maxX<i.x+i.width?t.maxX:i.x+i.width,h=t.maxY<i.y+i.height?t.maxY:i.y+i.height;if(n<=o&&l<=h){const c=this.minX,p=this.minY,m=this.maxX,g=this.maxY;this.minX=n<c?n:c,this.minY=l<p?l:p,this.maxX=o>m?o:m,this.maxY=h>g?h:g}}pad(t=0,i=t){this.isEmpty()||(this.minX-=t,this.maxX+=t,this.minY-=i,this.maxY+=i)}addFramePad(t,i,n,l,o,h){t-=o,i-=h,n+=o,l+=h,this.minX=this.minX<t?this.minX:t,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<i?this.minY:i,this.maxY=this.maxY>l?this.maxY:l}}class he extends gl{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new op,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new _u,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(t){const i=Object.keys(t);for(let n=0;n<i.length;++n){const l=i[n];Object.defineProperty(he.prototype,l,Object.getOwnPropertyDescriptor(t,l))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(t,i){return t||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),i||(this._boundsRect||(this._boundsRect=new Lt),i=this._boundsRect),this._bounds.getRectangle(i)}getLocalBounds(t){t||(this._localBoundsRect||(this._localBoundsRect=new Lt),t=this._localBoundsRect),this._localBounds||(this._localBounds=new _u);const i=this.transform,n=this.parent;this.parent=null,this._tempDisplayObjectParent.worldAlpha=(n==null?void 0:n.worldAlpha)??1,this.transform=this._tempDisplayObjectParent.transform;const l=this._bounds,o=this._boundsID;this._bounds=this._localBounds;const h=this.getBounds(!1,t);return this.parent=n,this.transform=i,this._bounds=l,this._bounds.updateID+=this._boundsID-o,h}toGlobal(t,i,n=!1){return n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(t,i)}toLocal(t,i,n,l){return i&&(t=i.toGlobal(t,n,l)),l||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(t,n)}setParent(t){if(!t||!t.addChild)throw new Error("setParent: Argument must be a Container");return t.addChild(this),t}removeFromParent(){var t;(t=this.parent)==null||t.removeChild(this)}setTransform(t=0,i=0,n=1,l=1,o=0,h=0,c=0,p=0,m=0){return this.position.x=t,this.position.y=i,this.scale.x=n||1,this.scale.y=l||1,this.rotation=o,this.skew.x=h,this.skew.y=c,this.pivot.x=p,this.pivot.y=m,this}destroy(t){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.eventMode="auto",this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new WS),this.tempDisplayObjectParent}enableTempParent(){const t=this.parent;return this.parent=this._tempDisplayObjectParent,t}disableTempParent(t){this.parent=t}get x(){return this.position.x}set x(t){this.transform.position.x=t}get y(){return this.position.y}set y(t){this.transform.position.y=t}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(t){this.transform.position.copyFrom(t)}get scale(){return this.transform.scale}set scale(t){this.transform.scale.copyFrom(t)}get pivot(){return this.transform.pivot}set pivot(t){this.transform.pivot.copyFrom(t)}get skew(){return this.transform.skew}set skew(t){this.transform.skew.copyFrom(t)}get rotation(){return this.transform.rotation}set rotation(t){this.transform.rotation=t}get angle(){return this.transform.rotation*zT}set angle(t){this.transform.rotation=t*HT}get zIndex(){return this._zIndex}set zIndex(t){this._zIndex!==t&&(this._zIndex=t,this.parent&&(this.parent.sortDirty=!0))}get worldVisible(){let t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0}get mask(){return this._mask}set mask(t){if(this._mask!==t){if(this._mask){const i=this._mask.isMaskData?this._mask.maskObject:this._mask;i&&(i._maskRefCount--,i._maskRefCount===0&&(i.renderable=!0,i.isMask=!1))}if(this._mask=t,this._mask){const i=this._mask.isMaskData?this._mask.maskObject:this._mask;i&&(i._maskRefCount===0&&(i.renderable=!1,i.isMask=!0),i._maskRefCount++)}}}}class WS extends he{constructor(){super(...arguments),this.sortDirty=null}}he.prototype.displayObjectUpdateTransform=he.prototype.updateTransform;const $S=new ae;function ZS(s,t){return s.zIndex===t.zIndex?s._lastSortedIndex-t._lastSortedIndex:s.zIndex-t.zIndex}const Ex=class Hd extends he{constructor(){super(),this.children=[],this.sortableChildren=Hd.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(t){}addChild(...t){if(t.length>1)for(let i=0;i<t.length;i++)this.addChild(t[i]);else{const i=t[0];i.parent&&i.parent.removeChild(i),i.parent=this,this.sortDirty=!0,i.transform._parentID=-1,this.children.push(i),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",i,this,this.children.length-1),i.emit("added",this)}return t[0]}addChildAt(t,i){if(i<0||i>this.children.length)throw new Error(`${t}addChildAt: The index ${i} supplied is out of bounds ${this.children.length}`);return t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.splice(i,0,t),this._boundsID++,this.onChildrenChange(i),t.emit("added",this),this.emit("childAdded",t,this,i),t}swapChildren(t,i){if(t===i)return;const n=this.getChildIndex(t),l=this.getChildIndex(i);this.children[n]=i,this.children[l]=t,this.onChildrenChange(n<l?n:l)}getChildIndex(t){const i=this.children.indexOf(t);if(i===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return i}setChildIndex(t,i){if(i<0||i>=this.children.length)throw new Error(`The index ${i} supplied is out of bounds ${this.children.length}`);const n=this.getChildIndex(t);Qs(this.children,n,1),this.children.splice(i,0,t),this.onChildrenChange(i)}getChildAt(t){if(t<0||t>=this.children.length)throw new Error(`getChildAt: Index (${t}) does not exist.`);return this.children[t]}removeChild(...t){if(t.length>1)for(let i=0;i<t.length;i++)this.removeChild(t[i]);else{const i=t[0],n=this.children.indexOf(i);if(n===-1)return null;i.parent=null,i.transform._parentID=-1,Qs(this.children,n,1),this._boundsID++,this.onChildrenChange(n),i.emit("removed",this),this.emit("childRemoved",i,this,n)}return t[0]}removeChildAt(t){const i=this.getChildAt(t);return i.parent=null,i.transform._parentID=-1,Qs(this.children,t,1),this._boundsID++,this.onChildrenChange(t),i.emit("removed",this),this.emit("childRemoved",i,this,t),i}removeChildren(t=0,i=this.children.length){const n=t,l=i,o=l-n;let h;if(o>0&&o<=l){h=this.children.splice(n,o);for(let c=0;c<h.length;++c)h[c].parent=null,h[c].transform&&(h[c].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(let c=0;c<h.length;++c)h[c].emit("removed",this),this.emit("childRemoved",h[c],this,c);return h}else if(o===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let t=!1;for(let i=0,n=this.children.length;i<n;++i){const l=this.children[i];l._lastSortedIndex=i,!t&&l.zIndex!==0&&(t=!0)}t&&this.children.length>1&&this.children.sort(ZS),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let t=0,i=this.children.length;t<i;++t){const n=this.children[t];n.visible&&n.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let t=0;t<this.children.length;t++){const i=this.children[t];if(!(!i.visible||!i.renderable))if(i.calculateBounds(),i._mask){const n=i._mask.isMaskData?i._mask.maskObject:i._mask;n?(n.calculateBounds(),this._bounds.addBoundsMask(i._bounds,n._bounds)):this._bounds.addBounds(i._bounds)}else i.filterArea?this._bounds.addBoundsArea(i._bounds,i.filterArea):this._bounds.addBounds(i._bounds)}this._bounds.updateID=this._boundsID}getLocalBounds(t,i=!1){const n=super.getLocalBounds(t);if(!i)for(let l=0,o=this.children.length;l<o;++l){const h=this.children[l];h.visible&&h.updateTransform()}return n}_calculateBounds(){}_renderWithCulling(t){const i=t.renderTexture.sourceFrame;if(!(i.width>0&&i.height>0))return;let n,l;this.cullArea?(n=this.cullArea,l=this.worldTransform):this._render!==Hd.prototype._render&&(n=this.getBounds(!0));const o=t.projection.transform;if(o&&(l?(l=$S.copyFrom(l),l.prepend(o)):l=o),n&&i.intersects(n,l))this._render(t);else if(this.cullArea)return;for(let h=0,c=this.children.length;h<c;++h){const p=this.children[h],m=p.cullable;p.cullable=m||!this.cullArea,p.render(t),p.cullable=m}}render(t){var i;if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||(i=this.filters)!=null&&i.length)this.renderAdvanced(t);else if(this.cullable)this._renderWithCulling(t);else{this._render(t);for(let n=0,l=this.children.length;n<l;++n)this.children[n].render(t)}}renderAdvanced(t){var o,h,c;const i=this.filters,n=this._mask;if(i){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let p=0;p<i.length;p++)i[p].enabled&&this._enabledFilters.push(i[p])}const l=i&&((o=this._enabledFilters)==null?void 0:o.length)||n&&(!n.isMaskData||n.enabled&&(n.autoDetect||n.type!==Ae.NONE));if(l&&t.batch.flush(),i&&((h=this._enabledFilters)!=null&&h.length)&&t.filter.push(this,this._enabledFilters),n&&t.mask.push(this,this._mask),this.cullable)this._renderWithCulling(t);else{this._render(t);for(let p=0,m=this.children.length;p<m;++p)this.children[p].render(t)}l&&t.batch.flush(),n&&t.mask.pop(this),i&&((c=this._enabledFilters)!=null&&c.length)&&t.filter.pop()}_render(t){}destroy(t){super.destroy(),this.sortDirty=!1;const i=typeof t=="boolean"?t:t==null?void 0:t.children,n=this.removeChildren(0,this.children.length);if(i)for(let l=0;l<n.length;++l)n[l].destroy(t)}get width(){return this.scale.x*this.getLocalBounds().width}set width(t){const i=this.getLocalBounds().width;i!==0?this.scale.x=t/i:this.scale.x=1,this._width=t}get height(){return this.scale.y*this.getLocalBounds().height}set height(t){const i=this.getLocalBounds().height;i!==0?this.scale.y=t/i:this.scale.y=1,this._height=t}};Ex.defaultSortableChildren=!1;let ci=Ex;ci.prototype.containerUpdateTransform=ci.prototype.updateTransform;Object.defineProperties(gt,{SORTABLE_CHILDREN:{get(){return ci.defaultSortableChildren},set(s){zt("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),ci.defaultSortableChildren=s}}});const sl=new Vt,KS=new Uint16Array([0,1,2,0,2,3]);class Jn extends ci{constructor(t){super(),this._anchor=new Cr(this._onAnchorUpdate,this,t?t.defaultAnchor.x:0,t?t.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tintColor=new se(16777215),this._tintRGB=null,this.tint=16777215,this.blendMode=Rt.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=t||_t.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=KS,this.pluginName="batch",this.isSprite=!0,this._roundPixels=gt.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=cn(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=cn(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){const t=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===t._updateID)return;this._textureID!==t._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=t._updateID;const i=this.transform.worldTransform,n=i.a,l=i.b,o=i.c,h=i.d,c=i.tx,p=i.ty,m=this.vertexData,g=t.trim,y=t.orig,x=this._anchor;let _=0,E=0,w=0,S=0;if(g?(E=g.x-x._x*y.width,_=E+g.width,S=g.y-x._y*y.height,w=S+g.height):(E=-x._x*y.width,_=E+y.width,S=-x._y*y.height,w=S+y.height),m[0]=n*E+o*S+c,m[1]=h*S+l*E+p,m[2]=n*_+o*S+c,m[3]=h*S+l*_+p,m[4]=n*_+o*w+c,m[5]=h*w+l*_+p,m[6]=n*E+o*w+c,m[7]=h*w+l*E+p,this._roundPixels){const C=gt.RESOLUTION;for(let I=0;I<m.length;++I)m[I]=Math.round(m[I]*C)/C}}calculateTrimmedVertices(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;const t=this._texture,i=this.vertexTrimmedData,n=t.orig,l=this._anchor,o=this.transform.worldTransform,h=o.a,c=o.b,p=o.c,m=o.d,g=o.tx,y=o.ty,x=-l._x*n.width,_=x+n.width,E=-l._y*n.height,w=E+n.height;if(i[0]=h*x+p*E+g,i[1]=m*E+c*x+y,i[2]=h*_+p*E+g,i[3]=m*E+c*_+y,i[4]=h*_+p*w+g,i[5]=m*w+c*_+y,i[6]=h*x+p*w+g,i[7]=m*w+c*x+y,this._roundPixels){const S=gt.RESOLUTION;for(let C=0;C<i.length;++C)i[C]=Math.round(i[C]*S)/S}}_render(t){this.calculateVertices(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)}_calculateBounds(){const t=this._texture.trim,i=this._texture.orig;!t||t.width===i.width&&t.height===i.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(t){return this.children.length===0?(this._localBounds||(this._localBounds=new _u),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),t||(this._localBoundsRect||(this._localBoundsRect=new Lt),t=this._localBoundsRect),this._localBounds.getRectangle(t)):super.getLocalBounds.call(this,t)}containsPoint(t){this.worldTransform.applyInverse(t,sl);const i=this._texture.orig.width,n=this._texture.orig.height,l=-i*this.anchor.x;let o=0;return sl.x>=l&&sl.x<l+i&&(o=-n*this.anchor.y,sl.y>=o&&sl.y<o+n)}destroy(t){if(super.destroy(t),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,typeof t=="boolean"?t:t==null?void 0:t.texture){const i=typeof t=="boolean"?t:t==null?void 0:t.baseTexture;this._texture.destroy(!!i)}this._texture=null}static from(t,i){const n=t instanceof _t?t:_t.from(t,i);return new Jn(n)}set roundPixels(t){this._roundPixels!==t&&(this._transformID=-1,this._transformTrimmedID=-1),this._roundPixels=t}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(t){const i=cn(this.scale.x)||1;this.scale.x=i*t/this._texture.orig.width,this._width=t}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(t){const i=cn(this.scale.y)||1;this.scale.y=i*t/this._texture.orig.height,this._height=t}get anchor(){return this._anchor}set anchor(t){this._anchor.copyFrom(t)}get tint(){return this._tintColor.value}set tint(t){this._tintColor.setValue(t),this._tintRGB=this._tintColor.toLittleEndianNumber()}get tintValue(){return this._tintColor.toNumber()}get texture(){return this._texture}set texture(t){this._texture!==t&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=t||_t.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,t&&(t.baseTexture.valid?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))}}const Tx=new ae;he.prototype._cacheAsBitmap=!1;he.prototype._cacheData=null;he.prototype._cacheAsBitmapResolution=null;he.prototype._cacheAsBitmapMultisample=null;class QS{constructor(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}Object.defineProperties(he.prototype,{cacheAsBitmapResolution:{get(){return this._cacheAsBitmapResolution},set(s){s!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=s,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get(){return this._cacheAsBitmapMultisample},set(s){s!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=s,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get(){return this._cacheAsBitmap},set(s){if(this._cacheAsBitmap===s)return;this._cacheAsBitmap=s;let t;s?(this._cacheData||(this._cacheData=new QS),t=this._cacheData,t.originalRender=this.render,t.originalRenderCanvas=this.renderCanvas,t.originalUpdateTransform=this.updateTransform,t.originalCalculateBounds=this.calculateBounds,t.originalGetLocalBounds=this.getLocalBounds,t.originalDestroy=this.destroy,t.originalContainsPoint=this.containsPoint,t.originalMask=this._mask,t.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(t=this._cacheData,t.sprite&&this._destroyCachedDisplayObject(),this.render=t.originalRender,this.renderCanvas=t.originalRenderCanvas,this.calculateBounds=t.originalCalculateBounds,this.getLocalBounds=t.originalGetLocalBounds,this.destroy=t.originalDestroy,this.updateTransform=t.originalUpdateTransform,this.containsPoint=t.originalContainsPoint,this._mask=t.originalMask,this.filterArea=t.originalFilterArea)}}});he.prototype._renderCached=function(s){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(s),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(s))};he.prototype._initCachedDisplayObject=function(s){var x,_;if((x=this._cacheData)!=null&&x.sprite)return;const t=this.alpha;this.alpha=1,s.batch.flush();const i=this.getLocalBounds(new Lt,!0);if((_=this.filters)!=null&&_.length){const E=this.filters[0].padding;i.pad(E)}const n=this.cacheAsBitmapResolution||s.resolution;i.ceil(n),i.width=Math.max(i.width,1/n),i.height=Math.max(i.height,1/n);const l=s.renderTexture.current,o=s.renderTexture.sourceFrame.clone(),h=s.renderTexture.destinationFrame.clone(),c=s.projection.transform,p=Qn.create({width:i.width,height:i.height,resolution:n,multisample:this.cacheAsBitmapMultisample??s.multisample}),m=`cacheAsBitmap_${$n()}`;this._cacheData.textureCacheId=m,It.addToCache(p.baseTexture,m),_t.addToCache(p,m);const g=this.transform.localTransform.copyTo(Tx).invert().translate(-i.x,-i.y);this.render=this._cacheData.originalRender,s.render(this,{renderTexture:p,clear:!0,transform:g,skipUpdateTransform:!1}),s.framebuffer.blit(),s.projection.transform=c,s.renderTexture.bind(l,o,h),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=t;const y=new Jn(p);y.transform.worldTransform=this.transform.worldTransform,y.anchor.x=-(i.x/i.width),y.anchor.y=-(i.y/i.height),y.alpha=t,y._bounds=this._bounds,this._cacheData.sprite=y,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=y.containsPoint.bind(y)};he.prototype._renderCachedCanvas=function(s){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(s),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(s))};he.prototype._initCachedDisplayObjectCanvas=function(s){var g;if((g=this._cacheData)!=null&&g.sprite)return;const t=this.getLocalBounds(new Lt,!0),i=this.alpha;this.alpha=1;const n=s.canvasContext.activeContext,l=s._projTransform,o=this.cacheAsBitmapResolution||s.resolution;t.ceil(o),t.width=Math.max(t.width,1/o),t.height=Math.max(t.height,1/o);const h=Qn.create({width:t.width,height:t.height,resolution:o}),c=`cacheAsBitmap_${$n()}`;this._cacheData.textureCacheId=c,It.addToCache(h.baseTexture,c),_t.addToCache(h,c);const p=Tx;this.transform.localTransform.copyTo(p),p.invert(),p.tx-=t.x,p.ty-=t.y,this.renderCanvas=this._cacheData.originalRenderCanvas,s.render(this,{renderTexture:h,clear:!0,transform:p,skipUpdateTransform:!1}),s.canvasContext.activeContext=n,s._projTransform=l,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=i;const m=new Jn(h);m.transform.worldTransform=this.transform.worldTransform,m.anchor.x=-(t.x/t.width),m.anchor.y=-(t.y/t.height),m.alpha=i,m._bounds=this._bounds,this._cacheData.sprite=m,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=s._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=m.containsPoint.bind(m)};he.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};he.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};he.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,It.removeFromCache(this._cacheData.textureCacheId),_t.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};he.prototype._cacheAsBitmapDestroy=function(s){this.cacheAsBitmap=!1,this.destroy(s)};he.prototype.name=null;ci.prototype.getChildByName=function(s,t){for(let i=0,n=this.children.length;i<n;i++)if(this.children[i].name===s)return this.children[i];if(t)for(let i=0,n=this.children.length;i<n;i++){const l=this.children[i];if(!l.getChildByName)continue;const o=l.getChildByName(s,!0);if(o)return o}return null};he.prototype.getGlobalPosition=function(s=new Vt,t=!1){return this.parent?this.parent.toGlobal(this.position,s,t):(s.x=this.position.x,s.y=this.position.y),s};var JS=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`;class tA extends He{constructor(t=1){super(kS,JS,{uAlpha:1}),this.alpha=t}get alpha(){return this.uniforms.uAlpha}set alpha(t){this.uniforms.uAlpha=t}}const eA={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},iA=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function rA(s){const t=eA[s],i=t.length;let n=iA,l="";const o="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;";let h;for(let c=0;c<s;c++){let p=o.replace("%index%",c.toString());h=c,c>=i&&(h=s-c-1),p=p.replace("%value%",t[h].toString()),l+=p,l+=`
`}return n=n.replace("%blur%",l),n=n.replace("%size%",s.toString()),n}const nA=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function sA(s,t){const i=Math.ceil(s/2);let n=nA,l="",o;t?o="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":o="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(let h=0;h<s;h++){let c=o.replace("%index%",h.toString());c=c.replace("%sampleIndex%",`${h-(i-1)}.0`),l+=c,l+=`
`}return n=n.replace("%blur%",l),n=n.replace("%size%",s.toString()),n}class kd extends He{constructor(t,i=8,n=4,l=He.defaultResolution,o=5){const h=sA(o,t),c=rA(o);super(h,c),this.horizontal=t,this.resolution=l,this._quality=0,this.quality=n,this.blur=i}apply(t,i,n,l){if(n?this.horizontal?this.uniforms.strength=1/n.width*(n.width/i.width):this.uniforms.strength=1/n.height*(n.height/i.height):this.horizontal?this.uniforms.strength=1/t.renderer.width*(t.renderer.width/i.width):this.uniforms.strength=1/t.renderer.height*(t.renderer.height/i.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)t.applyFilter(this,i,n,l);else{const o=t.getFilterTexture(),h=t.renderer;let c=i,p=o;this.state.blend=!1,t.applyFilter(this,c,p,Zi.CLEAR);for(let m=1;m<this.passes-1;m++){t.bindAndClear(c,Zi.BLIT),this.uniforms.uSampler=p;const g=p;p=c,c=g,h.shader.bind(this),h.geometry.draw(5)}this.state.blend=!0,t.applyFilter(this,p,n,l),t.returnFilterTexture(o)}}get blur(){return this.strength}set blur(t){this.padding=1+Math.abs(t)*2,this.strength=t}get quality(){return this._quality}set quality(t){this._quality=t,this.passes=t}}class aA extends He{constructor(t=8,i=4,n=He.defaultResolution,l=5){super(),this._repeatEdgePixels=!1,this.blurXFilter=new kd(!0,t,i,n,l),this.blurYFilter=new kd(!1,t,i,n,l),this.resolution=n,this.quality=i,this.blur=t,this.repeatEdgePixels=!1}apply(t,i,n,l){const o=Math.abs(this.blurXFilter.strength),h=Math.abs(this.blurYFilter.strength);if(o&&h){const c=t.getFilterTexture();this.blurXFilter.apply(t,i,c,Zi.CLEAR),this.blurYFilter.apply(t,c,n,l),t.returnFilterTexture(c)}else h?this.blurYFilter.apply(t,i,n,l):this.blurXFilter.apply(t,i,n,l)}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}get blur(){return this.blurXFilter.blur}set blur(t){this.blurXFilter.blur=this.blurYFilter.blur=t,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(t){this.blurXFilter.quality=this.blurYFilter.quality=t}get blurX(){return this.blurXFilter.blur}set blurX(t){this.blurXFilter.blur=t,this.updatePadding()}get blurY(){return this.blurYFilter.blur}set blurY(t){this.blurYFilter.blur=t,this.updatePadding()}get blendMode(){return this.blurYFilter.blendMode}set blendMode(t){this.blurYFilter.blendMode=t}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(t){this._repeatEdgePixels=t,this.updatePadding()}}var lA=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`;class Xd extends He{constructor(){const t={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};super(mx,lA,t),this.alpha=1}_loadMatrix(t,i=!1){let n=t;i&&(this._multiply(n,this.uniforms.m,t),n=this._colorMatrix(n)),this.uniforms.m=n}_multiply(t,i,n){return t[0]=i[0]*n[0]+i[1]*n[5]+i[2]*n[10]+i[3]*n[15],t[1]=i[0]*n[1]+i[1]*n[6]+i[2]*n[11]+i[3]*n[16],t[2]=i[0]*n[2]+i[1]*n[7]+i[2]*n[12]+i[3]*n[17],t[3]=i[0]*n[3]+i[1]*n[8]+i[2]*n[13]+i[3]*n[18],t[4]=i[0]*n[4]+i[1]*n[9]+i[2]*n[14]+i[3]*n[19]+i[4],t[5]=i[5]*n[0]+i[6]*n[5]+i[7]*n[10]+i[8]*n[15],t[6]=i[5]*n[1]+i[6]*n[6]+i[7]*n[11]+i[8]*n[16],t[7]=i[5]*n[2]+i[6]*n[7]+i[7]*n[12]+i[8]*n[17],t[8]=i[5]*n[3]+i[6]*n[8]+i[7]*n[13]+i[8]*n[18],t[9]=i[5]*n[4]+i[6]*n[9]+i[7]*n[14]+i[8]*n[19]+i[9],t[10]=i[10]*n[0]+i[11]*n[5]+i[12]*n[10]+i[13]*n[15],t[11]=i[10]*n[1]+i[11]*n[6]+i[12]*n[11]+i[13]*n[16],t[12]=i[10]*n[2]+i[11]*n[7]+i[12]*n[12]+i[13]*n[17],t[13]=i[10]*n[3]+i[11]*n[8]+i[12]*n[13]+i[13]*n[18],t[14]=i[10]*n[4]+i[11]*n[9]+i[12]*n[14]+i[13]*n[19]+i[14],t[15]=i[15]*n[0]+i[16]*n[5]+i[17]*n[10]+i[18]*n[15],t[16]=i[15]*n[1]+i[16]*n[6]+i[17]*n[11]+i[18]*n[16],t[17]=i[15]*n[2]+i[16]*n[7]+i[17]*n[12]+i[18]*n[17],t[18]=i[15]*n[3]+i[16]*n[8]+i[17]*n[13]+i[18]*n[18],t[19]=i[15]*n[4]+i[16]*n[9]+i[17]*n[14]+i[18]*n[19]+i[19],t}_colorMatrix(t){const i=new Float32Array(t);return i[4]/=255,i[9]/=255,i[14]/=255,i[19]/=255,i}brightness(t,i){const n=[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];this._loadMatrix(n,i)}tint(t,i){const[n,l,o]=se.shared.setValue(t).toArray(),h=[n,0,0,0,0,0,l,0,0,0,0,0,o,0,0,0,0,0,1,0];this._loadMatrix(h,i)}greyscale(t,i){const n=[t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0];this._loadMatrix(n,i)}blackAndWhite(t){const i=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(i,t)}hue(t,i){t=(t||0)/180*Math.PI;const n=Math.cos(t),l=Math.sin(t),o=Math.sqrt,h=1/3,c=o(h),p=n+(1-n)*h,m=h*(1-n)-c*l,g=h*(1-n)+c*l,y=h*(1-n)+c*l,x=n+h*(1-n),_=h*(1-n)-c*l,E=h*(1-n)-c*l,w=h*(1-n)+c*l,S=n+h*(1-n),C=[p,m,g,0,0,y,x,_,0,0,E,w,S,0,0,0,0,0,1,0];this._loadMatrix(C,i)}contrast(t,i){const n=(t||0)+1,l=-.5*(n-1),o=[n,0,0,0,l,0,n,0,0,l,0,0,n,0,l,0,0,0,1,0];this._loadMatrix(o,i)}saturate(t=0,i){const n=t*2/3+1,l=(n-1)*-.5,o=[n,l,l,0,0,l,n,l,0,0,l,l,n,0,0,0,0,0,1,0];this._loadMatrix(o,i)}desaturate(){this.saturate(-1)}negative(t){const i=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(i,t)}sepia(t){const i=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(i,t)}technicolor(t){const i=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(i,t)}polaroid(t){const i=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(i,t)}toBGR(t){const i=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(i,t)}kodachrome(t){const i=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(i,t)}browni(t){const i=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(i,t)}vintage(t){const i=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(i,t)}colorTone(t,i,n,l,o){t=t||.2,i=i||.15,n=n||16770432,l=l||3375104;const h=se.shared,[c,p,m]=h.setValue(n).toArray(),[g,y,x]=h.setValue(l).toArray(),_=[.3,.59,.11,0,0,c,p,m,t,0,g,y,x,i,0,c-g,p-y,m-x,0,0];this._loadMatrix(_,o)}night(t,i){t=t||.1;const n=[t*-2,-t,0,0,0,-t,0,t,0,0,0,t,t*2,0,0,0,0,0,1,0];this._loadMatrix(n,i)}predator(t,i){const n=[11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0];this._loadMatrix(n,i)}lsd(t){const i=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(i,t)}reset(){const t=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(t,!1)}get matrix(){return this.uniforms.m}set matrix(t){this.uniforms.m=t}get alpha(){return this.uniforms.uAlpha}set alpha(t){this.uniforms.uAlpha=t}}Xd.prototype.grayscale=Xd.prototype.greyscale;var oA=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,uA=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`;class hA extends He{constructor(t,i){const n=new ae;t.renderable=!1,super(uA,oA,{mapSampler:t._texture,filterMatrix:n,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=t,this.maskMatrix=n,i==null&&(i=20),this.scale=new Vt(i,i)}apply(t,i,n,l){this.uniforms.filterMatrix=t.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;const o=this.maskSprite.worldTransform,h=Math.sqrt(o.a*o.a+o.b*o.b),c=Math.sqrt(o.c*o.c+o.d*o.d);h!==0&&c!==0&&(this.uniforms.rotation[0]=o.a/h,this.uniforms.rotation[1]=o.b/h,this.uniforms.rotation[2]=o.c/c,this.uniforms.rotation[3]=o.d/c),t.applyFilter(this,i,n,l)}get map(){return this.uniforms.mapSampler}set map(t){this.uniforms.mapSampler=t}}var cA=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,fA=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`;class dA extends He{constructor(){super(fA,cA)}}var pA=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`;class mA extends He{constructor(t=.5,i=Math.random()){super(mx,pA,{uNoise:0,uSeed:0}),this.noise=t,this.seed=i}get noise(){return this.uniforms.uNoise}set noise(t){this.uniforms.uNoise=t}get seed(){return this.uniforms.uSeed}set seed(t){this.uniforms.uSeed=t}}const W0={AlphaFilter:tA,BlurFilter:aA,BlurFilterPass:kd,ColorMatrixFilter:Xd,DisplacementFilter:hA,FXAAFilter:dA,NoiseFilter:mA};Object.entries(W0).forEach(([s,t])=>{Object.defineProperty(W0,s,{get(){return zt("7.1.0",`filters.${s} has moved to ${s}`),t}})});class gA{constructor(){this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}init(t){this.removeTickerListener(),this.events=t,this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}get pauseUpdate(){return this._pauseUpdate}set pauseUpdate(t){this._pauseUpdate=t}addTickerListener(){this.tickerAdded||!this.domElement||(hi.system.add(this.tickerUpdate,this,Zn.INTERACTION),this.tickerAdded=!0)}removeTickerListener(){this.tickerAdded&&(hi.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)}pointerMoved(){this._didMove=!0}update(){if(!this.domElement||this._pauseUpdate)return;if(this._didMove){this._didMove=!1;return}const t=this.events.rootPointerEvent;this.events.supportsTouchEvents&&t.pointerType==="touch"||globalThis.document.dispatchEvent(new PointerEvent("pointermove",{clientX:t.clientX,clientY:t.clientY}))}tickerUpdate(t){this._deltaTime+=t,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())}}const hn=new gA;class yl{constructor(t){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=yl.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new Vt,this.page=new Vt,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=t}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(t,i,n){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(t,i,n,l,o){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}class xu extends yl{constructor(){super(...arguments),this.client=new Vt,this.movement=new Vt,this.offset=new Vt,this.global=new Vt,this.screen=new Vt}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getLocalPosition(t,i,n){return t.worldTransform.applyInverse(n||this.global,i)}getModifierState(t){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(t)}initMouseEvent(t,i,n,l,o,h,c,p,m,g,y,x,_,E,w){throw new Error("Method not implemented.")}}class Ni extends xu{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}class ta extends xu{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}ta.DOM_DELTA_PIXEL=0,ta.DOM_DELTA_LINE=1,ta.DOM_DELTA_PAGE=2;const yA=2048,vA=new Vt,hd=new Vt;class _A{constructor(t){this.dispatch=new gl,this.moveOnAll=!1,this.enableGlobalMoveEvents=!0,this.mappingState={trackingData:{}},this.eventPool=new Map,this._allInteractiveElements=[],this._hitElements=[],this._isPointerMoveEvent=!1,this.rootTarget=t,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(t,i){this.mappingTable[t]||(this.mappingTable[t]=[]),this.mappingTable[t].push({fn:i,priority:0}),this.mappingTable[t].sort((n,l)=>n.priority-l.priority)}dispatchEvent(t,i){t.propagationStopped=!1,t.propagationImmediatelyStopped=!1,this.propagate(t,i),this.dispatch.emit(i||t.type,t)}mapEvent(t){if(!this.rootTarget)return;const i=this.mappingTable[t.type];if(i)for(let n=0,l=i.length;n<l;n++)i[n].fn(t);else console.warn(`[EventBoundary]: Event mapping not defined for ${t.type}`)}hitTest(t,i){hn.pauseUpdate=!0;const n=this._isPointerMoveEvent&&this.enableGlobalMoveEvents?"hitTestMoveRecursive":"hitTestRecursive",l=this[n](this.rootTarget,this.rootTarget.eventMode,vA.set(t,i),this.hitTestFn,this.hitPruneFn);return l&&l[0]}propagate(t,i){if(!t.target)return;const n=t.composedPath();t.eventPhase=t.CAPTURING_PHASE;for(let l=0,o=n.length-1;l<o;l++)if(t.currentTarget=n[l],this.notifyTarget(t,i),t.propagationStopped||t.propagationImmediatelyStopped)return;if(t.eventPhase=t.AT_TARGET,t.currentTarget=t.target,this.notifyTarget(t,i),!(t.propagationStopped||t.propagationImmediatelyStopped)){t.eventPhase=t.BUBBLING_PHASE;for(let l=n.length-2;l>=0;l--)if(t.currentTarget=n[l],this.notifyTarget(t,i),t.propagationStopped||t.propagationImmediatelyStopped)return}}all(t,i,n=this._allInteractiveElements){if(n.length===0)return;t.eventPhase=t.BUBBLING_PHASE;const l=Array.isArray(i)?i:[i];for(let o=n.length-1;o>=0;o--)l.forEach(h=>{t.currentTarget=n[o],this.notifyTarget(t,h)})}propagationPath(t){const i=[t];for(let n=0;n<yA&&t!==this.rootTarget;n++){if(!t.parent)throw new Error("Cannot find propagation path to disconnected target");i.push(t.parent),t=t.parent}return i.reverse(),i}hitTestMoveRecursive(t,i,n,l,o,h=!1){let c=!1;if(this._interactivePrune(t))return null;if((t.eventMode==="dynamic"||i==="dynamic")&&(hn.pauseUpdate=!1),t.interactiveChildren&&t.children){const g=t.children;for(let y=g.length-1;y>=0;y--){const x=g[y],_=this.hitTestMoveRecursive(x,this._isInteractive(i)?i:x.eventMode,n,l,o,h||o(t,n));if(_){if(_.length>0&&!_[_.length-1].parent)continue;const E=t.isInteractive();(_.length>0||E)&&(E&&this._allInteractiveElements.push(t),_.push(t)),this._hitElements.length===0&&(this._hitElements=_),c=!0}}}const p=this._isInteractive(i),m=t.isInteractive();return p&&m&&this._allInteractiveElements.push(t),h||this._hitElements.length>0?null:c?this._hitElements:p&&!o(t,n)&&l(t,n)?m?[t]:[]:null}hitTestRecursive(t,i,n,l,o){if(this._interactivePrune(t)||o(t,n))return null;if((t.eventMode==="dynamic"||i==="dynamic")&&(hn.pauseUpdate=!1),t.interactiveChildren&&t.children){const p=t.children;for(let m=p.length-1;m>=0;m--){const g=p[m],y=this.hitTestRecursive(g,this._isInteractive(i)?i:g.eventMode,n,l,o);if(y){if(y.length>0&&!y[y.length-1].parent)continue;const x=t.isInteractive();return(y.length>0||x)&&y.push(t),y}}}const h=this._isInteractive(i),c=t.isInteractive();return h&&l(t,n)?c?[t]:[]:null}_isInteractive(t){return t==="static"||t==="dynamic"}_interactivePrune(t){return!!(!t||t.isMask||!t.visible||!t.renderable||t.eventMode==="none"||t.eventMode==="passive"&&!t.interactiveChildren||t.isMask)}hitPruneFn(t,i){var n;if(t.hitArea&&(t.worldTransform.applyInverse(i,hd),!t.hitArea.contains(hd.x,hd.y)))return!0;if(t._mask){const l=t._mask.isMaskData?t._mask.maskObject:t._mask;if(l&&!((n=l.containsPoint)!=null&&n.call(l,i)))return!0}return!1}hitTestFn(t,i){return t.eventMode==="passive"?!1:t.hitArea?!0:t.containsPoint?t.containsPoint(i):!1}notifyTarget(t,i){var o,h;i=i??t.type;const n=`on${i}`;(h=(o=t.currentTarget)[n])==null||h.call(o,t);const l=t.eventPhase===t.CAPTURING_PHASE||t.eventPhase===t.AT_TARGET?`${i}capture`:i;this.notifyListeners(t,l),t.eventPhase===t.AT_TARGET&&this.notifyListeners(t,i)}mapPointerDown(t){if(!(t instanceof Ni)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const i=this.createPointerEvent(t);if(this.dispatchEvent(i,"pointerdown"),i.pointerType==="touch")this.dispatchEvent(i,"touchstart");else if(i.pointerType==="mouse"||i.pointerType==="pen"){const l=i.button===2;this.dispatchEvent(i,l?"rightdown":"mousedown")}const n=this.trackingData(t.pointerId);n.pressTargetsByButton[t.button]=i.composedPath(),this.freeEvent(i)}mapPointerMove(t){var p,m;if(!(t instanceof Ni)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}this._allInteractiveElements.length=0,this._hitElements.length=0,this._isPointerMoveEvent=!0;const i=this.createPointerEvent(t);this._isPointerMoveEvent=!1;const n=i.pointerType==="mouse"||i.pointerType==="pen",l=this.trackingData(t.pointerId),o=this.findMountedTarget(l.overTargets);if(((p=l.overTargets)==null?void 0:p.length)>0&&o!==i.target){const g=t.type==="mousemove"?"mouseout":"pointerout",y=this.createPointerEvent(t,g,o);if(this.dispatchEvent(y,"pointerout"),n&&this.dispatchEvent(y,"mouseout"),!i.composedPath().includes(o)){const x=this.createPointerEvent(t,"pointerleave",o);for(x.eventPhase=x.AT_TARGET;x.target&&!i.composedPath().includes(x.target);)x.currentTarget=x.target,this.notifyTarget(x),n&&this.notifyTarget(x,"mouseleave"),x.target=x.target.parent;this.freeEvent(x)}this.freeEvent(y)}if(o!==i.target){const g=t.type==="mousemove"?"mouseover":"pointerover",y=this.clonePointerEvent(i,g);this.dispatchEvent(y,"pointerover"),n&&this.dispatchEvent(y,"mouseover");let x=o==null?void 0:o.parent;for(;x&&x!==this.rootTarget.parent&&x!==i.target;)x=x.parent;if(!x||x===this.rootTarget.parent){const _=this.clonePointerEvent(i,"pointerenter");for(_.eventPhase=_.AT_TARGET;_.target&&_.target!==o&&_.target!==this.rootTarget.parent;)_.currentTarget=_.target,this.notifyTarget(_),n&&this.notifyTarget(_,"mouseenter"),_.target=_.target.parent;this.freeEvent(_)}this.freeEvent(y)}const h=[],c=this.enableGlobalMoveEvents??!0;this.moveOnAll?h.push("pointermove"):this.dispatchEvent(i,"pointermove"),c&&h.push("globalpointermove"),i.pointerType==="touch"&&(this.moveOnAll?h.splice(1,0,"touchmove"):this.dispatchEvent(i,"touchmove"),c&&h.push("globaltouchmove")),n&&(this.moveOnAll?h.splice(1,0,"mousemove"):this.dispatchEvent(i,"mousemove"),c&&h.push("globalmousemove"),this.cursor=(m=i.target)==null?void 0:m.cursor),h.length>0&&this.all(i,h),this._allInteractiveElements.length=0,this._hitElements.length=0,l.overTargets=i.composedPath(),this.freeEvent(i)}mapPointerOver(t){var h;if(!(t instanceof Ni)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const i=this.trackingData(t.pointerId),n=this.createPointerEvent(t),l=n.pointerType==="mouse"||n.pointerType==="pen";this.dispatchEvent(n,"pointerover"),l&&this.dispatchEvent(n,"mouseover"),n.pointerType==="mouse"&&(this.cursor=(h=n.target)==null?void 0:h.cursor);const o=this.clonePointerEvent(n,"pointerenter");for(o.eventPhase=o.AT_TARGET;o.target&&o.target!==this.rootTarget.parent;)o.currentTarget=o.target,this.notifyTarget(o),l&&this.notifyTarget(o,"mouseenter"),o.target=o.target.parent;i.overTargets=n.composedPath(),this.freeEvent(n),this.freeEvent(o)}mapPointerOut(t){if(!(t instanceof Ni)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const i=this.trackingData(t.pointerId);if(i.overTargets){const n=t.pointerType==="mouse"||t.pointerType==="pen",l=this.findMountedTarget(i.overTargets),o=this.createPointerEvent(t,"pointerout",l);this.dispatchEvent(o),n&&this.dispatchEvent(o,"mouseout");const h=this.createPointerEvent(t,"pointerleave",l);for(h.eventPhase=h.AT_TARGET;h.target&&h.target!==this.rootTarget.parent;)h.currentTarget=h.target,this.notifyTarget(h),n&&this.notifyTarget(h,"mouseleave"),h.target=h.target.parent;i.overTargets=null,this.freeEvent(o),this.freeEvent(h)}this.cursor=null}mapPointerUp(t){if(!(t instanceof Ni)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const i=performance.now(),n=this.createPointerEvent(t);if(this.dispatchEvent(n,"pointerup"),n.pointerType==="touch")this.dispatchEvent(n,"touchend");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const c=n.button===2;this.dispatchEvent(n,c?"rightup":"mouseup")}const l=this.trackingData(t.pointerId),o=this.findMountedTarget(l.pressTargetsByButton[t.button]);let h=o;if(o&&!n.composedPath().includes(o)){let c=o;for(;c&&!n.composedPath().includes(c);){if(n.currentTarget=c,this.notifyTarget(n,"pointerupoutside"),n.pointerType==="touch")this.notifyTarget(n,"touchendoutside");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const p=n.button===2;this.notifyTarget(n,p?"rightupoutside":"mouseupoutside")}c=c.parent}delete l.pressTargetsByButton[t.button],h=c}if(h){const c=this.clonePointerEvent(n,"click");c.target=h,c.path=null,l.clicksByButton[t.button]||(l.clicksByButton[t.button]={clickCount:0,target:c.target,timeStamp:i});const p=l.clicksByButton[t.button];if(p.target===c.target&&i-p.timeStamp<200?++p.clickCount:p.clickCount=1,p.target=c.target,p.timeStamp=i,c.detail=p.clickCount,c.pointerType==="mouse"){const m=c.button===2;this.dispatchEvent(c,m?"rightclick":"click")}else c.pointerType==="touch"&&this.dispatchEvent(c,"tap");this.dispatchEvent(c,"pointertap"),this.freeEvent(c)}this.freeEvent(n)}mapPointerUpOutside(t){if(!(t instanceof Ni)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const i=this.trackingData(t.pointerId),n=this.findMountedTarget(i.pressTargetsByButton[t.button]),l=this.createPointerEvent(t);if(n){let o=n;for(;o;)l.currentTarget=o,this.notifyTarget(l,"pointerupoutside"),l.pointerType==="touch"?this.notifyTarget(l,"touchendoutside"):(l.pointerType==="mouse"||l.pointerType==="pen")&&this.notifyTarget(l,l.button===2?"rightupoutside":"mouseupoutside"),o=o.parent;delete i.pressTargetsByButton[t.button]}this.freeEvent(l)}mapWheel(t){if(!(t instanceof ta)){console.warn("EventBoundary cannot map a non-wheel event as a wheel event");return}const i=this.createWheelEvent(t);this.dispatchEvent(i),this.freeEvent(i)}findMountedTarget(t){if(!t)return null;let i=t[0];for(let n=1;n<t.length&&t[n].parent===i;n++)i=t[n];return i}createPointerEvent(t,i,n){const l=this.allocateEvent(Ni);return this.copyPointerData(t,l),this.copyMouseData(t,l),this.copyData(t,l),l.nativeEvent=t.nativeEvent,l.originalEvent=t,l.target=n??this.hitTest(l.global.x,l.global.y)??this._hitElements[0],typeof i=="string"&&(l.type=i),l}createWheelEvent(t){const i=this.allocateEvent(ta);return this.copyWheelData(t,i),this.copyMouseData(t,i),this.copyData(t,i),i.nativeEvent=t.nativeEvent,i.originalEvent=t,i.target=this.hitTest(i.global.x,i.global.y),i}clonePointerEvent(t,i){const n=this.allocateEvent(Ni);return n.nativeEvent=t.nativeEvent,n.originalEvent=t.originalEvent,this.copyPointerData(t,n),this.copyMouseData(t,n),this.copyData(t,n),n.target=t.target,n.path=t.composedPath().slice(),n.type=i??n.type,n}copyWheelData(t,i){i.deltaMode=t.deltaMode,i.deltaX=t.deltaX,i.deltaY=t.deltaY,i.deltaZ=t.deltaZ}copyPointerData(t,i){t instanceof Ni&&i instanceof Ni&&(i.pointerId=t.pointerId,i.width=t.width,i.height=t.height,i.isPrimary=t.isPrimary,i.pointerType=t.pointerType,i.pressure=t.pressure,i.tangentialPressure=t.tangentialPressure,i.tiltX=t.tiltX,i.tiltY=t.tiltY,i.twist=t.twist)}copyMouseData(t,i){t instanceof xu&&i instanceof xu&&(i.altKey=t.altKey,i.button=t.button,i.buttons=t.buttons,i.client.copyFrom(t.client),i.ctrlKey=t.ctrlKey,i.metaKey=t.metaKey,i.movement.copyFrom(t.movement),i.screen.copyFrom(t.screen),i.shiftKey=t.shiftKey,i.global.copyFrom(t.global))}copyData(t,i){i.isTrusted=t.isTrusted,i.srcElement=t.srcElement,i.timeStamp=performance.now(),i.type=t.type,i.detail=t.detail,i.view=t.view,i.which=t.which,i.layer.copyFrom(t.layer),i.page.copyFrom(t.page)}trackingData(t){return this.mappingState.trackingData[t]||(this.mappingState.trackingData[t]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[t]}allocateEvent(t){this.eventPool.has(t)||this.eventPool.set(t,[]);const i=this.eventPool.get(t).pop()||new t(this);return i.eventPhase=i.NONE,i.currentTarget=null,i.path=null,i.target=null,i}freeEvent(t){if(t.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const i=t.constructor;this.eventPool.has(i)||this.eventPool.set(i,[]),this.eventPool.get(i).push(t)}notifyListeners(t,i){const n=t.currentTarget._events[i];if(n&&t.currentTarget.isInteractive())if("fn"in n)n.once&&t.currentTarget.removeListener(i,n.fn,void 0,!0),n.fn.call(n.context,t);else for(let l=0,o=n.length;l<o&&!t.propagationImmediatelyStopped;l++)n[l].once&&t.currentTarget.removeListener(i,n[l].fn,void 0,!0),n[l].fn.call(n[l].context,t)}}const xA=1,bA={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},Vd=class jd{constructor(t){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=t,this.rootBoundary=new _A(null),hn.init(this),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new Ni(null),this.rootWheelEvent=new ta(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.features=new Proxy({...jd.defaultEventFeatures},{set:(i,n,l)=>(n==="globalMove"&&(this.rootBoundary.enableGlobalMoveEvents=l),i[n]=l,!0)}),this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}static get defaultEventMode(){return this._defaultEventMode}init(t){const{view:i,resolution:n}=this.renderer;this.setTargetElement(i),this.resolution=n,jd._defaultEventMode=t.eventMode??"auto",Object.assign(this.features,t.eventFeatures??{}),this.rootBoundary.enableGlobalMoveEvents=this.features.globalMove}resolutionChange(t){this.resolution=t}destroy(){this.setTargetElement(null),this.renderer=null}setCursor(t){t=t||"default";let i=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(i=!1),this.currentCursor===t)return;this.currentCursor=t;const n=this.cursorStyles[t];if(n)switch(typeof n){case"string":i&&(this.domElement.style.cursor=n);break;case"function":n(t);break;case"object":i&&Object.assign(this.domElement.style,n);break}else i&&typeof t=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,t)&&(this.domElement.style.cursor=t)}get pointer(){return this.rootPointerEvent}onPointerDown(t){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const i=this.normalizeToPointerData(t);this.autoPreventDefault&&i[0].isNormalized&&(t.cancelable||!("cancelable"in t))&&t.preventDefault();for(let n=0,l=i.length;n<l;n++){const o=i[n],h=this.bootstrapEvent(this.rootPointerEvent,o);this.rootBoundary.mapEvent(h)}this.setCursor(this.rootBoundary.cursor)}onPointerMove(t){if(!this.features.move)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,hn.pointerMoved();const i=this.normalizeToPointerData(t);for(let n=0,l=i.length;n<l;n++){const o=this.bootstrapEvent(this.rootPointerEvent,i[n]);this.rootBoundary.mapEvent(o)}this.setCursor(this.rootBoundary.cursor)}onPointerUp(t){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;let i=t.target;t.composedPath&&t.composedPath().length>0&&(i=t.composedPath()[0]);const n=i!==this.domElement?"outside":"",l=this.normalizeToPointerData(t);for(let o=0,h=l.length;o<h;o++){const c=this.bootstrapEvent(this.rootPointerEvent,l[o]);c.type+=n,this.rootBoundary.mapEvent(c)}this.setCursor(this.rootBoundary.cursor)}onPointerOverOut(t){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const i=this.normalizeToPointerData(t);for(let n=0,l=i.length;n<l;n++){const o=this.bootstrapEvent(this.rootPointerEvent,i[n]);this.rootBoundary.mapEvent(o)}this.setCursor(this.rootBoundary.cursor)}onWheel(t){if(!this.features.wheel)return;const i=this.normalizeWheelEvent(t);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(i)}setTargetElement(t){this.removeEvents(),this.domElement=t,hn.domElement=t,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;hn.addTickerListener();const t=this.domElement.style;t&&(globalThis.navigator.msPointerEnabled?(t.msContentZooming="none",t.msTouchAction="none"):this.supportsPointerEvents&&(t.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0))),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;hn.removeTickerListener();const t=this.domElement.style;globalThis.navigator.msPointerEnabled?(t.msContentZooming="",t.msTouchAction=""):this.supportsPointerEvents&&(t.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0))),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapPositionToPoint(t,i,n){const l=this.domElement.isConnected?this.domElement.getBoundingClientRect():{width:this.domElement.width,height:this.domElement.height,left:0,top:0},o=1/this.resolution;t.x=(i-l.left)*(this.domElement.width/l.width)*o,t.y=(n-l.top)*(this.domElement.height/l.height)*o}normalizeToPointerData(t){const i=[];if(this.supportsTouchEvents&&t instanceof TouchEvent)for(let n=0,l=t.changedTouches.length;n<l;n++){const o=t.changedTouches[n];typeof o.button>"u"&&(o.button=0),typeof o.buttons>"u"&&(o.buttons=1),typeof o.isPrimary>"u"&&(o.isPrimary=t.touches.length===1&&t.type==="touchstart"),typeof o.width>"u"&&(o.width=o.radiusX||1),typeof o.height>"u"&&(o.height=o.radiusY||1),typeof o.tiltX>"u"&&(o.tiltX=0),typeof o.tiltY>"u"&&(o.tiltY=0),typeof o.pointerType>"u"&&(o.pointerType="touch"),typeof o.pointerId>"u"&&(o.pointerId=o.identifier||0),typeof o.pressure>"u"&&(o.pressure=o.force||.5),typeof o.twist>"u"&&(o.twist=0),typeof o.tangentialPressure>"u"&&(o.tangentialPressure=0),typeof o.layerX>"u"&&(o.layerX=o.offsetX=o.clientX),typeof o.layerY>"u"&&(o.layerY=o.offsetY=o.clientY),o.isNormalized=!0,o.type=t.type,i.push(o)}else if(!globalThis.MouseEvent||t instanceof MouseEvent&&(!this.supportsPointerEvents||!(t instanceof globalThis.PointerEvent))){const n=t;typeof n.isPrimary>"u"&&(n.isPrimary=!0),typeof n.width>"u"&&(n.width=1),typeof n.height>"u"&&(n.height=1),typeof n.tiltX>"u"&&(n.tiltX=0),typeof n.tiltY>"u"&&(n.tiltY=0),typeof n.pointerType>"u"&&(n.pointerType="mouse"),typeof n.pointerId>"u"&&(n.pointerId=xA),typeof n.pressure>"u"&&(n.pressure=.5),typeof n.twist>"u"&&(n.twist=0),typeof n.tangentialPressure>"u"&&(n.tangentialPressure=0),n.isNormalized=!0,i.push(n)}else i.push(t);return i}normalizeWheelEvent(t){const i=this.rootWheelEvent;return this.transferMouseData(i,t),i.deltaX=t.deltaX,i.deltaY=t.deltaY,i.deltaZ=t.deltaZ,i.deltaMode=t.deltaMode,this.mapPositionToPoint(i.screen,t.clientX,t.clientY),i.global.copyFrom(i.screen),i.offset.copyFrom(i.screen),i.nativeEvent=t,i.type=t.type,i}bootstrapEvent(t,i){return t.originalEvent=null,t.nativeEvent=i,t.pointerId=i.pointerId,t.width=i.width,t.height=i.height,t.isPrimary=i.isPrimary,t.pointerType=i.pointerType,t.pressure=i.pressure,t.tangentialPressure=i.tangentialPressure,t.tiltX=i.tiltX,t.tiltY=i.tiltY,t.twist=i.twist,this.transferMouseData(t,i),this.mapPositionToPoint(t.screen,i.clientX,i.clientY),t.global.copyFrom(t.screen),t.offset.copyFrom(t.screen),t.isTrusted=i.isTrusted,t.type==="pointerleave"&&(t.type="pointerout"),t.type.startsWith("mouse")&&(t.type=t.type.replace("mouse","pointer")),t.type.startsWith("touch")&&(t.type=bA[t.type]||t.type),t}transferMouseData(t,i){t.isTrusted=i.isTrusted,t.srcElement=i.srcElement,t.timeStamp=performance.now(),t.type=i.type,t.altKey=i.altKey,t.button=i.button,t.buttons=i.buttons,t.client.x=i.clientX,t.client.y=i.clientY,t.ctrlKey=i.ctrlKey,t.metaKey=i.metaKey,t.movement.x=i.movementX,t.movement.y=i.movementY,t.page.x=i.pageX,t.page.y=i.pageY,t.relatedTarget=null,t.shiftKey=i.shiftKey}};Vd.extension={name:"events",type:[pt.RendererSystem,pt.CanvasRendererSystem]},Vd.defaultEventFeatures={move:!0,globalMove:!0,click:!0,wheel:!0};let qd=Vd;St.add(qd);function $0(s){return s==="dynamic"||s==="static"}const EA={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,_internalInteractive:void 0,get interactive(){return this._internalInteractive??$0(qd.defaultEventMode)},set interactive(s){zt("7.2.0","Setting interactive is deprecated, use eventMode = 'none'/'passive'/'auto'/'static'/'dynamic' instead."),this._internalInteractive=s,this.eventMode=s?"static":"auto"},_internalEventMode:void 0,get eventMode(){return this._internalEventMode??qd.defaultEventMode},set eventMode(s){this._internalInteractive=$0(s),this._internalEventMode=s},isInteractive(){return this.eventMode==="static"||this.eventMode==="dynamic"},interactiveChildren:!0,hitArea:null,addEventListener(s,t,i){const n=typeof i=="boolean"&&i||typeof i=="object"&&i.capture,l=typeof i=="object"?i.signal:void 0,o=typeof i=="object"?i.once===!0:!1,h=typeof t=="function"?void 0:t;s=n?`${s}capture`:s;const c=typeof t=="function"?t:t.handleEvent,p=this;l&&l.addEventListener("abort",()=>{p.off(s,c,h)}),o?p.once(s,c,h):p.on(s,c,h)},removeEventListener(s,t,i){const n=typeof i=="boolean"&&i||typeof i=="object"&&i.capture,l=typeof t=="function"?void 0:t;s=n?`${s}capture`:s,t=typeof t=="function"?t:t.handleEvent,this.off(s,t,l)},dispatchEvent(s){if(!(s instanceof yl))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return s.defaultPrevented=!1,s.path=null,s.target=this,s.manager.dispatchEvent(s),!s.defaultPrevented}};he.mixin(EA);const TA={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};he.mixin(TA);const SA=9,qo=100,AA=0,wA=0,Z0=2,K0=1,CA=-1e3,RA=-1e3,MA=2;class Sx{constructor(t){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(wr.tablet||wr.phone)&&this.createTouchHook();const i=document.createElement("div");i.style.width=`${qo}px`,i.style.height=`${qo}px`,i.style.position="absolute",i.style.top=`${AA}px`,i.style.left=`${wA}px`,i.style.zIndex=Z0.toString(),this.div=i,this.renderer=t,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}createTouchHook(){const t=document.createElement("button");t.style.width=`${K0}px`,t.style.height=`${K0}px`,t.style.position="absolute",t.style.top=`${CA}px`,t.style.left=`${RA}px`,t.style.zIndex=MA.toString(),t.style.backgroundColor="#FF0000",t.title="select to enable accessibility for this content",t.addEventListener("focus",()=>{this._isMobileAccessibility=!0,this.activate(),this.destroyTouchHook()}),document.body.appendChild(t),this._hookDiv=t}destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}activate(){var t;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(t=this.renderer.view.parentNode)==null||t.appendChild(this.div))}deactivate(){var t;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(t=this.div.parentNode)==null||t.removeChild(this.div))}updateAccessibleObjects(t){if(!t.visible||!t.accessibleChildren)return;t.accessible&&t.isInteractive()&&(t._accessibleActive||this.addChild(t),t.renderId=this.renderId);const i=t.children;if(i)for(let n=0;n<i.length;n++)this.updateAccessibleObjects(i[n])}update(){const t=performance.now();if(wr.android.device&&t<this.androidUpdateCount||(this.androidUpdateCount=t+this.androidUpdateFrequency,!this.renderer.renderingToScreen))return;this.renderer.lastObjectRendered&&this.updateAccessibleObjects(this.renderer.lastObjectRendered);const{x:i,y:n,width:l,height:o}=this.renderer.view.getBoundingClientRect(),{width:h,height:c,resolution:p}=this.renderer,m=l/h*p,g=o/c*p;let y=this.div;y.style.left=`${i}px`,y.style.top=`${n}px`,y.style.width=`${h}px`,y.style.height=`${c}px`;for(let x=0;x<this.children.length;x++){const _=this.children[x];if(_.renderId!==this.renderId)_._accessibleActive=!1,Qs(this.children,x,1),this.div.removeChild(_._accessibleDiv),this.pool.push(_._accessibleDiv),_._accessibleDiv=null,x--;else{y=_._accessibleDiv;let E=_.hitArea;const w=_.worldTransform;_.hitArea?(y.style.left=`${(w.tx+E.x*w.a)*m}px`,y.style.top=`${(w.ty+E.y*w.d)*g}px`,y.style.width=`${E.width*w.a*m}px`,y.style.height=`${E.height*w.d*g}px`):(E=_.getBounds(),this.capHitArea(E),y.style.left=`${E.x*m}px`,y.style.top=`${E.y*g}px`,y.style.width=`${E.width*m}px`,y.style.height=`${E.height*g}px`,y.title!==_.accessibleTitle&&_.accessibleTitle!==null&&(y.title=_.accessibleTitle),y.getAttribute("aria-label")!==_.accessibleHint&&_.accessibleHint!==null&&y.setAttribute("aria-label",_.accessibleHint)),(_.accessibleTitle!==y.title||_.tabIndex!==y.tabIndex)&&(y.title=_.accessibleTitle,y.tabIndex=_.tabIndex,this.debug&&this.updateDebugHTML(y))}}this.renderId++}updateDebugHTML(t){t.innerHTML=`type: ${t.type}</br> title : ${t.title}</br> tabIndex: ${t.tabIndex}`}capHitArea(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0);const{width:i,height:n}=this.renderer;t.x+t.width>i&&(t.width=i-t.x),t.y+t.height>n&&(t.height=n-t.y)}addChild(t){let i=this.pool.pop();i||(i=document.createElement("button"),i.style.width=`${qo}px`,i.style.height=`${qo}px`,i.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",i.style.position="absolute",i.style.zIndex=Z0.toString(),i.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?i.setAttribute("aria-live","off"):i.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?i.setAttribute("aria-relevant","additions"):i.setAttribute("aria-relevant","text"),i.addEventListener("click",this._onClick.bind(this)),i.addEventListener("focus",this._onFocus.bind(this)),i.addEventListener("focusout",this._onFocusOut.bind(this))),i.style.pointerEvents=t.accessiblePointerEvents,i.type=t.accessibleType,t.accessibleTitle&&t.accessibleTitle!==null?i.title=t.accessibleTitle:(!t.accessibleHint||t.accessibleHint===null)&&(i.title=`displayObject ${t.tabIndex}`),t.accessibleHint&&t.accessibleHint!==null&&i.setAttribute("aria-label",t.accessibleHint),this.debug&&this.updateDebugHTML(i),t._accessibleActive=!0,t._accessibleDiv=i,i.displayObject=t,this.children.push(t),this.div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex}_dispatchEvent(t,i){const{displayObject:n}=t.target,l=this.renderer.events.rootBoundary,o=Object.assign(new yl(l),{target:n});l.rootTarget=this.renderer.lastObjectRendered,i.forEach(h=>l.dispatchEvent(o,h))}_onClick(t){this._dispatchEvent(t,["click","pointertap","tap"])}_onFocus(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","assertive"),this._dispatchEvent(t,["mouseover"])}_onFocusOut(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","polite"),this._dispatchEvent(t,["mouseout"])}_onKeyDown(t){t.keyCode===SA&&this.activate()}_onMouseMove(t){t.movementX===0&&t.movementY===0||this.deactivate()}destroy(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null}}Sx.extension={name:"accessibility",type:[pt.RendererPlugin,pt.CanvasRendererPlugin]};St.add(Sx);const Ax=class Yd{constructor(t){this.stage=new ci,t=Object.assign({forceCanvas:!1},t),this.renderer=GS(t),Yd._plugins.forEach(i=>{i.init.call(this,t)})}render(){this.renderer.render(this.stage)}get view(){var t;return(t=this.renderer)==null?void 0:t.view}get screen(){var t;return(t=this.renderer)==null?void 0:t.screen}destroy(t,i){const n=Yd._plugins.slice(0);n.reverse(),n.forEach(l=>{l.destroy.call(this)}),this.stage.destroy(i),this.stage=null,this.renderer.destroy(t),this.renderer=null}};Ax._plugins=[];let wx=Ax;St.handleByList(pt.Application,wx._plugins);class Cx{static init(t){Object.defineProperty(this,"resizeTo",{set(i){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=i,i&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;this.cancelResize();let i,n;if(this._resizeTo===globalThis.window)i=globalThis.innerWidth,n=globalThis.innerHeight;else{const{clientWidth:l,clientHeight:o}=this._resizeTo;i=l,n=o}this.renderer.resize(i,n),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=t.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}Cx.extension=pt.Application;St.add(Cx);const Q0={loader:pt.LoadParser,resolver:pt.ResolveParser,cache:pt.CacheParser,detection:pt.DetectionParser};St.handle(pt.Asset,s=>{const t=s.ref;Object.entries(Q0).filter(([i])=>!!t[i]).forEach(([i,n])=>St.add(Object.assign(t[i],{extension:t[i].extension??n})))},s=>{const t=s.ref;Object.keys(Q0).filter(i=>!!t[i]).forEach(i=>St.remove(t[i]))});class DA{constructor(t,i=!1){this._loader=t,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=i}add(t){t.forEach(i=>{this._assetList.push(i)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const t=[],i=Math.min(this._assetList.length,this._maxConcurrent);for(let n=0;n<i;n++)t.push(this._assetList.pop());await this._loader.load(t),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(t){this._isActive!==t&&(this._isActive=t,t&&!this._isLoading&&this._next())}}function sa(s,t){if(Array.isArray(t)){for(const i of t)if(s.startsWith(`data:${i}`))return!0;return!1}return s.startsWith(`data:${t}`)}function gn(s,t){const i=s.split("?")[0],n=De.extname(i).toLowerCase();return Array.isArray(t)?t.includes(n):n===t}const Ii=(s,t,i=!1)=>(Array.isArray(s)||(s=[s]),t?s.map(n=>typeof n=="string"||i?t(n):n):s),Wd=(s,t)=>{const i=t.split("?")[1];return i&&(s+=`?${i}`),s};function Rx(s,t,i,n,l){const o=t[i];for(let h=0;h<o.length;h++){const c=o[h];i<t.length-1?Rx(s.replace(n[i],c),t,i+1,n,l):l.push(s.replace(n[i],c))}}function OA(s){const t=/\{(.*?)\}/g,i=s.match(t),n=[];if(i){const l=[];i.forEach(o=>{const h=o.substring(1,o.length-1).split(",");l.push(h)}),Rx(s,l,0,i,n)}else n.push(s);return n}const bu=s=>!Array.isArray(s);class BA{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(t){return this._cache.has(t)}get(t){const i=this._cache.get(t);return i||console.warn(`[Assets] Asset id ${t} was not found in the Cache`),i}set(t,i){const n=Ii(t);let l;for(let c=0;c<this.parsers.length;c++){const p=this.parsers[c];if(p.test(i)){l=p.getCacheableAssets(n,i);break}}l||(l={},n.forEach(c=>{l[c]=i}));const o=Object.keys(l),h={cacheKeys:o,keys:n};if(n.forEach(c=>{this._cacheMap.set(c,h)}),o.forEach(c=>{const p=l?l[c]:i;this._cache.has(c)&&this._cache.get(c)!==p&&console.warn("[Cache] already has key:",c),this._cache.set(c,l[c])}),i instanceof _t){const c=i;n.forEach(p=>{c.baseTexture!==_t.EMPTY.baseTexture&&It.addToCache(c.baseTexture,p),_t.addToCache(c,p)})}}remove(t){if(!this._cacheMap.has(t)){console.warn(`[Assets] Asset id ${t} was not found in the Cache`);return}const i=this._cacheMap.get(t);i.cacheKeys.forEach(n=>{this._cache.delete(n)}),i.keys.forEach(n=>{this._cacheMap.delete(n)})}get parsers(){return this._parsers}}const qn=new BA;class NA{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(t,i,n)=>(this._parsersValidated=!1,t[i]=n,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(t,i){const n={promise:null,parser:null};return n.promise=(async()=>{var h,c;let l=null,o=null;if(i.loadParser&&(o=this._parserHash[i.loadParser],o||console.warn(`[Assets] specified load parser "${i.loadParser}" not found while loading ${t}`)),!o){for(let p=0;p<this.parsers.length;p++){const m=this.parsers[p];if(m.load&&((h=m.test)!=null&&h.call(m,t,i,this))){o=m;break}}if(!o)return console.warn(`[Assets] ${t} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}l=await o.load(t,i,this),n.parser=o;for(let p=0;p<this.parsers.length;p++){const m=this.parsers[p];m.parse&&m.parse&&await((c=m.testParse)==null?void 0:c.call(m,l,i,this))&&(l=await m.parse(l,i,this)||l,n.parser=m)}return l})(),n}async load(t,i){this._parsersValidated||this._validateParsers();let n=0;const l={},o=bu(t),h=Ii(t,m=>({alias:[m],src:m})),c=h.length,p=h.map(async m=>{const g=De.toAbsolute(m.src);if(!l[m.src])try{this.promiseCache[g]||(this.promiseCache[g]=this._getLoadPromiseAndParser(g,m)),l[m.src]=await this.promiseCache[g].promise,i&&i(++n/c)}catch(y){throw delete this.promiseCache[g],delete l[m.src],new Error(`[Loader.load] Failed to load ${g}.
${y}`)}});return await Promise.all(p),o?l[h[0].src]:l}async unload(t){const i=Ii(t,n=>({alias:[n],src:n})).map(async n=>{var h,c;const l=De.toAbsolute(n.src),o=this.promiseCache[l];if(o){const p=await o.promise;delete this.promiseCache[l],(c=(h=o.parser)==null?void 0:h.unload)==null||c.call(h,p,n,this)}});await Promise.all(i)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(t=>t.name).reduce((t,i)=>(t[i.name]&&console.warn(`[Assets] loadParser name conflict "${i.name}"`),{...t,[i.name]:i}),{})}}var Pi=(s=>(s[s.Low=0]="Low",s[s.Normal=1]="Normal",s[s.High=2]="High",s))(Pi||{});const IA=".json",UA="application/json",LA={extension:{type:pt.LoadParser,priority:Pi.Low},name:"loadJson",test(s){return sa(s,UA)||gn(s,IA)},async load(s){return await(await gt.ADAPTER.fetch(s)).json()}};St.add(LA);const PA=".txt",FA="text/plain",GA={name:"loadTxt",extension:{type:pt.LoadParser,priority:Pi.Low},test(s){return sa(s,FA)||gn(s,PA)},async load(s){return await(await gt.ADAPTER.fetch(s)).text()}};St.add(GA);const zA=["normal","bold","100","200","300","400","500","600","700","800","900"],HA=[".ttf",".otf",".woff",".woff2"],kA=["font/ttf","font/otf","font/woff","font/woff2"],XA=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function VA(s){const t=De.extname(s),i=De.basename(s,t).replace(/(-|_)/g," ").toLowerCase().split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1));let n=i.length>0;for(const o of i)if(!o.match(XA)){n=!1;break}let l=i.join(" ");return n||(l=`"${l.replace(/[\\"]/g,"\\$&")}"`),l}const jA=/^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/;function qA(s){return jA.test(s)?s:encodeURI(s)}const YA={extension:{type:pt.LoadParser,priority:Pi.Low},name:"loadWebFont",test(s){return sa(s,kA)||gn(s,HA)},async load(s,t){var n,l,o;const i=gt.ADAPTER.getFontFaceSet();if(i){const h=[],c=((n=t.data)==null?void 0:n.family)??VA(s),p=((o=(l=t.data)==null?void 0:l.weights)==null?void 0:o.filter(g=>zA.includes(g)))??["normal"],m=t.data??{};for(let g=0;g<p.length;g++){const y=p[g],x=new FontFace(c,`url(${qA(s)})`,{...m,weight:y});await x.load(),i.add(x),h.push(x)}return h.length===1?h[0]:h}return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(s){(Array.isArray(s)?s:[s]).forEach(t=>gt.ADAPTER.getFontFaceSet().delete(t))}};St.add(YA);const WA=`(function() {
  "use strict";
  const WHITE_PNG = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=";
  async function checkImageBitmap() {
    try {
      if (typeof createImageBitmap != "function")
        return !1;
      const imageBlob = await (await fetch(WHITE_PNG)).blob(), imageBitmap = await createImageBitmap(imageBlob);
      return imageBitmap.width === 1 && imageBitmap.height === 1;
    } catch {
      return !1;
    }
  }
  checkImageBitmap().then((result) => {
    self.postMessage(result);
  });
})();
`;let ea=null,$d=class{constructor(){ea||(ea=URL.createObjectURL(new Blob([WA],{type:"application/javascript"}))),this.worker=new Worker(ea)}};$d.revokeObjectURL=function(){ea&&(URL.revokeObjectURL(ea),ea=null)};const $A=`(function() {
  "use strict";
  async function loadImageBitmap(url) {
    const response = await fetch(url);
    if (!response.ok)
      throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \${response.status} \${response.statusText}\`);
    const imageBlob = await response.blob();
    return await createImageBitmap(imageBlob);
  }
  self.onmessage = async (event) => {
    try {
      const imageBitmap = await loadImageBitmap(event.data.data[0]);
      self.postMessage({
        data: imageBitmap,
        uuid: event.data.uuid,
        id: event.data.id
      }, [imageBitmap]);
    } catch (e) {
      self.postMessage({
        error: e,
        uuid: event.data.uuid,
        id: event.data.id
      });
    }
  };
})();
`;let ia=null;class Mx{constructor(){ia||(ia=URL.createObjectURL(new Blob([$A],{type:"application/javascript"}))),this.worker=new Worker(ia)}}Mx.revokeObjectURL=function(){ia&&(URL.revokeObjectURL(ia),ia=null)};let J0=0,cd;class ZA{constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(t=>{const{worker:i}=new $d;i.addEventListener("message",n=>{i.terminate(),$d.revokeObjectURL(),t(n.data)})}),this._isImageBitmapSupported)}loadImageBitmap(t){return this._run("loadImageBitmap",[t])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){cd===void 0&&(cd=navigator.hardwareConcurrency||4);let t=this.workerPool.pop();return!t&&this._createdWorkers<cd&&(this._createdWorkers++,t=new Mx().worker,t.addEventListener("message",i=>{this.complete(i.data),this.returnWorker(i.target),this.next()})),t}returnWorker(t){this.workerPool.push(t)}complete(t){t.error!==void 0?this.resolveHash[t.uuid].reject(t.error):this.resolveHash[t.uuid].resolve(t.data),this.resolveHash[t.uuid]=null}async _run(t,i){await this._initWorkers();const n=new Promise((l,o)=>{this.queue.push({id:t,arguments:i,resolve:l,reject:o})});return this.next(),n}next(){if(!this.queue.length)return;const t=this.getWorker();if(!t)return;const i=this.queue.pop(),n=i.id;this.resolveHash[J0]={resolve:i.resolve,reject:i.reject},t.postMessage({data:i.arguments,uuid:J0++,id:n})}}const t_=new ZA;function vl(s,t,i){s.resource.internal=!0;const n=new _t(s),l=()=>{delete t.promiseCache[i],qn.has(i)&&qn.remove(i)};return n.baseTexture.once("destroyed",()=>{i in t.promiseCache&&(console.warn("[Assets] A BaseTexture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the BaseTexture."),l())}),n.once("destroyed",()=>{s.destroyed||(console.warn("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),l())}),n}const KA=[".jpeg",".jpg",".png",".webp",".avif"],QA=["image/jpeg","image/png","image/webp","image/avif"];async function JA(s){const t=await gt.ADAPTER.fetch(s);if(!t.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${s}: ${t.status} ${t.statusText}`);const i=await t.blob();return await createImageBitmap(i)}const Iu={name:"loadTextures",extension:{type:pt.LoadParser,priority:Pi.High},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(s){return sa(s,QA)||gn(s,KA)},async load(s,t,i){var c;const n=globalThis.createImageBitmap&&this.config.preferCreateImageBitmap;let l;n?this.config.preferWorkers&&await t_.isImageBitmapSupported()?l=await t_.loadImageBitmap(s):l=await JA(s):l=await new Promise((p,m)=>{const g=new Image;g.crossOrigin=this.config.crossOrigin,g.src=s,g.complete?p(g):(g.onload=()=>p(g),g.onerror=y=>m(y))});const o={...t.data};o.resolution??(o.resolution=Mr(s)),n&&((c=o.resourceOptions)==null?void 0:c.ownsImageBitmap)===void 0&&(o.resourceOptions={...o.resourceOptions},o.resourceOptions.ownsImageBitmap=!0);const h=new It(l,o);return h.resource.src=s,vl(h,i,s)},unload(s){s.destroy(!0)}};St.add(Iu);const tw=".svg",ew="image/svg+xml",iw={extension:{type:pt.LoadParser,priority:Pi.High},name:"loadSVG",test(s){return sa(s,ew)||gn(s,tw)},async testParse(s){return Fd.test(s)},async parse(s,t,i){var o;const n=new Fd(s,(o=t==null?void 0:t.data)==null?void 0:o.resourceOptions);await n.load();const l=new It(n,{resolution:Mr(s),...t==null?void 0:t.data});return l.resource.src=t.src,vl(l,i,t.src)},async load(s,t){return(await gt.ADAPTER.fetch(s)).text()},unload:Iu.unload};St.add(iw);const rw=[".mp4",".m4v",".webm",".ogv"],nw=["video/mp4","video/webm","video/ogg"],sw={name:"loadVideo",extension:{type:pt.LoadParser,priority:Pi.High},config:{defaultAutoPlay:!0,defaultUpdateFPS:0,defaultLoop:!1,defaultMuted:!1,defaultPlaysinline:!0},test(s){return sa(s,nw)||gn(s,rw)},async load(s,t,i){var h;let n;const l=await(await gt.ADAPTER.fetch(s)).blob(),o=URL.createObjectURL(l);try{const c={autoPlay:this.config.defaultAutoPlay,updateFPS:this.config.defaultUpdateFPS,loop:this.config.defaultLoop,muted:this.config.defaultMuted,playsinline:this.config.defaultPlaysinline,...(h=t==null?void 0:t.data)==null?void 0:h.resourceOptions,autoLoad:!0},p=new bx(o,c);await p.load();const m=new It(p,{alphaMode:await cT(),resolution:Mr(s),...t==null?void 0:t.data});m.resource.src=s,n=vl(m,i,s),n.baseTexture.once("destroyed",()=>{URL.revokeObjectURL(o)})}catch(c){throw URL.revokeObjectURL(o),c}return n},unload(s){s.destroy(!0)}};St.add(sw);class aw{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(t,i)=>`${t}${this._bundleIdConnector}${i}`,extractAssetIdFromBundle:(t,i)=>i.replace(`${t}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(t){if(this._bundleIdConnector=t.connector??this._bundleIdConnector,this._createBundleAssetId=t.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=t.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...t){t.forEach(i=>{this._preferredOrder.push(i),i.priority||(i.priority=Object.keys(i.params))}),this._resolverHash={}}set basePath(t){this._basePath=t}get basePath(){return this._basePath}set rootPath(t){this._rootPath=t}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(t){if(typeof t=="string")this._defaultSearchParams=t;else{const i=t;this._defaultSearchParams=Object.keys(i).map(n=>`${encodeURIComponent(n)}=${encodeURIComponent(i[n])}`).join("&")}}getAlias(t){const{alias:i,name:n,src:l,srcs:o}=t;return Ii(i||n||l||o,h=>typeof h=="string"?h:Array.isArray(h)?h.map(c=>(c==null?void 0:c.src)??(c==null?void 0:c.srcs)??c):h!=null&&h.src||h!=null&&h.srcs?h.src??h.srcs:h,!0)}addManifest(t){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=t,t.bundles.forEach(i=>{this.addBundle(i.name,i.assets)})}addBundle(t,i){const n=[];Array.isArray(i)?i.forEach(l=>{const o=l.src??l.srcs,h=l.alias??l.name;let c;if(typeof h=="string"){const p=this._createBundleAssetId(t,h);n.push(p),c=[h,p]}else{const p=h.map(m=>this._createBundleAssetId(t,m));n.push(...p),c=[...h,...p]}this.add({...l,alias:c,src:o})}):Object.keys(i).forEach(l=>{const o=[l,this._createBundleAssetId(t,l)];if(typeof i[l]=="string")this.add({alias:o,src:i[l]});else if(Array.isArray(i[l]))this.add({alias:o,src:i[l]});else{const h=i[l],c=h.src??h.srcs;this.add({...h,alias:o,src:Array.isArray(c)?c:[c]})}n.push(...o)}),this._bundles[t]=n}add(t,i,n,l,o){const h=[];typeof t=="string"||Array.isArray(t)&&typeof t[0]=="string"?(zt("7.2.0",`Assets.add now uses an object instead of individual parameters.
Please use Assets.add({ alias, src, data, format, loadParser }) instead.`),h.push({alias:t,src:i,data:n,format:l,loadParser:o})):Array.isArray(t)?h.push(...t):h.push(t);let c;c=p=>{this.hasKey(p)&&console.warn(`[Resolver] already has key: ${p} overwriting`)},Ii(h).forEach(p=>{const{src:m,srcs:g}=p;let{data:y,format:x,loadParser:_}=p;const E=Ii(m||g).map(C=>typeof C=="string"?OA(C):Array.isArray(C)?C:[C]),w=this.getAlias(p);Array.isArray(w)?w.forEach(c):c(w);const S=[];E.forEach(C=>{C.forEach(I=>{let O={};if(typeof I!="object"){O.src=I;for(let U=0;U<this._parsers.length;U++){const B=this._parsers[U];if(B.test(I)){O=B.parse(I);break}}}else y=I.data??y,x=I.format??x,_=I.loadParser??_,O={...O,...I};if(!w)throw new Error(`[Resolver] alias is undefined for this asset: ${O.src}`);O=this.buildResolvedAsset(O,{aliases:w,data:y,format:x,loadParser:_}),S.push(O)})}),w.forEach(C=>{this._assetMap[C]=S})})}resolveBundle(t){const i=bu(t);t=Ii(t);const n={};return t.forEach(l=>{const o=this._bundles[l];if(o){const h=this.resolve(o),c={};for(const p in h){const m=h[p];c[this._extractAssetIdFromBundle(l,p)]=m}n[l]=c}}),i?n[t[0]]:n}resolveUrl(t){const i=this.resolve(t);if(typeof t!="string"){const n={};for(const l in i)n[l]=i[l].src;return n}return i.src}resolve(t){const i=bu(t);t=Ii(t);const n={};return t.forEach(l=>{if(!this._resolverHash[l])if(this._assetMap[l]){let o=this._assetMap[l];const h=o[0],c=this._getPreferredOrder(o);c==null||c.priority.forEach(p=>{c.params[p].forEach(m=>{const g=o.filter(y=>y[p]?y[p]===m:!1);g.length&&(o=g)})}),this._resolverHash[l]=o[0]??h}else this._resolverHash[l]=this.buildResolvedAsset({alias:[l],src:l},{});n[l]=this._resolverHash[l]}),i?n[t[0]]:n}hasKey(t){return!!this._assetMap[t]}hasBundle(t){return!!this._bundles[t]}_getPreferredOrder(t){for(let i=0;i<t.length;i++){const n=t[0],l=this._preferredOrder.find(o=>o.params.format.includes(n.format));if(l)return l}return this._preferredOrder[0]}_appendDefaultSearchParams(t){if(!this._defaultSearchParams)return t;const i=/\?/.test(t)?"&":"?";return`${t}${i}${this._defaultSearchParams}`}buildResolvedAsset(t,i){const{aliases:n,data:l,loadParser:o,format:h}=i;return(this._basePath||this._rootPath)&&(t.src=De.toAbsolute(t.src,this._basePath,this._rootPath)),t.alias=n??t.alias??[t.src],t.src=this._appendDefaultSearchParams(t.src),t.data={...l||{},...t.data},t.loadParser=o??t.loadParser,t.format=h??t.format??De.extname(t.src).slice(1),t.srcs=t.src,t.name=t.alias,t}}class lw{constructor(){this._detections=[],this._initialized=!1,this.resolver=new aw,this.loader=new NA,this.cache=qn,this._backgroundLoader=new DA(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(t={}){var o,h;if(this._initialized){console.warn("[Assets]AssetManager already initialized, did you load before calling this Assets.init()?");return}if(this._initialized=!0,t.defaultSearchParams&&this.resolver.setDefaultSearchParams(t.defaultSearchParams),t.basePath&&(this.resolver.basePath=t.basePath),t.bundleIdentifier&&this.resolver.setBundleIdentifier(t.bundleIdentifier),t.manifest){let c=t.manifest;typeof c=="string"&&(c=await this.load(c)),this.resolver.addManifest(c)}const i=((o=t.texturePreference)==null?void 0:o.resolution)??1,n=typeof i=="number"?[i]:i,l=await this._detectFormats({preferredFormats:(h=t.texturePreference)==null?void 0:h.format,skipDetections:t.skipDetections,detections:this._detections});this.resolver.prefer({params:{format:l,resolution:n}}),t.preferences&&this.setPreferences(t.preferences)}add(t,i,n,l,o){this.resolver.add(t,i,n,l,o)}async load(t,i){this._initialized||await this.init();const n=bu(t),l=Ii(t).map(c=>{if(typeof c!="string"){const p=this.resolver.getAlias(c);return p.some(m=>!this.resolver.hasKey(m))&&this.add(c),Array.isArray(p)?p[0]:p}return this.resolver.hasKey(c)||this.add({alias:c,src:c}),c}),o=this.resolver.resolve(l),h=await this._mapLoadToResolve(o,i);return n?h[l[0]]:h}addBundle(t,i){this.resolver.addBundle(t,i)}async loadBundle(t,i){this._initialized||await this.init();let n=!1;typeof t=="string"&&(n=!0,t=[t]);const l=this.resolver.resolveBundle(t),o={},h=Object.keys(l);let c=0,p=0;const m=()=>{i==null||i(++c/p)},g=h.map(y=>{const x=l[y];return p+=Object.keys(x).length,this._mapLoadToResolve(x,m).then(_=>{o[y]=_})});return await Promise.all(g),n?o[t[0]]:o}async backgroundLoad(t){this._initialized||await this.init(),typeof t=="string"&&(t=[t]);const i=this.resolver.resolve(t);this._backgroundLoader.add(Object.values(i))}async backgroundLoadBundle(t){this._initialized||await this.init(),typeof t=="string"&&(t=[t]);const i=this.resolver.resolveBundle(t);Object.values(i).forEach(n=>{this._backgroundLoader.add(Object.values(n))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(t){if(typeof t=="string")return qn.get(t);const i={};for(let n=0;n<t.length;n++)i[n]=qn.get(t[n]);return i}async _mapLoadToResolve(t,i){const n=Object.values(t),l=Object.keys(t);this._backgroundLoader.active=!1;const o=await this.loader.load(n,i);this._backgroundLoader.active=!0;const h={};return n.forEach((c,p)=>{const m=o[c.src],g=[c.src];c.alias&&g.push(...c.alias),h[l[p]]=m,qn.set(g,m)}),h}async unload(t){this._initialized||await this.init();const i=Ii(t).map(l=>typeof l!="string"?l.src:l),n=this.resolver.resolve(i);await this._unloadFromResolved(n)}async unloadBundle(t){this._initialized||await this.init(),t=Ii(t);const i=this.resolver.resolveBundle(t),n=Object.keys(i).map(l=>this._unloadFromResolved(i[l]));await Promise.all(n)}async _unloadFromResolved(t){const i=Object.values(t);i.forEach(n=>{qn.remove(n.src)}),await this.loader.unload(i)}async _detectFormats(t){let i=[];t.preferredFormats&&(i=Array.isArray(t.preferredFormats)?t.preferredFormats:[t.preferredFormats]);for(const n of t.detections)t.skipDetections||await n.test()?i=await n.add(i):t.skipDetections||(i=await n.remove(i));return i=i.filter((n,l)=>i.indexOf(n)===l),i}get detections(){return this._detections}get preferWorkers(){return Iu.config.preferWorkers}set preferWorkers(t){zt("7.2.0","Assets.prefersWorkers is deprecated, use Assets.setPreferences({ preferWorkers: true }) instead."),this.setPreferences({preferWorkers:t})}setPreferences(t){this.loader.parsers.forEach(i=>{i.config&&Object.keys(i.config).filter(n=>n in t).forEach(n=>{i.config[n]=t[n]})})}}const Yo=new lw;St.handleByList(pt.LoadParser,Yo.loader.parsers).handleByList(pt.ResolveParser,Yo.resolver.parsers).handleByList(pt.CacheParser,Yo.cache.parsers).handleByList(pt.DetectionParser,Yo.detections);const ow={extension:pt.CacheParser,test:s=>Array.isArray(s)&&s.every(t=>t instanceof _t),getCacheableAssets:(s,t)=>{const i={};return s.forEach(n=>{t.forEach((l,o)=>{i[n+(o===0?"":o+1)]=l})}),i}};St.add(ow);async function Dx(s){if("Image"in globalThis)return new Promise(t=>{const i=new Image;i.onload=()=>{t(!0)},i.onerror=()=>{t(!1)},i.src=s});if("createImageBitmap"in globalThis&&"fetch"in globalThis){try{const t=await(await fetch(s)).blob();await createImageBitmap(t)}catch{return!1}return!0}return!1}const uw={extension:{type:pt.DetectionParser,priority:1},test:async()=>Dx("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="),add:async s=>[...s,"avif"],remove:async s=>s.filter(t=>t!=="avif")};St.add(uw);const hw={extension:{type:pt.DetectionParser,priority:0},test:async()=>Dx("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="),add:async s=>[...s,"webp"],remove:async s=>s.filter(t=>t!=="webp")};St.add(hw);const e_=["png","jpg","jpeg"],cw={extension:{type:pt.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async s=>[...s,...e_],remove:async s=>s.filter(t=>!e_.includes(t))};St.add(cw);const fw="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;function cp(s){return fw?!1:document.createElement("video").canPlayType(s)!==""}const dw={extension:{type:pt.DetectionParser,priority:0},test:async()=>cp("video/webm"),add:async s=>[...s,"webm"],remove:async s=>s.filter(t=>t!=="webm")};St.add(dw);const pw={extension:{type:pt.DetectionParser,priority:0},test:async()=>cp("video/mp4"),add:async s=>[...s,"mp4","m4v"],remove:async s=>s.filter(t=>t!=="mp4"&&t!=="m4v")};St.add(pw);const mw={extension:{type:pt.DetectionParser,priority:0},test:async()=>cp("video/ogg"),add:async s=>[...s,"ogv"],remove:async s=>s.filter(t=>t!=="ogv")};St.add(mw);const gw={extension:pt.ResolveParser,test:Iu.test,parse:s=>{var t;return{resolution:parseFloat(((t=gt.RETINA_PREFIX.exec(s))==null?void 0:t[1])??"1"),format:De.extname(s).slice(1),src:s}}};St.add(gw);var Pe=(s=>(s[s.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",s[s.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",s[s.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",s[s.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",s[s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",s[s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",s[s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",s[s.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",s[s.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",s[s.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",s[s.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",s[s.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",s[s.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",s[s.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",s[s.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",s[s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",s[s.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",s[s.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",s[s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",s[s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",s[s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",s[s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",s[s.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",s[s.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",s[s.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35987]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",s[s.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",s[s.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",s[s.COMPRESSED_RGBA_BPTC_UNORM_EXT=36492]="COMPRESSED_RGBA_BPTC_UNORM_EXT",s[s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT=36493]="COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT",s[s.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT=36494]="COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT",s[s.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT=36495]="COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT",s))(Pe||{});const Eu={33776:.5,33777:.5,33778:1,33779:1,35916:.5,35917:.5,35918:1,35919:1,37488:.5,37489:.5,37490:1,37491:1,37492:.5,37496:1,37493:.5,37497:1,37494:.5,37495:.5,35840:.5,35842:.5,35841:.25,35843:.25,36196:.5,35986:.5,35987:1,34798:1,37808:1,36492:1,36493:1,36494:1,36495:1};let Yi,Ys;function i_(){Ys={bptc:Yi.getExtension("EXT_texture_compression_bptc"),astc:Yi.getExtension("WEBGL_compressed_texture_astc"),etc:Yi.getExtension("WEBGL_compressed_texture_etc"),s3tc:Yi.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:Yi.getExtension("WEBGL_compressed_texture_s3tc_srgb"),pvrtc:Yi.getExtension("WEBGL_compressed_texture_pvrtc")||Yi.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),etc1:Yi.getExtension("WEBGL_compressed_texture_etc1"),atc:Yi.getExtension("WEBGL_compressed_texture_atc")}}const yw={extension:{type:pt.DetectionParser,priority:2},test:async()=>{const s=gt.ADAPTER.createCanvas().getContext("webgl");return s?(Yi=s,!0):(console.warn("WebGL not available for compressed textures."),!1)},add:async s=>{Ys||i_();const t=[];for(const i in Ys)Ys[i]&&t.push(i);return[...t,...s]},remove:async s=>(Ys||i_(),s.filter(t=>!(t in Ys)))};St.add(yw);class vw extends Mu{constructor(t,i={width:1,height:1,autoLoad:!0}){let n,l;typeof t=="string"?(n=t,l=new Uint8Array):(n=null,l=t),super(l,i),this.origin=n,this.buffer=l?new Ad(l):null,this._load=null,this.loaded=!1,this.origin!==null&&i.autoLoad!==!1&&this.load(),this.origin===null&&this.buffer&&(this._load=Promise.resolve(this),this.loaded=!0,this.onBlobLoaded(this.buffer.rawBinaryData))}onBlobLoaded(t){}load(){return this._load?this._load:(this._load=fetch(this.origin).then(t=>t.blob()).then(t=>t.arrayBuffer()).then(t=>(this.data=new Uint32Array(t),this.buffer=new Ad(t),this.loaded=!0,this.onBlobLoaded(t),this.update(),this)),this._load)}}class Wn extends vw{constructor(t,i){super(t,i),this.format=i.format,this.levels=i.levels||1,this._width=i.width,this._height=i.height,this._extension=Wn._formatToExtension(this.format),(i.levelBuffers||this.buffer)&&(this._levelBuffers=i.levelBuffers||Wn._createLevelBuffers(t instanceof Uint8Array?t:this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height))}upload(t,i,n){const l=t.gl;if(!t.context.extensions[this._extension])throw new Error(`${this._extension} textures are not supported on the current machine`);if(!this._levelBuffers)return!1;l.pixelStorei(l.UNPACK_ALIGNMENT,4);for(let o=0,h=this.levels;o<h;o++){const{levelID:c,levelWidth:p,levelHeight:m,levelBuffer:g}=this._levelBuffers[o];l.compressedTexImage2D(l.TEXTURE_2D,c,this.format,p,m,0,g)}return!0}onBlobLoaded(){this._levelBuffers=Wn._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)}static _formatToExtension(t){if(t>=33776&&t<=33779)return"s3tc";if(t>=35916&&t<=35919)return"s3tc_sRGB";if(t>=37488&&t<=37497)return"etc";if(t>=35840&&t<=35843)return"pvrtc";if(t===36196)return"etc1";if(t===35986||t===35987||t===34798)return"atc";if(t>=36492&&t<=36495)return"bptc";if(t===37808)return"astc";throw new Error(`Invalid (compressed) texture format given: ${t}`)}static _createLevelBuffers(t,i,n,l,o,h,c){const p=new Array(n);let m=t.byteOffset,g=h,y=c,x=g+l-1&~(l-1),_=y+o-1&~(o-1),E=x*_*Eu[i];for(let w=0;w<n;w++)p[w]={levelID:w,levelWidth:n>1?g:x,levelHeight:n>1?y:_,levelBuffer:new Uint8Array(t.buffer,m,E)},m+=E,g=g>>1||1,y=y>>1||1,x=g+l-1&~(l-1),_=y+o-1&~(o-1),E=x*_*Eu[i];return p}}const fd=4,Wo=124,_w=32,r_=20,xw=542327876,$o={HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},bw={FOURCC:2},Zo={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3},Ew=1,Tw=2,Sw=4,Aw=64,ww=512,Cw=131072,Rw=827611204,Mw=861165636,Dw=894720068,Ow=808540228,Bw=4,Nw={[Rw]:Pe.COMPRESSED_RGBA_S3TC_DXT1_EXT,[Mw]:Pe.COMPRESSED_RGBA_S3TC_DXT3_EXT,[Dw]:Pe.COMPRESSED_RGBA_S3TC_DXT5_EXT},Iw={70:Pe.COMPRESSED_RGBA_S3TC_DXT1_EXT,71:Pe.COMPRESSED_RGBA_S3TC_DXT1_EXT,73:Pe.COMPRESSED_RGBA_S3TC_DXT3_EXT,74:Pe.COMPRESSED_RGBA_S3TC_DXT3_EXT,76:Pe.COMPRESSED_RGBA_S3TC_DXT5_EXT,77:Pe.COMPRESSED_RGBA_S3TC_DXT5_EXT,72:Pe.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,75:Pe.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,78:Pe.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,96:Pe.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT,95:Pe.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT,98:Pe.COMPRESSED_RGBA_BPTC_UNORM_EXT,99:Pe.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT};function Uw(s){const t=new Uint32Array(s);if(t[0]!==xw)throw new Error("Invalid DDS file magic word");const i=new Uint32Array(s,0,Wo/Uint32Array.BYTES_PER_ELEMENT),n=i[$o.HEIGHT],l=i[$o.WIDTH],o=i[$o.MIPMAP_COUNT],h=new Uint32Array(s,$o.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,_w/Uint32Array.BYTES_PER_ELEMENT),c=h[Ew];if(c&Sw){const p=h[bw.FOURCC];if(p!==Ow){const I=Nw[p],O=fd+Wo,U=new Uint8Array(s,O);return[new Wn(U,{format:I,width:l,height:n,levels:o})]}const m=fd+Wo,g=new Uint32Array(t.buffer,m,r_/Uint32Array.BYTES_PER_ELEMENT),y=g[Zo.DXGI_FORMAT],x=g[Zo.RESOURCE_DIMENSION],_=g[Zo.MISC_FLAG],E=g[Zo.ARRAY_SIZE],w=Iw[y];if(w===void 0)throw new Error(`DDSParser cannot parse texture data with DXGI format ${y}`);if(_===Bw)throw new Error("DDSParser does not support cubemap textures");if(x===6)throw new Error("DDSParser does not supported 3D texture data");const S=new Array,C=fd+Wo+r_;if(E===1)S.push(new Uint8Array(s,C));else{const I=Eu[w];let O=0,U=l,B=n;for(let M=0;M<o;M++){const V=Math.max(1,U+3&-4),J=Math.max(1,B+3&-4),nt=V*J*I;O+=nt,U=U>>>1,B=B>>>1}let z=C;for(let M=0;M<E;M++)S.push(new Uint8Array(s,z,O)),z+=O}return S.map(I=>new Wn(I,{format:w,width:l,height:n,levels:o}))}throw c&Aw?new Error("DDSParser does not support uncompressed texture data."):c&ww?new Error("DDSParser does not supported YUV uncompressed texture data."):c&Cw?new Error("DDSParser does not support single-channel (lumninance) texture data!"):c&Tw?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}const n_=[171,75,84,88,32,49,49,187,13,10,26,10],Lw=67305985,Oi={ENDIANNESS:12,GL_TYPE:16,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},Zd=64,s_={[wt.UNSIGNED_BYTE]:1,[wt.UNSIGNED_SHORT]:2,[wt.INT]:4,[wt.UNSIGNED_INT]:4,[wt.FLOAT]:4,[wt.HALF_FLOAT]:8},Pw={[ht.RGBA]:4,[ht.RGB]:3,[ht.RG]:2,[ht.RED]:1,[ht.LUMINANCE]:1,[ht.LUMINANCE_ALPHA]:2,[ht.ALPHA]:1},Fw={[wt.UNSIGNED_SHORT_4_4_4_4]:2,[wt.UNSIGNED_SHORT_5_5_5_1]:2,[wt.UNSIGNED_SHORT_5_6_5]:2};function Gw(s,t,i=!1){const n=new DataView(t);if(!zw(s,n))return null;const l=n.getUint32(Oi.ENDIANNESS,!0)===Lw,o=n.getUint32(Oi.GL_TYPE,l),h=n.getUint32(Oi.GL_FORMAT,l),c=n.getUint32(Oi.GL_INTERNAL_FORMAT,l),p=n.getUint32(Oi.PIXEL_WIDTH,l),m=n.getUint32(Oi.PIXEL_HEIGHT,l)||1,g=n.getUint32(Oi.PIXEL_DEPTH,l)||1,y=n.getUint32(Oi.NUMBER_OF_ARRAY_ELEMENTS,l)||1,x=n.getUint32(Oi.NUMBER_OF_FACES,l),_=n.getUint32(Oi.NUMBER_OF_MIPMAP_LEVELS,l),E=n.getUint32(Oi.BYTES_OF_KEY_VALUE_DATA,l);if(m===0||g!==1)throw new Error("Only 2D textures are supported");if(x!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(y!==1)throw new Error("WebGL does not support array textures");const w=4,S=4,C=p+3&-4,I=m+3&-4,O=new Array(y);let U=p*m;o===0&&(U=C*I);let B;if(o!==0?s_[o]?B=s_[o]*Pw[h]:B=Fw[o]:B=Eu[c],B===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");const z=i?kw(n,E,l):null;let M=U*B,V=p,J=m,nt=C,ut=I,k=Zd+E;for(let Y=0;Y<_;Y++){const et=n.getUint32(k,l);let ct=k+4;for(let T=0;T<y;T++){let D=O[T];D||(D=O[T]=new Array(_)),D[Y]={levelID:Y,levelWidth:_>1||o!==0?V:nt,levelHeight:_>1||o!==0?J:ut,levelBuffer:new Uint8Array(t,ct,M)},ct+=M}k+=et+4,k=k%4!==0?k+4-k%4:k,V=V>>1||1,J=J>>1||1,nt=V+w-1&-4,ut=J+S-1&-4,M=nt*ut*B}return o!==0?{uncompressed:O.map(Y=>{let et=Y[0].levelBuffer,ct=!1;return o===wt.FLOAT?et=new Float32Array(Y[0].levelBuffer.buffer,Y[0].levelBuffer.byteOffset,Y[0].levelBuffer.byteLength/4):o===wt.UNSIGNED_INT?(ct=!0,et=new Uint32Array(Y[0].levelBuffer.buffer,Y[0].levelBuffer.byteOffset,Y[0].levelBuffer.byteLength/4)):o===wt.INT&&(ct=!0,et=new Int32Array(Y[0].levelBuffer.buffer,Y[0].levelBuffer.byteOffset,Y[0].levelBuffer.byteLength/4)),{resource:new Mu(et,{width:Y[0].levelWidth,height:Y[0].levelHeight}),type:o,format:ct?Hw(h):h}}),kvData:z}:{compressed:O.map(Y=>new Wn(null,{format:c,width:p,height:m,levels:_,levelBuffers:Y})),kvData:z}}function zw(s,t){for(let i=0;i<n_.length;i++)if(t.getUint8(i)!==n_[i])return console.error(`${s} is not a valid *.ktx file!`),!1;return!0}function Hw(s){switch(s){case ht.RGBA:return ht.RGBA_INTEGER;case ht.RGB:return ht.RGB_INTEGER;case ht.RG:return ht.RG_INTEGER;case ht.RED:return ht.RED_INTEGER;default:return s}}function kw(s,t,i){const n=new Map;let l=0;for(;l<t;){const o=s.getUint32(Zd+l,i),h=Zd+l+4,c=3-(o+3)%4;if(o===0||o>t-l){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}let p=0;for(;p<o&&s.getUint8(h+p)!==0;p++);if(p===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}const m=new TextDecoder().decode(new Uint8Array(s.buffer,h,p)),g=new DataView(s.buffer,h+p+1,o-p-1);n.set(m,g),l+=4+o+c}return n}const Xw={extension:{type:pt.LoadParser,priority:Pi.High},name:"loadDDS",test(s){return gn(s,".dds")},async load(s,t,i){const n=await(await gt.ADAPTER.fetch(s)).arrayBuffer(),l=Uw(n).map(o=>{const h=new It(o,{mipmap:tr.OFF,alphaMode:Je.NO_PREMULTIPLIED_ALPHA,resolution:Mr(s),...t.data});return vl(h,i,s)});return l.length===1?l[0]:l},unload(s){Array.isArray(s)?s.forEach(t=>t.destroy(!0)):s.destroy(!0)}};St.add(Xw);const Vw={extension:{type:pt.LoadParser,priority:Pi.High},name:"loadKTX",test(s){return gn(s,".ktx")},async load(s,t,i){const n=await(await gt.ADAPTER.fetch(s)).arrayBuffer(),{compressed:l,uncompressed:o,kvData:h}=Gw(s,n),c=l??o,p={mipmap:tr.OFF,alphaMode:Je.NO_PREMULTIPLIED_ALPHA,resolution:Mr(s),...t.data},m=c.map(g=>{c===o&&Object.assign(p,{type:g.type,format:g.format});const y=g.resource??g,x=new It(y,p);return x.ktxKeyValueData=h,vl(x,i,s)});return m.length===1?m[0]:m},unload(s){Array.isArray(s)?s.forEach(t=>t.destroy(!0)):s.destroy(!0)}};St.add(Vw);const jw=["s3tc","s3tc_sRGB","etc","etc1","pvrtc","atc","astc","bptc"],qw={extension:pt.ResolveParser,test:s=>{const t=De.extname(s).slice(1);return["basis","ktx","dds"].includes(t)},parse:s=>{var n,l;const t=s.split("."),i=t.pop();if(["ktx","dds"].includes(i)){const o=t.pop();if(jw.includes(o))return{resolution:parseFloat(((n=gt.RETINA_PREFIX.exec(s))==null?void 0:n[1])??"1"),format:o,src:s}}return{resolution:parseFloat(((l=gt.RETINA_PREFIX.exec(s))==null?void 0:l[1])??"1"),format:i,src:s}}};St.add(qw);const Ko=new Lt,Yw=4,Ox=class cl{constructor(t){this.renderer=t,this._rendererPremultipliedAlpha=!1}contextChange(){var i;const t=(i=this.renderer)==null?void 0:i.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(t&&t.alpha&&t.premultipliedAlpha)}async image(t,i,n,l){const o=new Image;return o.src=await this.base64(t,i,n,l),o}async base64(t,i,n,l){const o=this.canvas(t,l);if(o.toBlob!==void 0)return new Promise((h,c)=>{o.toBlob(p=>{if(!p){c(new Error("ICanvas.toBlob failed!"));return}const m=new FileReader;m.onload=()=>h(m.result),m.onerror=c,m.readAsDataURL(p)},i,n)});if(o.toDataURL!==void 0)return o.toDataURL(i,n);if(o.convertToBlob!==void 0){const h=await o.convertToBlob({type:i,quality:n});return new Promise((c,p)=>{const m=new FileReader;m.onload=()=>c(m.result),m.onerror=p,m.readAsDataURL(h)})}throw new Error("Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented")}canvas(t,i){const{pixels:n,width:l,height:o,flipY:h,premultipliedAlpha:c}=this._rawPixels(t,i);h&&cl._flipY(n,l,o),c&&cl._unpremultiplyAlpha(n);const p=new CT(l,o,1),m=new ImageData(new Uint8ClampedArray(n.buffer),l,o);return p.context.putImageData(m,0,0),p.canvas}pixels(t,i){const{pixels:n,width:l,height:o,flipY:h,premultipliedAlpha:c}=this._rawPixels(t,i);return h&&cl._flipY(n,l,o),c&&cl._unpremultiplyAlpha(n),n}_rawPixels(t,i){const n=this.renderer;if(!n)throw new Error("The Extract has already been destroyed");let l,o=!1,h=!1,c,p=!1;t&&(t instanceof Qn?c=t:(c=n.generateTexture(t,{region:i,resolution:n.resolution,multisample:n.multisample}),p=!0,i&&(Ko.width=i.width,Ko.height=i.height,i=Ko)));const m=n.gl;if(c){if(l=c.baseTexture.resolution,i=i??c.frame,o=!1,h=c.baseTexture.alphaMode>0&&c.baseTexture.format===ht.RGBA,!p){n.renderTexture.bind(c);const _=c.framebuffer.glFramebuffers[n.CONTEXT_UID];_.blitFramebuffer&&n.framebuffer.bind(_.blitFramebuffer)}}else l=n.resolution,i||(i=Ko,i.width=n.width/l,i.height=n.height/l),o=!0,h=this._rendererPremultipliedAlpha,n.renderTexture.bind();const g=Math.max(Math.round(i.width*l),1),y=Math.max(Math.round(i.height*l),1),x=new Uint8Array(Yw*g*y);return m.readPixels(Math.round(i.x*l),Math.round(i.y*l),g,y,m.RGBA,m.UNSIGNED_BYTE,x),p&&(c==null||c.destroy(!0)),{pixels:x,width:g,height:y,flipY:o,premultipliedAlpha:h}}destroy(){this.renderer=null}static _flipY(t,i,n){const l=i<<2,o=n>>1,h=new Uint8Array(l);for(let c=0;c<o;c++){const p=c*l,m=(n-c-1)*l;h.set(t.subarray(p,p+l)),t.copyWithin(p,m,m+l),t.set(h,m)}}static _unpremultiplyAlpha(t){t instanceof Uint8ClampedArray&&(t=new Uint8Array(t.buffer));const i=t.length;for(let n=0;n<i;n+=4){const l=t[n+3];if(l!==0){const o=255.001/l;t[n]=t[n]*o+.5,t[n+1]=t[n+1]*o+.5,t[n+2]=t[n+2]*o+.5}}}};Ox.extension={name:"extract",type:pt.RendererSystem};let Ww=Ox;St.add(Ww);const Tu={build(s){const t=s.points;let i,n,l,o,h,c;if(s.type===Fe.CIRC){const E=s.shape;i=E.x,n=E.y,h=c=E.radius,l=o=0}else if(s.type===Fe.ELIP){const E=s.shape;i=E.x,n=E.y,h=E.width,c=E.height,l=o=0}else{const E=s.shape,w=E.width/2,S=E.height/2;i=E.x+w,n=E.y+S,h=c=Math.max(0,Math.min(E.radius,Math.min(w,S))),l=w-h,o=S-c}if(!(h>=0&&c>=0&&l>=0&&o>=0)){t.length=0;return}const p=Math.ceil(2.3*Math.sqrt(h+c)),m=p*8+(l?4:0)+(o?4:0);if(t.length=m,m===0)return;if(p===0){t.length=8,t[0]=t[6]=i+l,t[1]=t[3]=n+o,t[2]=t[4]=i-l,t[5]=t[7]=n-o;return}let g=0,y=p*4+(l?2:0)+2,x=y,_=m;{const E=l+h,w=o,S=i+E,C=i-E,I=n+w;if(t[g++]=S,t[g++]=I,t[--y]=I,t[--y]=C,o){const O=n-w;t[x++]=C,t[x++]=O,t[--_]=O,t[--_]=S}}for(let E=1;E<p;E++){const w=Math.PI/2*(E/p),S=l+Math.cos(w)*h,C=o+Math.sin(w)*c,I=i+S,O=i-S,U=n+C,B=n-C;t[g++]=I,t[g++]=U,t[--y]=U,t[--y]=O,t[x++]=O,t[x++]=B,t[--_]=B,t[--_]=I}{const E=l,w=o+c,S=i+E,C=i-E,I=n+w,O=n-w;t[g++]=S,t[g++]=I,t[--_]=O,t[--_]=S,l&&(t[g++]=C,t[g++]=I,t[--_]=O,t[--_]=C)}},triangulate(s,t){const i=s.points,n=t.points,l=t.indices;if(i.length===0)return;let o=n.length/2;const h=o;let c,p;if(s.type!==Fe.RREC){const g=s.shape;c=g.x,p=g.y}else{const g=s.shape;c=g.x+g.width/2,p=g.y+g.height/2}const m=s.matrix;n.push(s.matrix?m.a*c+m.c*p+m.tx:c,s.matrix?m.b*c+m.d*p+m.ty:p),o++,n.push(i[0],i[1]);for(let g=2;g<i.length;g+=2)n.push(i[g],i[g+1]),l.push(o++,h,o);l.push(h+1,h,o)}};function a_(s,t=!1){const i=s.length;if(i<6)return;let n=0;for(let l=0,o=s[i-2],h=s[i-1];l<i;l+=2){const c=s[l],p=s[l+1];n+=(c-o)*(p+h),o=c,h=p}if(!t&&n>0||t&&n<=0){const l=i/2;for(let o=l+l%2;o<i;o+=2){const h=i-o-2,c=i-o-1,p=o,m=o+1;[s[h],s[p]]=[s[p],s[h]],[s[c],s[m]]=[s[m],s[c]]}}}const Bx={build(s){s.points=s.shape.points.slice()},triangulate(s,t){let i=s.points;const n=s.holes,l=t.points,o=t.indices;if(i.length>=6){a_(i,!1);const h=[];for(let m=0;m<n.length;m++){const g=n[m];a_(g.points,!0),h.push(i.length/2),i=i.concat(g.points)}const c=AE(i,h,2);if(!c)return;const p=l.length/2;for(let m=0;m<c.length;m+=3)o.push(c[m]+p),o.push(c[m+1]+p),o.push(c[m+2]+p);for(let m=0;m<i.length;m++)l.push(i[m])}}},$w={build(s){const t=s.shape,i=t.x,n=t.y,l=t.width,o=t.height,h=s.points;h.length=0,l>=0&&o>=0&&h.push(i,n,i+l,n,i+l,n+o,i,n+o)},triangulate(s,t){const i=s.points,n=t.points;if(i.length===0)return;const l=n.length/2;n.push(i[0],i[1],i[2],i[3],i[6],i[7],i[4],i[5]),t.indices.push(l,l+1,l+2,l+1,l+2,l+3)}},Zw={build(s){Tu.build(s)},triangulate(s,t){Tu.triangulate(s,t)}};var Ti=(s=>(s.MITER="miter",s.BEVEL="bevel",s.ROUND="round",s))(Ti||{}),fn=(s=>(s.BUTT="butt",s.ROUND="round",s.SQUARE="square",s))(fn||{});const ra={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(s,t=20){if(!this.adaptive||!s||isNaN(s))return t;let i=Math.ceil(s/this.maxLength);return i<this.minSegments?i=this.minSegments:i>this.maxSegments&&(i=this.maxSegments),i}};class l_{static curveTo(t,i,n,l,o,h){const c=h[h.length-2],p=h[h.length-1]-i,m=c-t,g=l-i,y=n-t,x=Math.abs(p*y-m*g);if(x<1e-8||o===0)return(h[h.length-2]!==t||h[h.length-1]!==i)&&h.push(t,i),null;const _=p*p+m*m,E=g*g+y*y,w=p*g+m*y,S=o*Math.sqrt(_)/x,C=o*Math.sqrt(E)/x,I=S*w/_,O=C*w/E,U=S*y+C*m,B=S*g+C*p,z=m*(C+I),M=p*(C+I),V=y*(S+O),J=g*(S+O),nt=Math.atan2(M-B,z-U),ut=Math.atan2(J-B,V-U);return{cx:U+t,cy:B+i,radius:o,startAngle:nt,endAngle:ut,anticlockwise:m*g>y*p}}static arc(t,i,n,l,o,h,c,p,m){const g=c-h,y=ra._segmentsCount(Math.abs(g)*o,Math.ceil(Math.abs(g)/pu)*40),x=g/(y*2),_=x*2,E=Math.cos(x),w=Math.sin(x),S=y-1,C=S%1/S;for(let I=0;I<=S;++I){const O=I+C*I,U=x+h+_*O,B=Math.cos(U),z=-Math.sin(U);m.push((E*B+w*z)*o+n,(E*-z+w*B)*o+l)}}}class Kw{constructor(){this.reset()}begin(t,i,n){this.reset(),this.style=t,this.start=i,this.attribStart=n}end(t,i){this.attribSize=i-this.attribStart,this.size=t-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}class fp{static curveLength(t,i,n,l,o,h,c,p){let m=0,g=0,y=0,x=0,_=0,E=0,w=0,S=0,C=0,I=0,O=0,U=t,B=i;for(let z=1;z<=10;++z)g=z/10,y=g*g,x=y*g,_=1-g,E=_*_,w=E*_,S=w*t+3*E*g*n+3*_*y*o+x*c,C=w*i+3*E*g*l+3*_*y*h+x*p,I=U-S,O=B-C,U=S,B=C,m+=Math.sqrt(I*I+O*O);return m}static curveTo(t,i,n,l,o,h,c){const p=c[c.length-2],m=c[c.length-1];c.length-=2;const g=ra._segmentsCount(fp.curveLength(p,m,t,i,n,l,o,h));let y=0,x=0,_=0,E=0,w=0;c.push(p,m);for(let S=1,C=0;S<=g;++S)C=S/g,y=1-C,x=y*y,_=x*y,E=C*C,w=E*C,c.push(_*p+3*x*C*t+3*y*E*n+w*o,_*m+3*x*C*i+3*y*E*l+w*h)}}function o_(s,t,i,n,l,o,h,c){const p=s-i*l,m=t-n*l,g=s+i*o,y=t+n*o;let x,_;h?(x=n,_=-i):(x=-n,_=i);const E=p+x,w=m+_,S=g+x,C=y+_;return c.push(E,w,S,C),2}function Gn(s,t,i,n,l,o,h,c){const p=i-s,m=n-t;let g=Math.atan2(p,m),y=Math.atan2(l-s,o-t);c&&g<y?g+=Math.PI*2:!c&&g>y&&(y+=Math.PI*2);let x=g;const _=y-g,E=Math.abs(_),w=Math.sqrt(p*p+m*m),S=(15*E*Math.sqrt(w)/Math.PI>>0)+1,C=_/S;if(x+=C,c){h.push(s,t,i,n);for(let I=1,O=x;I<S;I++,O+=C)h.push(s,t,s+Math.sin(O)*w,t+Math.cos(O)*w);h.push(s,t,l,o)}else{h.push(i,n,s,t);for(let I=1,O=x;I<S;I++,O+=C)h.push(s+Math.sin(O)*w,t+Math.cos(O)*w,s,t);h.push(l,o,s,t)}return S*2}function Qw(s,t){const i=s.shape;let n=s.points||i.points.slice();const l=t.closePointEps;if(n.length===0)return;const o=s.lineStyle,h=new Vt(n[0],n[1]),c=new Vt(n[n.length-2],n[n.length-1]),p=i.type!==Fe.POLY||i.closeStroke,m=Math.abs(h.x-c.x)<l&&Math.abs(h.y-c.y)<l;if(p){n=n.slice(),m&&(n.pop(),n.pop(),c.set(n[n.length-2],n[n.length-1]));const D=(h.x+c.x)*.5,R=(c.y+h.y)*.5;n.unshift(D,R),n.push(D,R)}const g=t.points,y=n.length/2;let x=n.length;const _=g.length/2,E=o.width/2,w=E*E,S=o.miterLimit*o.miterLimit;let C=n[0],I=n[1],O=n[2],U=n[3],B=0,z=0,M=-(I-U),V=C-O,J=0,nt=0,ut=Math.sqrt(M*M+V*V);M/=ut,V/=ut,M*=E,V*=E;const k=o.alignment,Y=(1-k)*2,et=k*2;p||(o.cap===fn.ROUND?x+=Gn(C-M*(Y-et)*.5,I-V*(Y-et)*.5,C-M*Y,I-V*Y,C+M*et,I+V*et,g,!0)+2:o.cap===fn.SQUARE&&(x+=o_(C,I,M,V,Y,et,!0,g))),g.push(C-M*Y,I-V*Y,C+M*et,I+V*et);for(let D=1;D<y-1;++D){C=n[(D-1)*2],I=n[(D-1)*2+1],O=n[D*2],U=n[D*2+1],B=n[(D+1)*2],z=n[(D+1)*2+1],M=-(I-U),V=C-O,ut=Math.sqrt(M*M+V*V),M/=ut,V/=ut,M*=E,V*=E,J=-(U-z),nt=O-B,ut=Math.sqrt(J*J+nt*nt),J/=ut,nt/=ut,J*=E,nt*=E;const R=O-C,H=I-U,L=O-B,b=z-U,N=R*L+H*b,F=H*L-b*R,j=F<0;if(Math.abs(F)<.001*Math.abs(N)){g.push(O-M*Y,U-V*Y,O+M*et,U+V*et),N>=0&&(o.join===Ti.ROUND?x+=Gn(O,U,O-M*Y,U-V*Y,O-J*Y,U-nt*Y,g,!1)+4:x+=2,g.push(O-J*et,U-nt*et,O+J*Y,U+nt*Y));continue}const tt=(-M+C)*(-V+U)-(-M+O)*(-V+I),at=(-J+B)*(-nt+U)-(-J+O)*(-nt+z),lt=(R*at-L*tt)/F,dt=(b*tt-H*at)/F,ft=(lt-O)*(lt-O)+(dt-U)*(dt-U),ot=O+(lt-O)*Y,vt=U+(dt-U)*Y,bt=O-(lt-O)*et,Dt=U-(dt-U)*et,Ot=Math.min(R*R+H*H,L*L+b*b),xt=j?Y:et,Et=Ot+xt*xt*w,oe=ft<=Et;let ce=o.join;if(ce===Ti.MITER&&ft/w>S&&(ce=Ti.BEVEL),oe)switch(ce){case Ti.MITER:{g.push(ot,vt,bt,Dt);break}case Ti.BEVEL:{j?g.push(ot,vt,O+M*et,U+V*et,ot,vt,O+J*et,U+nt*et):g.push(O-M*Y,U-V*Y,bt,Dt,O-J*Y,U-nt*Y,bt,Dt),x+=2;break}case Ti.ROUND:{j?(g.push(ot,vt,O+M*et,U+V*et),x+=Gn(O,U,O+M*et,U+V*et,O+J*et,U+nt*et,g,!0)+4,g.push(ot,vt,O+J*et,U+nt*et)):(g.push(O-M*Y,U-V*Y,bt,Dt),x+=Gn(O,U,O-M*Y,U-V*Y,O-J*Y,U-nt*Y,g,!1)+4,g.push(O-J*Y,U-nt*Y,bt,Dt));break}}else{switch(g.push(O-M*Y,U-V*Y,O+M*et,U+V*et),ce){case Ti.MITER:{j?g.push(bt,Dt,bt,Dt):g.push(ot,vt,ot,vt),x+=2;break}case Ti.ROUND:{j?x+=Gn(O,U,O+M*et,U+V*et,O+J*et,U+nt*et,g,!0)+2:x+=Gn(O,U,O-M*Y,U-V*Y,O-J*Y,U-nt*Y,g,!1)+2;break}}g.push(O-J*Y,U-nt*Y,O+J*et,U+nt*et),x+=2}}C=n[(y-2)*2],I=n[(y-2)*2+1],O=n[(y-1)*2],U=n[(y-1)*2+1],M=-(I-U),V=C-O,ut=Math.sqrt(M*M+V*V),M/=ut,V/=ut,M*=E,V*=E,g.push(O-M*Y,U-V*Y,O+M*et,U+V*et),p||(o.cap===fn.ROUND?x+=Gn(O-M*(Y-et)*.5,U-V*(Y-et)*.5,O-M*Y,U-V*Y,O+M*et,U+V*et,g,!1)+2:o.cap===fn.SQUARE&&(x+=o_(O,U,M,V,Y,et,!1,g)));const ct=t.indices,T=ra.epsilon*ra.epsilon;for(let D=_;D<x+_-2;++D)C=g[D*2],I=g[D*2+1],O=g[(D+1)*2],U=g[(D+1)*2+1],B=g[(D+2)*2],z=g[(D+2)*2+1],!(Math.abs(C*(U-z)+O*(z-I)+B*(I-U))<T)&&ct.push(D,D+1,D+2)}function Jw(s,t){let i=0;const n=s.shape,l=s.points||n.points,o=n.type!==Fe.POLY||n.closeStroke;if(l.length===0)return;const h=t.points,c=t.indices,p=l.length/2,m=h.length/2;let g=m;for(h.push(l[0],l[1]),i=1;i<p;i++)h.push(l[i*2],l[i*2+1]),c.push(g,g+1),g++;o&&c.push(g,m)}function u_(s,t){s.lineStyle.native?Jw(s,t):Qw(s,t)}class dp{static curveLength(t,i,n,l,o,h){const c=t-2*n+o,p=i-2*l+h,m=2*n-2*t,g=2*l-2*i,y=4*(c*c+p*p),x=4*(c*m+p*g),_=m*m+g*g,E=2*Math.sqrt(y+x+_),w=Math.sqrt(y),S=2*y*w,C=2*Math.sqrt(_),I=x/w;return(S*E+w*x*(E-C)+(4*_*y-x*x)*Math.log((2*w+I+E)/(I+C)))/(4*S)}static curveTo(t,i,n,l,o){const h=o[o.length-2],c=o[o.length-1],p=ra._segmentsCount(dp.curveLength(h,c,t,i,n,l));let m=0,g=0;for(let y=1;y<=p;++y){const x=y/p;m=h+(t-h)*x,g=c+(i-c)*x,o.push(m+(t+(n-t)*x-m)*x,g+(i+(l-i)*x-g)*x)}}}const dd={[Fe.POLY]:Bx,[Fe.CIRC]:Tu,[Fe.ELIP]:Tu,[Fe.RECT]:$w,[Fe.RREC]:Zw},h_=[],Qo=[];class Su{constructor(t,i=null,n=null,l=null){this.points=[],this.holes=[],this.shape=t,this.lineStyle=n,this.fillStyle=i,this.matrix=l,this.type=t.type}clone(){return new Su(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}const Xs=new Vt,Nx=class Ix extends F_{constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new _u,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let t=0;t<this.drawCalls.length;t++)this.drawCalls[t].texArray.clear(),Qo.push(this.drawCalls[t]);this.drawCalls.length=0;for(let t=0;t<this.batches.length;t++){const i=this.batches[t];i.reset(),h_.push(i)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(t,i=null,n=null,l=null){const o=new Su(t,i,n,l);return this.graphicsData.push(o),this.dirty++,this}drawHole(t,i=null){if(!this.graphicsData.length)return null;const n=new Su(t,null,null,i),l=this.graphicsData[this.graphicsData.length-1];return n.lineStyle=l.lineStyle,l.holes.push(n),this.dirty++,this}destroy(){super.destroy();for(let t=0;t<this.graphicsData.length;++t)this.graphicsData[t].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(t){const i=this.graphicsData;for(let n=0;n<i.length;++n){const l=i[n];if(l.fillStyle.visible&&l.shape&&(l.matrix?l.matrix.applyInverse(t,Xs):Xs.copyFrom(t),l.shape.contains(Xs.x,Xs.y))){let o=!1;if(l.holes){for(let h=0;h<l.holes.length;h++)if(l.holes[h].shape.contains(Xs.x,Xs.y)){o=!0;break}}if(!o)return!0}}return!1}updateBatches(){if(!this.graphicsData.length){this.batchable=!0;return}if(!this.validateBatching())return;this.cacheDirty=this.dirty;const t=this.uvs,i=this.graphicsData;let n=null,l=null;this.batches.length>0&&(n=this.batches[this.batches.length-1],l=n.style);for(let p=this.shapeIndex;p<i.length;p++){this.shapeIndex++;const m=i[p],g=m.fillStyle,y=m.lineStyle;dd[m.type].build(m),m.matrix&&this.transformPoints(m.points,m.matrix),(g.visible||y.visible)&&this.processHoles(m.holes);for(let x=0;x<2;x++){const _=x===0?g:y;if(!_.visible)continue;const E=_.texture.baseTexture,w=this.indices.length,S=this.points.length/2;E.wrapMode=dn.REPEAT,x===0?this.processFill(m):this.processLine(m);const C=this.points.length/2-S;C!==0&&(n&&!this._compareStyles(l,_)&&(n.end(w,S),n=null),n||(n=h_.pop()||new Kw,n.begin(_,w,S),this.batches.push(n),l=_),this.addUvs(this.points,t,_.texture,S,C,_.matrix))}}const o=this.indices.length,h=this.points.length/2;if(n&&n.end(o,h),this.batches.length===0){this.batchable=!0;return}const c=h>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&c===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=c?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(t,i){return!(!t||!i||t.texture.baseTexture!==i.texture.baseTexture||t.color+t.alpha!==i.color+i.alpha||!!t.native!=!!i.native)}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let t=0,i=this.graphicsData.length;t<i;t++){const n=this.graphicsData[t],l=n.fillStyle,o=n.lineStyle;if(l&&!l.texture.baseTexture.valid||o&&!o.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);const t=this.batches;for(let i=0,n=t.length;i<n;i++){const l=t[i];for(let o=0;o<l.size;o++){const h=l.start+o;this.indicesUint16[h]=this.indicesUint16[h]-l.attribStart}}}isBatchable(){if(this.points.length>65535*2)return!1;const t=this.batches;for(let i=0;i<t.length;i++)if(t[i].style.native)return!1;return this.points.length<Ix.BATCHABLE_SIZE*2}buildDrawCalls(){let t=++It._globalBatch;for(let y=0;y<this.drawCalls.length;y++)this.drawCalls[y].texArray.clear(),Qo.push(this.drawCalls[y]);this.drawCalls.length=0;const i=this.colors,n=this.textureIds;let l=Qo.pop();l||(l=new Rd,l.texArray=new Bd),l.texArray.count=0,l.start=0,l.size=0,l.type=Ki.TRIANGLES;let o=0,h=null,c=0,p=!1,m=Ki.TRIANGLES,g=0;this.drawCalls.push(l);for(let y=0;y<this.batches.length;y++){const x=this.batches[y],_=8,E=x.style,w=E.texture.baseTexture;p!==!!E.native&&(p=!!E.native,m=p?Ki.LINES:Ki.TRIANGLES,h=null,o=_,t++),h!==w&&(h=w,w._batchEnabled!==t&&(o===_&&(t++,o=0,l.size>0&&(l=Qo.pop(),l||(l=new Rd,l.texArray=new Bd),this.drawCalls.push(l)),l.start=g,l.size=0,l.texArray.count=0,l.type=m),w.touched=1,w._batchEnabled=t,w._batchLocation=o,w.wrapMode=dn.REPEAT,l.texArray.elements[l.texArray.count++]=w,o++)),l.size+=x.size,g+=x.size,c=w._batchLocation,this.addColors(i,E.color,E.alpha,x.attribSize,x.attribStart),this.addTextureIds(n,c,x.attribSize,x.attribStart)}It._globalBatch=t,this.packAttributes()}packAttributes(){const t=this.points,i=this.uvs,n=this.colors,l=this.textureIds,o=new ArrayBuffer(t.length*3*4),h=new Float32Array(o),c=new Uint32Array(o);let p=0;for(let m=0;m<t.length/2;m++)h[p++]=t[m*2],h[p++]=t[m*2+1],h[p++]=i[m*2],h[p++]=i[m*2+1],c[p++]=n[m],h[p++]=l[m];this._buffer.update(o),this._indexBuffer.update(this.indicesUint16)}processFill(t){t.holes.length?Bx.triangulate(t,this):dd[t.type].triangulate(t,this)}processLine(t){u_(t,this);for(let i=0;i<t.holes.length;i++)u_(t.holes[i],this)}processHoles(t){for(let i=0;i<t.length;i++){const n=t[i];dd[n.type].build(n),n.matrix&&this.transformPoints(n.points,n.matrix)}}calculateBounds(){const t=this._bounds;t.clear(),t.addVertexData(this.points,0,this.points.length),t.pad(this.boundsPadding,this.boundsPadding)}transformPoints(t,i){for(let n=0;n<t.length/2;n++){const l=t[n*2],o=t[n*2+1];t[n*2]=i.a*l+i.c*o+i.tx,t[n*2+1]=i.b*l+i.d*o+i.ty}}addColors(t,i,n,l,o=0){const h=se.shared.setValue(i).toLittleEndianNumber(),c=se.shared.setValue(h).toPremultiplied(n);t.length=Math.max(t.length,o+l);for(let p=0;p<l;p++)t[o+p]=c}addTextureIds(t,i,n,l=0){t.length=Math.max(t.length,l+n);for(let o=0;o<n;o++)t[l+o]=i}addUvs(t,i,n,l,o,h=null){let c=0;const p=i.length,m=n.frame;for(;c<o;){let y=t[(l+c)*2],x=t[(l+c)*2+1];if(h){const _=h.a*y+h.c*x+h.tx;x=h.b*y+h.d*x+h.ty,y=_}c++,i.push(y/m.width,x/m.height)}const g=n.baseTexture;(m.width<g.width||m.height<g.height)&&this.adjustUvs(i,n,p,o)}adjustUvs(t,i,n,l){const o=i.baseTexture,h=1e-6,c=n+l*2,p=i.frame,m=p.width/o.width,g=p.height/o.height;let y=p.x/p.width,x=p.y/p.height,_=Math.floor(t[n]+h),E=Math.floor(t[n+1]+h);for(let w=n+2;w<c;w+=2)_=Math.min(_,Math.floor(t[w]+h)),E=Math.min(E,Math.floor(t[w+1]+h));y-=_,x-=E;for(let w=n;w<c;w+=2)t[w]=(t[w]+y)*m,t[w+1]=(t[w+1]+x)*g}};Nx.BATCHABLE_SIZE=100;let tC=Nx;class Uu{constructor(){this.color=16777215,this.alpha=1,this.texture=_t.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){const t=new Uu;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t}reset(){this.color=16777215,this.alpha=1,this.texture=_t.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}}class pp extends Uu{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=fn.BUTT,this.join=Ti.MITER,this.miterLimit=10}clone(){const t=new pp;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t.width=this.width,t.alignment=this.alignment,t.native=this.native,t.cap=this.cap,t.join=this.join,t.miterLimit=this.miterLimit,t}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1,this.cap=fn.BUTT,this.join=Ti.MITER,this.miterLimit=10}}const pd={},Kd=class ou extends ci{constructor(t=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new Uu,this._lineStyle=new pp,this._matrix=null,this._holeMode=!1,this.state=er.for2d(),this._geometry=t||new tC,this._geometry.refCount++,this._transformID=-1,this._tintColor=new se(16777215),this.blendMode=Rt.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new ou(this._geometry)}set blendMode(t){this.state.blendMode=t}get blendMode(){return this.state.blendMode}get tint(){return this._tintColor.value}set tint(t){this._tintColor.setValue(t)}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(t=null,i=0,n,l=.5,o=!1){return typeof t=="number"&&(t={width:t,color:i,alpha:n,alignment:l,native:o}),this.lineTextureStyle(t)}lineTextureStyle(t){const i={width:0,texture:_t.WHITE,color:t!=null&&t.texture?16777215:0,matrix:null,alignment:.5,native:!1,cap:fn.BUTT,join:Ti.MITER,miterLimit:10};t=Object.assign(i,t),this.normalizeColor(t),this.currentPath&&this.startPoly();const n=t.width>0&&t.alpha>0;return n?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._lineStyle,{visible:n},t)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){const t=this.currentPath.points,i=this.currentPath.points.length;i>2&&(this.drawShape(this.currentPath),this.currentPath=new Yn,this.currentPath.closeStroke=!1,this.currentPath.points.push(t[i-2],t[i-1]))}else this.currentPath=new Yn,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(t,i){return this.startPoly(),this.currentPath.points[0]=t,this.currentPath.points[1]=i,this}lineTo(t,i){this.currentPath||this.moveTo(0,0);const n=this.currentPath.points,l=n[n.length-2],o=n[n.length-1];return(l!==t||o!==i)&&n.push(t,i),this}_initCurve(t=0,i=0){this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[t,i]):this.moveTo(t,i)}quadraticCurveTo(t,i,n,l){this._initCurve();const o=this.currentPath.points;return o.length===0&&this.moveTo(0,0),dp.curveTo(t,i,n,l,o),this}bezierCurveTo(t,i,n,l,o,h){return this._initCurve(),fp.curveTo(t,i,n,l,o,h,this.currentPath.points),this}arcTo(t,i,n,l,o){this._initCurve(t,i);const h=this.currentPath.points,c=l_.curveTo(t,i,n,l,o,h);if(c){const{cx:p,cy:m,radius:g,startAngle:y,endAngle:x,anticlockwise:_}=c;this.arc(p,m,g,y,x,_)}return this}arc(t,i,n,l,o,h=!1){if(l===o)return this;if(!h&&o<=l?o+=pu:h&&l<=o&&(l+=pu),o-l===0)return this;const c=t+Math.cos(l)*n,p=i+Math.sin(l)*n,m=this._geometry.closePointEps;let g=this.currentPath?this.currentPath.points:null;if(g){const y=Math.abs(g[g.length-2]-c),x=Math.abs(g[g.length-1]-p);y<m&&x<m||g.push(c,p)}else this.moveTo(c,p),g=this.currentPath.points;return l_.arc(c,p,t,i,n,l,o,h,g),this}beginFill(t=0,i){return this.beginTextureFill({texture:_t.WHITE,color:t,alpha:i})}normalizeColor(t){const i=se.shared.setValue(t.color??0);t.color=i.toNumber(),t.alpha??(t.alpha=i.alpha)}beginTextureFill(t){const i={texture:_t.WHITE,color:16777215,matrix:null};t=Object.assign(i,t),this.normalizeColor(t),this.currentPath&&this.startPoly();const n=t.alpha>0;return n?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._fillStyle,{visible:n},t)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(t,i,n,l){return this.drawShape(new Lt(t,i,n,l))}drawRoundedRect(t,i,n,l,o){return this.drawShape(new Bu(t,i,n,l,o))}drawCircle(t,i,n){return this.drawShape(new Du(t,i,n))}drawEllipse(t,i,n,l){return this.drawShape(new Ou(t,i,n,l))}drawPolygon(...t){let i,n=!0;const l=t[0];l.points?(n=l.closeStroke,i=l.points):Array.isArray(t[0])?i=t[0]:i=t;const o=new Yn(i);return o.closeStroke=n,this.drawShape(o),this}drawShape(t){return this._holeMode?this._geometry.drawHole(t,this._matrix):this._geometry.drawShape(t,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){const t=this._geometry.graphicsData;return t.length===1&&t[0].shape.type===Fe.RECT&&!t[0].matrix&&!t[0].holes.length&&!(t[0].lineStyle.visible&&t[0].lineStyle.width)}_render(t){this.finishPoly();const i=this._geometry;i.updateBatches(),i.batchable?(this.batchDirty!==i.batchDirty&&this._populateBatches(),this._renderBatched(t)):(t.batch.flush(),this._renderDirect(t))}_populateBatches(){const t=this._geometry,i=this.blendMode,n=t.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=t.batchDirty,this.batches.length=n,this.vertexData=new Float32Array(t.points);for(let l=0;l<n;l++){const o=t.batches[l],h=o.style.color,c=new Float32Array(this.vertexData.buffer,o.attribStart*4*2,o.attribSize*2),p=new Float32Array(t.uvsFloat32.buffer,o.attribStart*4*2,o.attribSize*2),m=new Uint16Array(t.indicesUint16.buffer,o.start*2,o.size),g={vertexData:c,blendMode:i,indices:m,uvs:p,_batchRGB:se.shared.setValue(h).toRgbArray(),_tintRGB:h,_texture:o.style.texture,alpha:o.style.alpha,worldAlpha:1};this.batches[l]=g}}_renderBatched(t){if(this.batches.length){t.batch.setObjectRenderer(t.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let i=0,n=this.batches.length;i<n;i++){const l=this.batches[i];l.worldAlpha=this.worldAlpha*l.alpha,t.plugins[this.pluginName].render(l)}}}_renderDirect(t){const i=this._resolveDirectShader(t),n=this._geometry,l=this.worldAlpha,o=i.uniforms,h=n.drawCalls;o.translationMatrix=this.transform.worldTransform,se.shared.setValue(this._tintColor).premultiply(l).toArray(o.tint),t.shader.bind(i),t.geometry.bind(n,i),t.state.set(this.state);for(let c=0,p=h.length;c<p;c++)this._renderDrawCallDirect(t,n.drawCalls[c])}_renderDrawCallDirect(t,i){const{texArray:n,type:l,size:o,start:h}=i,c=n.count;for(let p=0;p<c;p++)t.texture.bind(n.elements[p],p);t.geometry.draw(l,o,h)}_resolveDirectShader(t){let i=this.shader;const n=this.pluginName;if(!i){if(!pd[n]){const{maxTextures:l}=t.plugins[n],o=new Int32Array(l);for(let p=0;p<l;p++)o[p]=p;const h={tint:new Float32Array([1,1,1,1]),translationMatrix:new ae,default:Li.from({uSamplers:o},!0)},c=t.plugins[n]._shader.program;pd[n]=new Ji(c,h)}i=pd[n]}return i}_calculateBounds(){this.finishPoly();const t=this._geometry;if(!t.graphicsData.length)return;const{minX:i,minY:n,maxX:l,maxY:o}=t.bounds;this._bounds.addFrame(this.transform,i,n,l,o)}containsPoint(t){return this.worldTransform.applyInverse(t,ou._TEMP_POINT),this._geometry.containsPoint(ou._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this._tintColor.toNumber();for(let t=0;t<this.batches.length;t++){const i=this.batches[t];i._tintRGB=se.shared.setValue(this._tintColor).multiply(i._batchRGB).toLittleEndianNumber()}}}calculateVertices(){const t=this.transform._worldID;if(this._transformID===t)return;this._transformID=t;const i=this.transform.worldTransform,n=i.a,l=i.b,o=i.c,h=i.d,c=i.tx,p=i.ty,m=this._geometry.points,g=this.vertexData;let y=0;for(let x=0;x<m.length;x+=2){const _=m[x],E=m[x+1];g[y++]=n*_+o*E+c,g[y++]=h*E+l*_+p}}closePath(){const t=this.currentPath;return t&&(t.closeStroke=!0,this.finishPoly()),this}setMatrix(t){return this._matrix=t,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(t){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(t)}};Kd.curves=ra,Kd._TEMP_POINT=new Vt;let mp=Kd;class eC{constructor(t,i){this.uvBuffer=t,this.uvMatrix=i,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(t){if(!t&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;const i=this.uvBuffer.data;(!this.data||this.data.length!==i.length)&&(this.data=new Float32Array(i.length)),this.uvMatrix.multiplyUvs(i,this.data),this._updateID++}}const md=new Vt,c_=new Yn,Ux=class Lx extends ci{constructor(t,i,n,l=Ki.TRIANGLES){super(),this.geometry=t,this.shader=i,this.state=n||er.for2d(),this.drawMode=l,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=gt.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(t){this._geometry!==t&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=t,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(t){this.shader=t}get material(){return this.shader}set blendMode(t){this.state.blendMode=t}get blendMode(){return this.state.blendMode}set roundPixels(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(t){this.shader.tint=t}get tintValue(){return this.shader.tintValue}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(t){this.shader.texture=t}_render(t){const i=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===Ki.TRIANGLES&&i.length<Lx.BATCHABLE_SIZE*2?this._renderToBatch(t):this._renderDefault(t)}_renderDefault(t){const i=this.shader;i.alpha=this.worldAlpha,i.update&&i.update(),t.batch.flush(),i.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),t.shader.bind(i),t.state.set(this.state),t.geometry.bind(this.geometry,i),t.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(t){const i=this.geometry,n=this.shader;n.uvMatrix&&(n.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=i.indexBuffer.data,this._tintRGB=n._tintRGB,this._texture=n.texture;const l=this.material.pluginName;t.batch.setObjectRenderer(t.plugins[l]),t.plugins[l].render(this)}calculateVertices(){const t=this.geometry.buffers[0],i=t.data,n=t._updateID;if(n===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==i.length&&(this.vertexData=new Float32Array(i.length));const l=this.transform.worldTransform,o=l.a,h=l.b,c=l.c,p=l.d,m=l.tx,g=l.ty,y=this.vertexData;for(let x=0;x<y.length/2;x++){const _=i[x*2],E=i[x*2+1];y[x*2]=o*_+c*E+m,y[x*2+1]=h*_+p*E+g}if(this._roundPixels){const x=gt.RESOLUTION;for(let _=0;_<y.length;++_)y[_]=Math.round(y[_]*x)/x}this.vertexDirty=n}calculateUvs(){const t=this.geometry.buffers[1],i=this.shader;i.uvMatrix.isSimple?this.uvs=t.data:(this.batchUvs||(this.batchUvs=new eC(t,i.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,md);const i=this.geometry.getBuffer("aVertexPosition").data,n=c_.points,l=this.geometry.getIndex().data,o=l.length,h=this.drawMode===4?3:1;for(let c=0;c+2<o;c+=h){const p=l[c]*2,m=l[c+1]*2,g=l[c+2]*2;if(n[0]=i[p],n[1]=i[p+1],n[2]=i[m],n[3]=i[m+1],n[4]=i[g],n[5]=i[g+1],c_.contains(md.x,md.y))return!0}return!1}destroy(t){super.destroy(t),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}};Ux.BATCHABLE_SIZE=100;let f_=Ux;class iC extends pn{constructor(t,i,n){super();const l=new ye(t),o=new ye(i,!0),h=new ye(n,!0,!0);this.addAttribute("aVertexPosition",l,2,!1,wt.FLOAT).addAttribute("aTextureCoord",o,2,!1,wt.FLOAT).addIndex(h),this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}}var rC=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,nC=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`;class d_ extends Ji{constructor(t,i){const n={uSampler:t,alpha:1,uTextureMatrix:ae.IDENTITY,uColor:new Float32Array([1,1,1,1])};i=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},i),i.uniforms&&Object.assign(n,i.uniforms),super(i.program||Rr.from(nC,rC),n),this._colorDirty=!1,this.uvMatrix=new Q_(t),this.batchable=i.program===void 0,this.pluginName=i.pluginName,this._tintColor=new se(i.tint),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0,this.alpha=i.alpha}get texture(){return this.uniforms.uSampler}set texture(t){this.uniforms.uSampler!==t&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!t.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=t,this.uvMatrix.texture=t)}set alpha(t){t!==this._alpha&&(this._alpha=t,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(t){t!==this.tint&&(this._tintColor.setValue(t),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0)}get tint(){return this._tintColor.value}get tintValue(){return this._tintColor.toNumber()}update(){if(this._colorDirty){this._colorDirty=!1;const t=this.texture.baseTexture.alphaMode;se.shared.setValue(this._tintColor).premultiply(this._alpha,t).toArray(this.uniforms.uColor)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}class p_{constructor(t,i,n){this.geometry=new pn,this.indexBuffer=null,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(let l=0;l<t.length;++l){let o=t[l];o={attributeName:o.attributeName,size:o.size,uploadFunction:o.uploadFunction,type:o.type||wt.FLOAT,offset:o.offset},i[l]?this.dynamicProperties.push(o):this.staticProperties.push(o)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){const t=this.geometry;let i=0;this.indexBuffer=new ye(AT(this.size),!0,!0),t.addIndex(this.indexBuffer),this.dynamicStride=0;for(let h=0;h<this.dynamicProperties.length;++h){const c=this.dynamicProperties[h];c.offset=i,i+=c.size,this.dynamicStride+=c.size}const n=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(n),this.dynamicDataUint32=new Uint32Array(n),this.dynamicBuffer=new ye(this.dynamicData,!1,!1);let l=0;this.staticStride=0;for(let h=0;h<this.staticProperties.length;++h){const c=this.staticProperties[h];c.offset=l,l+=c.size,this.staticStride+=c.size}const o=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(o),this.staticDataUint32=new Uint32Array(o),this.staticBuffer=new ye(this.staticData,!0,!1);for(let h=0;h<this.dynamicProperties.length;++h){const c=this.dynamicProperties[h];t.addAttribute(c.attributeName,this.dynamicBuffer,0,c.type===wt.UNSIGNED_BYTE,c.type,this.dynamicStride*4,c.offset*4)}for(let h=0;h<this.staticProperties.length;++h){const c=this.staticProperties[h];t.addAttribute(c.attributeName,this.staticBuffer,0,c.type===wt.UNSIGNED_BYTE,c.type,this.staticStride*4,c.offset*4)}}uploadDynamic(t,i,n){for(let l=0;l<this.dynamicProperties.length;l++){const o=this.dynamicProperties[l];o.uploadFunction(t,i,n,o.type===wt.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,o.offset)}this.dynamicBuffer._updateID++}uploadStatic(t,i,n){for(let l=0;l<this.staticProperties.length;l++){const o=this.staticProperties[l];o.uploadFunction(t,i,n,o.type===wt.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,o.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}var sC=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,aC=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`;class Px extends Nu{constructor(t){super(t),this.shader=null,this.properties=null,this.tempMatrix=new ae,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:wt.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=Ji.from(aC,sC,{}),this.state=er.for2d()}render(t){const i=t.children,n=t._maxSize,l=t._batchSize,o=this.renderer;let h=i.length;if(h===0)return;h>n&&!t.autoResize&&(h=n);let c=t._buffers;c||(c=t._buffers=this.generateBuffers(t));const p=i[0]._texture.baseTexture,m=p.alphaMode>0;this.state.blendMode=U_(t.blendMode,m),o.state.set(this.state);const g=o.gl,y=t.worldTransform.copyTo(this.tempMatrix);y.prepend(o.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=y.toArray(!0),this.shader.uniforms.uColor=se.shared.setValue(t.tintRgb).premultiply(t.worldAlpha,m).toArray(this.shader.uniforms.uColor),this.shader.uniforms.uSampler=p,this.renderer.shader.bind(this.shader);let x=!1;for(let _=0,E=0;_<h;_+=l,E+=1){let w=h-_;w>l&&(w=l),E>=c.length&&c.push(this._generateOneMoreBuffer(t));const S=c[E];S.uploadDynamic(i,_,w);const C=t._bufferUpdateIDs[E]||0;x=x||S._updateID<C,x&&(S._updateID=t._updateID,S.uploadStatic(i,_,w)),o.geometry.bind(S.geometry),g.drawElements(g.TRIANGLES,w*6,g.UNSIGNED_SHORT,0)}}generateBuffers(t){const i=[],n=t._maxSize,l=t._batchSize,o=t._properties;for(let h=0;h<n;h+=l)i.push(new p_(this.properties,o,l));return i}_generateOneMoreBuffer(t){const i=t._batchSize,n=t._properties;return new p_(this.properties,n,i)}uploadVertices(t,i,n,l,o,h){let c=0,p=0,m=0,g=0;for(let y=0;y<n;++y){const x=t[i+y],_=x._texture,E=x.scale.x,w=x.scale.y,S=_.trim,C=_.orig;S?(p=S.x-x.anchor.x*C.width,c=p+S.width,g=S.y-x.anchor.y*C.height,m=g+S.height):(c=C.width*(1-x.anchor.x),p=C.width*-x.anchor.x,m=C.height*(1-x.anchor.y),g=C.height*-x.anchor.y),l[h]=p*E,l[h+1]=g*w,l[h+o]=c*E,l[h+o+1]=g*w,l[h+o*2]=c*E,l[h+o*2+1]=m*w,l[h+o*3]=p*E,l[h+o*3+1]=m*w,h+=o*4}}uploadPosition(t,i,n,l,o,h){for(let c=0;c<n;c++){const p=t[i+c].position;l[h]=p.x,l[h+1]=p.y,l[h+o]=p.x,l[h+o+1]=p.y,l[h+o*2]=p.x,l[h+o*2+1]=p.y,l[h+o*3]=p.x,l[h+o*3+1]=p.y,h+=o*4}}uploadRotation(t,i,n,l,o,h){for(let c=0;c<n;c++){const p=t[i+c].rotation;l[h]=p,l[h+o]=p,l[h+o*2]=p,l[h+o*3]=p,h+=o*4}}uploadUvs(t,i,n,l,o,h){for(let c=0;c<n;++c){const p=t[i+c]._texture._uvs;p?(l[h]=p.x0,l[h+1]=p.y0,l[h+o]=p.x1,l[h+o+1]=p.y1,l[h+o*2]=p.x2,l[h+o*2+1]=p.y2,l[h+o*3]=p.x3,l[h+o*3+1]=p.y3,h+=o*4):(l[h]=0,l[h+1]=0,l[h+o]=0,l[h+o+1]=0,l[h+o*2]=0,l[h+o*2+1]=0,l[h+o*3]=0,l[h+o*3+1]=0,h+=o*4)}}uploadTint(t,i,n,l,o,h){for(let c=0;c<n;++c){const p=t[i+c],m=se.shared.setValue(p._tintRGB).toPremultiplied(p.alpha,p.texture.baseTexture.alphaMode>0);l[h]=m,l[h+o]=m,l[h+o*2]=m,l[h+o*3]=m,h+=o*4}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}Px.extension={name:"particle",type:pt.RendererPlugin};St.add(Px);var Lu=(s=>(s[s.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",s[s.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",s))(Lu||{});const Jo={willReadFrequently:!0},Wi=class At{static get experimentalLetterSpacingSupported(){let t=At._experimentalLetterSpacingSupported;if(t!==void 0){const i=gt.ADAPTER.getCanvasRenderingContext2D().prototype;t=At._experimentalLetterSpacingSupported="letterSpacing"in i||"textLetterSpacing"in i}return t}constructor(t,i,n,l,o,h,c,p,m){this.text=t,this.style=i,this.width=n,this.height=l,this.lines=o,this.lineWidths=h,this.lineHeight=c,this.maxLineWidth=p,this.fontProperties=m}static measureText(t,i,n,l=At._canvas){n=n??i.wordWrap;const o=i.toFontString(),h=At.measureFont(o);h.fontSize===0&&(h.fontSize=i.fontSize,h.ascent=i.fontSize);const c=l.getContext("2d",Jo);c.font=o;const p=(n?At.wordWrap(t,i,l):t).split(/(?:\r\n|\r|\n)/),m=new Array(p.length);let g=0;for(let E=0;E<p.length;E++){const w=At._measureText(p[E],i.letterSpacing,c);m[E]=w,g=Math.max(g,w)}let y=g+i.strokeThickness;i.dropShadow&&(y+=i.dropShadowDistance);const x=i.lineHeight||h.fontSize+i.strokeThickness;let _=Math.max(x,h.fontSize+i.strokeThickness*2)+i.leading+(p.length-1)*(x+i.leading);return i.dropShadow&&(_+=i.dropShadowDistance),new At(t,i,y,_,p,m,x+i.leading,g,h)}static _measureText(t,i,n){let l=!1;At.experimentalLetterSpacingSupported&&(At.experimentalLetterSpacing?(n.letterSpacing=`${i}px`,n.textLetterSpacing=`${i}px`,l=!0):(n.letterSpacing="0px",n.textLetterSpacing="0px"));let o=n.measureText(t).width;return o>0&&(l?o-=i:o+=(At.graphemeSegmenter(t).length-1)*i),o}static wordWrap(t,i,n=At._canvas){const l=n.getContext("2d",Jo);let o=0,h="",c="";const p=Object.create(null),{letterSpacing:m,whiteSpace:g}=i,y=At.collapseSpaces(g),x=At.collapseNewlines(g);let _=!y;const E=i.wordWrapWidth+m,w=At.tokenize(t);for(let S=0;S<w.length;S++){let C=w[S];if(At.isNewline(C)){if(!x){c+=At.addLine(h),_=!y,h="",o=0;continue}C=" "}if(y){const O=At.isBreakingSpace(C),U=At.isBreakingSpace(h[h.length-1]);if(O&&U)continue}const I=At.getFromCache(C,m,p,l);if(I>E)if(h!==""&&(c+=At.addLine(h),h="",o=0),At.canBreakWords(C,i.breakWords)){const O=At.wordWrapSplit(C);for(let U=0;U<O.length;U++){let B=O[U],z=B,M=1;for(;O[U+M];){const J=O[U+M];if(!At.canBreakChars(z,J,C,U,i.breakWords))B+=J;else break;z=J,M++}U+=M-1;const V=At.getFromCache(B,m,p,l);V+o>E&&(c+=At.addLine(h),_=!1,h="",o=0),h+=B,o+=V}}else{h.length>0&&(c+=At.addLine(h),h="",o=0);const O=S===w.length-1;c+=At.addLine(C,!O),_=!1,h="",o=0}else I+o>E&&(_=!1,c+=At.addLine(h),h="",o=0),(h.length>0||!At.isBreakingSpace(C)||_)&&(h+=C,o+=I)}return c+=At.addLine(h,!1),c}static addLine(t,i=!0){return t=At.trimRight(t),t=i?`${t}
`:t,t}static getFromCache(t,i,n,l){let o=n[t];return typeof o!="number"&&(o=At._measureText(t,i,l)+i,n[t]=o),o}static collapseSpaces(t){return t==="normal"||t==="pre-line"}static collapseNewlines(t){return t==="normal"}static trimRight(t){if(typeof t!="string")return"";for(let i=t.length-1;i>=0;i--){const n=t[i];if(!At.isBreakingSpace(n))break;t=t.slice(0,-1)}return t}static isNewline(t){return typeof t!="string"?!1:At._newlines.includes(t.charCodeAt(0))}static isBreakingSpace(t,i){return typeof t!="string"?!1:At._breakingSpaces.includes(t.charCodeAt(0))}static tokenize(t){const i=[];let n="";if(typeof t!="string")return i;for(let l=0;l<t.length;l++){const o=t[l],h=t[l+1];if(At.isBreakingSpace(o,h)||At.isNewline(o)){n!==""&&(i.push(n),n=""),i.push(o);continue}n+=o}return n!==""&&i.push(n),i}static canBreakWords(t,i){return i}static canBreakChars(t,i,n,l,o){return!0}static wordWrapSplit(t){return At.graphemeSegmenter(t)}static measureFont(t){if(At._fonts[t])return At._fonts[t];const i={ascent:0,descent:0,fontSize:0},n=At._canvas,l=At._context;l.font=t;const o=At.METRICS_STRING+At.BASELINE_SYMBOL,h=Math.ceil(l.measureText(o).width);let c=Math.ceil(l.measureText(At.BASELINE_SYMBOL).width);const p=Math.ceil(At.HEIGHT_MULTIPLIER*c);if(c=c*At.BASELINE_MULTIPLIER|0,h===0||p===0)return At._fonts[t]=i,i;n.width=h,n.height=p,l.fillStyle="#f00",l.fillRect(0,0,h,p),l.font=t,l.textBaseline="alphabetic",l.fillStyle="#000",l.fillText(o,0,c);const m=l.getImageData(0,0,h,p).data,g=m.length,y=h*4;let x=0,_=0,E=!1;for(x=0;x<c;++x){for(let w=0;w<y;w+=4)if(m[_+w]!==255){E=!0;break}if(!E)_+=y;else break}for(i.ascent=c-x,_=g-y,E=!1,x=p;x>c;--x){for(let w=0;w<y;w+=4)if(m[_+w]!==255){E=!0;break}if(!E)_-=y;else break}return i.descent=x-c,i.fontSize=i.ascent+i.descent,At._fonts[t]=i,i}static clearMetrics(t=""){t?delete At._fonts[t]:At._fonts={}}static get _canvas(){var t;if(!At.__canvas){let i;try{const n=new OffscreenCanvas(0,0);if((t=n.getContext("2d",Jo))!=null&&t.measureText)return At.__canvas=n,n;i=gt.ADAPTER.createCanvas()}catch{i=gt.ADAPTER.createCanvas()}i.width=i.height=10,At.__canvas=i}return At.__canvas}static get _context(){return At.__context||(At.__context=At._canvas.getContext("2d",Jo)),At.__context}};Wi.METRICS_STRING="|q",Wi.BASELINE_SYMBOL="M",Wi.BASELINE_MULTIPLIER=1.4,Wi.HEIGHT_MULTIPLIER=2,Wi.graphemeSegmenter=(()=>{if(typeof(Intl==null?void 0:Intl.Segmenter)=="function"){const s=new Intl.Segmenter;return t=>[...s.segment(t)].map(i=>i.segment)}return s=>[...s]})(),Wi.experimentalLetterSpacing=!1,Wi._fonts={},Wi._newlines=[10,13],Wi._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];let un=Wi;const lC=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],Fx=class fl{constructor(t){this.styleID=0,this.reset(),yd(this,t,t)}clone(){const t={};return yd(t,this,fl.defaultStyle),new fl(t)}reset(){yd(this,fl.defaultStyle,fl.defaultStyle)}get align(){return this._align}set align(t){this._align!==t&&(this._align=t,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(t){const i=gd(t);this._dropShadowColor!==i&&(this._dropShadowColor=i,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)}get fill(){return this._fill}set fill(t){const i=gd(t);this._fill!==i&&(this._fill=i,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(t){oC(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)}get leading(){return this._leading}set leading(t){this._leading!==t&&(this._leading=t,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)}get padding(){return this._padding}set padding(t){this._padding!==t&&(this._padding=t,this.styleID++)}get stroke(){return this._stroke}set stroke(t){const i=gd(t);this._stroke!==i&&(this._stroke=i,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)}get trim(){return this._trim}set trim(t){this._trim!==t&&(this._trim=t,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)}toFontString(){const t=typeof this.fontSize=="number"?`${this.fontSize}px`:this.fontSize;let i=this.fontFamily;Array.isArray(this.fontFamily)||(i=this.fontFamily.split(","));for(let n=i.length-1;n>=0;n--){let l=i[n].trim();!/([\"\'])[^\'\"]+\1/.test(l)&&!lC.includes(l)&&(l=`"${l}"`),i[n]=l}return`${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${t} ${i.join(",")}`}};Fx.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:Lu.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let mn=Fx;function gd(s){const t=se.shared,i=n=>{const l=t.setValue(n);return l.alpha===1?l.toHex():l.toRgbaString()};return Array.isArray(s)?s.map(i):i(s)}function oC(s,t){if(!Array.isArray(s)||!Array.isArray(t)||s.length!==t.length)return!1;for(let i=0;i<s.length;++i)if(s[i]!==t[i])return!1;return!0}function yd(s,t,i){for(const n in i)Array.isArray(t[n])?s[n]=t[n].slice():s[n]=t[n]}const uC={texture:!0,children:!1,baseTexture:!0},Gx=class Qd extends Jn{constructor(t,i,n){let l=!1;n||(n=gt.ADAPTER.createCanvas(),l=!0),n.width=3,n.height=3;const o=_t.from(n);o.orig=new Lt,o.trim=new Lt,super(o),this._ownCanvas=l,this.canvas=n,this.context=n.getContext("2d",{willReadFrequently:!0}),this._resolution=Qd.defaultResolution??gt.RESOLUTION,this._autoResolution=Qd.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=t,this.style=i,this.localStyleID=-1}static get experimentalLetterSpacing(){return un.experimentalLetterSpacing}static set experimentalLetterSpacing(t){zt("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),un.experimentalLetterSpacing=t}updateText(t){const i=this._style;if(this.localStyleID!==i.styleID&&(this.dirty=!0,this.localStyleID=i.styleID),!this.dirty&&t)return;this._font=this._style.toFontString();const n=this.context,l=un.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),o=l.width,h=l.height,c=l.lines,p=l.lineHeight,m=l.lineWidths,g=l.maxLineWidth,y=l.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,o)+i.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,h)+i.padding*2)*this._resolution),n.scale(this._resolution,this._resolution),n.clearRect(0,0,this.canvas.width,this.canvas.height),n.font=this._font,n.lineWidth=i.strokeThickness,n.textBaseline=i.textBaseline,n.lineJoin=i.lineJoin,n.miterLimit=i.miterLimit;let x,_;const E=i.dropShadow?2:1;for(let w=0;w<E;++w){const S=i.dropShadow&&w===0,C=S?Math.ceil(Math.max(1,h)+i.padding*2):0,I=C*this._resolution;if(S){n.fillStyle="black",n.strokeStyle="black";const U=i.dropShadowColor,B=i.dropShadowBlur*this._resolution,z=i.dropShadowDistance*this._resolution;n.shadowColor=se.shared.setValue(U).setAlpha(i.dropShadowAlpha).toRgbaString(),n.shadowBlur=B,n.shadowOffsetX=Math.cos(i.dropShadowAngle)*z,n.shadowOffsetY=Math.sin(i.dropShadowAngle)*z+I}else n.fillStyle=this._generateFillStyle(i,c,l),n.strokeStyle=i.stroke,n.shadowColor="black",n.shadowBlur=0,n.shadowOffsetX=0,n.shadowOffsetY=0;let O=(p-y.fontSize)/2;p-y.fontSize<0&&(O=0);for(let U=0;U<c.length;U++)x=i.strokeThickness/2,_=i.strokeThickness/2+U*p+y.ascent+O,i.align==="right"?x+=g-m[U]:i.align==="center"&&(x+=(g-m[U])/2),i.stroke&&i.strokeThickness&&this.drawLetterSpacing(c[U],x+i.padding,_+i.padding-C,!0),i.fill&&this.drawLetterSpacing(c[U],x+i.padding,_+i.padding-C)}this.updateTexture()}drawLetterSpacing(t,i,n,l=!1){const o=this._style.letterSpacing;let h=!1;if(un.experimentalLetterSpacingSupported&&(un.experimentalLetterSpacing?(this.context.letterSpacing=`${o}px`,this.context.textLetterSpacing=`${o}px`,h=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),o===0||h){l?this.context.strokeText(t,i,n):this.context.fillText(t,i,n);return}let c=i;const p=un.graphemeSegmenter(t);let m=this.context.measureText(t).width,g=0;for(let y=0;y<p.length;++y){const x=p[y];l?this.context.strokeText(x,c,n):this.context.fillText(x,c,n);let _="";for(let E=y+1;E<p.length;++E)_+=p[E];g=this.context.measureText(_).width,c+=m-g+o,m=g}}updateTexture(){const t=this.canvas;if(this._style.trim){const h=MT(t);h.data&&(t.width=h.width,t.height=h.height,this.context.putImageData(h.data,0,0))}const i=this._texture,n=this._style,l=n.trim?0:n.padding,o=i.baseTexture;i.trim.width=i._frame.width=t.width/this._resolution,i.trim.height=i._frame.height=t.height/this._resolution,i.trim.x=-l,i.trim.y=-l,i.orig.width=i._frame.width-l*2,i.orig.height=i._frame.height-l*2,this._onTextureUpdate(),o.setRealSize(t.width,t.height,this._resolution),i.updateUvs(),this.dirty=!1}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),super._render(t)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(t,i){return this.updateText(!0),this._textureID===-1&&(t=!1),super.getBounds(t,i)}getLocalBounds(t){return this.updateText(!0),super.getLocalBounds.call(this,t)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(t,i,n){const l=t.fill;if(Array.isArray(l)){if(l.length===1)return l[0]}else return l;let o;const h=t.dropShadow?t.dropShadowDistance:0,c=t.padding||0,p=this.canvas.width/this._resolution-h-c*2,m=this.canvas.height/this._resolution-h-c*2,g=l.slice(),y=t.fillGradientStops.slice();if(!y.length){const x=g.length+1;for(let _=1;_<x;++_)y.push(_/x)}if(g.unshift(l[0]),y.unshift(0),g.push(l[l.length-1]),y.push(1),t.fillGradientType===Lu.LINEAR_VERTICAL){o=this.context.createLinearGradient(p/2,c,p/2,m+c);const x=n.fontProperties.fontSize+t.strokeThickness;for(let _=0;_<i.length;_++){const E=n.lineHeight*(_-1)+x,w=n.lineHeight*_;let S=w;_>0&&E>w&&(S=(w+E)/2);const C=w+x,I=n.lineHeight*(_+1);let O=C;_+1<i.length&&I<C&&(O=(C+I)/2);const U=(O-S)/m;for(let B=0;B<g.length;B++){let z=0;typeof y[B]=="number"?z=y[B]:z=B/g.length;let M=Math.min(1,Math.max(0,S/m+z*U));M=Number(M.toFixed(5)),o.addColorStop(M,g[B])}}}else{o=this.context.createLinearGradient(c,m/2,p+c,m/2);const x=g.length+1;let _=1;for(let E=0;E<g.length;E++){let w;typeof y[E]=="number"?w=y[E]:w=_/x,o.addColorStop(w,g[E]),_++}}return o}destroy(t){typeof t=="boolean"&&(t={children:t}),t=Object.assign({},uC,t),super.destroy(t),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(t){this.updateText(!0);const i=cn(this.scale.x)||1;this.scale.x=i*t/this._texture.orig.width,this._width=t}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(t){this.updateText(!0);const i=cn(this.scale.y)||1;this.scale.y=i*t/this._texture.orig.height,this._height=t}get style(){return this._style}set style(t){t=t||{},t instanceof mn?this._style=t:this._style=new mn(t),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(t){t=String(t??""),this._text!==t&&(this._text=t,this.dirty=!0)}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}};Gx.defaultAutoResolution=!0;let zx=Gx;class hC{constructor(t){this.maxItemsPerFrame=t,this.itemsLeft=0}beginFrame(){this.itemsLeft=this.maxItemsPerFrame}allowedToUpload(){return this.itemsLeft-- >0}}function cC(s,t){var n;let i=!1;if((n=s==null?void 0:s._textures)!=null&&n.length){for(let l=0;l<s._textures.length;l++)if(s._textures[l]instanceof _t){const o=s._textures[l].baseTexture;t.includes(o)||(t.push(o),i=!0)}}return i}function fC(s,t){if(s.baseTexture instanceof It){const i=s.baseTexture;return t.includes(i)||t.push(i),!0}return!1}function dC(s,t){if(s._texture&&s._texture instanceof _t){const i=s._texture.baseTexture;return t.includes(i)||t.push(i),!0}return!1}function pC(s,t){return t instanceof zx?(t.updateText(!0),!0):!1}function mC(s,t){if(t instanceof mn){const i=t.toFontString();return un.measureFont(i),!0}return!1}function gC(s,t){if(s instanceof zx){t.includes(s.style)||t.push(s.style),t.includes(s)||t.push(s);const i=s._texture.baseTexture;return t.includes(i)||t.push(i),!0}return!1}function yC(s,t){return s instanceof mn?(t.includes(s)||t.push(s),!0):!1}const Hx=class kx{constructor(t){this.limiter=new hC(kx.uploadsPerFrame),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=()=>{this.queue&&this.prepareItems()},this.registerFindHook(gC),this.registerFindHook(yC),this.registerFindHook(cC),this.registerFindHook(fC),this.registerFindHook(dC),this.registerUploadHook(pC),this.registerUploadHook(mC)}upload(t){return new Promise(i=>{t&&this.add(t),this.queue.length?(this.completes.push(i),this.ticking||(this.ticking=!0,hi.system.addOnce(this.tick,this,Zn.UTILITY))):i()})}tick(){setTimeout(this.delayedTick,0)}prepareItems(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){const t=this.queue[0];let i=!1;if(t&&!t._destroyed){for(let n=0,l=this.uploadHooks.length;n<l;n++)if(this.uploadHooks[n](this.uploadHookHelper,t)){this.queue.shift(),i=!0;break}}i||this.queue.shift()}if(this.queue.length)hi.system.addOnce(this.tick,this,Zn.UTILITY);else{this.ticking=!1;const t=this.completes.slice(0);this.completes.length=0;for(let i=0,n=t.length;i<n;i++)t[i]()}}registerFindHook(t){return t&&this.addHooks.push(t),this}registerUploadHook(t){return t&&this.uploadHooks.push(t),this}add(t){for(let i=0,n=this.addHooks.length;i<n&&!this.addHooks[i](t,this.queue);i++);if(t instanceof ci)for(let i=t.children.length-1;i>=0;i--)this.add(t.children[i]);return this}destroy(){this.ticking&&hi.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null}};Hx.uploadsPerFrame=4;let Jd=Hx;Object.defineProperties(gt,{UPLOADS_PER_FRAME:{get(){return Jd.uploadsPerFrame},set(s){zt("7.1.0","settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame"),Jd.uploadsPerFrame=s}}});function Xx(s,t){return t instanceof It?(t._glTextures[s.CONTEXT_UID]||s.texture.bind(t),!0):!1}function vC(s,t){if(!(t instanceof mp))return!1;const{geometry:i}=t;t.finishPoly(),i.updateBatches();const{batches:n}=i;for(let l=0;l<n.length;l++){const{texture:o}=n[l].style;o&&Xx(s,o.baseTexture)}return i.batchable||s.geometry.bind(i,t._resolveDirectShader(s)),!0}function _C(s,t){return s instanceof mp?(t.push(s),!0):!1}class Vx extends Jd{constructor(t){super(t),this.uploadHookHelper=this.renderer,this.registerFindHook(_C),this.registerUploadHook(Xx),this.registerUploadHook(vC)}}Vx.extension={name:"prepare",type:pt.RendererSystem};St.add(Vx);var xC=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,bC=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,EC=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,m_=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,TC=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`;const tu=new ae;class jx extends Nu{constructor(t){super(t),t.runners.contextChange.add(this),this.quad=new W_,this.state=er.for2d()}contextChange(){const t=this.renderer,i={globals:t.globalUniforms};this.simpleShader=Ji.from(m_,TC,i),this.shader=t.context.webGLVersion>1?Ji.from(bC,xC,i):Ji.from(m_,EC,i)}render(t){const i=this.renderer,n=this.quad;let l=n.vertices;l[0]=l[6]=t._width*-t.anchor.x,l[1]=l[3]=t._height*-t.anchor.y,l[2]=l[4]=t._width*(1-t.anchor.x),l[5]=l[7]=t._height*(1-t.anchor.y);const o=t.uvRespectAnchor?t.anchor.x:0,h=t.uvRespectAnchor?t.anchor.y:0;l=n.uvs,l[0]=l[6]=-o,l[1]=l[3]=-h,l[2]=l[4]=1-o,l[5]=l[7]=1-h,n.invalidate();const c=t._texture,p=c.baseTexture,m=p.alphaMode>0,g=t.tileTransform.localTransform,y=t.uvMatrix;let x=p.isPowerOfTwo&&c.frame.width===p.width&&c.frame.height===p.height;x&&(p._glTextures[i.CONTEXT_UID]?x=p.wrapMode!==dn.CLAMP:p.wrapMode===dn.CLAMP&&(p.wrapMode=dn.REPEAT));const _=x?this.simpleShader:this.shader,E=c.width,w=c.height,S=t._width,C=t._height;tu.set(g.a*E/S,g.b*E/C,g.c*w/S,g.d*w/C,g.tx/S,g.ty/C),tu.invert(),x?tu.prepend(y.mapCoord):(_.uniforms.uMapCoord=y.mapCoord.toArray(!0),_.uniforms.uClampFrame=y.uClampFrame,_.uniforms.uClampOffset=y.uClampOffset),_.uniforms.uTransform=tu.toArray(!0),_.uniforms.uColor=se.shared.setValue(t.tint).premultiply(t.worldAlpha,m).toArray(_.uniforms.uColor),_.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),_.uniforms.uSampler=c,i.shader.bind(_),i.geometry.bind(n),this.state.blendMode=U_(t.blendMode,m),i.state.set(this.state),i.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}jx.extension={name:"tilingSprite",type:pt.RendererPlugin};St.add(jx);const qx=class dl{constructor(t,i,n){this.linkedSheets=[],(t instanceof It||t instanceof _t)&&(t={texture:t,data:i,resolutionFilename:n});const{texture:l,data:o,resolutionFilename:h=null,cachePrefix:c=""}=t;this.cachePrefix=c,this._texture=l instanceof _t?l:null,this.baseTexture=l instanceof It?l:this._texture.baseTexture,this.textures={},this.animations={},this.data=o;const p=this.baseTexture.resource;this.resolution=this._updateResolution(h||(p?p.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}_updateResolution(t=null){const{scale:i}=this.data.meta;let n=Mr(t,null);return n===null&&(n=typeof i=="number"?i:parseFloat(i??"1")),n!==1&&this.baseTexture.setResolution(n),n}parse(){return new Promise(t=>{this._callback=t,this._batchIndex=0,this._frameKeys.length<=dl.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(t){let i=t;const n=dl.BATCH_SIZE;for(;i-t<n&&i<this._frameKeys.length;){const l=this._frameKeys[i],o=this._frames[l],h=o.frame;if(h){let c=null,p=null;const m=o.trimmed!==!1&&o.sourceSize?o.sourceSize:o.frame,g=new Lt(0,0,Math.floor(m.w)/this.resolution,Math.floor(m.h)/this.resolution);o.rotated?c=new Lt(Math.floor(h.x)/this.resolution,Math.floor(h.y)/this.resolution,Math.floor(h.h)/this.resolution,Math.floor(h.w)/this.resolution):c=new Lt(Math.floor(h.x)/this.resolution,Math.floor(h.y)/this.resolution,Math.floor(h.w)/this.resolution,Math.floor(h.h)/this.resolution),o.trimmed!==!1&&o.spriteSourceSize&&(p=new Lt(Math.floor(o.spriteSourceSize.x)/this.resolution,Math.floor(o.spriteSourceSize.y)/this.resolution,Math.floor(h.w)/this.resolution,Math.floor(h.h)/this.resolution)),this.textures[l]=new _t(this.baseTexture,c,g,p,o.rotated?2:0,o.anchor,o.borders),_t.addToCache(this.textures[l],this.cachePrefix+l.toString())}i++}}_processAnimations(){const t=this.data.animations||{};for(const i in t){this.animations[i]=[];for(let n=0;n<t[i].length;n++){const l=t[i][n];this.animations[i].push(this.textures[l])}}}_parseComplete(){const t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*dl.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*dl.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(t=!1){var i;for(const n in this.textures)this.textures[n].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&((i=this._texture)==null||i.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]}};qx.BATCH_SIZE=1e3;let g_=qx;const SC=["jpg","png","jpeg","avif","webp","s3tc","s3tc_sRGB","etc","etc1","pvrtc","atc","astc","bptc"];function Yx(s,t,i){const n={};if(s.forEach(l=>{n[l]=t}),Object.keys(t.textures).forEach(l=>{n[`${t.cachePrefix}${l}`]=t.textures[l]}),!i){const l=De.dirname(s[0]);t.linkedSheets.forEach((o,h)=>{Object.assign(n,Yx([`${l}/${t.data.meta.related_multi_packs[h]}`],o,!0))})}return n}const AC={extension:pt.Asset,cache:{test:s=>s instanceof g_,getCacheableAssets:(s,t)=>Yx(s,t,!1)},resolver:{test:s=>{const t=s.split("?")[0].split("."),i=t.pop(),n=t.pop();return i==="json"&&SC.includes(n)},parse:s=>{var i;const t=s.split(".");return{resolution:parseFloat(((i=gt.RETINA_PREFIX.exec(s))==null?void 0:i[1])??"1"),format:t[t.length-2],src:s}}},loader:{name:"spritesheetLoader",extension:{type:pt.LoadParser,priority:Pi.Normal},async testParse(s,t){return De.extname(t.src).toLowerCase()===".json"&&!!s.frames},async parse(s,t,i){var g,y;const{texture:n,imageFilename:l,cachePrefix:o}=(t==null?void 0:t.data)??{};let h=De.dirname(t.src);h&&h.lastIndexOf("/")!==h.length-1&&(h+="/");let c;if(n&&n.baseTexture)c=n;else{const x=Wd(h+(l??s.meta.image),t.src);c=(await i.load([x]))[x]}const p=new g_({texture:c.baseTexture,data:s,resolutionFilename:t.src,cachePrefix:o});await p.parse();const m=(g=s==null?void 0:s.meta)==null?void 0:g.related_multi_packs;if(Array.isArray(m)){const x=[];for(const E of m){if(typeof E!="string")continue;let w=h+E;(y=t.data)!=null&&y.ignoreMultiPack||(w=Wd(w,t.src),x.push(i.load({src:w,data:{ignoreMultiPack:!0}})))}const _=await Promise.all(x);p.linkedSheets=_,_.forEach(E=>{E.linkedSheets=[p].concat(p.linkedSheets.filter(w=>w!==E))})}return p},unload(s){s.destroy(!0)}}};St.add(AC);class Au{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}class uu{static test(t){return typeof t=="string"&&t.startsWith("info face=")}static parse(t){const i=t.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const o in i){const h=i[o].match(/^[a-z]+/gm)[0],c=i[o].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),p={};for(const m in c){const g=c[m].split("="),y=g[0],x=g[1].replace(/"/gm,""),_=parseFloat(x),E=isNaN(_)?x:_;p[y]=E}n[h].push(p)}const l=new Au;return n.info.forEach(o=>l.info.push({face:o.face,size:parseInt(o.size,10)})),n.common.forEach(o=>l.common.push({lineHeight:parseInt(o.lineHeight,10)})),n.page.forEach(o=>l.page.push({id:parseInt(o.id,10),file:o.file})),n.char.forEach(o=>l.char.push({id:parseInt(o.id,10),page:parseInt(o.page,10),x:parseInt(o.x,10),y:parseInt(o.y,10),width:parseInt(o.width,10),height:parseInt(o.height,10),xoffset:parseInt(o.xoffset,10),yoffset:parseInt(o.yoffset,10),xadvance:parseInt(o.xadvance,10)})),n.kerning.forEach(o=>l.kerning.push({first:parseInt(o.first,10),second:parseInt(o.second,10),amount:parseInt(o.amount,10)})),n.distanceField.forEach(o=>l.distanceField.push({distanceRange:parseInt(o.distanceRange,10),fieldType:o.fieldType})),l}}class tp{static test(t){const i=t;return typeof t!="string"&&"getElementsByTagName"in t&&i.getElementsByTagName("page").length&&i.getElementsByTagName("info")[0].getAttribute("face")!==null}static parse(t){const i=new Au,n=t.getElementsByTagName("info"),l=t.getElementsByTagName("common"),o=t.getElementsByTagName("page"),h=t.getElementsByTagName("char"),c=t.getElementsByTagName("kerning"),p=t.getElementsByTagName("distanceField");for(let m=0;m<n.length;m++)i.info.push({face:n[m].getAttribute("face"),size:parseInt(n[m].getAttribute("size"),10)});for(let m=0;m<l.length;m++)i.common.push({lineHeight:parseInt(l[m].getAttribute("lineHeight"),10)});for(let m=0;m<o.length;m++)i.page.push({id:parseInt(o[m].getAttribute("id"),10)||0,file:o[m].getAttribute("file")});for(let m=0;m<h.length;m++){const g=h[m];i.char.push({id:parseInt(g.getAttribute("id"),10),page:parseInt(g.getAttribute("page"),10)||0,x:parseInt(g.getAttribute("x"),10),y:parseInt(g.getAttribute("y"),10),width:parseInt(g.getAttribute("width"),10),height:parseInt(g.getAttribute("height"),10),xoffset:parseInt(g.getAttribute("xoffset"),10),yoffset:parseInt(g.getAttribute("yoffset"),10),xadvance:parseInt(g.getAttribute("xadvance"),10)})}for(let m=0;m<c.length;m++)i.kerning.push({first:parseInt(c[m].getAttribute("first"),10),second:parseInt(c[m].getAttribute("second"),10),amount:parseInt(c[m].getAttribute("amount"),10)});for(let m=0;m<p.length;m++)i.distanceField.push({fieldType:p[m].getAttribute("fieldType"),distanceRange:parseInt(p[m].getAttribute("distanceRange"),10)});return i}}class ep{static test(t){return typeof t=="string"&&t.includes("<font>")?tp.test(gt.ADAPTER.parseXML(t)):!1}static parse(t){return tp.parse(gt.ADAPTER.parseXML(t))}}const vd=[uu,tp,ep];function wC(s){for(let t=0;t<vd.length;t++)if(vd[t].test(s))return vd[t];return null}function CC(s,t,i,n,l,o){const h=i.fill;if(Array.isArray(h)){if(h.length===1)return h[0]}else return h;let c;const p=i.dropShadow?i.dropShadowDistance:0,m=i.padding||0,g=s.width/n-p-m*2,y=s.height/n-p-m*2,x=h.slice(),_=i.fillGradientStops.slice();if(!_.length){const E=x.length+1;for(let w=1;w<E;++w)_.push(w/E)}if(x.unshift(h[0]),_.unshift(0),x.push(h[h.length-1]),_.push(1),i.fillGradientType===Lu.LINEAR_VERTICAL){c=t.createLinearGradient(g/2,m,g/2,y+m);let E=0;const w=(o.fontProperties.fontSize+i.strokeThickness)/y;for(let S=0;S<l.length;S++){const C=o.lineHeight*S;for(let I=0;I<x.length;I++){let O=0;typeof _[I]=="number"?O=_[I]:O=I/x.length;const U=C/y+O*w;let B=Math.max(E,U);B=Math.min(B,1),c.addColorStop(B,x[I]),E=B}}}else{c=t.createLinearGradient(m,y/2,g+m,y/2);const E=x.length+1;let w=1;for(let S=0;S<x.length;S++){let C;typeof _[S]=="number"?C=_[S]:C=w/E,c.addColorStop(C,x[S]),w++}}return c}function RC(s,t,i,n,l,o,h){const c=i.text,p=i.fontProperties;t.translate(n,l),t.scale(o,o);const m=h.strokeThickness/2,g=-(h.strokeThickness/2);if(t.font=h.toFontString(),t.lineWidth=h.strokeThickness,t.textBaseline=h.textBaseline,t.lineJoin=h.lineJoin,t.miterLimit=h.miterLimit,t.fillStyle=CC(s,t,h,o,[c],i),t.strokeStyle=h.stroke,h.dropShadow){const y=h.dropShadowColor,x=h.dropShadowBlur*o,_=h.dropShadowDistance*o;t.shadowColor=se.shared.setValue(y).setAlpha(h.dropShadowAlpha).toRgbaString(),t.shadowBlur=x,t.shadowOffsetX=Math.cos(h.dropShadowAngle)*_,t.shadowOffsetY=Math.sin(h.dropShadowAngle)*_}else t.shadowColor="black",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0;h.stroke&&h.strokeThickness&&t.strokeText(c,m,g+i.lineHeight-p.descent),h.fill&&t.fillText(c,m,g+i.lineHeight-p.descent),t.setTransform(1,0,0,1,0,0),t.fillStyle="rgba(0, 0, 0, 0)"}function hu(s){return s.codePointAt?s.codePointAt(0):s.charCodeAt(0)}function Wx(s){return Array.from?Array.from(s):s.split("")}function MC(s){typeof s=="string"&&(s=[s]);const t=[];for(let i=0,n=s.length;i<n;i++){const l=s[i];if(Array.isArray(l)){if(l.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${l.length}.`);const o=l[0].charCodeAt(0),h=l[1].charCodeAt(0);if(h<o)throw new Error("[BitmapFont]: Invalid character range.");for(let c=o,p=h;c<=p;c++)t.push(String.fromCharCode(c))}else t.push(...Wx(l))}if(t.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return t}const ln=class $i{constructor(t,i,n){var g;const[l]=t.info,[o]=t.common,[h]=t.page,[c]=t.distanceField,p=Mr(h.file),m={};this._ownsTextures=n,this.font=l.face,this.size=l.size,this.lineHeight=o.lineHeight/p,this.chars={},this.pageTextures=m;for(let y=0;y<t.page.length;y++){const{id:x,file:_}=t.page[y];m[x]=i instanceof Array?i[y]:i[_],c!=null&&c.fieldType&&c.fieldType!=="none"&&(m[x].baseTexture.alphaMode=Je.NO_PREMULTIPLIED_ALPHA,m[x].baseTexture.mipmap=tr.OFF)}for(let y=0;y<t.char.length;y++){const{id:x,page:_}=t.char[y];let{x:E,y:w,width:S,height:C,xoffset:I,yoffset:O,xadvance:U}=t.char[y];E/=p,w/=p,S/=p,C/=p,I/=p,O/=p,U/=p;const B=new Lt(E+m[_].frame.x/p,w+m[_].frame.y/p,S,C);this.chars[x]={xOffset:I,yOffset:O,xAdvance:U,kerning:{},texture:new _t(m[_].baseTexture,B),page:_}}for(let y=0;y<t.kerning.length;y++){let{first:x,second:_,amount:E}=t.kerning[y];x/=p,_/=p,E/=p,this.chars[_]&&(this.chars[_].kerning[x]=E)}this.distanceFieldRange=c==null?void 0:c.distanceRange,this.distanceFieldType=((g=c==null?void 0:c.fieldType)==null?void 0:g.toLowerCase())??"none"}destroy(){for(const t in this.chars)this.chars[t].texture.destroy(),this.chars[t].texture=null;for(const t in this.pageTextures)this._ownsTextures&&this.pageTextures[t].destroy(!0),this.pageTextures[t]=null;this.chars=null,this.pageTextures=null}static install(t,i,n){let l;if(t instanceof Au)l=t;else{const h=wC(t);if(!h)throw new Error("Unrecognized data format for font.");l=h.parse(t)}i instanceof _t&&(i=[i]);const o=new $i(l,i,n);return $i.available[o.font]=o,o}static uninstall(t){const i=$i.available[t];if(!i)throw new Error(`No font found named '${t}'`);i.destroy(),delete $i.available[t]}static from(t,i,n){if(!t)throw new Error("[BitmapFont] Property `name` is required.");const{chars:l,padding:o,resolution:h,textureWidth:c,textureHeight:p,...m}=Object.assign({},$i.defaultOptions,n),g=MC(l),y=i instanceof mn?i:new mn(i),x=c,_=new Au;_.info[0]={face:y.fontFamily,size:y.fontSize},_.common[0]={lineHeight:y.fontSize};let E=0,w=0,S,C,I,O=0;const U=[];for(let z=0;z<g.length;z++){S||(S=gt.ADAPTER.createCanvas(),S.width=c,S.height=p,C=S.getContext("2d"),I=new It(S,{resolution:h,...m}),U.push(new _t(I)),_.page.push({id:U.length-1,file:""}));const M=g[z],V=un.measureText(M,y,!1,S),J=V.width,nt=Math.ceil(V.height),ut=Math.ceil((y.fontStyle==="italic"?2:1)*J);if(w>=p-nt*h){if(w===0)throw new Error(`[BitmapFont] textureHeight ${p}px is too small (fontFamily: '${y.fontFamily}', fontSize: ${y.fontSize}px, char: '${M}')`);--z,S=null,C=null,I=null,w=0,E=0,O=0;continue}if(O=Math.max(nt+V.fontProperties.descent,O),ut*h+E>=x){if(E===0)throw new Error(`[BitmapFont] textureWidth ${c}px is too small (fontFamily: '${y.fontFamily}', fontSize: ${y.fontSize}px, char: '${M}')`);--z,w+=O*h,w=Math.ceil(w),E=0,O=0;continue}RC(S,C,V,E,w,h,y);const k=hu(V.text);_.char.push({id:k,page:U.length-1,x:E/h,y:w/h,width:ut,height:nt,xoffset:0,yoffset:0,xadvance:J-(y.dropShadow?y.dropShadowDistance:0)-(y.stroke?y.strokeThickness:0)}),E+=(ut+2*o)*h,E=Math.ceil(E)}if(!(n!=null&&n.skipKerning))for(let z=0,M=g.length;z<M;z++){const V=g[z];for(let J=0;J<M;J++){const nt=g[J],ut=C.measureText(V).width,k=C.measureText(nt).width,Y=C.measureText(V+nt).width-(ut+k);Y&&_.kerning.push({first:hu(V),second:hu(nt),amount:Y})}}const B=new $i(_,U,!0);return $i.available[t]!==void 0&&$i.uninstall(t),$i.available[t]=B,B}};ln.ALPHA=[["a","z"],["A","Z"]," "],ln.NUMERIC=[["0","9"]],ln.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],ln.ASCII=[[" ","~"]],ln.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:ln.ALPHANUMERIC},ln.available={};let on=ln;var DC=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
  if (median < 0.01) {\r
    alpha = 0.0;\r
  } else if (median > 0.99) {\r
    alpha = 1.0;\r
  }\r
\r
  // Gamma correction for coverage-like alpha\r
  float luma = dot(uColor.rgb, vec3(0.299, 0.587, 0.114));\r
  float gamma = mix(1.0, 1.0 / 2.2, luma);\r
  float coverage = pow(uColor.a * alpha, gamma);  \r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, coverage);\r
}\r
`,OC=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`;const y_=[],v_=[],__=[],BC=class $x extends ci{constructor(t,i={}){super();const{align:n,tint:l,maxWidth:o,letterSpacing:h,fontName:c,fontSize:p}=Object.assign({},$x.styleDefaults,i);if(!on.available[c])throw new Error(`Missing BitmapFont "${c}"`);this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=n,this._tintColor=new se(l),this._font=void 0,this._fontName=c,this._fontSize=p,this.text=t,this._maxWidth=o,this._maxLineHeight=0,this._letterSpacing=h,this._anchor=new Cr(()=>{this.dirty=!0},this,0,0),this._roundPixels=gt.ROUND_PIXELS,this.dirty=!0,this._resolution=gt.RESOLUTION,this._autoResolution=!0,this._textureCache={}}updateText(){var ut;const t=on.available[this._fontName],i=this.fontSize,n=i/t.size,l=new Vt,o=[],h=[],c=[],p=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",m=Wx(p),g=this._maxWidth*t.size/i,y=t.distanceFieldType==="none"?y_:v_;let x=null,_=0,E=0,w=0,S=-1,C=0,I=0,O=0,U=0;for(let k=0;k<m.length;k++){const Y=m[k],et=hu(Y);if(/(?:\s)/.test(Y)&&(S=k,C=_,U++),Y==="\r"||Y===`
`){h.push(_),c.push(-1),E=Math.max(E,_),++w,++I,l.x=0,l.y+=t.lineHeight,x=null,U=0;continue}const ct=t.chars[et];if(!ct)continue;x&&ct.kerning[x]&&(l.x+=ct.kerning[x]);const T=__.pop()||{texture:_t.EMPTY,line:0,charCode:0,prevSpaces:0,position:new Vt};T.texture=ct.texture,T.line=w,T.charCode=et,T.position.x=Math.round(l.x+ct.xOffset+this._letterSpacing/2),T.position.y=Math.round(l.y+ct.yOffset),T.prevSpaces=U,o.push(T),_=T.position.x+Math.max(ct.xAdvance-ct.xOffset,ct.texture.orig.width),l.x+=ct.xAdvance+this._letterSpacing,O=Math.max(O,ct.yOffset+ct.texture.height),x=et,S!==-1&&g>0&&l.x>g&&(++I,Qs(o,1+S-I,1+k-S),k=S,S=-1,h.push(C),c.push(o.length>0?o[o.length-1].prevSpaces:0),E=Math.max(E,C),w++,l.x=0,l.y+=t.lineHeight,x=null,U=0)}const B=m[m.length-1];B!=="\r"&&B!==`
`&&(/(?:\s)/.test(B)&&(_=C),h.push(_),E=Math.max(E,_),c.push(-1));const z=[];for(let k=0;k<=w;k++){let Y=0;this._align==="right"?Y=E-h[k]:this._align==="center"?Y=(E-h[k])/2:this._align==="justify"&&(Y=c[k]<0?0:(E-h[k])/c[k]),z.push(Y)}const M=o.length,V={},J=[],nt=this._activePagesMeshData;y.push(...nt);for(let k=0;k<M;k++){const Y=o[k].texture,et=Y.baseTexture.uid;if(!V[et]){let ct=y.pop();if(!ct){const D=new iC;let R,H;t.distanceFieldType==="none"?(R=new d_(_t.EMPTY),H=Rt.NORMAL):(R=new d_(_t.EMPTY,{program:Rr.from(OC,DC),uniforms:{uFWidth:0}}),H=Rt.NORMAL_NPM);const L=new f_(D,R);L.blendMode=H,ct={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:L,vertices:null,uvs:null,indices:null}}ct.index=0,ct.indexCount=0,ct.vertexCount=0,ct.uvsCount=0,ct.total=0;const{_textureCache:T}=this;T[et]=T[et]||new _t(Y.baseTexture),ct.mesh.texture=T[et],ct.mesh.tint=this._tintColor.value,J.push(ct),V[et]=ct}V[et].total++}for(let k=0;k<nt.length;k++)J.includes(nt[k])||this.removeChild(nt[k].mesh);for(let k=0;k<J.length;k++)J[k].mesh.parent!==this&&this.addChild(J[k].mesh);this._activePagesMeshData=J;for(const k in V){const Y=V[k],et=Y.total;if(!(((ut=Y.indices)==null?void 0:ut.length)>6*et)||Y.vertices.length<f_.BATCHABLE_SIZE*2)Y.vertices=new Float32Array(8*et),Y.uvs=new Float32Array(8*et),Y.indices=new Uint16Array(6*et);else{const ct=Y.total,T=Y.vertices;for(let D=ct*4*2;D<T.length;D++)T[D]=0}Y.mesh.size=6*et}for(let k=0;k<M;k++){const Y=o[k];let et=Y.position.x+z[Y.line]*(this._align==="justify"?Y.prevSpaces:1);this._roundPixels&&(et=Math.round(et));const ct=et*n,T=Y.position.y*n,D=Y.texture,R=V[D.baseTexture.uid],H=D.frame,L=D._uvs,b=R.index++;R.indices[b*6+0]=0+b*4,R.indices[b*6+1]=1+b*4,R.indices[b*6+2]=2+b*4,R.indices[b*6+3]=0+b*4,R.indices[b*6+4]=2+b*4,R.indices[b*6+5]=3+b*4,R.vertices[b*8+0]=ct,R.vertices[b*8+1]=T,R.vertices[b*8+2]=ct+H.width*n,R.vertices[b*8+3]=T,R.vertices[b*8+4]=ct+H.width*n,R.vertices[b*8+5]=T+H.height*n,R.vertices[b*8+6]=ct,R.vertices[b*8+7]=T+H.height*n,R.uvs[b*8+0]=L.x0,R.uvs[b*8+1]=L.y0,R.uvs[b*8+2]=L.x1,R.uvs[b*8+3]=L.y1,R.uvs[b*8+4]=L.x2,R.uvs[b*8+5]=L.y2,R.uvs[b*8+6]=L.x3,R.uvs[b*8+7]=L.y3}this._textWidth=E*n,this._textHeight=(l.y+t.lineHeight)*n;for(const k in V){const Y=V[k];if(this.anchor.x!==0||this.anchor.y!==0){let D=0;const R=this._textWidth*this.anchor.x,H=this._textHeight*this.anchor.y;for(let L=0;L<Y.total;L++)Y.vertices[D++]-=R,Y.vertices[D++]-=H,Y.vertices[D++]-=R,Y.vertices[D++]-=H,Y.vertices[D++]-=R,Y.vertices[D++]-=H,Y.vertices[D++]-=R,Y.vertices[D++]-=H}this._maxLineHeight=O*n;const et=Y.mesh.geometry.getBuffer("aVertexPosition"),ct=Y.mesh.geometry.getBuffer("aTextureCoord"),T=Y.mesh.geometry.getIndex();et.data=Y.vertices,ct.data=Y.uvs,T.data=Y.indices,et.update(),ct.update(),T.update()}for(let k=0;k<o.length;k++)__.push(o[k]);this._font=t,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0);const{distanceFieldRange:i,distanceFieldType:n,size:l}=on.available[this._fontName];if(n!=="none"){const{a:o,b:h,c,d:p}=this.worldTransform,m=Math.sqrt(o*o+h*h),g=Math.sqrt(c*c+p*p),y=(Math.abs(m)+Math.abs(g))/2,x=this.fontSize/l,_=t._view.resolution;for(const E of this._activePagesMeshData)E.mesh.shader.uniforms.uFWidth=y*i*x*_}super._render(t)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){const t=on.available[this._fontName];if(!t)throw new Error(`Missing BitmapFont "${this._fontName}"`);this._font!==t&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tintColor.value}set tint(t){if(this.tint!==t){this._tintColor.setValue(t);for(let i=0;i<this._activePagesMeshData.length;i++)this._activePagesMeshData[i].mesh.tint=t}}get align(){return this._align}set align(t){this._align!==t&&(this._align=t,this.dirty=!0)}get fontName(){return this._fontName}set fontName(t){if(!on.available[t])throw new Error(`Missing BitmapFont "${t}"`);this._fontName!==t&&(this._fontName=t,this.dirty=!0)}get fontSize(){return this._fontSize??on.available[this._fontName].size}set fontSize(t){this._fontSize!==t&&(this._fontSize=t,this.dirty=!0)}get anchor(){return this._anchor}set anchor(t){typeof t=="number"?this._anchor.set(t):this._anchor.copyFrom(t)}get text(){return this._text}set text(t){t=String(t??""),this._text!==t&&(this._text=t,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(t){t!==this._roundPixels&&(this._roundPixels=t,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}destroy(t){const{_textureCache:i}=this,n=on.available[this._fontName].distanceFieldType==="none"?y_:v_;n.push(...this._activePagesMeshData);for(const l of this._activePagesMeshData)this.removeChild(l.mesh);this._activePagesMeshData=[],n.filter(l=>i[l.mesh.texture.baseTexture.uid]).forEach(l=>{l.mesh.texture=_t.EMPTY});for(const l in i)i[l].destroy(),delete i[l];this._font=null,this._tintColor=null,this._textureCache=null,super.destroy(t)}};BC.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};const NC=[".xml",".fnt"],IC={extension:{type:pt.LoadParser,priority:Pi.Normal},name:"loadBitmapFont",test(s){return NC.includes(De.extname(s).toLowerCase())},async testParse(s){return uu.test(s)||ep.test(s)},async parse(s,t,i){const n=uu.test(s)?uu.parse(s):ep.parse(s),{src:l}=t,{page:o}=n,h=[];for(let m=0;m<o.length;++m){const g=o[m].file;let y=De.join(De.dirname(l),g);y=Wd(y,l),h.push(y)}const c=await i.load(h),p=h.map(m=>c[m]);return on.install(n,p,!0)},async load(s,t){return(await gt.ADAPTER.fetch(s)).text()},unload(s){s.destroy()}};St.add(IC);const ip=class Ws extends mn{constructor(){super(...arguments),this._fonts=[],this._overrides=[],this._stylesheet="",this.fontsDirty=!1}static from(t){return new Ws(Object.keys(Ws.defaultOptions).reduce((i,n)=>({...i,[n]:t[n]}),{}))}cleanFonts(){this._fonts.length>0&&(this._fonts.forEach(t=>{URL.revokeObjectURL(t.src),t.refs--,t.refs===0&&(t.fontFace&&document.fonts.delete(t.fontFace),delete Ws.availableFonts[t.originalUrl])}),this.fontFamily="Arial",this._fonts.length=0,this.styleID++,this.fontsDirty=!0)}loadFont(t,i={}){const{availableFonts:n}=Ws;if(n[t]){const l=n[t];return this._fonts.push(l),l.refs++,this.styleID++,this.fontsDirty=!0,Promise.resolve()}return gt.ADAPTER.fetch(t).then(l=>l.blob()).then(async l=>new Promise((o,h)=>{const c=URL.createObjectURL(l),p=new FileReader;p.onload=()=>o([c,p.result]),p.onerror=h,p.readAsDataURL(l)})).then(async([l,o])=>{const h=Object.assign({family:De.basename(t,De.extname(t)),weight:"normal",style:"normal",display:"auto",src:l,dataSrc:o,refs:1,originalUrl:t,fontFace:null},i);n[t]=h,this._fonts.push(h),this.styleID++;const c=new FontFace(h.family,`url(${h.src})`,{weight:h.weight,style:h.style,display:h.display});h.fontFace=c,await c.load(),document.fonts.add(c),await document.fonts.ready,this.styleID++,this.fontsDirty=!0})}addOverride(...t){const i=t.filter(n=>!this._overrides.includes(n));i.length>0&&(this._overrides.push(...i),this.styleID++)}removeOverride(...t){const i=t.filter(n=>this._overrides.includes(n));i.length>0&&(this._overrides=this._overrides.filter(n=>!i.includes(n)),this.styleID++)}toCSS(t){return[`transform: scale(${t})`,"transform-origin: top left","display: inline-block",`color: ${this.normalizeColor(this.fill)}`,`font-size: ${this.fontSize}px`,`font-family: ${this.fontFamily}`,`font-weight: ${this.fontWeight}`,`font-style: ${this.fontStyle}`,`font-variant: ${this.fontVariant}`,`letter-spacing: ${this.letterSpacing}px`,`text-align: ${this.align}`,`padding: ${this.padding}px`,`white-space: ${this.whiteSpace}`,...this.lineHeight?[`line-height: ${this.lineHeight}px`]:[],...this.wordWrap?[`word-wrap: ${this.breakWords?"break-all":"break-word"}`,`max-width: ${this.wordWrapWidth}px`]:[],...this.strokeThickness?[`-webkit-text-stroke-width: ${this.strokeThickness}px`,`-webkit-text-stroke-color: ${this.normalizeColor(this.stroke)}`,`text-stroke-width: ${this.strokeThickness}px`,`text-stroke-color: ${this.normalizeColor(this.stroke)}`,"paint-order: stroke"]:[],...this.dropShadow?[this.dropShadowToCSS()]:[],...this._overrides].join(";")}toGlobalCSS(){return this._fonts.reduce((t,i)=>`${t}
            @font-face {
                font-family: "${i.family}";
                src: url('${i.dataSrc}');
                font-weight: ${i.weight};
                font-style: ${i.style};
                font-display: ${i.display};
            }`,this._stylesheet)}get stylesheet(){return this._stylesheet}set stylesheet(t){this._stylesheet!==t&&(this._stylesheet=t,this.styleID++)}normalizeColor(t){return Array.isArray(t)&&(t=TT(t)),typeof t=="number"?ET(t):t}dropShadowToCSS(){let t=this.normalizeColor(this.dropShadowColor);const i=this.dropShadowAlpha,n=Math.round(Math.cos(this.dropShadowAngle)*this.dropShadowDistance),l=Math.round(Math.sin(this.dropShadowAngle)*this.dropShadowDistance);t.startsWith("#")&&i<1&&(t+=(i*255|0).toString(16).padStart(2,"0"));const o=`${n}px ${l}px`;return this.dropShadowBlur>0?`text-shadow: ${o} ${this.dropShadowBlur}px ${t}`:`text-shadow: ${o} ${t}`}reset(){Object.assign(this,Ws.defaultOptions)}onBeforeDraw(){const{fontsDirty:t}=this;return this.fontsDirty=!1,this.isSafari&&this._fonts.length>0&&t?new Promise(i=>setTimeout(i,100)):Promise.resolve()}get isSafari(){const{userAgent:t}=gt.ADAPTER.getNavigator();return/^((?!chrome|android).)*safari/i.test(t)}set fillGradientStops(t){console.warn("[HTMLTextStyle] fillGradientStops is not supported by HTMLText")}get fillGradientStops(){return super.fillGradientStops}set fillGradientType(t){console.warn("[HTMLTextStyle] fillGradientType is not supported by HTMLText")}get fillGradientType(){return super.fillGradientType}set miterLimit(t){console.warn("[HTMLTextStyle] miterLimit is not supported by HTMLText")}get miterLimit(){return super.miterLimit}set trim(t){console.warn("[HTMLTextStyle] trim is not supported by HTMLText")}get trim(){return super.trim}set textBaseline(t){console.warn("[HTMLTextStyle] textBaseline is not supported by HTMLText")}get textBaseline(){return super.textBaseline}set leading(t){console.warn("[HTMLTextStyle] leading is not supported by HTMLText")}get leading(){return super.leading}set lineJoin(t){console.warn("[HTMLTextStyle] lineJoin is not supported by HTMLText")}get lineJoin(){return super.lineJoin}};ip.availableFonts={},ip.defaultOptions={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,padding:0,stroke:"black",strokeThickness:0,whiteSpace:"normal",wordWrap:!1,wordWrapWidth:100};let _d=ip;const eu=class $s extends Jn{constructor(t="",i={}){super(_t.EMPTY),this._text=null,this._style=null,this._autoResolution=!0,this.localStyleID=-1,this.dirty=!1,this._updateID=0,this.ownsStyle=!1;const n=new Image,l=_t.from(n,{scaleMode:gt.SCALE_MODE,resourceOptions:{autoLoad:!1}});l.orig=new Lt,l.trim=new Lt,this.texture=l;const o="http://www.w3.org/2000/svg",h="http://www.w3.org/1999/xhtml",c=document.createElementNS(o,"svg"),p=document.createElementNS(o,"foreignObject"),m=document.createElementNS(h,"div"),g=document.createElementNS(h,"style");p.setAttribute("width","10000"),p.setAttribute("height","10000"),p.style.overflow="hidden",c.appendChild(p),this.maxWidth=$s.defaultMaxWidth,this.maxHeight=$s.defaultMaxHeight,this._domElement=m,this._styleElement=g,this._svgRoot=c,this._foreignObject=p,this._foreignObject.appendChild(g),this._foreignObject.appendChild(m),this._image=n,this._loadImage=new Image,this._autoResolution=$s.defaultAutoResolution,this._resolution=$s.defaultResolution??gt.RESOLUTION,this.text=t,this.style=i}measureText(t){var g,y;const{text:i,style:n,resolution:l}=Object.assign({text:this._text,style:this._style,resolution:this._resolution},t);Object.assign(this._domElement,{innerHTML:i,style:n.toCSS(l)}),this._styleElement.textContent=n.toGlobalCSS(),document.body.appendChild(this._svgRoot);const o=this._domElement.getBoundingClientRect();this._svgRoot.remove();const{width:h,height:c}=o;(h>this.maxWidth||c>this.maxHeight)&&console.warn("[HTMLText] Large expanse of text, increase HTMLText.maxWidth or HTMLText.maxHeight property.");const p=Math.min(this.maxWidth,Math.ceil(h)),m=Math.min(this.maxHeight,Math.ceil(c));return this._svgRoot.setAttribute("width",p.toString()),this._svgRoot.setAttribute("height",m.toString()),i!==this._text&&(this._domElement.innerHTML=this._text),n!==this._style&&(Object.assign(this._domElement,{style:(g=this._style)==null?void 0:g.toCSS(l)}),this._styleElement.textContent=(y=this._style)==null?void 0:y.toGlobalCSS()),{width:p+n.padding*2,height:m+n.padding*2}}async updateText(t=!0){const{style:i,_image:n,_loadImage:l}=this;if(this.localStyleID!==i.styleID&&(this.dirty=!0,this.localStyleID=i.styleID),!this.dirty&&t)return;const{width:o,height:h}=this.measureText();n.width=l.width=Math.ceil(Math.max(1,o)),n.height=l.height=Math.ceil(Math.max(1,h)),this._updateID++;const c=this._updateID;await new Promise(p=>{l.onload=async()=>{if(c<this._updateID){p();return}await i.onBeforeDraw(),n.src=l.src,l.onload=null,l.src="",this.updateTexture(),p()};const m=new XMLSerializer().serializeToString(this._svgRoot);l.src=`data:image/svg+xml;charset=utf8,${encodeURIComponent(m)}`})}get source(){return this._image}updateTexture(){const{style:t,texture:i,_image:n,resolution:l}=this,{padding:o}=t,{baseTexture:h}=i;i.trim.width=i._frame.width=n.width/l,i.trim.height=i._frame.height=n.height/l,i.trim.x=-o,i.trim.y=-o,i.orig.width=i._frame.width-o*2,i.orig.height=i._frame.height-o*2,this._onTextureUpdate(),h.setRealSize(n.width,n.height,l),this.dirty=!1}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),super._render(t)}_renderCanvas(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),super._renderCanvas(t)}getLocalBounds(t){return this.updateText(!0),super.getLocalBounds(t)}_calculateBounds(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_onStyleChange(){this.dirty=!0}destroy(t){var n,l,o,h,c;typeof t=="boolean"&&(t={children:t}),t=Object.assign({},$s.defaultDestroyOptions,t),super.destroy(t);const i=null;this.ownsStyle&&((n=this._style)==null||n.cleanFonts()),this._style=i,(l=this._svgRoot)==null||l.remove(),this._svgRoot=i,(o=this._domElement)==null||o.remove(),this._domElement=i,(h=this._foreignObject)==null||h.remove(),this._foreignObject=i,(c=this._styleElement)==null||c.remove(),this._styleElement=i,this._loadImage.src="",this._loadImage.onload=null,this._loadImage=i,this._image.src="",this._image=i}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._image.width/this.resolution}set width(t){this.updateText(!0);const i=cn(this.scale.x)||1;this.scale.x=i*t/this._image.width/this.resolution,this._width=t}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._image.height/this.resolution}set height(t){this.updateText(!0);const i=cn(this.scale.y)||1;this.scale.y=i*t/this._image.height/this.resolution,this._height=t}get style(){return this._style}set style(t){this._style!==t&&(t=t||{},t instanceof _d?(this.ownsStyle=!1,this._style=t):t instanceof mn?(console.warn("[HTMLText] Cloning TextStyle, if this is not what you want, use HTMLTextStyle"),this.ownsStyle=!0,this._style=_d.from(t)):(this.ownsStyle=!0,this._style=new _d(t)),this.localStyleID=-1,this.dirty=!0)}get text(){return this._text}set text(t){t=String(t===""||t===null||t===void 0?" ":t),t=this.sanitiseText(t),this._text!==t&&(this._text=t,this.dirty=!0)}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}sanitiseText(t){return t.replace(/<br>/gi,"<br/>").replace(/<hr>/gi,"<hr/>").replace(/&nbsp;/gi,"&#160;")}};eu.defaultDestroyOptions={texture:!0,children:!1,baseTexture:!0},eu.defaultMaxWidth=2024,eu.defaultMaxHeight=2024,eu.defaultAutoResolution=!0;const UC=`
  precision mediump float;
  varying vec2 vTextureCoord;
  uniform sampler2D uSampler;
  uniform float distance;
  uniform vec2 dimensions;

  void main(void) {
    vec2 dir = vTextureCoord - vec2(0.5);
    float d = length(dir);
    
    // Calculate offsets based on distance from center and intensity
    vec2 offset = dir * (distance * d * 0.1);

    vec4 cr = texture2D(uSampler, vTextureCoord + offset);
    vec4 cg = texture2D(uSampler, vTextureCoord);
    vec4 cb = texture2D(uSampler, vTextureCoord - offset);

    gl_FragColor = vec4(cr.r, cg.g, cb.b, 1.0);
  }
`,LC=x_.memo(()=>{const s=iu.useRef(null),t=iu.useRef(null);return iu.useEffect(()=>{if(!s.current)return;const i={particleSpacing:25,mouseRadius:200,mouseForce:500,friction:.92,returnSpeed:.05,gridCols:0,gridRows:0};t.current&&(t.current.destroy(!0,{children:!0,texture:!0}),t.current=null);const n=new wx({width:window.innerWidth,height:window.innerHeight,backgroundColor:132631,resolution:Math.min(window.devicePixelRatio||1,2),antialias:!0,powerPreference:"high-performance"});t.current=n,s.current.appendChild(n.view);const l=new ci,o=new He(void 0,UC,{distance:0,dimensions:new Vt(window.innerWidth,window.innerHeight)});l.filters=[o],n.stage.addChild(l);const h=new mp;h.blendMode=Rt.ADD,l.addChild(h);const c=new ci;l.addChild(c);class p{constructor(C,I,O,U,B){this.ox=I,this.oy=O,this.x=I,this.y=O,this.vx=0,this.vy=0,this.col=U,this.row=B,this.sprite=new Jn(C),this.sprite.anchor.set(.5),this.sprite.x=I,this.sprite.y=O,this.sprite.scale.set(.15),this.sprite.alpha=.4,this.sprite.blendMode=Rt.ADD}update(C,I,O){const U=this.x-C,B=this.y-I,z=U*U+B*B,M=i.mouseRadius*i.mouseRadius;if(z<M){const ct=(1-z/M)*i.mouseForce,T=Math.atan2(B,U);this.vx+=Math.cos(T)*ct*.02,this.vy+=Math.sin(T)*ct*.02}const V=this.ox-this.x,J=this.oy-this.y;this.vx+=V*i.returnSpeed,this.vy+=J*i.returnSpeed;const nt=Math.sin(O*.002+this.oy*.01)*.2,ut=Math.cos(O*.003+this.ox*.01)*.2;this.vx+=nt,this.vy+=ut,this.vx*=i.friction,this.vy*=i.friction,this.x+=this.vx,this.y+=this.vy,this.sprite.x=this.x,this.sprite.y=this.y;const k=Math.sqrt(this.vx*this.vx+this.vy*this.vy),Y=Math.sqrt(V*V+J*J),et=.15+k*.02+Y*.002;this.sprite.scale.set(Math.min(et,.8)),Y>50?(this.sprite.tint=15235577,this.sprite.alpha=Math.min(.4+Y/100,1)):(this.sprite.tint=2282478,this.sprite.alpha=.3+Math.sin(O*.005+this.ox)*.1)}}const m=PC();let g=[],y=[];const x=()=>{g.forEach(z=>{c.removeChild(z.sprite),z.sprite.destroy()}),g=[],y=[];const S=window.innerWidth,C=window.innerHeight,I=Math.ceil(S/i.particleSpacing)+2,O=Math.ceil(C/i.particleSpacing)+2;i.gridCols=I,i.gridRows=O;const U=(S-I*i.particleSpacing)/2,B=(C-O*i.particleSpacing)/2;for(let z=0;z<I;z++){y[z]=[];for(let M=0;M<O;M++){const V=U+z*i.particleSpacing,J=B+M*i.particleSpacing,nt=new p(m,V,J,z,M);g.push(nt),y[z][M]=nt,c.addChild(nt.sprite)}}};x();const _={x:-5e3,y:-5e3,vx:0,vy:0};n.stage.eventMode="static",n.stage.hitArea=n.screen,window.addEventListener("mousemove",S=>{const C=S.clientX-_.x,I=S.clientY-_.y;_.vx=_.vx*.8+C*.2,_.vy=_.vy*.8+I*.2,_.x=S.clientX,_.y=S.clientY});let E=0;n.ticker.add(S=>{var O,U;E+=S,h.clear();const C=Math.sqrt(_.vx*_.vx+_.vy*_.vy),I=Math.min(C*.1,10);o.uniforms.distance=o.uniforms.distance*.9+I*.1;for(let B=0;B<g.length;B++){const z=g[B];z.update(_.x,_.y,E);const M=Math.abs(z.vx)+Math.abs(z.vy),V=Math.abs(z.ox-z.x)+Math.abs(z.oy-z.y);if(M>.5||V>5){if(z.col<i.gridCols-1){const J=(O=y[z.col+1])==null?void 0:O[z.row];if(J){const nt=J.x-z.x,ut=J.y-z.y,k=Math.sqrt(nt*nt+ut*ut);if(k<i.particleSpacing*2.5){const Y=Math.max(0,1-k/(i.particleSpacing*2.5));h.lineStyle(1,2282478,Y*.5),h.moveTo(z.x,z.y),h.lineTo(J.x,J.y)}}}if(z.row<i.gridRows-1){const J=(U=y[z.col])==null?void 0:U[z.row+1];if(J){const nt=J.x-z.x,ut=J.y-z.y,k=Math.sqrt(nt*nt+ut*ut);if(k<i.particleSpacing*2.5){const Y=Math.max(0,1-k/(i.particleSpacing*2.5));h.lineStyle(1,8490232,Y*.5),h.moveTo(z.x,z.y),h.lineTo(J.x,J.y)}}}}}});const w=()=>{t.current&&(t.current.renderer.resize(window.innerWidth,window.innerHeight),o.uniforms.dimensions.set(window.innerWidth,window.innerHeight),x())};return window.addEventListener("resize",w),()=>{window.removeEventListener("resize",w),t.current&&(t.current.destroy(!0,{children:!0,texture:!0}),t.current=null)}},[]),ze.jsx("div",{ref:s,className:"w-full h-full"})});function PC(){const s=document.createElement("canvas"),t=64;s.width=t,s.height=t;const i=s.getContext("2d");if(!i)return _t.WHITE;const n=t/2,l=t/2,o=i.createRadialGradient(n,l,0,n,l,n);return o.addColorStop(0,"rgba(255, 255, 255, 1)"),o.addColorStop(.15,"rgba(255, 255, 255, 0.6)"),o.addColorStop(.4,"rgba(34, 211, 238, 0.2)"),o.addColorStop(1,"rgba(0, 0, 0, 0)"),i.fillStyle=o,i.fillRect(0,0,t,t),i.beginPath(),i.arc(n,l,t*.08,0,Math.PI*2),i.fillStyle="rgba(255, 255, 255, 0.9)",i.fill(),_t.from(s)}function FC(){return ze.jsxs("div",{className:"relative w-full h-screen bg-slate-950 text-white overflow-hidden",children:[ze.jsx("div",{className:"absolute inset-0 z-0",children:ze.jsx(LC,{})}),ze.jsx("div",{className:"relative z-10 flex flex-col items-center justify-center h-full pointer-events-none",children:ze.jsxs("div",{className:"text-center p-8 bg-slate-950/30 backdrop-blur-sm rounded-2xl border border-slate-700/30 shadow-2xl max-w-2xl",children:[ze.jsx("h1",{className:"text-5xl md:text-7xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-cyan-400 via-blue-500 to-purple-600 mb-4 tracking-tight",children:"Kinetic Field"}),ze.jsx("p",{className:"text-slate-300 text-lg md:text-xl mb-6 font-light",children:"Interactive particle physics simulation. Move your cursor to disrupt the equilibrium."}),ze.jsxs("div",{className:"flex gap-4 justify-center pointer-events-auto",children:[ze.jsx("button",{className:"px-6 py-3 bg-white/10 hover:bg-white/20 border border-white/20 rounded-full transition-all duration-300 text-sm font-medium backdrop-blur-md",children:"View Source"}),ze.jsx("button",{className:"px-6 py-3 bg-cyan-500 hover:bg-cyan-400 text-slate-950 font-bold rounded-full transition-all duration-300 shadow-[0_0_20px_rgba(34,211,238,0.5)] text-sm",children:"Get Started"})]})]})}),ze.jsx("div",{className:"absolute bottom-6 left-6 z-10 pointer-events-none",children:ze.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500 font-mono",children:[ze.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),"System Status: Operational"]})})]})}const Zx=document.getElementById("root");if(!Zx)throw new Error("Could not find root element to mount to");const GC=yE.createRoot(Zx);GC.render(ze.jsx(x_.StrictMode,{children:ze.jsx(FC,{})}));
