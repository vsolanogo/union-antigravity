(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))n(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const h of o.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&n(h)}).observe(document,{childList:!0,subtree:!0});function i(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(l){if(l.ep)return;l.ep=!0;const o=i(l);fetch(l.href,o)}})();var fu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Cu(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}function sE(s){if(Object.prototype.hasOwnProperty.call(s,"__esModule"))return s;var t=s.default;if(typeof t=="function"){var i=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};i.prototype=t.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(s).forEach(function(n){var l=Object.getOwnPropertyDescriptor(s,n);Object.defineProperty(i,n,l.get?l:{enumerable:!0,get:function(){return s[n]}})}),i}var $c={exports:{}},tl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sv;function aE(){if(sv)return tl;sv=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(n,l,o){var h=null;if(o!==void 0&&(h=""+o),l.key!==void 0&&(h=""+l.key),"key"in l){o={};for(var c in l)c!=="key"&&(o[c]=l[c])}else o=l;return l=o.ref,{$$typeof:s,type:n,key:h,ref:l!==void 0?l:null,props:o}}return tl.Fragment=t,tl.jsx=i,tl.jsxs=i,tl}var av;function lE(){return av||(av=1,$c.exports=aE()),$c.exports}var ie=lE(),Wc={exports:{}},Nt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lv;function oE(){if(lv)return Nt;lv=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),h=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),_=Symbol.iterator;function b(E){return E===null||typeof E!="object"?null:(E=_&&E[_]||E["@@iterator"],typeof E=="function"?E:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,A={};function R(E,N,F){this.props=E,this.context=N,this.refs=A,this.updater=F||T}R.prototype.isReactComponent={},R.prototype.setState=function(E,N){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,N,"setState")},R.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function I(){}I.prototype=R.prototype;function O(E,N,F){this.props=E,this.context=N,this.refs=A,this.updater=F||T}var L=O.prototype=new I;L.constructor=O,w(L,R.prototype),L.isPureReactComponent=!0;var B=Array.isArray;function j(){}var D={H:null,A:null,T:null,S:null},Y=Object.prototype.hasOwnProperty;function rt(E,N,F){var V=F.ref;return{$$typeof:s,type:E,key:N,ref:V!==void 0?V:null,props:F}}function at(E,N){return rt(E.type,N,E.props)}function ct(E){return typeof E=="object"&&E!==null&&E.$$typeof===s}function z(E){var N={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(F){return N[F]})}var X=/\/+/g;function Z(E,N){return typeof E=="object"&&E!==null&&E.key!=null?z(""+E.key):N.toString(36)}function ot(E){switch(E.status){case"fulfilled":return E.value;case"rejected":throw E.reason;default:switch(typeof E.status=="string"?E.then(j,j):(E.status="pending",E.then(function(N){E.status==="pending"&&(E.status="fulfilled",E.value=N)},function(N){E.status==="pending"&&(E.status="rejected",E.reason=N)})),E.status){case"fulfilled":return E.value;case"rejected":throw E.reason}}throw E}function x(E,N,F,V,Q){var it=typeof E;(it==="undefined"||it==="boolean")&&(E=null);var lt=!1;if(E===null)lt=!0;else switch(it){case"bigint":case"string":case"number":lt=!0;break;case"object":switch(E.$$typeof){case s:case t:lt=!0;break;case g:return lt=E._init,x(lt(E._payload),N,F,V,Q)}}if(lt)return Q=Q(E),lt=V===""?"."+Z(E,0):V,B(Q)?(F="",lt!=null&&(F=lt.replace(X,"$&/")+"/"),x(Q,N,F,"",function(ut){return ut})):Q!=null&&(ct(Q)&&(Q=at(Q,F+(Q.key==null||E&&E.key===Q.key?"":(""+Q.key).replace(X,"$&/")+"/")+lt)),N.push(Q)),1;lt=0;var dt=V===""?".":V+":";if(B(E))for(var ft=0;ft<E.length;ft++)V=E[ft],it=dt+Z(V,ft),lt+=x(V,N,F,it,Q);else if(ft=b(E),typeof ft=="function")for(E=ft.call(E),ft=0;!(V=E.next()).done;)V=V.value,it=dt+Z(V,ft++),lt+=x(V,N,F,it,Q);else if(it==="object"){if(typeof E.then=="function")return x(ot(E),N,F,V,Q);throw N=String(E),Error("Objects are not valid as a React child (found: "+(N==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":N)+"). If you meant to render a collection of children, use an array instead.")}return lt}function M(E,N,F){if(E==null)return E;var V=[],Q=0;return x(E,V,"","",function(it){return N.call(F,it,Q++)}),V}function C(E){if(E._status===-1){var N=E._result;N=N(),N.then(function(F){(E._status===0||E._status===-1)&&(E._status=1,E._result=F)},function(F){(E._status===0||E._status===-1)&&(E._status=2,E._result=F)}),E._status===-1&&(E._status=0,E._result=N)}if(E._status===1)return E._result.default;throw E._result}var H=typeof reportError=="function"?reportError:function(E){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var N=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof E=="object"&&E!==null&&typeof E.message=="string"?String(E.message):String(E),error:E});if(!window.dispatchEvent(N))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",E);return}console.error(E)},U={map:M,forEach:function(E,N,F){M(E,function(){N.apply(this,arguments)},F)},count:function(E){var N=0;return M(E,function(){N++}),N},toArray:function(E){return M(E,function(N){return N})||[]},only:function(E){if(!ct(E))throw Error("React.Children.only expected to receive a single React element child.");return E}};return Nt.Activity=y,Nt.Children=U,Nt.Component=R,Nt.Fragment=i,Nt.Profiler=l,Nt.PureComponent=O,Nt.StrictMode=n,Nt.Suspense=p,Nt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Nt.__COMPILER_RUNTIME={__proto__:null,c:function(E){return D.H.useMemoCache(E)}},Nt.cache=function(E){return function(){return E.apply(null,arguments)}},Nt.cacheSignal=function(){return null},Nt.cloneElement=function(E,N,F){if(E==null)throw Error("The argument must be a React element, but you passed "+E+".");var V=w({},E.props),Q=E.key;if(N!=null)for(it in N.key!==void 0&&(Q=""+N.key),N)!Y.call(N,it)||it==="key"||it==="__self"||it==="__source"||it==="ref"&&N.ref===void 0||(V[it]=N[it]);var it=arguments.length-2;if(it===1)V.children=F;else if(1<it){for(var lt=Array(it),dt=0;dt<it;dt++)lt[dt]=arguments[dt+2];V.children=lt}return rt(E.type,Q,V)},Nt.createContext=function(E){return E={$$typeof:h,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null},E.Provider=E,E.Consumer={$$typeof:o,_context:E},E},Nt.createElement=function(E,N,F){var V,Q={},it=null;if(N!=null)for(V in N.key!==void 0&&(it=""+N.key),N)Y.call(N,V)&&V!=="key"&&V!=="__self"&&V!=="__source"&&(Q[V]=N[V]);var lt=arguments.length-2;if(lt===1)Q.children=F;else if(1<lt){for(var dt=Array(lt),ft=0;ft<lt;ft++)dt[ft]=arguments[ft+2];Q.children=dt}if(E&&E.defaultProps)for(V in lt=E.defaultProps,lt)Q[V]===void 0&&(Q[V]=lt[V]);return rt(E,it,Q)},Nt.createRef=function(){return{current:null}},Nt.forwardRef=function(E){return{$$typeof:c,render:E}},Nt.isValidElement=ct,Nt.lazy=function(E){return{$$typeof:g,_payload:{_status:-1,_result:E},_init:C}},Nt.memo=function(E,N){return{$$typeof:m,type:E,compare:N===void 0?null:N}},Nt.startTransition=function(E){var N=D.T,F={};D.T=F;try{var V=E(),Q=D.S;Q!==null&&Q(F,V),typeof V=="object"&&V!==null&&typeof V.then=="function"&&V.then(j,H)}catch(it){H(it)}finally{N!==null&&F.types!==null&&(N.types=F.types),D.T=N}},Nt.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Nt.use=function(E){return D.H.use(E)},Nt.useActionState=function(E,N,F){return D.H.useActionState(E,N,F)},Nt.useCallback=function(E,N){return D.H.useCallback(E,N)},Nt.useContext=function(E){return D.H.useContext(E)},Nt.useDebugValue=function(){},Nt.useDeferredValue=function(E,N){return D.H.useDeferredValue(E,N)},Nt.useEffect=function(E,N){return D.H.useEffect(E,N)},Nt.useEffectEvent=function(E){return D.H.useEffectEvent(E)},Nt.useId=function(){return D.H.useId()},Nt.useImperativeHandle=function(E,N,F){return D.H.useImperativeHandle(E,N,F)},Nt.useInsertionEffect=function(E,N){return D.H.useInsertionEffect(E,N)},Nt.useLayoutEffect=function(E,N){return D.H.useLayoutEffect(E,N)},Nt.useMemo=function(E,N){return D.H.useMemo(E,N)},Nt.useOptimistic=function(E,N){return D.H.useOptimistic(E,N)},Nt.useReducer=function(E,N,F){return D.H.useReducer(E,N,F)},Nt.useRef=function(E){return D.H.useRef(E)},Nt.useState=function(E){return D.H.useState(E)},Nt.useSyncExternalStore=function(E,N,F){return D.H.useSyncExternalStore(E,N,F)},Nt.useTransition=function(){return D.H.useTransition()},Nt.version="19.2.0",Nt}var ov;function np(){return ov||(ov=1,Wc.exports=oE()),Wc.exports}var al=np();const uE=Cu(al);var Zc={exports:{}},el={},Kc={exports:{}},Qc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uv;function hE(){return uv||(uv=1,(function(s){function t(x,M){var C=x.length;x.push(M);t:for(;0<C;){var H=C-1>>>1,U=x[H];if(0<l(U,M))x[H]=M,x[C]=U,C=H;else break t}}function i(x){return x.length===0?null:x[0]}function n(x){if(x.length===0)return null;var M=x[0],C=x.pop();if(C!==M){x[0]=C;t:for(var H=0,U=x.length,E=U>>>1;H<E;){var N=2*(H+1)-1,F=x[N],V=N+1,Q=x[V];if(0>l(F,C))V<U&&0>l(Q,F)?(x[H]=Q,x[V]=C,H=V):(x[H]=F,x[N]=C,H=N);else if(V<U&&0>l(Q,C))x[H]=Q,x[V]=C,H=V;else break t}}return M}function l(x,M){var C=x.sortIndex-M.sortIndex;return C!==0?C:x.id-M.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;s.unstable_now=function(){return o.now()}}else{var h=Date,c=h.now();s.unstable_now=function(){return h.now()-c}}var p=[],m=[],g=1,y=null,_=3,b=!1,T=!1,w=!1,A=!1,R=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function L(x){for(var M=i(m);M!==null;){if(M.callback===null)n(m);else if(M.startTime<=x)n(m),M.sortIndex=M.expirationTime,t(p,M);else break;M=i(m)}}function B(x){if(w=!1,L(x),!T)if(i(p)!==null)T=!0,j||(j=!0,z());else{var M=i(m);M!==null&&ot(B,M.startTime-x)}}var j=!1,D=-1,Y=5,rt=-1;function at(){return A?!0:!(s.unstable_now()-rt<Y)}function ct(){if(A=!1,j){var x=s.unstable_now();rt=x;var M=!0;try{t:{T=!1,w&&(w=!1,I(D),D=-1),b=!0;var C=_;try{e:{for(L(x),y=i(p);y!==null&&!(y.expirationTime>x&&at());){var H=y.callback;if(typeof H=="function"){y.callback=null,_=y.priorityLevel;var U=H(y.expirationTime<=x);if(x=s.unstable_now(),typeof U=="function"){y.callback=U,L(x),M=!0;break e}y===i(p)&&n(p),L(x)}else n(p);y=i(p)}if(y!==null)M=!0;else{var E=i(m);E!==null&&ot(B,E.startTime-x),M=!1}}break t}finally{y=null,_=C,b=!1}M=void 0}}finally{M?z():j=!1}}}var z;if(typeof O=="function")z=function(){O(ct)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,Z=X.port2;X.port1.onmessage=ct,z=function(){Z.postMessage(null)}}else z=function(){R(ct,0)};function ot(x,M){D=R(function(){x(s.unstable_now())},M)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(x){x.callback=null},s.unstable_forceFrameRate=function(x){0>x||125<x?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<x?Math.floor(1e3/x):5},s.unstable_getCurrentPriorityLevel=function(){return _},s.unstable_next=function(x){switch(_){case 1:case 2:case 3:var M=3;break;default:M=_}var C=_;_=M;try{return x()}finally{_=C}},s.unstable_requestPaint=function(){A=!0},s.unstable_runWithPriority=function(x,M){switch(x){case 1:case 2:case 3:case 4:case 5:break;default:x=3}var C=_;_=x;try{return M()}finally{_=C}},s.unstable_scheduleCallback=function(x,M,C){var H=s.unstable_now();switch(typeof C=="object"&&C!==null?(C=C.delay,C=typeof C=="number"&&0<C?H+C:H):C=H,x){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=C+U,x={id:g++,callback:M,priorityLevel:x,startTime:C,expirationTime:U,sortIndex:-1},C>H?(x.sortIndex=C,t(m,x),i(p)===null&&x===i(m)&&(w?(I(D),D=-1):w=!0,ot(B,C-H))):(x.sortIndex=U,t(p,x),T||b||(T=!0,j||(j=!0,z()))),x},s.unstable_shouldYield=at,s.unstable_wrapCallback=function(x){var M=_;return function(){var C=_;_=M;try{return x.apply(this,arguments)}finally{_=C}}}})(Qc)),Qc}var hv;function cE(){return hv||(hv=1,Kc.exports=hE()),Kc.exports}var Jc={exports:{}},ze={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cv;function fE(){if(cv)return ze;cv=1;var s=np();function t(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)m+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var n={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function o(p,m,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:y==null?null:""+y,children:p,containerInfo:m,implementation:g}}var h=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return ze.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,ze.createPortal=function(p,m){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return o(p,m,null,g)},ze.flushSync=function(p){var m=h.T,g=n.p;try{if(h.T=null,n.p=2,p)return p()}finally{h.T=m,n.p=g,n.d.f()}},ze.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,n.d.C(p,m))},ze.prefetchDNS=function(p){typeof p=="string"&&n.d.D(p)},ze.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var g=m.as,y=c(g,m.crossOrigin),_=typeof m.integrity=="string"?m.integrity:void 0,b=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;g==="style"?n.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:y,integrity:_,fetchPriority:b}):g==="script"&&n.d.X(p,{crossOrigin:y,integrity:_,fetchPriority:b,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},ze.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var g=c(m.as,m.crossOrigin);n.d.M(p,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&n.d.M(p)},ze.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var g=m.as,y=c(g,m.crossOrigin);n.d.L(p,g,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},ze.preloadModule=function(p,m){if(typeof p=="string")if(m){var g=c(m.as,m.crossOrigin);n.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else n.d.m(p)},ze.requestFormReset=function(p){n.d.r(p)},ze.unstable_batchedUpdates=function(p,m){return p(m)},ze.useFormState=function(p,m,g){return h.H.useFormState(p,m,g)},ze.useFormStatus=function(){return h.H.useHostTransitionStatus()},ze.version="19.2.0",ze}var fv;function dE(){if(fv)return Jc.exports;fv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Jc.exports=fE(),Jc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dv;function pE(){if(dv)return el;dv=1;var s=cE(),t=np(),i=dE();function n(e){var r="https://react.dev/errors/"+e;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function o(e){var r=e,a=e;if(e.alternate)for(;r.return;)r=r.return;else{e=r;do r=e,(r.flags&4098)!==0&&(a=r.return),e=r.return;while(e)}return r.tag===3?a:null}function h(e){if(e.tag===13){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function c(e){if(e.tag===31){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function p(e){if(o(e)!==e)throw Error(n(188))}function m(e){var r=e.alternate;if(!r){if(r=o(e),r===null)throw Error(n(188));return r!==e?null:e}for(var a=e,u=r;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(u=f.return,u!==null){a=u;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return p(f),e;if(d===u)return p(f),r;d=d.sibling}throw Error(n(188))}if(a.return!==u.return)a=f,u=d;else{for(var v=!1,S=f.child;S;){if(S===a){v=!0,a=f,u=d;break}if(S===u){v=!0,u=f,a=d;break}S=S.sibling}if(!v){for(S=d.child;S;){if(S===a){v=!0,a=d,u=f;break}if(S===u){v=!0,u=d,a=f;break}S=S.sibling}if(!v)throw Error(n(189))}}if(a.alternate!==u)throw Error(n(190))}if(a.tag!==3)throw Error(n(188));return a.stateNode.current===a?e:r}function g(e){var r=e.tag;if(r===5||r===26||r===27||r===6)return e;for(e=e.child;e!==null;){if(r=g(e),r!==null)return r;e=e.sibling}return null}var y=Object.assign,_=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),I=Symbol.for("react.consumer"),O=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),Y=Symbol.for("react.lazy"),rt=Symbol.for("react.activity"),at=Symbol.for("react.memo_cache_sentinel"),ct=Symbol.iterator;function z(e){return e===null||typeof e!="object"?null:(e=ct&&e[ct]||e["@@iterator"],typeof e=="function"?e:null)}var X=Symbol.for("react.client.reference");function Z(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===X?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case w:return"Fragment";case R:return"Profiler";case A:return"StrictMode";case B:return"Suspense";case j:return"SuspenseList";case rt:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case T:return"Portal";case O:return e.displayName||"Context";case I:return(e._context.displayName||"Context")+".Consumer";case L:var r=e.render;return e=e.displayName,e||(e=r.displayName||r.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case D:return r=e.displayName||null,r!==null?r:Z(e.type)||"Memo";case Y:r=e._payload,e=e._init;try{return Z(e(r))}catch{}}return null}var ot=Array.isArray,x=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,C={pending:!1,data:null,method:null,action:null},H=[],U=-1;function E(e){return{current:e}}function N(e){0>U||(e.current=H[U],H[U]=null,U--)}function F(e,r){U++,H[U]=e.current,e.current=r}var V=E(null),Q=E(null),it=E(null),lt=E(null);function dt(e,r){switch(F(it,r),F(Q,e),F(V,null),r.nodeType){case 9:case 11:e=(e=r.documentElement)&&(e=e.namespaceURI)?Ry(e):0;break;default:if(e=r.tagName,r=r.namespaceURI)r=Ry(r),e=My(r,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}N(V),F(V,e)}function ft(){N(V),N(Q),N(it)}function ut(e){e.memoizedState!==null&&F(lt,e);var r=V.current,a=My(r,e.type);r!==a&&(F(Q,e),F(V,a))}function yt(e){Q.current===e&&(N(V),N(Q)),lt.current===e&&(N(lt),Za._currentValue=C)}var xt,Dt;function Ot(e){if(xt===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);xt=r&&r[1]||"",Dt=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+xt+e+Dt}var _t=!1;function bt(e,r){if(!e||_t)return"";_t=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var st=function(){throw Error()};if(Object.defineProperty(st.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(st,[])}catch(tt){var K=tt}Reflect.construct(e,[],st)}else{try{st.call()}catch(tt){K=tt}e.call(st.prototype)}}else{try{throw Error()}catch(tt){K=tt}(st=e())&&typeof st.catch=="function"&&st.catch(function(){})}}catch(tt){if(tt&&K&&typeof tt.stack=="string")return[tt.stack,K.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=u.DetermineComponentFrameRoot(),v=d[0],S=d[1];if(v&&S){var P=v.split(`
`),W=S.split(`
`);for(f=u=0;u<P.length&&!P[u].includes("DetermineComponentFrameRoot");)u++;for(;f<W.length&&!W[f].includes("DetermineComponentFrameRoot");)f++;if(u===P.length||f===W.length)for(u=P.length-1,f=W.length-1;1<=u&&0<=f&&P[u]!==W[f];)f--;for(;1<=u&&0<=f;u--,f--)if(P[u]!==W[f]){if(u!==1||f!==1)do if(u--,f--,0>f||P[u]!==W[f]){var et=`
`+P[u].replace(" at new "," at ");return e.displayName&&et.includes("<anonymous>")&&(et=et.replace("<anonymous>",e.displayName)),et}while(1<=u&&0<=f);break}}}finally{_t=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Ot(a):""}function ue(e,r){switch(e.tag){case 26:case 27:case 5:return Ot(e.type);case 16:return Ot("Lazy");case 13:return e.child!==r&&r!==null?Ot("Suspense Fallback"):Ot("Suspense");case 19:return Ot("SuspenseList");case 0:case 15:return bt(e.type,!1);case 11:return bt(e.type.render,!1);case 1:return bt(e.type,!0);case 31:return Ot("Activity");default:return""}}function fe(e){try{var r="",a=null;do r+=ue(e,a),a=e,e=e.return;while(e);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Fi=Object.prototype.hasOwnProperty,fi=s.unstable_scheduleCallback,He=s.unstable_cancelCallback,Br=s.unstable_shouldYield,Nr=s.unstable_requestPaint,_e=s.unstable_now,Fu=s.unstable_getCurrentPriorityLevel,bl=s.unstable_ImmediatePriority,aa=s.unstable_UserBlockingPriority,ts=s.unstable_NormalPriority,vn=s.unstable_LowPriority,es=s.unstable_IdlePriority,El=s.log,Gu=s.unstable_setDisableYieldValue,_n=null,Be=null;function ei(e){if(typeof El=="function"&&Gu(e),Be&&typeof Be.setStrictMode=="function")try{Be.setStrictMode(_n,e)}catch{}}var q=Math.clz32?Math.clz32:Qt,J=Math.log,jt=Math.LN2;function Qt(e){return e>>>=0,e===0?32:31-(J(e)/jt|0)|0}var Wt=256,Bt=262144,ii=4194304;function ke(e){var r=e&42;if(r!==0)return r;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ce(e,r,a){var u=e.pendingLanes;if(u===0)return 0;var f=0,d=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var S=u&134217727;return S!==0?(u=S&~d,u!==0?f=ke(u):(v&=S,v!==0?f=ke(v):a||(a=S&~e,a!==0&&(f=ke(a))))):(S=u&~d,S!==0?f=ke(S):v!==0?f=ke(v):a||(a=u&~e,a!==0&&(f=ke(a)))),f===0?0:r!==0&&r!==f&&(r&d)===0&&(d=f&-f,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:f}function qe(e,r){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&r)===0}function la(e,r){switch(e){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ir(){var e=ii;return ii<<=1,(ii&62914560)===0&&(ii=4194304),e}function Xe(e){for(var r=[],a=0;31>a;a++)r.push(e);return r}function Ir(e,r){e.pendingLanes|=r,r!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Tl(e,r,a,u,f,d){var v=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var S=e.entanglements,P=e.expirationTimes,W=e.hiddenUpdates;for(a=v&~a;0<a;){var et=31-q(a),st=1<<et;S[et]=0,P[et]=-1;var K=W[et];if(K!==null)for(W[et]=null,et=0;et<K.length;et++){var tt=K[et];tt!==null&&(tt.lane&=-536870913)}a&=~st}u!==0&&oa(e,u,0),d!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=d&~(v&~r))}function oa(e,r,a){e.pendingLanes|=r,e.suspendedLanes&=~r;var u=31-q(r);e.entangledLanes|=r,e.entanglements[u]=e.entanglements[u]|1073741824|a&261930}function Ur(e,r){var a=e.entangledLanes|=r;for(e=e.entanglements;a;){var u=31-q(a),f=1<<u;f&r|e[u]&r&&(e[u]|=r),a&=~f}}function is(e,r){var a=r&-r;return a=(a&42)!==0?1:Lr(a),(a&(e.suspendedLanes|r))!==0?0:a}function Lr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function xn(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function rs(){var e=M.p;return e!==0?e:(e=window.event,e===void 0?32:Qy(e.type))}function ua(e,r){var a=M.p;try{return M.p=e,r()}finally{M.p=a}}var wi=Math.random().toString(36).slice(2),me="__reactFiber$"+wi,Ne="__reactProps$"+wi,Gi="__reactContainer$"+wi,ns="__reactEvents$"+wi,zu="__reactListeners$"+wi,ha="__reactHandles$"+wi,rr="__reactResources$"+wi,zi="__reactMarker$"+wi;function ca(e){delete e[me],delete e[Ne],delete e[ns],delete e[zu],delete e[ha]}function nr(e){var r=e[me];if(r)return r;for(var a=e.parentNode;a;){if(r=a[Gi]||a[me]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(e=Ly(e);e!==null;){if(a=e[me])return a;e=Ly(e)}return r}e=a,a=e.parentNode}return null}function ss(e){if(e=e[me]||e[Gi]){var r=e.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return e}return null}function fa(e){var r=e.tag;if(r===5||r===26||r===27||r===6)return e.stateNode;throw Error(n(33))}function as(e){var r=e[rr];return r||(r=e[rr]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Re(e){e[zi]=!0}var gp=new Set,yp={};function bn(e,r){ls(e,r),ls(e+"Capture",r)}function ls(e,r){for(yp[e]=r,e=0;e<r.length;e++)gp.add(r[e])}var Zx=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vp={},_p={};function Kx(e){return Fi.call(_p,e)?!0:Fi.call(vp,e)?!1:Zx.test(e)?_p[e]=!0:(vp[e]=!0,!1)}function Al(e,r,a){if(Kx(r))if(a===null)e.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){e.removeAttribute(r);return}}e.setAttribute(r,""+a)}}function Sl(e,r,a){if(a===null)e.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttribute(r,""+a)}}function sr(e,r,a,u){if(u===null)e.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(r,a,""+u)}}function di(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function xp(e){var r=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Qx(e,r,a){var u=Object.getOwnPropertyDescriptor(e.constructor.prototype,r);if(!e.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var f=u.get,d=u.set;return Object.defineProperty(e,r,{configurable:!0,get:function(){return f.call(this)},set:function(v){a=""+v,d.call(this,v)}}),Object.defineProperty(e,r,{enumerable:u.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){e._valueTracker=null,delete e[r]}}}}function Hu(e){if(!e._valueTracker){var r=xp(e)?"checked":"value";e._valueTracker=Qx(e,r,""+e[r])}}function bp(e){if(!e)return!1;var r=e._valueTracker;if(!r)return!0;var a=r.getValue(),u="";return e&&(u=xp(e)?e.checked?"true":"false":e.value),e=u,e!==a?(r.setValue(e),!0):!1}function wl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Jx=/[\n"\\]/g;function pi(e){return e.replace(Jx,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function ku(e,r,a,u,f,d,v,S){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),r!=null?v==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+di(r)):e.value!==""+di(r)&&(e.value=""+di(r)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),r!=null?Xu(e,v,di(r)):a!=null?Xu(e,v,di(a)):u!=null&&e.removeAttribute("value"),f==null&&d!=null&&(e.defaultChecked=!!d),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.name=""+di(S):e.removeAttribute("name")}function Ep(e,r,a,u,f,d,v,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null)){Hu(e);return}a=a!=null?""+di(a):"",r=r!=null?""+di(r):a,S||r===e.value||(e.value=r),e.defaultValue=r}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,e.checked=S?e.checked:!!u,e.defaultChecked=!!u,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v),Hu(e)}function Xu(e,r,a){r==="number"&&wl(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function os(e,r,a,u){if(e=e.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<e.length;a++)f=r.hasOwnProperty("$"+e[a].value),e[a].selected!==f&&(e[a].selected=f),f&&u&&(e[a].defaultSelected=!0)}else{for(a=""+di(a),r=null,f=0;f<e.length;f++){if(e[f].value===a){e[f].selected=!0,u&&(e[f].defaultSelected=!0);return}r!==null||e[f].disabled||(r=e[f])}r!==null&&(r.selected=!0)}}function Tp(e,r,a){if(r!=null&&(r=""+di(r),r!==e.value&&(e.value=r),a==null)){e.defaultValue!==r&&(e.defaultValue=r);return}e.defaultValue=a!=null?""+di(a):""}function Ap(e,r,a,u){if(r==null){if(u!=null){if(a!=null)throw Error(n(92));if(ot(u)){if(1<u.length)throw Error(n(93));u=u[0]}a=u}a==null&&(a=""),r=a}a=di(r),e.defaultValue=a,u=e.textContent,u===a&&u!==""&&u!==null&&(e.value=u),Hu(e)}function us(e,r){if(r){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=r;return}}e.textContent=r}var tb=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Sp(e,r,a){var u=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?u?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="":u?e.setProperty(r,a):typeof a!="number"||a===0||tb.has(r)?r==="float"?e.cssFloat=a:e[r]=(""+a).trim():e[r]=a+"px"}function wp(e,r,a){if(r!=null&&typeof r!="object")throw Error(n(62));if(e=e.style,a!=null){for(var u in a)!a.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?e.setProperty(u,""):u==="float"?e.cssFloat="":e[u]="");for(var f in r)u=r[f],r.hasOwnProperty(f)&&a[f]!==u&&Sp(e,f,u)}else for(var d in r)r.hasOwnProperty(d)&&Sp(e,d,r[d])}function Vu(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var eb=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ib=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Cl(e){return ib.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ar(){}var ju=null;function qu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var hs=null,cs=null;function Cp(e){var r=ss(e);if(r&&(e=r.stateNode)){var a=e[Ne]||null;t:switch(e=r.stateNode,r.type){case"input":if(ku(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+pi(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var u=a[r];if(u!==e&&u.form===e.form){var f=u[Ne]||null;if(!f)throw Error(n(90));ku(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)u=a[r],u.form===e.form&&bp(u)}break t;case"textarea":Tp(e,a.value,a.defaultValue);break t;case"select":r=a.value,r!=null&&os(e,!!a.multiple,r,!1)}}}var Yu=!1;function Rp(e,r,a){if(Yu)return e(r,a);Yu=!0;try{var u=e(r);return u}finally{if(Yu=!1,(hs!==null||cs!==null)&&(mo(),hs&&(r=hs,e=cs,cs=hs=null,Cp(r),e)))for(r=0;r<e.length;r++)Cp(e[r])}}function da(e,r){var a=e.stateNode;if(a===null)return null;var u=a[Ne]||null;if(u===null)return null;a=u[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(e=e.type,u=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!u;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(n(231,r,typeof a));return a}var lr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$u=!1;if(lr)try{var pa={};Object.defineProperty(pa,"passive",{get:function(){$u=!0}}),window.addEventListener("test",pa,pa),window.removeEventListener("test",pa,pa)}catch{$u=!1}var Pr=null,Wu=null,Rl=null;function Mp(){if(Rl)return Rl;var e,r=Wu,a=r.length,u,f="value"in Pr?Pr.value:Pr.textContent,d=f.length;for(e=0;e<a&&r[e]===f[e];e++);var v=a-e;for(u=1;u<=v&&r[a-u]===f[d-u];u++);return Rl=f.slice(e,1<u?1-u:void 0)}function Ml(e){var r=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&r===13&&(e=13)):e=r,e===10&&(e=13),32<=e||e===13?e:0}function Dl(){return!0}function Dp(){return!1}function Ye(e){function r(a,u,f,d,v){this._reactName=a,this._targetInst=f,this.type=u,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var S in e)e.hasOwnProperty(S)&&(a=e[S],this[S]=a?a(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Dl:Dp,this.isPropagationStopped=Dp,this}return y(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Dl)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Dl)},persist:function(){},isPersistent:Dl}),r}var En={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ol=Ye(En),ma=y({},En,{view:0,detail:0}),rb=Ye(ma),Zu,Ku,ga,Bl=y({},ma,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ju,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ga&&(ga&&e.type==="mousemove"?(Zu=e.screenX-ga.screenX,Ku=e.screenY-ga.screenY):Ku=Zu=0,ga=e),Zu)},movementY:function(e){return"movementY"in e?e.movementY:Ku}}),Op=Ye(Bl),nb=y({},Bl,{dataTransfer:0}),sb=Ye(nb),ab=y({},ma,{relatedTarget:0}),Qu=Ye(ab),lb=y({},En,{animationName:0,elapsedTime:0,pseudoElement:0}),ob=Ye(lb),ub=y({},En,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),hb=Ye(ub),cb=y({},En,{data:0}),Bp=Ye(cb),fb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},db={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mb(e){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(e):(e=pb[e])?!!r[e]:!1}function Ju(){return mb}var gb=y({},ma,{key:function(e){if(e.key){var r=fb[e.key]||e.key;if(r!=="Unidentified")return r}return e.type==="keypress"?(e=Ml(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?db[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ju,charCode:function(e){return e.type==="keypress"?Ml(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ml(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),yb=Ye(gb),vb=y({},Bl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Np=Ye(vb),_b=y({},ma,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ju}),xb=Ye(_b),bb=y({},En,{propertyName:0,elapsedTime:0,pseudoElement:0}),Eb=Ye(bb),Tb=y({},Bl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ab=Ye(Tb),Sb=y({},En,{newState:0,oldState:0}),wb=Ye(Sb),Cb=[9,13,27,32],th=lr&&"CompositionEvent"in window,ya=null;lr&&"documentMode"in document&&(ya=document.documentMode);var Rb=lr&&"TextEvent"in window&&!ya,Ip=lr&&(!th||ya&&8<ya&&11>=ya),Up=" ",Lp=!1;function Pp(e,r){switch(e){case"keyup":return Cb.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var fs=!1;function Mb(e,r){switch(e){case"compositionend":return Fp(r);case"keypress":return r.which!==32?null:(Lp=!0,Up);case"textInput":return e=r.data,e===Up&&Lp?null:e;default:return null}}function Db(e,r){if(fs)return e==="compositionend"||!th&&Pp(e,r)?(e=Mp(),Rl=Wu=Pr=null,fs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Ip&&r.locale!=="ko"?null:r.data;default:return null}}var Ob={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gp(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r==="input"?!!Ob[e.type]:r==="textarea"}function zp(e,r,a,u){hs?cs?cs.push(u):cs=[u]:hs=u,r=Eo(r,"onChange"),0<r.length&&(a=new Ol("onChange","change",null,a,u),e.push({event:a,listeners:r}))}var va=null,_a=null;function Bb(e){Ey(e,0)}function Nl(e){var r=fa(e);if(bp(r))return e}function Hp(e,r){if(e==="change")return r}var kp=!1;if(lr){var eh;if(lr){var ih="oninput"in document;if(!ih){var Xp=document.createElement("div");Xp.setAttribute("oninput","return;"),ih=typeof Xp.oninput=="function"}eh=ih}else eh=!1;kp=eh&&(!document.documentMode||9<document.documentMode)}function Vp(){va&&(va.detachEvent("onpropertychange",jp),_a=va=null)}function jp(e){if(e.propertyName==="value"&&Nl(_a)){var r=[];zp(r,_a,e,qu(e)),Rp(Bb,r)}}function Nb(e,r,a){e==="focusin"?(Vp(),va=r,_a=a,va.attachEvent("onpropertychange",jp)):e==="focusout"&&Vp()}function Ib(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Nl(_a)}function Ub(e,r){if(e==="click")return Nl(r)}function Lb(e,r){if(e==="input"||e==="change")return Nl(r)}function Pb(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var ri=typeof Object.is=="function"?Object.is:Pb;function xa(e,r){if(ri(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var a=Object.keys(e),u=Object.keys(r);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var f=a[u];if(!Fi.call(r,f)||!ri(e[f],r[f]))return!1}return!0}function qp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Yp(e,r){var a=qp(e);e=0;for(var u;a;){if(a.nodeType===3){if(u=e+a.textContent.length,e<=r&&u>=r)return{node:a,offset:r-e};e=u}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=qp(a)}}function $p(e,r){return e&&r?e===r?!0:e&&e.nodeType===3?!1:r&&r.nodeType===3?$p(e,r.parentNode):"contains"in e?e.contains(r):e.compareDocumentPosition?!!(e.compareDocumentPosition(r)&16):!1:!1}function Wp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var r=wl(e.document);r instanceof e.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)e=r.contentWindow;else break;r=wl(e.document)}return r}function rh(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r&&(r==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||r==="textarea"||e.contentEditable==="true")}var Fb=lr&&"documentMode"in document&&11>=document.documentMode,ds=null,nh=null,ba=null,sh=!1;function Zp(e,r,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;sh||ds==null||ds!==wl(u)||(u=ds,"selectionStart"in u&&rh(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),ba&&xa(ba,u)||(ba=u,u=Eo(nh,"onSelect"),0<u.length&&(r=new Ol("onSelect","select",null,r,a),e.push({event:r,listeners:u}),r.target=ds)))}function Tn(e,r){var a={};return a[e.toLowerCase()]=r.toLowerCase(),a["Webkit"+e]="webkit"+r,a["Moz"+e]="moz"+r,a}var ps={animationend:Tn("Animation","AnimationEnd"),animationiteration:Tn("Animation","AnimationIteration"),animationstart:Tn("Animation","AnimationStart"),transitionrun:Tn("Transition","TransitionRun"),transitionstart:Tn("Transition","TransitionStart"),transitioncancel:Tn("Transition","TransitionCancel"),transitionend:Tn("Transition","TransitionEnd")},ah={},Kp={};lr&&(Kp=document.createElement("div").style,"AnimationEvent"in window||(delete ps.animationend.animation,delete ps.animationiteration.animation,delete ps.animationstart.animation),"TransitionEvent"in window||delete ps.transitionend.transition);function An(e){if(ah[e])return ah[e];if(!ps[e])return e;var r=ps[e],a;for(a in r)if(r.hasOwnProperty(a)&&a in Kp)return ah[e]=r[a];return e}var Qp=An("animationend"),Jp=An("animationiteration"),tm=An("animationstart"),Gb=An("transitionrun"),zb=An("transitionstart"),Hb=An("transitioncancel"),em=An("transitionend"),im=new Map,lh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");lh.push("scrollEnd");function Ci(e,r){im.set(e,r),bn(r,[e])}var Il=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},mi=[],ms=0,oh=0;function Ul(){for(var e=ms,r=oh=ms=0;r<e;){var a=mi[r];mi[r++]=null;var u=mi[r];mi[r++]=null;var f=mi[r];mi[r++]=null;var d=mi[r];if(mi[r++]=null,u!==null&&f!==null){var v=u.pending;v===null?f.next=f:(f.next=v.next,v.next=f),u.pending=f}d!==0&&rm(a,f,d)}}function Ll(e,r,a,u){mi[ms++]=e,mi[ms++]=r,mi[ms++]=a,mi[ms++]=u,oh|=u,e.lanes|=u,e=e.alternate,e!==null&&(e.lanes|=u)}function uh(e,r,a,u){return Ll(e,r,a,u),Pl(e)}function Sn(e,r){return Ll(e,null,null,r),Pl(e)}function rm(e,r,a){e.lanes|=a;var u=e.alternate;u!==null&&(u.lanes|=a);for(var f=!1,d=e.return;d!==null;)d.childLanes|=a,u=d.alternate,u!==null&&(u.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(f=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,f&&r!==null&&(f=31-q(a),e=d.hiddenUpdates,u=e[f],u===null?e[f]=[r]:u.push(r),r.lane=a|536870912),d):null}function Pl(e){if(50<Xa)throw Xa=0,vc=null,Error(n(185));for(var r=e.return;r!==null;)e=r,r=e.return;return e.tag===3?e.stateNode:null}var gs={};function kb(e,r,a,u){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ni(e,r,a,u){return new kb(e,r,a,u)}function hh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function or(e,r){var a=e.alternate;return a===null?(a=ni(e.tag,r,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=r,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,r=e.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function nm(e,r){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=r,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,r=a.dependencies,e.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),e}function Fl(e,r,a,u,f,d){var v=0;if(u=e,typeof e=="function")hh(e)&&(v=1);else if(typeof e=="string")v=Y1(e,a,V.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case rt:return e=ni(31,a,r,f),e.elementType=rt,e.lanes=d,e;case w:return wn(a.children,f,d,r);case A:v=8,f|=24;break;case R:return e=ni(12,a,r,f|2),e.elementType=R,e.lanes=d,e;case B:return e=ni(13,a,r,f),e.elementType=B,e.lanes=d,e;case j:return e=ni(19,a,r,f),e.elementType=j,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case O:v=10;break t;case I:v=9;break t;case L:v=11;break t;case D:v=14;break t;case Y:v=16,u=null;break t}v=29,a=Error(n(130,e===null?"null":typeof e,"")),u=null}return r=ni(v,a,r,f),r.elementType=e,r.type=u,r.lanes=d,r}function wn(e,r,a,u){return e=ni(7,e,u,r),e.lanes=a,e}function ch(e,r,a){return e=ni(6,e,null,r),e.lanes=a,e}function sm(e){var r=ni(18,null,null,0);return r.stateNode=e,r}function fh(e,r,a){return r=ni(4,e.children!==null?e.children:[],e.key,r),r.lanes=a,r.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},r}var am=new WeakMap;function gi(e,r){if(typeof e=="object"&&e!==null){var a=am.get(e);return a!==void 0?a:(r={value:e,source:r,stack:fe(r)},am.set(e,r),r)}return{value:e,source:r,stack:fe(r)}}var ys=[],vs=0,Gl=null,Ea=0,yi=[],vi=0,Fr=null,Hi=1,ki="";function ur(e,r){ys[vs++]=Ea,ys[vs++]=Gl,Gl=e,Ea=r}function lm(e,r,a){yi[vi++]=Hi,yi[vi++]=ki,yi[vi++]=Fr,Fr=e;var u=Hi;e=ki;var f=32-q(u)-1;u&=~(1<<f),a+=1;var d=32-q(r)+f;if(30<d){var v=f-f%5;d=(u&(1<<v)-1).toString(32),u>>=v,f-=v,Hi=1<<32-q(r)+f|a<<f|u,ki=d+e}else Hi=1<<d|a<<f|u,ki=e}function dh(e){e.return!==null&&(ur(e,1),lm(e,1,0))}function ph(e){for(;e===Gl;)Gl=ys[--vs],ys[vs]=null,Ea=ys[--vs],ys[vs]=null;for(;e===Fr;)Fr=yi[--vi],yi[vi]=null,ki=yi[--vi],yi[vi]=null,Hi=yi[--vi],yi[vi]=null}function om(e,r){yi[vi++]=Hi,yi[vi++]=ki,yi[vi++]=Fr,Hi=r.id,ki=r.overflow,Fr=e}var Ie=null,ne=null,Xt=!1,Gr=null,_i=!1,mh=Error(n(519));function zr(e){var r=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ta(gi(r,e)),mh}function um(e){var r=e.stateNode,a=e.type,u=e.memoizedProps;switch(r[me]=e,r[Ne]=u,a){case"dialog":Gt("cancel",r),Gt("close",r);break;case"iframe":case"object":case"embed":Gt("load",r);break;case"video":case"audio":for(a=0;a<ja.length;a++)Gt(ja[a],r);break;case"source":Gt("error",r);break;case"img":case"image":case"link":Gt("error",r),Gt("load",r);break;case"details":Gt("toggle",r);break;case"input":Gt("invalid",r),Ep(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Gt("invalid",r);break;case"textarea":Gt("invalid",r),Ap(r,u.value,u.defaultValue,u.children)}a=u.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||u.suppressHydrationWarning===!0||wy(r.textContent,a)?(u.popover!=null&&(Gt("beforetoggle",r),Gt("toggle",r)),u.onScroll!=null&&Gt("scroll",r),u.onScrollEnd!=null&&Gt("scrollend",r),u.onClick!=null&&(r.onclick=ar),r=!0):r=!1,r||zr(e,!0)}function hm(e){for(Ie=e.return;Ie;)switch(Ie.tag){case 5:case 31:case 13:_i=!1;return;case 27:case 3:_i=!0;return;default:Ie=Ie.return}}function _s(e){if(e!==Ie)return!1;if(!Xt)return hm(e),Xt=!0,!1;var r=e.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Nc(e.type,e.memoizedProps)),a=!a),a&&ne&&zr(e),hm(e),r===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(n(317));ne=Uy(e)}else if(r===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(n(317));ne=Uy(e)}else r===27?(r=ne,tn(e.type)?(e=Fc,Fc=null,ne=e):ne=r):ne=Ie?bi(e.stateNode.nextSibling):null;return!0}function Cn(){ne=Ie=null,Xt=!1}function gh(){var e=Gr;return e!==null&&(Ke===null?Ke=e:Ke.push.apply(Ke,e),Gr=null),e}function Ta(e){Gr===null?Gr=[e]:Gr.push(e)}var yh=E(null),Rn=null,hr=null;function Hr(e,r,a){F(yh,r._currentValue),r._currentValue=a}function cr(e){e._currentValue=yh.current,N(yh)}function vh(e,r,a){for(;e!==null;){var u=e.alternate;if((e.childLanes&r)!==r?(e.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),e===a)break;e=e.return}}function _h(e,r,a,u){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var d=f.dependencies;if(d!==null){var v=f.child;d=d.firstContext;t:for(;d!==null;){var S=d;d=f;for(var P=0;P<r.length;P++)if(S.context===r[P]){d.lanes|=a,S=d.alternate,S!==null&&(S.lanes|=a),vh(d.return,a,e),u||(v=null);break t}d=S.next}}else if(f.tag===18){if(v=f.return,v===null)throw Error(n(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),vh(v,a,e),v=null}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===e){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}}function xs(e,r,a,u){e=null;for(var f=r,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var v=f.alternate;if(v===null)throw Error(n(387));if(v=v.memoizedProps,v!==null){var S=f.type;ri(f.pendingProps.value,v.value)||(e!==null?e.push(S):e=[S])}}else if(f===lt.current){if(v=f.alternate,v===null)throw Error(n(387));v.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(Za):e=[Za])}f=f.return}e!==null&&_h(r,e,a,u),r.flags|=262144}function zl(e){for(e=e.firstContext;e!==null;){if(!ri(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Mn(e){Rn=e,hr=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ue(e){return cm(Rn,e)}function Hl(e,r){return Rn===null&&Mn(e),cm(e,r)}function cm(e,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},hr===null){if(e===null)throw Error(n(308));hr=r,e.dependencies={lanes:0,firstContext:r},e.flags|=524288}else hr=hr.next=r;return a}var Xb=typeof AbortController<"u"?AbortController:function(){var e=[],r=this.signal={aborted:!1,addEventListener:function(a,u){e.push(u)}};this.abort=function(){r.aborted=!0,e.forEach(function(a){return a()})}},Vb=s.unstable_scheduleCallback,jb=s.unstable_NormalPriority,xe={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function xh(){return{controller:new Xb,data:new Map,refCount:0}}function Aa(e){e.refCount--,e.refCount===0&&Vb(jb,function(){e.controller.abort()})}var Sa=null,bh=0,bs=0,Es=null;function qb(e,r){if(Sa===null){var a=Sa=[];bh=0,bs=Ac(),Es={status:"pending",value:void 0,then:function(u){a.push(u)}}}return bh++,r.then(fm,fm),r}function fm(){if(--bh===0&&Sa!==null){Es!==null&&(Es.status="fulfilled");var e=Sa;Sa=null,bs=0,Es=null;for(var r=0;r<e.length;r++)(0,e[r])()}}function Yb(e,r){var a=[],u={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return e.then(function(){u.status="fulfilled",u.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(u.status="rejected",u.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),u}var dm=x.S;x.S=function(e,r){Zg=_e(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&qb(e,r),dm!==null&&dm(e,r)};var Dn=E(null);function Eh(){var e=Dn.current;return e!==null?e:re.pooledCache}function kl(e,r){r===null?F(Dn,Dn.current):F(Dn,r.pool)}function pm(){var e=Eh();return e===null?null:{parent:xe._currentValue,pool:e}}var Ts=Error(n(460)),Th=Error(n(474)),Xl=Error(n(542)),Vl={then:function(){}};function mm(e){return e=e.status,e==="fulfilled"||e==="rejected"}function gm(e,r,a){switch(a=e[a],a===void 0?e.push(r):a!==r&&(r.then(ar,ar),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw e=r.reason,vm(e),e;default:if(typeof r.status=="string")r.then(ar,ar);else{if(e=re,e!==null&&100<e.shellSuspendCounter)throw Error(n(482));e=r,e.status="pending",e.then(function(u){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=u}},function(u){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw e=r.reason,vm(e),e}throw Bn=r,Ts}}function On(e){try{var r=e._init;return r(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Bn=a,Ts):a}}var Bn=null;function ym(){if(Bn===null)throw Error(n(459));var e=Bn;return Bn=null,e}function vm(e){if(e===Ts||e===Xl)throw Error(n(483))}var As=null,wa=0;function jl(e){var r=wa;return wa+=1,As===null&&(As=[]),gm(As,e,r)}function Ca(e,r){r=r.props.ref,e.ref=r!==void 0?r:null}function ql(e,r){throw r.$$typeof===_?Error(n(525)):(e=Object.prototype.toString.call(r),Error(n(31,e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e)))}function _m(e){function r(k,G){if(e){var $=k.deletions;$===null?(k.deletions=[G],k.flags|=16):$.push(G)}}function a(k,G){if(!e)return null;for(;G!==null;)r(k,G),G=G.sibling;return null}function u(k){for(var G=new Map;k!==null;)k.key!==null?G.set(k.key,k):G.set(k.index,k),k=k.sibling;return G}function f(k,G){return k=or(k,G),k.index=0,k.sibling=null,k}function d(k,G,$){return k.index=$,e?($=k.alternate,$!==null?($=$.index,$<G?(k.flags|=67108866,G):$):(k.flags|=67108866,G)):(k.flags|=1048576,G)}function v(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function S(k,G,$,nt){return G===null||G.tag!==6?(G=ch($,k.mode,nt),G.return=k,G):(G=f(G,$),G.return=k,G)}function P(k,G,$,nt){var Ct=$.type;return Ct===w?et(k,G,$.props.children,nt,$.key):G!==null&&(G.elementType===Ct||typeof Ct=="object"&&Ct!==null&&Ct.$$typeof===Y&&On(Ct)===G.type)?(G=f(G,$.props),Ca(G,$),G.return=k,G):(G=Fl($.type,$.key,$.props,null,k.mode,nt),Ca(G,$),G.return=k,G)}function W(k,G,$,nt){return G===null||G.tag!==4||G.stateNode.containerInfo!==$.containerInfo||G.stateNode.implementation!==$.implementation?(G=fh($,k.mode,nt),G.return=k,G):(G=f(G,$.children||[]),G.return=k,G)}function et(k,G,$,nt,Ct){return G===null||G.tag!==7?(G=wn($,k.mode,nt,Ct),G.return=k,G):(G=f(G,$),G.return=k,G)}function st(k,G,$){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=ch(""+G,k.mode,$),G.return=k,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case b:return $=Fl(G.type,G.key,G.props,null,k.mode,$),Ca($,G),$.return=k,$;case T:return G=fh(G,k.mode,$),G.return=k,G;case Y:return G=On(G),st(k,G,$)}if(ot(G)||z(G))return G=wn(G,k.mode,$,null),G.return=k,G;if(typeof G.then=="function")return st(k,jl(G),$);if(G.$$typeof===O)return st(k,Hl(k,G),$);ql(k,G)}return null}function K(k,G,$,nt){var Ct=G!==null?G.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return Ct!==null?null:S(k,G,""+$,nt);if(typeof $=="object"&&$!==null){switch($.$$typeof){case b:return $.key===Ct?P(k,G,$,nt):null;case T:return $.key===Ct?W(k,G,$,nt):null;case Y:return $=On($),K(k,G,$,nt)}if(ot($)||z($))return Ct!==null?null:et(k,G,$,nt,null);if(typeof $.then=="function")return K(k,G,jl($),nt);if($.$$typeof===O)return K(k,G,Hl(k,$),nt);ql(k,$)}return null}function tt(k,G,$,nt,Ct){if(typeof nt=="string"&&nt!==""||typeof nt=="number"||typeof nt=="bigint")return k=k.get($)||null,S(G,k,""+nt,Ct);if(typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case b:return k=k.get(nt.key===null?$:nt.key)||null,P(G,k,nt,Ct);case T:return k=k.get(nt.key===null?$:nt.key)||null,W(G,k,nt,Ct);case Y:return nt=On(nt),tt(k,G,$,nt,Ct)}if(ot(nt)||z(nt))return k=k.get($)||null,et(G,k,nt,Ct,null);if(typeof nt.then=="function")return tt(k,G,$,jl(nt),Ct);if(nt.$$typeof===O)return tt(k,G,$,Hl(G,nt),Ct);ql(G,nt)}return null}function vt(k,G,$,nt){for(var Ct=null,qt=null,Et=G,Pt=G=0,kt=null;Et!==null&&Pt<$.length;Pt++){Et.index>Pt?(kt=Et,Et=null):kt=Et.sibling;var Yt=K(k,Et,$[Pt],nt);if(Yt===null){Et===null&&(Et=kt);break}e&&Et&&Yt.alternate===null&&r(k,Et),G=d(Yt,G,Pt),qt===null?Ct=Yt:qt.sibling=Yt,qt=Yt,Et=kt}if(Pt===$.length)return a(k,Et),Xt&&ur(k,Pt),Ct;if(Et===null){for(;Pt<$.length;Pt++)Et=st(k,$[Pt],nt),Et!==null&&(G=d(Et,G,Pt),qt===null?Ct=Et:qt.sibling=Et,qt=Et);return Xt&&ur(k,Pt),Ct}for(Et=u(Et);Pt<$.length;Pt++)kt=tt(Et,k,Pt,$[Pt],nt),kt!==null&&(e&&kt.alternate!==null&&Et.delete(kt.key===null?Pt:kt.key),G=d(kt,G,Pt),qt===null?Ct=kt:qt.sibling=kt,qt=kt);return e&&Et.forEach(function(an){return r(k,an)}),Xt&&ur(k,Pt),Ct}function Mt(k,G,$,nt){if($==null)throw Error(n(151));for(var Ct=null,qt=null,Et=G,Pt=G=0,kt=null,Yt=$.next();Et!==null&&!Yt.done;Pt++,Yt=$.next()){Et.index>Pt?(kt=Et,Et=null):kt=Et.sibling;var an=K(k,Et,Yt.value,nt);if(an===null){Et===null&&(Et=kt);break}e&&Et&&an.alternate===null&&r(k,Et),G=d(an,G,Pt),qt===null?Ct=an:qt.sibling=an,qt=an,Et=kt}if(Yt.done)return a(k,Et),Xt&&ur(k,Pt),Ct;if(Et===null){for(;!Yt.done;Pt++,Yt=$.next())Yt=st(k,Yt.value,nt),Yt!==null&&(G=d(Yt,G,Pt),qt===null?Ct=Yt:qt.sibling=Yt,qt=Yt);return Xt&&ur(k,Pt),Ct}for(Et=u(Et);!Yt.done;Pt++,Yt=$.next())Yt=tt(Et,k,Pt,Yt.value,nt),Yt!==null&&(e&&Yt.alternate!==null&&Et.delete(Yt.key===null?Pt:Yt.key),G=d(Yt,G,Pt),qt===null?Ct=Yt:qt.sibling=Yt,qt=Yt);return e&&Et.forEach(function(nE){return r(k,nE)}),Xt&&ur(k,Pt),Ct}function ee(k,G,$,nt){if(typeof $=="object"&&$!==null&&$.type===w&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case b:t:{for(var Ct=$.key;G!==null;){if(G.key===Ct){if(Ct=$.type,Ct===w){if(G.tag===7){a(k,G.sibling),nt=f(G,$.props.children),nt.return=k,k=nt;break t}}else if(G.elementType===Ct||typeof Ct=="object"&&Ct!==null&&Ct.$$typeof===Y&&On(Ct)===G.type){a(k,G.sibling),nt=f(G,$.props),Ca(nt,$),nt.return=k,k=nt;break t}a(k,G);break}else r(k,G);G=G.sibling}$.type===w?(nt=wn($.props.children,k.mode,nt,$.key),nt.return=k,k=nt):(nt=Fl($.type,$.key,$.props,null,k.mode,nt),Ca(nt,$),nt.return=k,k=nt)}return v(k);case T:t:{for(Ct=$.key;G!==null;){if(G.key===Ct)if(G.tag===4&&G.stateNode.containerInfo===$.containerInfo&&G.stateNode.implementation===$.implementation){a(k,G.sibling),nt=f(G,$.children||[]),nt.return=k,k=nt;break t}else{a(k,G);break}else r(k,G);G=G.sibling}nt=fh($,k.mode,nt),nt.return=k,k=nt}return v(k);case Y:return $=On($),ee(k,G,$,nt)}if(ot($))return vt(k,G,$,nt);if(z($)){if(Ct=z($),typeof Ct!="function")throw Error(n(150));return $=Ct.call($),Mt(k,G,$,nt)}if(typeof $.then=="function")return ee(k,G,jl($),nt);if($.$$typeof===O)return ee(k,G,Hl(k,$),nt);ql(k,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,G!==null&&G.tag===6?(a(k,G.sibling),nt=f(G,$),nt.return=k,k=nt):(a(k,G),nt=ch($,k.mode,nt),nt.return=k,k=nt),v(k)):a(k,G)}return function(k,G,$,nt){try{wa=0;var Ct=ee(k,G,$,nt);return As=null,Ct}catch(Et){if(Et===Ts||Et===Xl)throw Et;var qt=ni(29,Et,null,k.mode);return qt.lanes=nt,qt.return=k,qt}finally{}}}var Nn=_m(!0),xm=_m(!1),kr=!1;function Ah(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Sh(e,r){e=e.updateQueue,r.updateQueue===e&&(r.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Xr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Vr(e,r,a){var u=e.updateQueue;if(u===null)return null;if(u=u.shared,($t&2)!==0){var f=u.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),u.pending=r,r=Pl(e),rm(e,null,a),r}return Ll(e,u,r,a),Pl(e)}function Ra(e,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var u=r.lanes;u&=e.pendingLanes,a|=u,r.lanes=a,Ur(e,a)}}function wh(e,r){var a=e.updateQueue,u=e.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?f=d=r:d=d.next=r}else f=d=r;a={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:u.shared,callbacks:u.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=r:e.next=r,a.lastBaseUpdate=r}var Ch=!1;function Ma(){if(Ch){var e=Es;if(e!==null)throw e}}function Da(e,r,a,u){Ch=!1;var f=e.updateQueue;kr=!1;var d=f.firstBaseUpdate,v=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var P=S,W=P.next;P.next=null,v===null?d=W:v.next=W,v=P;var et=e.alternate;et!==null&&(et=et.updateQueue,S=et.lastBaseUpdate,S!==v&&(S===null?et.firstBaseUpdate=W:S.next=W,et.lastBaseUpdate=P))}if(d!==null){var st=f.baseState;v=0,et=W=P=null,S=d;do{var K=S.lane&-536870913,tt=K!==S.lane;if(tt?(Ht&K)===K:(u&K)===K){K!==0&&K===bs&&(Ch=!0),et!==null&&(et=et.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var vt=e,Mt=S;K=r;var ee=a;switch(Mt.tag){case 1:if(vt=Mt.payload,typeof vt=="function"){st=vt.call(ee,st,K);break t}st=vt;break t;case 3:vt.flags=vt.flags&-65537|128;case 0:if(vt=Mt.payload,K=typeof vt=="function"?vt.call(ee,st,K):vt,K==null)break t;st=y({},st,K);break t;case 2:kr=!0}}K=S.callback,K!==null&&(e.flags|=64,tt&&(e.flags|=8192),tt=f.callbacks,tt===null?f.callbacks=[K]:tt.push(K))}else tt={lane:K,tag:S.tag,payload:S.payload,callback:S.callback,next:null},et===null?(W=et=tt,P=st):et=et.next=tt,v|=K;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;tt=S,S=tt.next,tt.next=null,f.lastBaseUpdate=tt,f.shared.pending=null}}while(!0);et===null&&(P=st),f.baseState=P,f.firstBaseUpdate=W,f.lastBaseUpdate=et,d===null&&(f.shared.lanes=0),Wr|=v,e.lanes=v,e.memoizedState=st}}function bm(e,r){if(typeof e!="function")throw Error(n(191,e));e.call(r)}function Em(e,r){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)bm(a[e],r)}var Ss=E(null),Yl=E(0);function Tm(e,r){e=xr,F(Yl,e),F(Ss,r),xr=e|r.baseLanes}function Rh(){F(Yl,xr),F(Ss,Ss.current)}function Mh(){xr=Yl.current,N(Ss),N(Yl)}var si=E(null),xi=null;function jr(e){var r=e.alternate;F(ge,ge.current&1),F(si,e),xi===null&&(r===null||Ss.current!==null||r.memoizedState!==null)&&(xi=e)}function Dh(e){F(ge,ge.current),F(si,e),xi===null&&(xi=e)}function Am(e){e.tag===22?(F(ge,ge.current),F(si,e),xi===null&&(xi=e)):qr()}function qr(){F(ge,ge.current),F(si,si.current)}function ai(e){N(si),xi===e&&(xi=null),N(ge)}var ge=E(0);function $l(e){for(var r=e;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Lc(a)||Pc(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var fr=0,Ut=null,Jt=null,be=null,Wl=!1,ws=!1,In=!1,Zl=0,Oa=0,Cs=null,$b=0;function de(){throw Error(n(321))}function Oh(e,r){if(r===null)return!1;for(var a=0;a<r.length&&a<e.length;a++)if(!ri(e[a],r[a]))return!1;return!0}function Bh(e,r,a,u,f,d){return fr=d,Ut=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,x.H=e===null||e.memoizedState===null?lg:Yh,In=!1,d=a(u,f),In=!1,ws&&(d=wm(r,a,u,f)),Sm(e),d}function Sm(e){x.H=Ia;var r=Jt!==null&&Jt.next!==null;if(fr=0,be=Jt=Ut=null,Wl=!1,Oa=0,Cs=null,r)throw Error(n(300));e===null||Ee||(e=e.dependencies,e!==null&&zl(e)&&(Ee=!0))}function wm(e,r,a,u){Ut=e;var f=0;do{if(ws&&(Cs=null),Oa=0,ws=!1,25<=f)throw Error(n(301));if(f+=1,be=Jt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}x.H=og,d=r(a,u)}while(ws);return d}function Wb(){var e=x.H,r=e.useState()[0];return r=typeof r.then=="function"?Ba(r):r,e=e.useState()[0],(Jt!==null?Jt.memoizedState:null)!==e&&(Ut.flags|=1024),r}function Nh(){var e=Zl!==0;return Zl=0,e}function Ih(e,r,a){r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~a}function Uh(e){if(Wl){for(e=e.memoizedState;e!==null;){var r=e.queue;r!==null&&(r.pending=null),e=e.next}Wl=!1}fr=0,be=Jt=Ut=null,ws=!1,Oa=Zl=0,Cs=null}function Ve(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return be===null?Ut.memoizedState=be=e:be=be.next=e,be}function ye(){if(Jt===null){var e=Ut.alternate;e=e!==null?e.memoizedState:null}else e=Jt.next;var r=be===null?Ut.memoizedState:be.next;if(r!==null)be=r,Jt=e;else{if(e===null)throw Ut.alternate===null?Error(n(467)):Error(n(310));Jt=e,e={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},be===null?Ut.memoizedState=be=e:be=be.next=e}return be}function Kl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ba(e){var r=Oa;return Oa+=1,Cs===null&&(Cs=[]),e=gm(Cs,e,r),r=Ut,(be===null?r.memoizedState:be.next)===null&&(r=r.alternate,x.H=r===null||r.memoizedState===null?lg:Yh),e}function Ql(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ba(e);if(e.$$typeof===O)return Ue(e)}throw Error(n(438,String(e)))}function Lh(e){var r=null,a=Ut.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var u=Ut.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Kl(),Ut.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(e),u=0;u<e;u++)a[u]=at;return r.index++,a}function dr(e,r){return typeof r=="function"?r(e):r}function Jl(e){var r=ye();return Ph(r,Jt,e)}function Ph(e,r,a){var u=e.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=a;var f=e.baseQueue,d=u.pending;if(d!==null){if(f!==null){var v=f.next;f.next=d.next,d.next=v}r.baseQueue=f=d,u.pending=null}if(d=e.baseState,f===null)e.memoizedState=d;else{r=f.next;var S=v=null,P=null,W=r,et=!1;do{var st=W.lane&-536870913;if(st!==W.lane?(Ht&st)===st:(fr&st)===st){var K=W.revertLane;if(K===0)P!==null&&(P=P.next={lane:0,revertLane:0,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),st===bs&&(et=!0);else if((fr&K)===K){W=W.next,K===bs&&(et=!0);continue}else st={lane:0,revertLane:W.revertLane,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},P===null?(S=P=st,v=d):P=P.next=st,Ut.lanes|=K,Wr|=K;st=W.action,In&&a(d,st),d=W.hasEagerState?W.eagerState:a(d,st)}else K={lane:st,revertLane:W.revertLane,gesture:W.gesture,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},P===null?(S=P=K,v=d):P=P.next=K,Ut.lanes|=st,Wr|=st;W=W.next}while(W!==null&&W!==r);if(P===null?v=d:P.next=S,!ri(d,e.memoizedState)&&(Ee=!0,et&&(a=Es,a!==null)))throw a;e.memoizedState=d,e.baseState=v,e.baseQueue=P,u.lastRenderedState=d}return f===null&&(u.lanes=0),[e.memoizedState,u.dispatch]}function Fh(e){var r=ye(),a=r.queue;if(a===null)throw Error(n(311));a.lastRenderedReducer=e;var u=a.dispatch,f=a.pending,d=r.memoizedState;if(f!==null){a.pending=null;var v=f=f.next;do d=e(d,v.action),v=v.next;while(v!==f);ri(d,r.memoizedState)||(Ee=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,u]}function Cm(e,r,a){var u=Ut,f=ye(),d=Xt;if(d){if(a===void 0)throw Error(n(407));a=a()}else a=r();var v=!ri((Jt||f).memoizedState,a);if(v&&(f.memoizedState=a,Ee=!0),f=f.queue,Hh(Dm.bind(null,u,f,e),[e]),f.getSnapshot!==r||v||be!==null&&be.memoizedState.tag&1){if(u.flags|=2048,Rs(9,{destroy:void 0},Mm.bind(null,u,f,a,r),null),re===null)throw Error(n(349));d||(fr&127)!==0||Rm(u,r,a)}return a}function Rm(e,r,a){e.flags|=16384,e={getSnapshot:r,value:a},r=Ut.updateQueue,r===null?(r=Kl(),Ut.updateQueue=r,r.stores=[e]):(a=r.stores,a===null?r.stores=[e]:a.push(e))}function Mm(e,r,a,u){r.value=a,r.getSnapshot=u,Om(r)&&Bm(e)}function Dm(e,r,a){return a(function(){Om(r)&&Bm(e)})}function Om(e){var r=e.getSnapshot;e=e.value;try{var a=r();return!ri(e,a)}catch{return!0}}function Bm(e){var r=Sn(e,2);r!==null&&Qe(r,e,2)}function Gh(e){var r=Ve();if(typeof e=="function"){var a=e;if(e=a(),In){ei(!0);try{a()}finally{ei(!1)}}}return r.memoizedState=r.baseState=e,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dr,lastRenderedState:e},r}function Nm(e,r,a,u){return e.baseState=a,Ph(e,Jt,typeof u=="function"?u:dr)}function Zb(e,r,a,u,f){if(io(e))throw Error(n(485));if(e=r.action,e!==null){var d={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};x.T!==null?a(!0):d.isTransition=!1,u(d),a=r.pending,a===null?(d.next=r.pending=d,Im(r,d)):(d.next=a.next,r.pending=a.next=d)}}function Im(e,r){var a=r.action,u=r.payload,f=e.state;if(r.isTransition){var d=x.T,v={};x.T=v;try{var S=a(f,u),P=x.S;P!==null&&P(v,S),Um(e,r,S)}catch(W){zh(e,r,W)}finally{d!==null&&v.types!==null&&(d.types=v.types),x.T=d}}else try{d=a(f,u),Um(e,r,d)}catch(W){zh(e,r,W)}}function Um(e,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(u){Lm(e,r,u)},function(u){return zh(e,r,u)}):Lm(e,r,a)}function Lm(e,r,a){r.status="fulfilled",r.value=a,Pm(r),e.state=a,r=e.pending,r!==null&&(a=r.next,a===r?e.pending=null:(a=a.next,r.next=a,Im(e,a)))}function zh(e,r,a){var u=e.pending;if(e.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=a,Pm(r),r=r.next;while(r!==u)}e.action=null}function Pm(e){e=e.listeners;for(var r=0;r<e.length;r++)(0,e[r])()}function Fm(e,r){return r}function Gm(e,r){if(Xt){var a=re.formState;if(a!==null){t:{var u=Ut;if(Xt){if(ne){e:{for(var f=ne,d=_i;f.nodeType!==8;){if(!d){f=null;break e}if(f=bi(f.nextSibling),f===null){f=null;break e}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){ne=bi(f.nextSibling),u=f.data==="F!";break t}}zr(u)}u=!1}u&&(r=a[0])}}return a=Ve(),a.memoizedState=a.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fm,lastRenderedState:r},a.queue=u,a=ng.bind(null,Ut,u),u.dispatch=a,u=Gh(!1),d=qh.bind(null,Ut,!1,u.queue),u=Ve(),f={state:r,dispatch:null,action:e,pending:null},u.queue=f,a=Zb.bind(null,Ut,f,d,a),f.dispatch=a,u.memoizedState=e,[r,a,!1]}function zm(e){var r=ye();return Hm(r,Jt,e)}function Hm(e,r,a){if(r=Ph(e,r,Fm)[0],e=Jl(dr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=Ba(r)}catch(v){throw v===Ts?Xl:v}else u=r;r=ye();var f=r.queue,d=f.dispatch;return a!==r.memoizedState&&(Ut.flags|=2048,Rs(9,{destroy:void 0},Kb.bind(null,f,a),null)),[u,d,e]}function Kb(e,r){e.action=r}function km(e){var r=ye(),a=Jt;if(a!==null)return Hm(r,a,e);ye(),r=r.memoizedState,a=ye();var u=a.queue.dispatch;return a.memoizedState=e,[r,u,!1]}function Rs(e,r,a,u){return e={tag:e,create:a,deps:u,inst:r,next:null},r=Ut.updateQueue,r===null&&(r=Kl(),Ut.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=e.next=e:(u=a.next,a.next=e,e.next=u,r.lastEffect=e),e}function Xm(){return ye().memoizedState}function to(e,r,a,u){var f=Ve();Ut.flags|=e,f.memoizedState=Rs(1|r,{destroy:void 0},a,u===void 0?null:u)}function eo(e,r,a,u){var f=ye();u=u===void 0?null:u;var d=f.memoizedState.inst;Jt!==null&&u!==null&&Oh(u,Jt.memoizedState.deps)?f.memoizedState=Rs(r,d,a,u):(Ut.flags|=e,f.memoizedState=Rs(1|r,d,a,u))}function Vm(e,r){to(8390656,8,e,r)}function Hh(e,r){eo(2048,8,e,r)}function Qb(e){Ut.flags|=4;var r=Ut.updateQueue;if(r===null)r=Kl(),Ut.updateQueue=r,r.events=[e];else{var a=r.events;a===null?r.events=[e]:a.push(e)}}function jm(e){var r=ye().memoizedState;return Qb({ref:r,nextImpl:e}),function(){if(($t&2)!==0)throw Error(n(440));return r.impl.apply(void 0,arguments)}}function qm(e,r){return eo(4,2,e,r)}function Ym(e,r){return eo(4,4,e,r)}function $m(e,r){if(typeof r=="function"){e=e();var a=r(e);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return e=e(),r.current=e,function(){r.current=null}}function Wm(e,r,a){a=a!=null?a.concat([e]):null,eo(4,4,$m.bind(null,r,e),a)}function kh(){}function Zm(e,r){var a=ye();r=r===void 0?null:r;var u=a.memoizedState;return r!==null&&Oh(r,u[1])?u[0]:(a.memoizedState=[e,r],e)}function Km(e,r){var a=ye();r=r===void 0?null:r;var u=a.memoizedState;if(r!==null&&Oh(r,u[1]))return u[0];if(u=e(),In){ei(!0);try{e()}finally{ei(!1)}}return a.memoizedState=[u,r],u}function Xh(e,r,a){return a===void 0||(fr&1073741824)!==0&&(Ht&261930)===0?e.memoizedState=r:(e.memoizedState=a,e=Qg(),Ut.lanes|=e,Wr|=e,a)}function Qm(e,r,a,u){return ri(a,r)?a:Ss.current!==null?(e=Xh(e,a,u),ri(e,r)||(Ee=!0),e):(fr&42)===0||(fr&1073741824)!==0&&(Ht&261930)===0?(Ee=!0,e.memoizedState=a):(e=Qg(),Ut.lanes|=e,Wr|=e,r)}function Jm(e,r,a,u,f){var d=M.p;M.p=d!==0&&8>d?d:8;var v=x.T,S={};x.T=S,qh(e,!1,r,a);try{var P=f(),W=x.S;if(W!==null&&W(S,P),P!==null&&typeof P=="object"&&typeof P.then=="function"){var et=Yb(P,u);Na(e,r,et,ui(e))}else Na(e,r,u,ui(e))}catch(st){Na(e,r,{then:function(){},status:"rejected",reason:st},ui())}finally{M.p=d,v!==null&&S.types!==null&&(v.types=S.types),x.T=v}}function Jb(){}function Vh(e,r,a,u){if(e.tag!==5)throw Error(n(476));var f=tg(e).queue;Jm(e,f,r,C,a===null?Jb:function(){return eg(e),a(u)})}function tg(e){var r=e.memoizedState;if(r!==null)return r;r={memoizedState:C,baseState:C,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:dr,lastRenderedState:C},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:dr,lastRenderedState:a},next:null},e.memoizedState=r,e=e.alternate,e!==null&&(e.memoizedState=r),r}function eg(e){var r=tg(e);r.next===null&&(r=e.alternate.memoizedState),Na(e,r.next.queue,{},ui())}function jh(){return Ue(Za)}function ig(){return ye().memoizedState}function rg(){return ye().memoizedState}function t1(e){for(var r=e.return;r!==null;){switch(r.tag){case 24:case 3:var a=ui();e=Xr(a);var u=Vr(r,e,a);u!==null&&(Qe(u,r,a),Ra(u,r,a)),r={cache:xh()},e.payload=r;return}r=r.return}}function e1(e,r,a){var u=ui();a={lane:u,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},io(e)?sg(r,a):(a=uh(e,r,a,u),a!==null&&(Qe(a,e,u),ag(a,r,u)))}function ng(e,r,a){var u=ui();Na(e,r,a,u)}function Na(e,r,a,u){var f={lane:u,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(io(e))sg(r,f);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var v=r.lastRenderedState,S=d(v,a);if(f.hasEagerState=!0,f.eagerState=S,ri(S,v))return Ll(e,r,f,0),re===null&&Ul(),!1}catch{}finally{}if(a=uh(e,r,f,u),a!==null)return Qe(a,e,u),ag(a,r,u),!0}return!1}function qh(e,r,a,u){if(u={lane:2,revertLane:Ac(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},io(e)){if(r)throw Error(n(479))}else r=uh(e,a,u,2),r!==null&&Qe(r,e,2)}function io(e){var r=e.alternate;return e===Ut||r!==null&&r===Ut}function sg(e,r){ws=Wl=!0;var a=e.pending;a===null?r.next=r:(r.next=a.next,a.next=r),e.pending=r}function ag(e,r,a){if((a&4194048)!==0){var u=r.lanes;u&=e.pendingLanes,a|=u,r.lanes=a,Ur(e,a)}}var Ia={readContext:Ue,use:Ql,useCallback:de,useContext:de,useEffect:de,useImperativeHandle:de,useLayoutEffect:de,useInsertionEffect:de,useMemo:de,useReducer:de,useRef:de,useState:de,useDebugValue:de,useDeferredValue:de,useTransition:de,useSyncExternalStore:de,useId:de,useHostTransitionStatus:de,useFormState:de,useActionState:de,useOptimistic:de,useMemoCache:de,useCacheRefresh:de};Ia.useEffectEvent=de;var lg={readContext:Ue,use:Ql,useCallback:function(e,r){return Ve().memoizedState=[e,r===void 0?null:r],e},useContext:Ue,useEffect:Vm,useImperativeHandle:function(e,r,a){a=a!=null?a.concat([e]):null,to(4194308,4,$m.bind(null,r,e),a)},useLayoutEffect:function(e,r){return to(4194308,4,e,r)},useInsertionEffect:function(e,r){to(4,2,e,r)},useMemo:function(e,r){var a=Ve();r=r===void 0?null:r;var u=e();if(In){ei(!0);try{e()}finally{ei(!1)}}return a.memoizedState=[u,r],u},useReducer:function(e,r,a){var u=Ve();if(a!==void 0){var f=a(r);if(In){ei(!0);try{a(r)}finally{ei(!1)}}}else f=r;return u.memoizedState=u.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},u.queue=e,e=e.dispatch=e1.bind(null,Ut,e),[u.memoizedState,e]},useRef:function(e){var r=Ve();return e={current:e},r.memoizedState=e},useState:function(e){e=Gh(e);var r=e.queue,a=ng.bind(null,Ut,r);return r.dispatch=a,[e.memoizedState,a]},useDebugValue:kh,useDeferredValue:function(e,r){var a=Ve();return Xh(a,e,r)},useTransition:function(){var e=Gh(!1);return e=Jm.bind(null,Ut,e.queue,!0,!1),Ve().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,r,a){var u=Ut,f=Ve();if(Xt){if(a===void 0)throw Error(n(407));a=a()}else{if(a=r(),re===null)throw Error(n(349));(Ht&127)!==0||Rm(u,r,a)}f.memoizedState=a;var d={value:a,getSnapshot:r};return f.queue=d,Vm(Dm.bind(null,u,d,e),[e]),u.flags|=2048,Rs(9,{destroy:void 0},Mm.bind(null,u,d,a,r),null),a},useId:function(){var e=Ve(),r=re.identifierPrefix;if(Xt){var a=ki,u=Hi;a=(u&~(1<<32-q(u)-1)).toString(32)+a,r="_"+r+"R_"+a,a=Zl++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=$b++,r="_"+r+"r_"+a.toString(32)+"_";return e.memoizedState=r},useHostTransitionStatus:jh,useFormState:Gm,useActionState:Gm,useOptimistic:function(e){var r=Ve();r.memoizedState=r.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=qh.bind(null,Ut,!0,a),a.dispatch=r,[e,r]},useMemoCache:Lh,useCacheRefresh:function(){return Ve().memoizedState=t1.bind(null,Ut)},useEffectEvent:function(e){var r=Ve(),a={impl:e};return r.memoizedState=a,function(){if(($t&2)!==0)throw Error(n(440));return a.impl.apply(void 0,arguments)}}},Yh={readContext:Ue,use:Ql,useCallback:Zm,useContext:Ue,useEffect:Hh,useImperativeHandle:Wm,useInsertionEffect:qm,useLayoutEffect:Ym,useMemo:Km,useReducer:Jl,useRef:Xm,useState:function(){return Jl(dr)},useDebugValue:kh,useDeferredValue:function(e,r){var a=ye();return Qm(a,Jt.memoizedState,e,r)},useTransition:function(){var e=Jl(dr)[0],r=ye().memoizedState;return[typeof e=="boolean"?e:Ba(e),r]},useSyncExternalStore:Cm,useId:ig,useHostTransitionStatus:jh,useFormState:zm,useActionState:zm,useOptimistic:function(e,r){var a=ye();return Nm(a,Jt,e,r)},useMemoCache:Lh,useCacheRefresh:rg};Yh.useEffectEvent=jm;var og={readContext:Ue,use:Ql,useCallback:Zm,useContext:Ue,useEffect:Hh,useImperativeHandle:Wm,useInsertionEffect:qm,useLayoutEffect:Ym,useMemo:Km,useReducer:Fh,useRef:Xm,useState:function(){return Fh(dr)},useDebugValue:kh,useDeferredValue:function(e,r){var a=ye();return Jt===null?Xh(a,e,r):Qm(a,Jt.memoizedState,e,r)},useTransition:function(){var e=Fh(dr)[0],r=ye().memoizedState;return[typeof e=="boolean"?e:Ba(e),r]},useSyncExternalStore:Cm,useId:ig,useHostTransitionStatus:jh,useFormState:km,useActionState:km,useOptimistic:function(e,r){var a=ye();return Jt!==null?Nm(a,Jt,e,r):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Lh,useCacheRefresh:rg};og.useEffectEvent=jm;function $h(e,r,a,u){r=e.memoizedState,a=a(u,r),a=a==null?r:y({},r,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Wh={enqueueSetState:function(e,r,a){e=e._reactInternals;var u=ui(),f=Xr(u);f.payload=r,a!=null&&(f.callback=a),r=Vr(e,f,u),r!==null&&(Qe(r,e,u),Ra(r,e,u))},enqueueReplaceState:function(e,r,a){e=e._reactInternals;var u=ui(),f=Xr(u);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=Vr(e,f,u),r!==null&&(Qe(r,e,u),Ra(r,e,u))},enqueueForceUpdate:function(e,r){e=e._reactInternals;var a=ui(),u=Xr(a);u.tag=2,r!=null&&(u.callback=r),r=Vr(e,u,a),r!==null&&(Qe(r,e,a),Ra(r,e,a))}};function ug(e,r,a,u,f,d,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(u,d,v):r.prototype&&r.prototype.isPureReactComponent?!xa(a,u)||!xa(f,d):!0}function hg(e,r,a,u){e=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,u),r.state!==e&&Wh.enqueueReplaceState(r,r.state,null)}function Un(e,r){var a=r;if("ref"in r){a={};for(var u in r)u!=="ref"&&(a[u]=r[u])}if(e=e.defaultProps){a===r&&(a=y({},a));for(var f in e)a[f]===void 0&&(a[f]=e[f])}return a}function cg(e){Il(e)}function fg(e){console.error(e)}function dg(e){Il(e)}function ro(e,r){try{var a=e.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function pg(e,r,a){try{var u=e.onCaughtError;u(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Zh(e,r,a){return a=Xr(a),a.tag=3,a.payload={element:null},a.callback=function(){ro(e,r)},a}function mg(e){return e=Xr(e),e.tag=3,e}function gg(e,r,a,u){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=u.value;e.payload=function(){return f(d)},e.callback=function(){pg(r,a,u)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){pg(r,a,u),typeof f!="function"&&(Zr===null?Zr=new Set([this]):Zr.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function i1(e,r,a,u,f){if(a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=a.alternate,r!==null&&xs(r,a,f,!0),a=si.current,a!==null){switch(a.tag){case 31:case 13:return xi===null?go():a.alternate===null&&pe===0&&(pe=3),a.flags&=-257,a.flags|=65536,a.lanes=f,u===Vl?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([u]):r.add(u),bc(e,u,f)),!1;case 22:return a.flags|=65536,u===Vl?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([u]):a.add(u)),bc(e,u,f)),!1}throw Error(n(435,a.tag))}return bc(e,u,f),go(),!1}if(Xt)return r=si.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,u!==mh&&(e=Error(n(422),{cause:u}),Ta(gi(e,a)))):(u!==mh&&(r=Error(n(423),{cause:u}),Ta(gi(r,a))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,u=gi(u,a),f=Zh(e.stateNode,u,f),wh(e,f),pe!==4&&(pe=2)),!1;var d=Error(n(520),{cause:u});if(d=gi(d,a),ka===null?ka=[d]:ka.push(d),pe!==4&&(pe=2),r===null)return!0;u=gi(u,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,e=f&-f,a.lanes|=e,e=Zh(a.stateNode,u,e),wh(a,e),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Zr===null||!Zr.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=mg(f),gg(f,e,a,u),wh(a,f),!1}a=a.return}while(a!==null);return!1}var Kh=Error(n(461)),Ee=!1;function Le(e,r,a,u){r.child=e===null?xm(r,null,a,u):Nn(r,e.child,a,u)}function yg(e,r,a,u,f){a=a.render;var d=r.ref;if("ref"in u){var v={};for(var S in u)S!=="ref"&&(v[S]=u[S])}else v=u;return Mn(r),u=Bh(e,r,a,v,d,f),S=Nh(),e!==null&&!Ee?(Ih(e,r,f),pr(e,r,f)):(Xt&&S&&dh(r),r.flags|=1,Le(e,r,u,f),r.child)}function vg(e,r,a,u,f){if(e===null){var d=a.type;return typeof d=="function"&&!hh(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,_g(e,r,d,u,f)):(e=Fl(a.type,null,u,r,r.mode,f),e.ref=r.ref,e.return=r,r.child=e)}if(d=e.child,!sc(e,f)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:xa,a(v,u)&&e.ref===r.ref)return pr(e,r,f)}return r.flags|=1,e=or(d,u),e.ref=r.ref,e.return=r,r.child=e}function _g(e,r,a,u,f){if(e!==null){var d=e.memoizedProps;if(xa(d,u)&&e.ref===r.ref)if(Ee=!1,r.pendingProps=u=d,sc(e,f))(e.flags&131072)!==0&&(Ee=!0);else return r.lanes=e.lanes,pr(e,r,f)}return Qh(e,r,a,u,f)}function xg(e,r,a,u){var f=u.children,d=e!==null?e.memoizedState:null;if(e===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,e!==null){for(u=r.child=e.child,f=0;u!==null;)f=f|u.lanes|u.childLanes,u=u.sibling;u=f&~d}else u=0,r.child=null;return bg(e,r,d,a,u)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},e!==null&&kl(r,d!==null?d.cachePool:null),d!==null?Tm(r,d):Rh(),Am(r);else return u=r.lanes=536870912,bg(e,r,d!==null?d.baseLanes|a:a,a,u)}else d!==null?(kl(r,d.cachePool),Tm(r,d),qr(),r.memoizedState=null):(e!==null&&kl(r,null),Rh(),qr());return Le(e,r,f,a),r.child}function Ua(e,r){return e!==null&&e.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function bg(e,r,a,u,f){var d=Eh();return d=d===null?null:{parent:xe._currentValue,pool:d},r.memoizedState={baseLanes:a,cachePool:d},e!==null&&kl(r,null),Rh(),Am(r),e!==null&&xs(e,r,u,!0),r.childLanes=f,null}function no(e,r){return r=ao({mode:r.mode,children:r.children},e.mode),r.ref=e.ref,e.child=r,r.return=e,r}function Eg(e,r,a){return Nn(r,e.child,null,a),e=no(r,r.pendingProps),e.flags|=2,ai(r),r.memoizedState=null,e}function r1(e,r,a){var u=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,e===null){if(Xt){if(u.mode==="hidden")return e=no(r,u),r.lanes=536870912,Ua(null,e);if(Dh(r),(e=ne)?(e=Iy(e,_i),e=e!==null&&e.data==="&"?e:null,e!==null&&(r.memoizedState={dehydrated:e,treeContext:Fr!==null?{id:Hi,overflow:ki}:null,retryLane:536870912,hydrationErrors:null},a=sm(e),a.return=r,r.child=a,Ie=r,ne=null)):e=null,e===null)throw zr(r);return r.lanes=536870912,null}return no(r,u)}var d=e.memoizedState;if(d!==null){var v=d.dehydrated;if(Dh(r),f)if(r.flags&256)r.flags&=-257,r=Eg(e,r,a);else if(r.memoizedState!==null)r.child=e.child,r.flags|=128,r=null;else throw Error(n(558));else if(Ee||xs(e,r,a,!1),f=(a&e.childLanes)!==0,Ee||f){if(u=re,u!==null&&(v=is(u,a),v!==0&&v!==d.retryLane))throw d.retryLane=v,Sn(e,v),Qe(u,e,v),Kh;go(),r=Eg(e,r,a)}else e=d.treeContext,ne=bi(v.nextSibling),Ie=r,Xt=!0,Gr=null,_i=!1,e!==null&&om(r,e),r=no(r,u),r.flags|=4096;return r}return e=or(e.child,{mode:u.mode,children:u.children}),e.ref=r.ref,r.child=e,e.return=r,e}function so(e,r){var a=r.ref;if(a===null)e!==null&&e.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(n(284));(e===null||e.ref!==a)&&(r.flags|=4194816)}}function Qh(e,r,a,u,f){return Mn(r),a=Bh(e,r,a,u,void 0,f),u=Nh(),e!==null&&!Ee?(Ih(e,r,f),pr(e,r,f)):(Xt&&u&&dh(r),r.flags|=1,Le(e,r,a,f),r.child)}function Tg(e,r,a,u,f,d){return Mn(r),r.updateQueue=null,a=wm(r,u,a,f),Sm(e),u=Nh(),e!==null&&!Ee?(Ih(e,r,d),pr(e,r,d)):(Xt&&u&&dh(r),r.flags|=1,Le(e,r,a,d),r.child)}function Ag(e,r,a,u,f){if(Mn(r),r.stateNode===null){var d=gs,v=a.contextType;typeof v=="object"&&v!==null&&(d=Ue(v)),d=new a(u,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Wh,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=u,d.state=r.memoizedState,d.refs={},Ah(r),v=a.contextType,d.context=typeof v=="object"&&v!==null?Ue(v):gs,d.state=r.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&($h(r,a,v,u),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Wh.enqueueReplaceState(d,d.state,null),Da(r,u,d,f),Ma(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(e===null){d=r.stateNode;var S=r.memoizedProps,P=Un(a,S);d.props=P;var W=d.context,et=a.contextType;v=gs,typeof et=="object"&&et!==null&&(v=Ue(et));var st=a.getDerivedStateFromProps;et=typeof st=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=r.pendingProps!==S,et||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||W!==v)&&hg(r,d,u,v),kr=!1;var K=r.memoizedState;d.state=K,Da(r,u,d,f),Ma(),W=r.memoizedState,S||K!==W||kr?(typeof st=="function"&&($h(r,a,st,u),W=r.memoizedState),(P=kr||ug(r,a,P,u,K,W,v))?(et||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=W),d.props=u,d.state=W,d.context=v,u=P):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{d=r.stateNode,Sh(e,r),v=r.memoizedProps,et=Un(a,v),d.props=et,st=r.pendingProps,K=d.context,W=a.contextType,P=gs,typeof W=="object"&&W!==null&&(P=Ue(W)),S=a.getDerivedStateFromProps,(W=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==st||K!==P)&&hg(r,d,u,P),kr=!1,K=r.memoizedState,d.state=K,Da(r,u,d,f),Ma();var tt=r.memoizedState;v!==st||K!==tt||kr||e!==null&&e.dependencies!==null&&zl(e.dependencies)?(typeof S=="function"&&($h(r,a,S,u),tt=r.memoizedState),(et=kr||ug(r,a,et,u,K,tt,P)||e!==null&&e.dependencies!==null&&zl(e.dependencies))?(W||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(u,tt,P),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(u,tt,P)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&K===e.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&K===e.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=tt),d.props=u,d.state=tt,d.context=P,u=et):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&K===e.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&K===e.memoizedState||(r.flags|=1024),u=!1)}return d=u,so(e,r),u=(r.flags&128)!==0,d||u?(d=r.stateNode,a=u&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,e!==null&&u?(r.child=Nn(r,e.child,null,f),r.child=Nn(r,null,a,f)):Le(e,r,a,f),r.memoizedState=d.state,e=r.child):e=pr(e,r,f),e}function Sg(e,r,a,u){return Cn(),r.flags|=256,Le(e,r,a,u),r.child}var Jh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function tc(e){return{baseLanes:e,cachePool:pm()}}function ec(e,r,a){return e=e!==null?e.childLanes&~a:0,r&&(e|=oi),e}function wg(e,r,a){var u=r.pendingProps,f=!1,d=(r.flags&128)!==0,v;if((v=d)||(v=e!==null&&e.memoizedState===null?!1:(ge.current&2)!==0),v&&(f=!0,r.flags&=-129),v=(r.flags&32)!==0,r.flags&=-33,e===null){if(Xt){if(f?jr(r):qr(),(e=ne)?(e=Iy(e,_i),e=e!==null&&e.data!=="&"?e:null,e!==null&&(r.memoizedState={dehydrated:e,treeContext:Fr!==null?{id:Hi,overflow:ki}:null,retryLane:536870912,hydrationErrors:null},a=sm(e),a.return=r,r.child=a,Ie=r,ne=null)):e=null,e===null)throw zr(r);return Pc(e)?r.lanes=32:r.lanes=536870912,null}var S=u.children;return u=u.fallback,f?(qr(),f=r.mode,S=ao({mode:"hidden",children:S},f),u=wn(u,f,a,null),S.return=r,u.return=r,S.sibling=u,r.child=S,u=r.child,u.memoizedState=tc(a),u.childLanes=ec(e,v,a),r.memoizedState=Jh,Ua(null,u)):(jr(r),ic(r,S))}var P=e.memoizedState;if(P!==null&&(S=P.dehydrated,S!==null)){if(d)r.flags&256?(jr(r),r.flags&=-257,r=rc(e,r,a)):r.memoizedState!==null?(qr(),r.child=e.child,r.flags|=128,r=null):(qr(),S=u.fallback,f=r.mode,u=ao({mode:"visible",children:u.children},f),S=wn(S,f,a,null),S.flags|=2,u.return=r,S.return=r,u.sibling=S,r.child=u,Nn(r,e.child,null,a),u=r.child,u.memoizedState=tc(a),u.childLanes=ec(e,v,a),r.memoizedState=Jh,r=Ua(null,u));else if(jr(r),Pc(S)){if(v=S.nextSibling&&S.nextSibling.dataset,v)var W=v.dgst;v=W,u=Error(n(419)),u.stack="",u.digest=v,Ta({value:u,source:null,stack:null}),r=rc(e,r,a)}else if(Ee||xs(e,r,a,!1),v=(a&e.childLanes)!==0,Ee||v){if(v=re,v!==null&&(u=is(v,a),u!==0&&u!==P.retryLane))throw P.retryLane=u,Sn(e,u),Qe(v,e,u),Kh;Lc(S)||go(),r=rc(e,r,a)}else Lc(S)?(r.flags|=192,r.child=e.child,r=null):(e=P.treeContext,ne=bi(S.nextSibling),Ie=r,Xt=!0,Gr=null,_i=!1,e!==null&&om(r,e),r=ic(r,u.children),r.flags|=4096);return r}return f?(qr(),S=u.fallback,f=r.mode,P=e.child,W=P.sibling,u=or(P,{mode:"hidden",children:u.children}),u.subtreeFlags=P.subtreeFlags&65011712,W!==null?S=or(W,S):(S=wn(S,f,a,null),S.flags|=2),S.return=r,u.return=r,u.sibling=S,r.child=u,Ua(null,u),u=r.child,S=e.child.memoizedState,S===null?S=tc(a):(f=S.cachePool,f!==null?(P=xe._currentValue,f=f.parent!==P?{parent:P,pool:P}:f):f=pm(),S={baseLanes:S.baseLanes|a,cachePool:f}),u.memoizedState=S,u.childLanes=ec(e,v,a),r.memoizedState=Jh,Ua(e.child,u)):(jr(r),a=e.child,e=a.sibling,a=or(a,{mode:"visible",children:u.children}),a.return=r,a.sibling=null,e!==null&&(v=r.deletions,v===null?(r.deletions=[e],r.flags|=16):v.push(e)),r.child=a,r.memoizedState=null,a)}function ic(e,r){return r=ao({mode:"visible",children:r},e.mode),r.return=e,e.child=r}function ao(e,r){return e=ni(22,e,null,r),e.lanes=0,e}function rc(e,r,a){return Nn(r,e.child,null,a),e=ic(r,r.pendingProps.children),e.flags|=2,r.memoizedState=null,e}function Cg(e,r,a){e.lanes|=r;var u=e.alternate;u!==null&&(u.lanes|=r),vh(e.return,r,a)}function nc(e,r,a,u,f,d){var v=e.memoizedState;v===null?e.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:f,treeForkCount:d}:(v.isBackwards=r,v.rendering=null,v.renderingStartTime=0,v.last=u,v.tail=a,v.tailMode=f,v.treeForkCount=d)}function Rg(e,r,a){var u=r.pendingProps,f=u.revealOrder,d=u.tail;u=u.children;var v=ge.current,S=(v&2)!==0;if(S?(v=v&1|2,r.flags|=128):v&=1,F(ge,v),Le(e,r,u,a),u=Xt?Ea:0,!S&&e!==null&&(e.flags&128)!==0)t:for(e=r.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Cg(e,a,r);else if(e.tag===19)Cg(e,a,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break t;for(;e.sibling===null;){if(e.return===null||e.return===r)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(f){case"forwards":for(a=r.child,f=null;a!==null;)e=a.alternate,e!==null&&$l(e)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),nc(r,!1,f,a,d,u);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(e=f.alternate,e!==null&&$l(e)===null){r.child=f;break}e=f.sibling,f.sibling=a,a=f,f=e}nc(r,!0,a,null,d,u);break;case"together":nc(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function pr(e,r,a){if(e!==null&&(r.dependencies=e.dependencies),Wr|=r.lanes,(a&r.childLanes)===0)if(e!==null){if(xs(e,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(e!==null&&r.child!==e.child)throw Error(n(153));if(r.child!==null){for(e=r.child,a=or(e,e.pendingProps),r.child=a,a.return=r;e.sibling!==null;)e=e.sibling,a=a.sibling=or(e,e.pendingProps),a.return=r;a.sibling=null}return r.child}function sc(e,r){return(e.lanes&r)!==0?!0:(e=e.dependencies,!!(e!==null&&zl(e)))}function n1(e,r,a){switch(r.tag){case 3:dt(r,r.stateNode.containerInfo),Hr(r,xe,e.memoizedState.cache),Cn();break;case 27:case 5:ut(r);break;case 4:dt(r,r.stateNode.containerInfo);break;case 10:Hr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Dh(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(jr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?wg(e,r,a):(jr(r),e=pr(e,r,a),e!==null?e.sibling:null);jr(r);break;case 19:var f=(e.flags&128)!==0;if(u=(a&r.childLanes)!==0,u||(xs(e,r,a,!1),u=(a&r.childLanes)!==0),f){if(u)return Rg(e,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),F(ge,ge.current),u)break;return null;case 22:return r.lanes=0,xg(e,r,a,r.pendingProps);case 24:Hr(r,xe,e.memoizedState.cache)}return pr(e,r,a)}function Mg(e,r,a){if(e!==null)if(e.memoizedProps!==r.pendingProps)Ee=!0;else{if(!sc(e,a)&&(r.flags&128)===0)return Ee=!1,n1(e,r,a);Ee=(e.flags&131072)!==0}else Ee=!1,Xt&&(r.flags&1048576)!==0&&lm(r,Ea,r.index);switch(r.lanes=0,r.tag){case 16:t:{var u=r.pendingProps;if(e=On(r.elementType),r.type=e,typeof e=="function")hh(e)?(u=Un(e,u),r.tag=1,r=Ag(null,r,e,u,a)):(r.tag=0,r=Qh(null,r,e,u,a));else{if(e!=null){var f=e.$$typeof;if(f===L){r.tag=11,r=yg(null,r,e,u,a);break t}else if(f===D){r.tag=14,r=vg(null,r,e,u,a);break t}}throw r=Z(e)||e,Error(n(306,r,""))}}return r;case 0:return Qh(e,r,r.type,r.pendingProps,a);case 1:return u=r.type,f=Un(u,r.pendingProps),Ag(e,r,u,f,a);case 3:t:{if(dt(r,r.stateNode.containerInfo),e===null)throw Error(n(387));u=r.pendingProps;var d=r.memoizedState;f=d.element,Sh(e,r),Da(r,u,null,a);var v=r.memoizedState;if(u=v.cache,Hr(r,xe,u),u!==d.cache&&_h(r,[xe],a,!0),Ma(),u=v.element,d.isDehydrated)if(d={element:u,isDehydrated:!1,cache:v.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=Sg(e,r,u,a);break t}else if(u!==f){f=gi(Error(n(424)),r),Ta(f),r=Sg(e,r,u,a);break t}else{switch(e=r.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ne=bi(e.firstChild),Ie=r,Xt=!0,Gr=null,_i=!0,a=xm(r,null,u,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Cn(),u===f){r=pr(e,r,a);break t}Le(e,r,u,a)}r=r.child}return r;case 26:return so(e,r),e===null?(a=zy(r.type,null,r.pendingProps,null))?r.memoizedState=a:Xt||(a=r.type,e=r.pendingProps,u=To(it.current).createElement(a),u[me]=r,u[Ne]=e,Pe(u,a,e),Re(u),r.stateNode=u):r.memoizedState=zy(r.type,e.memoizedProps,r.pendingProps,e.memoizedState),null;case 27:return ut(r),e===null&&Xt&&(u=r.stateNode=Py(r.type,r.pendingProps,it.current),Ie=r,_i=!0,f=ne,tn(r.type)?(Fc=f,ne=bi(u.firstChild)):ne=f),Le(e,r,r.pendingProps.children,a),so(e,r),e===null&&(r.flags|=4194304),r.child;case 5:return e===null&&Xt&&((f=u=ne)&&(u=I1(u,r.type,r.pendingProps,_i),u!==null?(r.stateNode=u,Ie=r,ne=bi(u.firstChild),_i=!1,f=!0):f=!1),f||zr(r)),ut(r),f=r.type,d=r.pendingProps,v=e!==null?e.memoizedProps:null,u=d.children,Nc(f,d)?u=null:v!==null&&Nc(f,v)&&(r.flags|=32),r.memoizedState!==null&&(f=Bh(e,r,Wb,null,null,a),Za._currentValue=f),so(e,r),Le(e,r,u,a),r.child;case 6:return e===null&&Xt&&((e=a=ne)&&(a=U1(a,r.pendingProps,_i),a!==null?(r.stateNode=a,Ie=r,ne=null,e=!0):e=!1),e||zr(r)),null;case 13:return wg(e,r,a);case 4:return dt(r,r.stateNode.containerInfo),u=r.pendingProps,e===null?r.child=Nn(r,null,u,a):Le(e,r,u,a),r.child;case 11:return yg(e,r,r.type,r.pendingProps,a);case 7:return Le(e,r,r.pendingProps,a),r.child;case 8:return Le(e,r,r.pendingProps.children,a),r.child;case 12:return Le(e,r,r.pendingProps.children,a),r.child;case 10:return u=r.pendingProps,Hr(r,r.type,u.value),Le(e,r,u.children,a),r.child;case 9:return f=r.type._context,u=r.pendingProps.children,Mn(r),f=Ue(f),u=u(f),r.flags|=1,Le(e,r,u,a),r.child;case 14:return vg(e,r,r.type,r.pendingProps,a);case 15:return _g(e,r,r.type,r.pendingProps,a);case 19:return Rg(e,r,a);case 31:return r1(e,r,a);case 22:return xg(e,r,a,r.pendingProps);case 24:return Mn(r),u=Ue(xe),e===null?(f=Eh(),f===null&&(f=re,d=xh(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),r.memoizedState={parent:u,cache:f},Ah(r),Hr(r,xe,f)):((e.lanes&a)!==0&&(Sh(e,r),Da(r,null,null,a),Ma()),f=e.memoizedState,d=r.memoizedState,f.parent!==u?(f={parent:u,cache:u},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Hr(r,xe,u)):(u=d.cache,Hr(r,xe,u),u!==f.cache&&_h(r,[xe],a,!0))),Le(e,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(n(156,r.tag))}function mr(e){e.flags|=4}function ac(e,r,a,u,f){if((r=(e.mode&32)!==0)&&(r=!1),r){if(e.flags|=16777216,(f&335544128)===f)if(e.stateNode.complete)e.flags|=8192;else if(iy())e.flags|=8192;else throw Bn=Vl,Th}else e.flags&=-16777217}function Dg(e,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!jy(r))if(iy())e.flags|=8192;else throw Bn=Vl,Th}function lo(e,r){r!==null&&(e.flags|=4),e.flags&16384&&(r=e.tag!==22?ir():536870912,e.lanes|=r,Bs|=r)}function La(e,r){if(!Xt)switch(e.tailMode){case"hidden":r=e.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?r||e.tail===null?e.tail=null:e.tail.sibling=null:u.sibling=null}}function se(e){var r=e.alternate!==null&&e.alternate.child===e.child,a=0,u=0;if(r)for(var f=e.child;f!==null;)a|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)a|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=u,e.childLanes=a,r}function s1(e,r,a){var u=r.pendingProps;switch(ph(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return se(r),null;case 1:return se(r),null;case 3:return a=r.stateNode,u=null,e!==null&&(u=e.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),cr(xe),ft(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(_s(r)?mr(r):e===null||e.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,gh())),se(r),null;case 26:var f=r.type,d=r.memoizedState;return e===null?(mr(r),d!==null?(se(r),Dg(r,d)):(se(r),ac(r,f,null,u,a))):d?d!==e.memoizedState?(mr(r),se(r),Dg(r,d)):(se(r),r.flags&=-16777217):(e=e.memoizedProps,e!==u&&mr(r),se(r),ac(r,f,e,u,a)),null;case 27:if(yt(r),a=it.current,f=r.type,e!==null&&r.stateNode!=null)e.memoizedProps!==u&&mr(r);else{if(!u){if(r.stateNode===null)throw Error(n(166));return se(r),null}e=V.current,_s(r)?um(r):(e=Py(f,u,a),r.stateNode=e,mr(r))}return se(r),null;case 5:if(yt(r),f=r.type,e!==null&&r.stateNode!=null)e.memoizedProps!==u&&mr(r);else{if(!u){if(r.stateNode===null)throw Error(n(166));return se(r),null}if(d=V.current,_s(r))um(r);else{var v=To(it.current);switch(d){case 1:d=v.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=v.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=v.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof u.is=="string"?v.createElement("select",{is:u.is}):v.createElement("select"),u.multiple?d.multiple=!0:u.size&&(d.size=u.size);break;default:d=typeof u.is=="string"?v.createElement(f,{is:u.is}):v.createElement(f)}}d[me]=r,d[Ne]=u;t:for(v=r.child;v!==null;){if(v.tag===5||v.tag===6)d.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===r)break t;for(;v.sibling===null;){if(v.return===null||v.return===r)break t;v=v.return}v.sibling.return=v.return,v=v.sibling}r.stateNode=d;t:switch(Pe(d,f,u),f){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break t;case"img":u=!0;break t;default:u=!1}u&&mr(r)}}return se(r),ac(r,r.type,e===null?null:e.memoizedProps,r.pendingProps,a),null;case 6:if(e&&r.stateNode!=null)e.memoizedProps!==u&&mr(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(n(166));if(e=it.current,_s(r)){if(e=r.stateNode,a=r.memoizedProps,u=null,f=Ie,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}e[me]=r,e=!!(e.nodeValue===a||u!==null&&u.suppressHydrationWarning===!0||wy(e.nodeValue,a)),e||zr(r,!0)}else e=To(e).createTextNode(u),e[me]=r,r.stateNode=e}return se(r),null;case 31:if(a=r.memoizedState,e===null||e.memoizedState!==null){if(u=_s(r),a!==null){if(e===null){if(!u)throw Error(n(318));if(e=r.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(n(557));e[me]=r}else Cn(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;se(r),e=!1}else a=gh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return r.flags&256?(ai(r),r):(ai(r),null);if((r.flags&128)!==0)throw Error(n(558))}return se(r),null;case 13:if(u=r.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=_s(r),u!==null&&u.dehydrated!==null){if(e===null){if(!f)throw Error(n(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(n(317));f[me]=r}else Cn(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;se(r),f=!1}else f=gh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(ai(r),r):(ai(r),null)}return ai(r),(r.flags&128)!==0?(r.lanes=a,r):(a=u!==null,e=e!==null&&e.memoizedState!==null,a&&(u=r.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool),d=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(d=u.memoizedState.cachePool.pool),d!==f&&(u.flags|=2048)),a!==e&&a&&(r.child.flags|=8192),lo(r,r.updateQueue),se(r),null);case 4:return ft(),e===null&&Rc(r.stateNode.containerInfo),se(r),null;case 10:return cr(r.type),se(r),null;case 19:if(N(ge),u=r.memoizedState,u===null)return se(r),null;if(f=(r.flags&128)!==0,d=u.rendering,d===null)if(f)La(u,!1);else{if(pe!==0||e!==null&&(e.flags&128)!==0)for(e=r.child;e!==null;){if(d=$l(e),d!==null){for(r.flags|=128,La(u,!1),e=d.updateQueue,r.updateQueue=e,lo(r,e),r.subtreeFlags=0,e=a,a=r.child;a!==null;)nm(a,e),a=a.sibling;return F(ge,ge.current&1|2),Xt&&ur(r,u.treeForkCount),r.child}e=e.sibling}u.tail!==null&&_e()>fo&&(r.flags|=128,f=!0,La(u,!1),r.lanes=4194304)}else{if(!f)if(e=$l(d),e!==null){if(r.flags|=128,f=!0,e=e.updateQueue,r.updateQueue=e,lo(r,e),La(u,!0),u.tail===null&&u.tailMode==="hidden"&&!d.alternate&&!Xt)return se(r),null}else 2*_e()-u.renderingStartTime>fo&&a!==536870912&&(r.flags|=128,f=!0,La(u,!1),r.lanes=4194304);u.isBackwards?(d.sibling=r.child,r.child=d):(e=u.last,e!==null?e.sibling=d:r.child=d,u.last=d)}return u.tail!==null?(e=u.tail,u.rendering=e,u.tail=e.sibling,u.renderingStartTime=_e(),e.sibling=null,a=ge.current,F(ge,f?a&1|2:a&1),Xt&&ur(r,u.treeForkCount),e):(se(r),null);case 22:case 23:return ai(r),Mh(),u=r.memoizedState!==null,e!==null?e.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(a&536870912)!==0&&(r.flags&128)===0&&(se(r),r.subtreeFlags&6&&(r.flags|=8192)):se(r),a=r.updateQueue,a!==null&&lo(r,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==a&&(r.flags|=2048),e!==null&&N(Dn),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),cr(xe),se(r),null;case 25:return null;case 30:return null}throw Error(n(156,r.tag))}function a1(e,r){switch(ph(r),r.tag){case 1:return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 3:return cr(xe),ft(),e=r.flags,(e&65536)!==0&&(e&128)===0?(r.flags=e&-65537|128,r):null;case 26:case 27:case 5:return yt(r),null;case 31:if(r.memoizedState!==null){if(ai(r),r.alternate===null)throw Error(n(340));Cn()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 13:if(ai(r),e=r.memoizedState,e!==null&&e.dehydrated!==null){if(r.alternate===null)throw Error(n(340));Cn()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 19:return N(ge),null;case 4:return ft(),null;case 10:return cr(r.type),null;case 22:case 23:return ai(r),Mh(),e!==null&&N(Dn),e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 24:return cr(xe),null;case 25:return null;default:return null}}function Og(e,r){switch(ph(r),r.tag){case 3:cr(xe),ft();break;case 26:case 27:case 5:yt(r);break;case 4:ft();break;case 31:r.memoizedState!==null&&ai(r);break;case 13:ai(r);break;case 19:N(ge);break;case 10:cr(r.type);break;case 22:case 23:ai(r),Mh(),e!==null&&N(Dn);break;case 24:cr(xe)}}function Pa(e,r){try{var a=r.updateQueue,u=a!==null?a.lastEffect:null;if(u!==null){var f=u.next;a=f;do{if((a.tag&e)===e){u=void 0;var d=a.create,v=a.inst;u=d(),v.destroy=u}a=a.next}while(a!==f)}}catch(S){Kt(r,r.return,S)}}function Yr(e,r,a){try{var u=r.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var d=f.next;u=d;do{if((u.tag&e)===e){var v=u.inst,S=v.destroy;if(S!==void 0){v.destroy=void 0,f=r;var P=a,W=S;try{W()}catch(et){Kt(f,P,et)}}}u=u.next}while(u!==d)}}catch(et){Kt(r,r.return,et)}}function Bg(e){var r=e.updateQueue;if(r!==null){var a=e.stateNode;try{Em(r,a)}catch(u){Kt(e,e.return,u)}}}function Ng(e,r,a){a.props=Un(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(u){Kt(e,r,u)}}function Fa(e,r){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var u=e.stateNode;break;case 30:u=e.stateNode;break;default:u=e.stateNode}typeof a=="function"?e.refCleanup=a(u):a.current=u}}catch(f){Kt(e,r,f)}}function Xi(e,r){var a=e.ref,u=e.refCleanup;if(a!==null)if(typeof u=="function")try{u()}catch(f){Kt(e,r,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Kt(e,r,f)}else a.current=null}function Ig(e){var r=e.type,a=e.memoizedProps,u=e.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&u.focus();break t;case"img":a.src?u.src=a.src:a.srcSet&&(u.srcset=a.srcSet)}}catch(f){Kt(e,e.return,f)}}function lc(e,r,a){try{var u=e.stateNode;R1(u,e.type,a,r),u[Ne]=r}catch(f){Kt(e,e.return,f)}}function Ug(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&tn(e.type)||e.tag===4}function oc(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Ug(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&tn(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function uc(e,r,a){var u=e.tag;if(u===5||u===6)e=e.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(e),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=ar));else if(u!==4&&(u===27&&tn(e.type)&&(a=e.stateNode,r=null),e=e.child,e!==null))for(uc(e,r,a),e=e.sibling;e!==null;)uc(e,r,a),e=e.sibling}function oo(e,r,a){var u=e.tag;if(u===5||u===6)e=e.stateNode,r?a.insertBefore(e,r):a.appendChild(e);else if(u!==4&&(u===27&&tn(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(oo(e,r,a),e=e.sibling;e!==null;)oo(e,r,a),e=e.sibling}function Lg(e){var r=e.stateNode,a=e.memoizedProps;try{for(var u=e.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);Pe(r,u,a),r[me]=e,r[Ne]=a}catch(d){Kt(e,e.return,d)}}var gr=!1,Te=!1,hc=!1,Pg=typeof WeakSet=="function"?WeakSet:Set,Me=null;function l1(e,r){if(e=e.containerInfo,Oc=Do,e=Wp(e),rh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var f=u.anchorOffset,d=u.focusNode;u=u.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var v=0,S=-1,P=-1,W=0,et=0,st=e,K=null;e:for(;;){for(var tt;st!==a||f!==0&&st.nodeType!==3||(S=v+f),st!==d||u!==0&&st.nodeType!==3||(P=v+u),st.nodeType===3&&(v+=st.nodeValue.length),(tt=st.firstChild)!==null;)K=st,st=tt;for(;;){if(st===e)break e;if(K===a&&++W===f&&(S=v),K===d&&++et===u&&(P=v),(tt=st.nextSibling)!==null)break;st=K,K=st.parentNode}st=tt}a=S===-1||P===-1?null:{start:S,end:P}}else a=null}a=a||{start:0,end:0}}else a=null;for(Bc={focusedElem:e,selectionRange:a},Do=!1,Me=r;Me!==null;)if(r=Me,e=r.child,(r.subtreeFlags&1028)!==0&&e!==null)e.return=r,Me=e;else for(;Me!==null;){switch(r=Me,d=r.alternate,e=r.flags,r.tag){case 0:if((e&4)!==0&&(e=r.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)f=e[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=r,f=d.memoizedProps,d=d.memoizedState,u=a.stateNode;try{var vt=Un(a.type,f);e=u.getSnapshotBeforeUpdate(vt,d),u.__reactInternalSnapshotBeforeUpdate=e}catch(Mt){Kt(a,a.return,Mt)}}break;case 3:if((e&1024)!==0){if(e=r.stateNode.containerInfo,a=e.nodeType,a===9)Uc(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Uc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(n(163))}if(e=r.sibling,e!==null){e.return=r.return,Me=e;break}Me=r.return}}function Fg(e,r,a){var u=a.flags;switch(a.tag){case 0:case 11:case 15:vr(e,a),u&4&&Pa(5,a);break;case 1:if(vr(e,a),u&4)if(e=a.stateNode,r===null)try{e.componentDidMount()}catch(v){Kt(a,a.return,v)}else{var f=Un(a.type,r.memoizedProps);r=r.memoizedState;try{e.componentDidUpdate(f,r,e.__reactInternalSnapshotBeforeUpdate)}catch(v){Kt(a,a.return,v)}}u&64&&Bg(a),u&512&&Fa(a,a.return);break;case 3:if(vr(e,a),u&64&&(e=a.updateQueue,e!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Em(e,r)}catch(v){Kt(a,a.return,v)}}break;case 27:r===null&&u&4&&Lg(a);case 26:case 5:vr(e,a),r===null&&u&4&&Ig(a),u&512&&Fa(a,a.return);break;case 12:vr(e,a);break;case 31:vr(e,a),u&4&&Hg(e,a);break;case 13:vr(e,a),u&4&&kg(e,a),u&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=g1.bind(null,a),L1(e,a))));break;case 22:if(u=a.memoizedState!==null||gr,!u){r=r!==null&&r.memoizedState!==null||Te,f=gr;var d=Te;gr=u,(Te=r)&&!d?_r(e,a,(a.subtreeFlags&8772)!==0):vr(e,a),gr=f,Te=d}break;case 30:break;default:vr(e,a)}}function Gg(e){var r=e.alternate;r!==null&&(e.alternate=null,Gg(r)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(r=e.stateNode,r!==null&&ca(r)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var oe=null,$e=!1;function yr(e,r,a){for(a=a.child;a!==null;)zg(e,r,a),a=a.sibling}function zg(e,r,a){if(Be&&typeof Be.onCommitFiberUnmount=="function")try{Be.onCommitFiberUnmount(_n,a)}catch{}switch(a.tag){case 26:Te||Xi(a,r),yr(e,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Te||Xi(a,r);var u=oe,f=$e;tn(a.type)&&(oe=a.stateNode,$e=!1),yr(e,r,a),Ya(a.stateNode),oe=u,$e=f;break;case 5:Te||Xi(a,r);case 6:if(u=oe,f=$e,oe=null,yr(e,r,a),oe=u,$e=f,oe!==null)if($e)try{(oe.nodeType===9?oe.body:oe.nodeName==="HTML"?oe.ownerDocument.body:oe).removeChild(a.stateNode)}catch(d){Kt(a,r,d)}else try{oe.removeChild(a.stateNode)}catch(d){Kt(a,r,d)}break;case 18:oe!==null&&($e?(e=oe,By(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),zs(e)):By(oe,a.stateNode));break;case 4:u=oe,f=$e,oe=a.stateNode.containerInfo,$e=!0,yr(e,r,a),oe=u,$e=f;break;case 0:case 11:case 14:case 15:Yr(2,a,r),Te||Yr(4,a,r),yr(e,r,a);break;case 1:Te||(Xi(a,r),u=a.stateNode,typeof u.componentWillUnmount=="function"&&Ng(a,r,u)),yr(e,r,a);break;case 21:yr(e,r,a);break;case 22:Te=(u=Te)||a.memoizedState!==null,yr(e,r,a),Te=u;break;default:yr(e,r,a)}}function Hg(e,r){if(r.memoizedState===null&&(e=r.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{zs(e)}catch(a){Kt(r,r.return,a)}}}function kg(e,r){if(r.memoizedState===null&&(e=r.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{zs(e)}catch(a){Kt(r,r.return,a)}}function o1(e){switch(e.tag){case 31:case 13:case 19:var r=e.stateNode;return r===null&&(r=e.stateNode=new Pg),r;case 22:return e=e.stateNode,r=e._retryCache,r===null&&(r=e._retryCache=new Pg),r;default:throw Error(n(435,e.tag))}}function uo(e,r){var a=o1(e);r.forEach(function(u){if(!a.has(u)){a.add(u);var f=y1.bind(null,e,u);u.then(f,f)}})}function We(e,r){var a=r.deletions;if(a!==null)for(var u=0;u<a.length;u++){var f=a[u],d=e,v=r,S=v;t:for(;S!==null;){switch(S.tag){case 27:if(tn(S.type)){oe=S.stateNode,$e=!1;break t}break;case 5:oe=S.stateNode,$e=!1;break t;case 3:case 4:oe=S.stateNode.containerInfo,$e=!0;break t}S=S.return}if(oe===null)throw Error(n(160));zg(d,v,f),oe=null,$e=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)Xg(r,e),r=r.sibling}var Ri=null;function Xg(e,r){var a=e.alternate,u=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:We(r,e),Ze(e),u&4&&(Yr(3,e,e.return),Pa(3,e),Yr(5,e,e.return));break;case 1:We(r,e),Ze(e),u&512&&(Te||a===null||Xi(a,a.return)),u&64&&gr&&(e=e.updateQueue,e!==null&&(u=e.callbacks,u!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?u:a.concat(u))));break;case 26:var f=Ri;if(We(r,e),Ze(e),u&512&&(Te||a===null||Xi(a,a.return)),u&4){var d=a!==null?a.memoizedState:null;if(u=e.memoizedState,a===null)if(u===null)if(e.stateNode===null){t:{u=e.type,a=e.memoizedProps,f=f.ownerDocument||f;e:switch(u){case"title":d=f.getElementsByTagName("title")[0],(!d||d[zi]||d[me]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(u),f.head.insertBefore(d,f.querySelector("head > title"))),Pe(d,u,a),d[me]=e,Re(d),u=d;break t;case"link":var v=Xy("link","href",f).get(u+(a.href||""));if(v){for(var S=0;S<v.length;S++)if(d=v[S],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(S,1);break e}}d=f.createElement(u),Pe(d,u,a),f.head.appendChild(d);break;case"meta":if(v=Xy("meta","content",f).get(u+(a.content||""))){for(S=0;S<v.length;S++)if(d=v[S],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(S,1);break e}}d=f.createElement(u),Pe(d,u,a),f.head.appendChild(d);break;default:throw Error(n(468,u))}d[me]=e,Re(d),u=d}e.stateNode=u}else Vy(f,e.type,e.stateNode);else e.stateNode=ky(f,u,e.memoizedProps);else d!==u?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,u===null?Vy(f,e.type,e.stateNode):ky(f,u,e.memoizedProps)):u===null&&e.stateNode!==null&&lc(e,e.memoizedProps,a.memoizedProps)}break;case 27:We(r,e),Ze(e),u&512&&(Te||a===null||Xi(a,a.return)),a!==null&&u&4&&lc(e,e.memoizedProps,a.memoizedProps);break;case 5:if(We(r,e),Ze(e),u&512&&(Te||a===null||Xi(a,a.return)),e.flags&32){f=e.stateNode;try{us(f,"")}catch(vt){Kt(e,e.return,vt)}}u&4&&e.stateNode!=null&&(f=e.memoizedProps,lc(e,f,a!==null?a.memoizedProps:f)),u&1024&&(hc=!0);break;case 6:if(We(r,e),Ze(e),u&4){if(e.stateNode===null)throw Error(n(162));u=e.memoizedProps,a=e.stateNode;try{a.nodeValue=u}catch(vt){Kt(e,e.return,vt)}}break;case 3:if(wo=null,f=Ri,Ri=Ao(r.containerInfo),We(r,e),Ri=f,Ze(e),u&4&&a!==null&&a.memoizedState.isDehydrated)try{zs(r.containerInfo)}catch(vt){Kt(e,e.return,vt)}hc&&(hc=!1,Vg(e));break;case 4:u=Ri,Ri=Ao(e.stateNode.containerInfo),We(r,e),Ze(e),Ri=u;break;case 12:We(r,e),Ze(e);break;case 31:We(r,e),Ze(e),u&4&&(u=e.updateQueue,u!==null&&(e.updateQueue=null,uo(e,u)));break;case 13:We(r,e),Ze(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(co=_e()),u&4&&(u=e.updateQueue,u!==null&&(e.updateQueue=null,uo(e,u)));break;case 22:f=e.memoizedState!==null;var P=a!==null&&a.memoizedState!==null,W=gr,et=Te;if(gr=W||f,Te=et||P,We(r,e),Te=et,gr=W,Ze(e),u&8192)t:for(r=e.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||P||gr||Te||Ln(e)),a=null,r=e;;){if(r.tag===5||r.tag===26){if(a===null){P=a=r;try{if(d=P.stateNode,f)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{S=P.stateNode;var st=P.memoizedProps.style,K=st!=null&&st.hasOwnProperty("display")?st.display:null;S.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(vt){Kt(P,P.return,vt)}}}else if(r.tag===6){if(a===null){P=r;try{P.stateNode.nodeValue=f?"":P.memoizedProps}catch(vt){Kt(P,P.return,vt)}}}else if(r.tag===18){if(a===null){P=r;try{var tt=P.stateNode;f?Ny(tt,!0):Ny(P.stateNode,!1)}catch(vt){Kt(P,P.return,vt)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===e)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break t;for(;r.sibling===null;){if(r.return===null||r.return===e)break t;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=e.updateQueue,u!==null&&(a=u.retryQueue,a!==null&&(u.retryQueue=null,uo(e,a))));break;case 19:We(r,e),Ze(e),u&4&&(u=e.updateQueue,u!==null&&(e.updateQueue=null,uo(e,u)));break;case 30:break;case 21:break;default:We(r,e),Ze(e)}}function Ze(e){var r=e.flags;if(r&2){try{for(var a,u=e.return;u!==null;){if(Ug(u)){a=u;break}u=u.return}if(a==null)throw Error(n(160));switch(a.tag){case 27:var f=a.stateNode,d=oc(e);oo(e,d,f);break;case 5:var v=a.stateNode;a.flags&32&&(us(v,""),a.flags&=-33);var S=oc(e);oo(e,S,v);break;case 3:case 4:var P=a.stateNode.containerInfo,W=oc(e);uc(e,W,P);break;default:throw Error(n(161))}}catch(et){Kt(e,e.return,et)}e.flags&=-3}r&4096&&(e.flags&=-4097)}function Vg(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var r=e;Vg(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),e=e.sibling}}function vr(e,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Fg(e,r.alternate,r),r=r.sibling}function Ln(e){for(e=e.child;e!==null;){var r=e;switch(r.tag){case 0:case 11:case 14:case 15:Yr(4,r,r.return),Ln(r);break;case 1:Xi(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&Ng(r,r.return,a),Ln(r);break;case 27:Ya(r.stateNode);case 26:case 5:Xi(r,r.return),Ln(r);break;case 22:r.memoizedState===null&&Ln(r);break;case 30:Ln(r);break;default:Ln(r)}e=e.sibling}}function _r(e,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,f=e,d=r,v=d.flags;switch(d.tag){case 0:case 11:case 15:_r(f,d,a),Pa(4,d);break;case 1:if(_r(f,d,a),u=d,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(W){Kt(u,u.return,W)}if(u=d,f=u.updateQueue,f!==null){var S=u.stateNode;try{var P=f.shared.hiddenCallbacks;if(P!==null)for(f.shared.hiddenCallbacks=null,f=0;f<P.length;f++)bm(P[f],S)}catch(W){Kt(u,u.return,W)}}a&&v&64&&Bg(d),Fa(d,d.return);break;case 27:Lg(d);case 26:case 5:_r(f,d,a),a&&u===null&&v&4&&Ig(d),Fa(d,d.return);break;case 12:_r(f,d,a);break;case 31:_r(f,d,a),a&&v&4&&Hg(f,d);break;case 13:_r(f,d,a),a&&v&4&&kg(f,d);break;case 22:d.memoizedState===null&&_r(f,d,a),Fa(d,d.return);break;case 30:break;default:_r(f,d,a)}r=r.sibling}}function cc(e,r){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(e=r.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Aa(a))}function fc(e,r){e=null,r.alternate!==null&&(e=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==e&&(r.refCount++,e!=null&&Aa(e))}function Mi(e,r,a,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)jg(e,r,a,u),r=r.sibling}function jg(e,r,a,u){var f=r.flags;switch(r.tag){case 0:case 11:case 15:Mi(e,r,a,u),f&2048&&Pa(9,r);break;case 1:Mi(e,r,a,u);break;case 3:Mi(e,r,a,u),f&2048&&(e=null,r.alternate!==null&&(e=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==e&&(r.refCount++,e!=null&&Aa(e)));break;case 12:if(f&2048){Mi(e,r,a,u),e=r.stateNode;try{var d=r.memoizedProps,v=d.id,S=d.onPostCommit;typeof S=="function"&&S(v,r.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(P){Kt(r,r.return,P)}}else Mi(e,r,a,u);break;case 31:Mi(e,r,a,u);break;case 13:Mi(e,r,a,u);break;case 23:break;case 22:d=r.stateNode,v=r.alternate,r.memoizedState!==null?d._visibility&2?Mi(e,r,a,u):Ga(e,r):d._visibility&2?Mi(e,r,a,u):(d._visibility|=2,Ms(e,r,a,u,(r.subtreeFlags&10256)!==0||!1)),f&2048&&cc(v,r);break;case 24:Mi(e,r,a,u),f&2048&&fc(r.alternate,r);break;default:Mi(e,r,a,u)}}function Ms(e,r,a,u,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var d=e,v=r,S=a,P=u,W=v.flags;switch(v.tag){case 0:case 11:case 15:Ms(d,v,S,P,f),Pa(8,v);break;case 23:break;case 22:var et=v.stateNode;v.memoizedState!==null?et._visibility&2?Ms(d,v,S,P,f):Ga(d,v):(et._visibility|=2,Ms(d,v,S,P,f)),f&&W&2048&&cc(v.alternate,v);break;case 24:Ms(d,v,S,P,f),f&&W&2048&&fc(v.alternate,v);break;default:Ms(d,v,S,P,f)}r=r.sibling}}function Ga(e,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=e,u=r,f=u.flags;switch(u.tag){case 22:Ga(a,u),f&2048&&cc(u.alternate,u);break;case 24:Ga(a,u),f&2048&&fc(u.alternate,u);break;default:Ga(a,u)}r=r.sibling}}var za=8192;function Ds(e,r,a){if(e.subtreeFlags&za)for(e=e.child;e!==null;)qg(e,r,a),e=e.sibling}function qg(e,r,a){switch(e.tag){case 26:Ds(e,r,a),e.flags&za&&e.memoizedState!==null&&$1(a,Ri,e.memoizedState,e.memoizedProps);break;case 5:Ds(e,r,a);break;case 3:case 4:var u=Ri;Ri=Ao(e.stateNode.containerInfo),Ds(e,r,a),Ri=u;break;case 22:e.memoizedState===null&&(u=e.alternate,u!==null&&u.memoizedState!==null?(u=za,za=16777216,Ds(e,r,a),za=u):Ds(e,r,a));break;default:Ds(e,r,a)}}function Yg(e){var r=e.alternate;if(r!==null&&(e=r.child,e!==null)){r.child=null;do r=e.sibling,e.sibling=null,e=r;while(e!==null)}}function Ha(e){var r=e.deletions;if((e.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var u=r[a];Me=u,Wg(u,e)}Yg(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)$g(e),e=e.sibling}function $g(e){switch(e.tag){case 0:case 11:case 15:Ha(e),e.flags&2048&&Yr(9,e,e.return);break;case 3:Ha(e);break;case 12:Ha(e);break;case 22:var r=e.stateNode;e.memoizedState!==null&&r._visibility&2&&(e.return===null||e.return.tag!==13)?(r._visibility&=-3,ho(e)):Ha(e);break;default:Ha(e)}}function ho(e){var r=e.deletions;if((e.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var u=r[a];Me=u,Wg(u,e)}Yg(e)}for(e=e.child;e!==null;){switch(r=e,r.tag){case 0:case 11:case 15:Yr(8,r,r.return),ho(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,ho(r));break;default:ho(r)}e=e.sibling}}function Wg(e,r){for(;Me!==null;){var a=Me;switch(a.tag){case 0:case 11:case 15:Yr(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var u=a.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Aa(a.memoizedState.cache)}if(u=a.child,u!==null)u.return=a,Me=u;else t:for(a=e;Me!==null;){u=Me;var f=u.sibling,d=u.return;if(Gg(u),u===a){Me=null;break t}if(f!==null){f.return=d,Me=f;break t}Me=d}}}var u1={getCacheForType:function(e){var r=Ue(xe),a=r.data.get(e);return a===void 0&&(a=e(),r.data.set(e,a)),a},cacheSignal:function(){return Ue(xe).controller.signal}},h1=typeof WeakMap=="function"?WeakMap:Map,$t=0,re=null,Ft=null,Ht=0,Zt=0,li=null,$r=!1,Os=!1,dc=!1,xr=0,pe=0,Wr=0,Pn=0,pc=0,oi=0,Bs=0,ka=null,Ke=null,mc=!1,co=0,Zg=0,fo=1/0,po=null,Zr=null,Se=0,Kr=null,Ns=null,br=0,gc=0,yc=null,Kg=null,Xa=0,vc=null;function ui(){return($t&2)!==0&&Ht!==0?Ht&-Ht:x.T!==null?Ac():rs()}function Qg(){if(oi===0)if((Ht&536870912)===0||Xt){var e=Bt;Bt<<=1,(Bt&3932160)===0&&(Bt=262144),oi=e}else oi=536870912;return e=si.current,e!==null&&(e.flags|=32),oi}function Qe(e,r,a){(e===re&&(Zt===2||Zt===9)||e.cancelPendingCommit!==null)&&(Is(e,0),Qr(e,Ht,oi,!1)),Ir(e,a),(($t&2)===0||e!==re)&&(e===re&&(($t&2)===0&&(Pn|=a),pe===4&&Qr(e,Ht,oi,!1)),Vi(e))}function Jg(e,r,a){if(($t&6)!==0)throw Error(n(327));var u=!a&&(r&127)===0&&(r&e.expiredLanes)===0||qe(e,r),f=u?d1(e,r):xc(e,r,!0),d=u;do{if(f===0){Os&&!u&&Qr(e,r,0,!1);break}else{if(a=e.current.alternate,d&&!c1(a)){f=xc(e,r,!1),d=!1;continue}if(f===2){if(d=r,e.errorRecoveryDisabledLanes&d)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){r=v;t:{var S=e;f=ka;var P=S.current.memoizedState.isDehydrated;if(P&&(Is(S,v).flags|=256),v=xc(S,v,!1),v!==2){if(dc&&!P){S.errorRecoveryDisabledLanes|=d,Pn|=d,f=4;break t}d=Ke,Ke=f,d!==null&&(Ke===null?Ke=d:Ke.push.apply(Ke,d))}f=v}if(d=!1,f!==2)continue}}if(f===1){Is(e,0),Qr(e,r,0,!0);break}t:{switch(u=e,d=f,d){case 0:case 1:throw Error(n(345));case 4:if((r&4194048)!==r)break;case 6:Qr(u,r,oi,!$r);break t;case 2:Ke=null;break;case 3:case 5:break;default:throw Error(n(329))}if((r&62914560)===r&&(f=co+300-_e(),10<f)){if(Qr(u,r,oi,!$r),Ce(u,0,!0)!==0)break t;br=r,u.timeoutHandle=Dy(ty.bind(null,u,a,Ke,po,mc,r,oi,Pn,Bs,$r,d,"Throttled",-0,0),f);break t}ty(u,a,Ke,po,mc,r,oi,Pn,Bs,$r,d,null,-0,0)}}break}while(!0);Vi(e)}function ty(e,r,a,u,f,d,v,S,P,W,et,st,K,tt){if(e.timeoutHandle=-1,st=r.subtreeFlags,st&8192||(st&16785408)===16785408){st={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ar},qg(r,d,st);var vt=(d&62914560)===d?co-_e():(d&4194048)===d?Zg-_e():0;if(vt=W1(st,vt),vt!==null){br=d,e.cancelPendingCommit=vt(oy.bind(null,e,r,d,a,u,f,v,S,P,et,st,null,K,tt)),Qr(e,d,v,!W);return}}oy(e,r,d,a,u,f,v,S,P)}function c1(e){for(var r=e;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var u=0;u<a.length;u++){var f=a[u],d=f.getSnapshot;f=f.value;try{if(!ri(d(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Qr(e,r,a,u){r&=~pc,r&=~Pn,e.suspendedLanes|=r,e.pingedLanes&=~r,u&&(e.warmLanes|=r),u=e.expirationTimes;for(var f=r;0<f;){var d=31-q(f),v=1<<d;u[d]=-1,f&=~v}a!==0&&oa(e,a,r)}function mo(){return($t&6)===0?(Va(0),!1):!0}function _c(){if(Ft!==null){if(Zt===0)var e=Ft.return;else e=Ft,hr=Rn=null,Uh(e),As=null,wa=0,e=Ft;for(;e!==null;)Og(e.alternate,e),e=e.return;Ft=null}}function Is(e,r){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,O1(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),br=0,_c(),re=e,Ft=a=or(e.current,null),Ht=r,Zt=0,li=null,$r=!1,Os=qe(e,r),dc=!1,Bs=oi=pc=Pn=Wr=pe=0,Ke=ka=null,mc=!1,(r&8)!==0&&(r|=r&32);var u=e.entangledLanes;if(u!==0)for(e=e.entanglements,u&=r;0<u;){var f=31-q(u),d=1<<f;r|=e[f],u&=~d}return xr=r,Ul(),a}function ey(e,r){Ut=null,x.H=Ia,r===Ts||r===Xl?(r=ym(),Zt=3):r===Th?(r=ym(),Zt=4):Zt=r===Kh?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,li=r,Ft===null&&(pe=1,ro(e,gi(r,e.current)))}function iy(){var e=si.current;return e===null?!0:(Ht&4194048)===Ht?xi===null:(Ht&62914560)===Ht||(Ht&536870912)!==0?e===xi:!1}function ry(){var e=x.H;return x.H=Ia,e===null?Ia:e}function ny(){var e=x.A;return x.A=u1,e}function go(){pe=4,$r||(Ht&4194048)!==Ht&&si.current!==null||(Os=!0),(Wr&134217727)===0&&(Pn&134217727)===0||re===null||Qr(re,Ht,oi,!1)}function xc(e,r,a){var u=$t;$t|=2;var f=ry(),d=ny();(re!==e||Ht!==r)&&(po=null,Is(e,r)),r=!1;var v=pe;t:do try{if(Zt!==0&&Ft!==null){var S=Ft,P=li;switch(Zt){case 8:_c(),v=6;break t;case 3:case 2:case 9:case 6:si.current===null&&(r=!0);var W=Zt;if(Zt=0,li=null,Us(e,S,P,W),a&&Os){v=0;break t}break;default:W=Zt,Zt=0,li=null,Us(e,S,P,W)}}f1(),v=pe;break}catch(et){ey(e,et)}while(!0);return r&&e.shellSuspendCounter++,hr=Rn=null,$t=u,x.H=f,x.A=d,Ft===null&&(re=null,Ht=0,Ul()),v}function f1(){for(;Ft!==null;)sy(Ft)}function d1(e,r){var a=$t;$t|=2;var u=ry(),f=ny();re!==e||Ht!==r?(po=null,fo=_e()+500,Is(e,r)):Os=qe(e,r);t:do try{if(Zt!==0&&Ft!==null){r=Ft;var d=li;e:switch(Zt){case 1:Zt=0,li=null,Us(e,r,d,1);break;case 2:case 9:if(mm(d)){Zt=0,li=null,ay(r);break}r=function(){Zt!==2&&Zt!==9||re!==e||(Zt=7),Vi(e)},d.then(r,r);break t;case 3:Zt=7;break t;case 4:Zt=5;break t;case 7:mm(d)?(Zt=0,li=null,ay(r)):(Zt=0,li=null,Us(e,r,d,7));break;case 5:var v=null;switch(Ft.tag){case 26:v=Ft.memoizedState;case 5:case 27:var S=Ft;if(v?jy(v):S.stateNode.complete){Zt=0,li=null;var P=S.sibling;if(P!==null)Ft=P;else{var W=S.return;W!==null?(Ft=W,yo(W)):Ft=null}break e}}Zt=0,li=null,Us(e,r,d,5);break;case 6:Zt=0,li=null,Us(e,r,d,6);break;case 8:_c(),pe=6;break t;default:throw Error(n(462))}}p1();break}catch(et){ey(e,et)}while(!0);return hr=Rn=null,x.H=u,x.A=f,$t=a,Ft!==null?0:(re=null,Ht=0,Ul(),pe)}function p1(){for(;Ft!==null&&!Br();)sy(Ft)}function sy(e){var r=Mg(e.alternate,e,xr);e.memoizedProps=e.pendingProps,r===null?yo(e):Ft=r}function ay(e){var r=e,a=r.alternate;switch(r.tag){case 15:case 0:r=Tg(a,r,r.pendingProps,r.type,void 0,Ht);break;case 11:r=Tg(a,r,r.pendingProps,r.type.render,r.ref,Ht);break;case 5:Uh(r);default:Og(a,r),r=Ft=nm(r,xr),r=Mg(a,r,xr)}e.memoizedProps=e.pendingProps,r===null?yo(e):Ft=r}function Us(e,r,a,u){hr=Rn=null,Uh(r),As=null,wa=0;var f=r.return;try{if(i1(e,f,r,a,Ht)){pe=1,ro(e,gi(a,e.current)),Ft=null;return}}catch(d){if(f!==null)throw Ft=f,d;pe=1,ro(e,gi(a,e.current)),Ft=null;return}r.flags&32768?(Xt||u===1?e=!0:Os||(Ht&536870912)!==0?e=!1:($r=e=!0,(u===2||u===9||u===3||u===6)&&(u=si.current,u!==null&&u.tag===13&&(u.flags|=16384))),ly(r,e)):yo(r)}function yo(e){var r=e;do{if((r.flags&32768)!==0){ly(r,$r);return}e=r.return;var a=s1(r.alternate,r,xr);if(a!==null){Ft=a;return}if(r=r.sibling,r!==null){Ft=r;return}Ft=r=e}while(r!==null);pe===0&&(pe=5)}function ly(e,r){do{var a=a1(e.alternate,e);if(a!==null){a.flags&=32767,Ft=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(e=e.sibling,e!==null)){Ft=e;return}Ft=e=a}while(e!==null);pe=6,Ft=null}function oy(e,r,a,u,f,d,v,S,P){e.cancelPendingCommit=null;do vo();while(Se!==0);if(($t&6)!==0)throw Error(n(327));if(r!==null){if(r===e.current)throw Error(n(177));if(d=r.lanes|r.childLanes,d|=oh,Tl(e,a,d,v,S,P),e===re&&(Ft=re=null,Ht=0),Ns=r,Kr=e,br=a,gc=d,yc=f,Kg=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,v1(ts,function(){return dy(),null})):(e.callbackNode=null,e.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=x.T,x.T=null,f=M.p,M.p=2,v=$t,$t|=4;try{l1(e,r,a)}finally{$t=v,M.p=f,x.T=u}}Se=1,uy(),hy(),cy()}}function uy(){if(Se===1){Se=0;var e=Kr,r=Ns,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=x.T,x.T=null;var u=M.p;M.p=2;var f=$t;$t|=4;try{Xg(r,e);var d=Bc,v=Wp(e.containerInfo),S=d.focusedElem,P=d.selectionRange;if(v!==S&&S&&S.ownerDocument&&$p(S.ownerDocument.documentElement,S)){if(P!==null&&rh(S)){var W=P.start,et=P.end;if(et===void 0&&(et=W),"selectionStart"in S)S.selectionStart=W,S.selectionEnd=Math.min(et,S.value.length);else{var st=S.ownerDocument||document,K=st&&st.defaultView||window;if(K.getSelection){var tt=K.getSelection(),vt=S.textContent.length,Mt=Math.min(P.start,vt),ee=P.end===void 0?Mt:Math.min(P.end,vt);!tt.extend&&Mt>ee&&(v=ee,ee=Mt,Mt=v);var k=Yp(S,Mt),G=Yp(S,ee);if(k&&G&&(tt.rangeCount!==1||tt.anchorNode!==k.node||tt.anchorOffset!==k.offset||tt.focusNode!==G.node||tt.focusOffset!==G.offset)){var $=st.createRange();$.setStart(k.node,k.offset),tt.removeAllRanges(),Mt>ee?(tt.addRange($),tt.extend(G.node,G.offset)):($.setEnd(G.node,G.offset),tt.addRange($))}}}}for(st=[],tt=S;tt=tt.parentNode;)tt.nodeType===1&&st.push({element:tt,left:tt.scrollLeft,top:tt.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<st.length;S++){var nt=st[S];nt.element.scrollLeft=nt.left,nt.element.scrollTop=nt.top}}Do=!!Oc,Bc=Oc=null}finally{$t=f,M.p=u,x.T=a}}e.current=r,Se=2}}function hy(){if(Se===2){Se=0;var e=Kr,r=Ns,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=x.T,x.T=null;var u=M.p;M.p=2;var f=$t;$t|=4;try{Fg(e,r.alternate,r)}finally{$t=f,M.p=u,x.T=a}}Se=3}}function cy(){if(Se===4||Se===3){Se=0,Nr();var e=Kr,r=Ns,a=br,u=Kg;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Se=5:(Se=0,Ns=Kr=null,fy(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(Zr=null),xn(a),r=r.stateNode,Be&&typeof Be.onCommitFiberRoot=="function")try{Be.onCommitFiberRoot(_n,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=x.T,f=M.p,M.p=2,x.T=null;try{for(var d=e.onRecoverableError,v=0;v<u.length;v++){var S=u[v];d(S.value,{componentStack:S.stack})}}finally{x.T=r,M.p=f}}(br&3)!==0&&vo(),Vi(e),f=e.pendingLanes,(a&261930)!==0&&(f&42)!==0?e===vc?Xa++:(Xa=0,vc=e):Xa=0,Va(0)}}function fy(e,r){(e.pooledCacheLanes&=r)===0&&(r=e.pooledCache,r!=null&&(e.pooledCache=null,Aa(r)))}function vo(){return uy(),hy(),cy(),dy()}function dy(){if(Se!==5)return!1;var e=Kr,r=gc;gc=0;var a=xn(br),u=x.T,f=M.p;try{M.p=32>a?32:a,x.T=null,a=yc,yc=null;var d=Kr,v=br;if(Se=0,Ns=Kr=null,br=0,($t&6)!==0)throw Error(n(331));var S=$t;if($t|=4,$g(d.current),jg(d,d.current,v,a),$t=S,Va(0,!1),Be&&typeof Be.onPostCommitFiberRoot=="function")try{Be.onPostCommitFiberRoot(_n,d)}catch{}return!0}finally{M.p=f,x.T=u,fy(e,r)}}function py(e,r,a){r=gi(a,r),r=Zh(e.stateNode,r,2),e=Vr(e,r,2),e!==null&&(Ir(e,2),Vi(e))}function Kt(e,r,a){if(e.tag===3)py(e,e,a);else for(;r!==null;){if(r.tag===3){py(r,e,a);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Zr===null||!Zr.has(u))){e=gi(a,e),a=mg(2),u=Vr(r,a,2),u!==null&&(gg(a,u,r,e),Ir(u,2),Vi(u));break}}r=r.return}}function bc(e,r,a){var u=e.pingCache;if(u===null){u=e.pingCache=new h1;var f=new Set;u.set(r,f)}else f=u.get(r),f===void 0&&(f=new Set,u.set(r,f));f.has(a)||(dc=!0,f.add(a),e=m1.bind(null,e,r,a),r.then(e,e))}function m1(e,r,a){var u=e.pingCache;u!==null&&u.delete(r),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,re===e&&(Ht&a)===a&&(pe===4||pe===3&&(Ht&62914560)===Ht&&300>_e()-co?($t&2)===0&&Is(e,0):pc|=a,Bs===Ht&&(Bs=0)),Vi(e)}function my(e,r){r===0&&(r=ir()),e=Sn(e,r),e!==null&&(Ir(e,r),Vi(e))}function g1(e){var r=e.memoizedState,a=0;r!==null&&(a=r.retryLane),my(e,a)}function y1(e,r){var a=0;switch(e.tag){case 31:case 13:var u=e.stateNode,f=e.memoizedState;f!==null&&(a=f.retryLane);break;case 19:u=e.stateNode;break;case 22:u=e.stateNode._retryCache;break;default:throw Error(n(314))}u!==null&&u.delete(r),my(e,a)}function v1(e,r){return fi(e,r)}var _o=null,Ls=null,Ec=!1,xo=!1,Tc=!1,Jr=0;function Vi(e){e!==Ls&&e.next===null&&(Ls===null?_o=Ls=e:Ls=Ls.next=e),xo=!0,Ec||(Ec=!0,x1())}function Va(e,r){if(!Tc&&xo){Tc=!0;do for(var a=!1,u=_o;u!==null;){if(e!==0){var f=u.pendingLanes;if(f===0)var d=0;else{var v=u.suspendedLanes,S=u.pingedLanes;d=(1<<31-q(42|e)+1)-1,d&=f&~(v&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,_y(u,d))}else d=Ht,d=Ce(u,u===re?d:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(d&3)===0||qe(u,d)||(a=!0,_y(u,d));u=u.next}while(a);Tc=!1}}function _1(){gy()}function gy(){xo=Ec=!1;var e=0;Jr!==0&&D1()&&(e=Jr);for(var r=_e(),a=null,u=_o;u!==null;){var f=u.next,d=yy(u,r);d===0?(u.next=null,a===null?_o=f:a.next=f,f===null&&(Ls=a)):(a=u,(e!==0||(d&3)!==0)&&(xo=!0)),u=f}Se!==0&&Se!==5||Va(e),Jr!==0&&(Jr=0)}function yy(e,r){for(var a=e.suspendedLanes,u=e.pingedLanes,f=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var v=31-q(d),S=1<<v,P=f[v];P===-1?((S&a)===0||(S&u)!==0)&&(f[v]=la(S,r)):P<=r&&(e.expiredLanes|=S),d&=~S}if(r=re,a=Ht,a=Ce(e,e===r?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),u=e.callbackNode,a===0||e===r&&(Zt===2||Zt===9)||e.cancelPendingCommit!==null)return u!==null&&u!==null&&He(u),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||qe(e,a)){if(r=a&-a,r===e.callbackPriority)return r;switch(u!==null&&He(u),xn(a)){case 2:case 8:a=aa;break;case 32:a=ts;break;case 268435456:a=es;break;default:a=ts}return u=vy.bind(null,e),a=fi(a,u),e.callbackPriority=r,e.callbackNode=a,r}return u!==null&&u!==null&&He(u),e.callbackPriority=2,e.callbackNode=null,2}function vy(e,r){if(Se!==0&&Se!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(vo()&&e.callbackNode!==a)return null;var u=Ht;return u=Ce(e,e===re?u:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),u===0?null:(Jg(e,u,r),yy(e,_e()),e.callbackNode!=null&&e.callbackNode===a?vy.bind(null,e):null)}function _y(e,r){if(vo())return null;Jg(e,r,!0)}function x1(){B1(function(){($t&6)!==0?fi(bl,_1):gy()})}function Ac(){if(Jr===0){var e=bs;e===0&&(e=Wt,Wt<<=1,(Wt&261888)===0&&(Wt=256)),Jr=e}return Jr}function xy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Cl(""+e)}function by(e,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,e.id&&a.setAttribute("form",e.id),r.parentNode.insertBefore(a,r),e=new FormData(e),a.parentNode.removeChild(a),e}function b1(e,r,a,u,f){if(r==="submit"&&a&&a.stateNode===f){var d=xy((f[Ne]||null).action),v=u.submitter;v&&(r=(r=v[Ne]||null)?xy(r.formAction):v.getAttribute("formAction"),r!==null&&(d=r,v=null));var S=new Ol("action","action",null,u,f);e.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Jr!==0){var P=v?by(f,v):new FormData(f);Vh(a,{pending:!0,data:P,method:f.method,action:d},null,P)}}else typeof d=="function"&&(S.preventDefault(),P=v?by(f,v):new FormData(f),Vh(a,{pending:!0,data:P,method:f.method,action:d},d,P))},currentTarget:f}]})}}for(var Sc=0;Sc<lh.length;Sc++){var wc=lh[Sc],E1=wc.toLowerCase(),T1=wc[0].toUpperCase()+wc.slice(1);Ci(E1,"on"+T1)}Ci(Qp,"onAnimationEnd"),Ci(Jp,"onAnimationIteration"),Ci(tm,"onAnimationStart"),Ci("dblclick","onDoubleClick"),Ci("focusin","onFocus"),Ci("focusout","onBlur"),Ci(Gb,"onTransitionRun"),Ci(zb,"onTransitionStart"),Ci(Hb,"onTransitionCancel"),Ci(em,"onTransitionEnd"),ls("onMouseEnter",["mouseout","mouseover"]),ls("onMouseLeave",["mouseout","mouseover"]),ls("onPointerEnter",["pointerout","pointerover"]),ls("onPointerLeave",["pointerout","pointerover"]),bn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),bn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),bn("onBeforeInput",["compositionend","keypress","textInput","paste"]),bn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),bn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),bn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ja="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),A1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ja));function Ey(e,r){r=(r&4)!==0;for(var a=0;a<e.length;a++){var u=e[a],f=u.event;u=u.listeners;t:{var d=void 0;if(r)for(var v=u.length-1;0<=v;v--){var S=u[v],P=S.instance,W=S.currentTarget;if(S=S.listener,P!==d&&f.isPropagationStopped())break t;d=S,f.currentTarget=W;try{d(f)}catch(et){Il(et)}f.currentTarget=null,d=P}else for(v=0;v<u.length;v++){if(S=u[v],P=S.instance,W=S.currentTarget,S=S.listener,P!==d&&f.isPropagationStopped())break t;d=S,f.currentTarget=W;try{d(f)}catch(et){Il(et)}f.currentTarget=null,d=P}}}}function Gt(e,r){var a=r[ns];a===void 0&&(a=r[ns]=new Set);var u=e+"__bubble";a.has(u)||(Ty(r,e,2,!1),a.add(u))}function Cc(e,r,a){var u=0;r&&(u|=4),Ty(a,e,u,r)}var bo="_reactListening"+Math.random().toString(36).slice(2);function Rc(e){if(!e[bo]){e[bo]=!0,gp.forEach(function(a){a!=="selectionchange"&&(A1.has(a)||Cc(a,!1,e),Cc(a,!0,e))});var r=e.nodeType===9?e:e.ownerDocument;r===null||r[bo]||(r[bo]=!0,Cc("selectionchange",!1,r))}}function Ty(e,r,a,u){switch(Qy(r)){case 2:var f=Q1;break;case 8:f=J1;break;default:f=Xc}a=f.bind(null,r,a,e),f=void 0,!$u||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),u?f!==void 0?e.addEventListener(r,a,{capture:!0,passive:f}):e.addEventListener(r,a,!0):f!==void 0?e.addEventListener(r,a,{passive:f}):e.addEventListener(r,a,!1)}function Mc(e,r,a,u,f){var d=u;if((r&1)===0&&(r&2)===0&&u!==null)t:for(;;){if(u===null)return;var v=u.tag;if(v===3||v===4){var S=u.stateNode.containerInfo;if(S===f)break;if(v===4)for(v=u.return;v!==null;){var P=v.tag;if((P===3||P===4)&&v.stateNode.containerInfo===f)return;v=v.return}for(;S!==null;){if(v=nr(S),v===null)return;if(P=v.tag,P===5||P===6||P===26||P===27){u=d=v;continue t}S=S.parentNode}}u=u.return}Rp(function(){var W=d,et=qu(a),st=[];t:{var K=im.get(e);if(K!==void 0){var tt=Ol,vt=e;switch(e){case"keypress":if(Ml(a)===0)break t;case"keydown":case"keyup":tt=yb;break;case"focusin":vt="focus",tt=Qu;break;case"focusout":vt="blur",tt=Qu;break;case"beforeblur":case"afterblur":tt=Qu;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":tt=Op;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":tt=sb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":tt=xb;break;case Qp:case Jp:case tm:tt=ob;break;case em:tt=Eb;break;case"scroll":case"scrollend":tt=rb;break;case"wheel":tt=Ab;break;case"copy":case"cut":case"paste":tt=hb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":tt=Np;break;case"toggle":case"beforetoggle":tt=wb}var Mt=(r&4)!==0,ee=!Mt&&(e==="scroll"||e==="scrollend"),k=Mt?K!==null?K+"Capture":null:K;Mt=[];for(var G=W,$;G!==null;){var nt=G;if($=nt.stateNode,nt=nt.tag,nt!==5&&nt!==26&&nt!==27||$===null||k===null||(nt=da(G,k),nt!=null&&Mt.push(qa(G,nt,$))),ee)break;G=G.return}0<Mt.length&&(K=new tt(K,vt,null,a,et),st.push({event:K,listeners:Mt}))}}if((r&7)===0){t:{if(K=e==="mouseover"||e==="pointerover",tt=e==="mouseout"||e==="pointerout",K&&a!==ju&&(vt=a.relatedTarget||a.fromElement)&&(nr(vt)||vt[Gi]))break t;if((tt||K)&&(K=et.window===et?et:(K=et.ownerDocument)?K.defaultView||K.parentWindow:window,tt?(vt=a.relatedTarget||a.toElement,tt=W,vt=vt?nr(vt):null,vt!==null&&(ee=o(vt),Mt=vt.tag,vt!==ee||Mt!==5&&Mt!==27&&Mt!==6)&&(vt=null)):(tt=null,vt=W),tt!==vt)){if(Mt=Op,nt="onMouseLeave",k="onMouseEnter",G="mouse",(e==="pointerout"||e==="pointerover")&&(Mt=Np,nt="onPointerLeave",k="onPointerEnter",G="pointer"),ee=tt==null?K:fa(tt),$=vt==null?K:fa(vt),K=new Mt(nt,G+"leave",tt,a,et),K.target=ee,K.relatedTarget=$,nt=null,nr(et)===W&&(Mt=new Mt(k,G+"enter",vt,a,et),Mt.target=$,Mt.relatedTarget=ee,nt=Mt),ee=nt,tt&&vt)e:{for(Mt=S1,k=tt,G=vt,$=0,nt=k;nt;nt=Mt(nt))$++;nt=0;for(var Ct=G;Ct;Ct=Mt(Ct))nt++;for(;0<$-nt;)k=Mt(k),$--;for(;0<nt-$;)G=Mt(G),nt--;for(;$--;){if(k===G||G!==null&&k===G.alternate){Mt=k;break e}k=Mt(k),G=Mt(G)}Mt=null}else Mt=null;tt!==null&&Ay(st,K,tt,Mt,!1),vt!==null&&ee!==null&&Ay(st,ee,vt,Mt,!0)}}t:{if(K=W?fa(W):window,tt=K.nodeName&&K.nodeName.toLowerCase(),tt==="select"||tt==="input"&&K.type==="file")var qt=Hp;else if(Gp(K))if(kp)qt=Lb;else{qt=Ib;var Et=Nb}else tt=K.nodeName,!tt||tt.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?W&&Vu(W.elementType)&&(qt=Hp):qt=Ub;if(qt&&(qt=qt(e,W))){zp(st,qt,a,et);break t}Et&&Et(e,K,W),e==="focusout"&&W&&K.type==="number"&&W.memoizedProps.value!=null&&Xu(K,"number",K.value)}switch(Et=W?fa(W):window,e){case"focusin":(Gp(Et)||Et.contentEditable==="true")&&(ds=Et,nh=W,ba=null);break;case"focusout":ba=nh=ds=null;break;case"mousedown":sh=!0;break;case"contextmenu":case"mouseup":case"dragend":sh=!1,Zp(st,a,et);break;case"selectionchange":if(Fb)break;case"keydown":case"keyup":Zp(st,a,et)}var Pt;if(th)t:{switch(e){case"compositionstart":var kt="onCompositionStart";break t;case"compositionend":kt="onCompositionEnd";break t;case"compositionupdate":kt="onCompositionUpdate";break t}kt=void 0}else fs?Pp(e,a)&&(kt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(kt="onCompositionStart");kt&&(Ip&&a.locale!=="ko"&&(fs||kt!=="onCompositionStart"?kt==="onCompositionEnd"&&fs&&(Pt=Mp()):(Pr=et,Wu="value"in Pr?Pr.value:Pr.textContent,fs=!0)),Et=Eo(W,kt),0<Et.length&&(kt=new Bp(kt,e,null,a,et),st.push({event:kt,listeners:Et}),Pt?kt.data=Pt:(Pt=Fp(a),Pt!==null&&(kt.data=Pt)))),(Pt=Rb?Mb(e,a):Db(e,a))&&(kt=Eo(W,"onBeforeInput"),0<kt.length&&(Et=new Bp("onBeforeInput","beforeinput",null,a,et),st.push({event:Et,listeners:kt}),Et.data=Pt)),b1(st,e,W,a,et)}Ey(st,r)})}function qa(e,r,a){return{instance:e,listener:r,currentTarget:a}}function Eo(e,r){for(var a=r+"Capture",u=[];e!==null;){var f=e,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=da(e,a),f!=null&&u.unshift(qa(e,f,d)),f=da(e,r),f!=null&&u.push(qa(e,f,d))),e.tag===3)return u;e=e.return}return[]}function S1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Ay(e,r,a,u,f){for(var d=r._reactName,v=[];a!==null&&a!==u;){var S=a,P=S.alternate,W=S.stateNode;if(S=S.tag,P!==null&&P===u)break;S!==5&&S!==26&&S!==27||W===null||(P=W,f?(W=da(a,d),W!=null&&v.unshift(qa(a,W,P))):f||(W=da(a,d),W!=null&&v.push(qa(a,W,P)))),a=a.return}v.length!==0&&e.push({event:r,listeners:v})}var w1=/\r\n?/g,C1=/\u0000|\uFFFD/g;function Sy(e){return(typeof e=="string"?e:""+e).replace(w1,`
`).replace(C1,"")}function wy(e,r){return r=Sy(r),Sy(e)===r}function te(e,r,a,u,f,d){switch(a){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||us(e,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&us(e,""+u);break;case"className":Sl(e,"class",u);break;case"tabIndex":Sl(e,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Sl(e,a,u);break;case"style":wp(e,u,d);break;case"data":if(r!=="object"){Sl(e,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||a!=="href")){e.removeAttribute(a);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){e.removeAttribute(a);break}u=Cl(""+u),e.setAttribute(a,u);break;case"action":case"formAction":if(typeof u=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&te(e,r,"name",f.name,f,null),te(e,r,"formEncType",f.formEncType,f,null),te(e,r,"formMethod",f.formMethod,f,null),te(e,r,"formTarget",f.formTarget,f,null)):(te(e,r,"encType",f.encType,f,null),te(e,r,"method",f.method,f,null),te(e,r,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){e.removeAttribute(a);break}u=Cl(""+u),e.setAttribute(a,u);break;case"onClick":u!=null&&(e.onclick=ar);break;case"onScroll":u!=null&&Gt("scroll",e);break;case"onScrollEnd":u!=null&&Gt("scrollend",e);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(n(61));if(a=u.__html,a!=null){if(f.children!=null)throw Error(n(60));e.innerHTML=a}}break;case"multiple":e.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":e.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){e.removeAttribute("xlink:href");break}a=Cl(""+u),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(a,""+u):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":u===!0?e.setAttribute(a,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(a,u):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?e.setAttribute(a,u):e.removeAttribute(a);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?e.removeAttribute(a):e.setAttribute(a,u);break;case"popover":Gt("beforetoggle",e),Gt("toggle",e),Al(e,"popover",u);break;case"xlinkActuate":sr(e,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":sr(e,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":sr(e,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":sr(e,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":sr(e,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":sr(e,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":sr(e,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":sr(e,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":sr(e,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Al(e,"is",u);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=eb.get(a)||a,Al(e,a,u))}}function Dc(e,r,a,u,f,d){switch(a){case"style":wp(e,u,d);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(n(61));if(a=u.__html,a!=null){if(f.children!=null)throw Error(n(60));e.innerHTML=a}}break;case"children":typeof u=="string"?us(e,u):(typeof u=="number"||typeof u=="bigint")&&us(e,""+u);break;case"onScroll":u!=null&&Gt("scroll",e);break;case"onScrollEnd":u!=null&&Gt("scrollend",e);break;case"onClick":u!=null&&(e.onclick=ar);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!yp.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),d=e[Ne]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(r,d,f),typeof u=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(r,u,f);break t}a in e?e[a]=u:u===!0?e.setAttribute(a,""):Al(e,a,u)}}}function Pe(e,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Gt("error",e),Gt("load",e);var u=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,r));default:te(e,r,d,v,a,null)}}f&&te(e,r,"srcSet",a.srcSet,a,null),u&&te(e,r,"src",a.src,a,null);return;case"input":Gt("invalid",e);var S=d=v=f=null,P=null,W=null;for(u in a)if(a.hasOwnProperty(u)){var et=a[u];if(et!=null)switch(u){case"name":f=et;break;case"type":v=et;break;case"checked":P=et;break;case"defaultChecked":W=et;break;case"value":d=et;break;case"defaultValue":S=et;break;case"children":case"dangerouslySetInnerHTML":if(et!=null)throw Error(n(137,r));break;default:te(e,r,u,et,a,null)}}Ep(e,d,S,P,W,v,f,!1);return;case"select":Gt("invalid",e),u=v=d=null;for(f in a)if(a.hasOwnProperty(f)&&(S=a[f],S!=null))switch(f){case"value":d=S;break;case"defaultValue":v=S;break;case"multiple":u=S;default:te(e,r,f,S,a,null)}r=d,a=v,e.multiple=!!u,r!=null?os(e,!!u,r,!1):a!=null&&os(e,!!u,a,!0);return;case"textarea":Gt("invalid",e),d=f=u=null;for(v in a)if(a.hasOwnProperty(v)&&(S=a[v],S!=null))switch(v){case"value":u=S;break;case"defaultValue":f=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(n(91));break;default:te(e,r,v,S,a,null)}Ap(e,u,f,d);return;case"option":for(P in a)if(a.hasOwnProperty(P)&&(u=a[P],u!=null))switch(P){case"selected":e.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:te(e,r,P,u,a,null)}return;case"dialog":Gt("beforetoggle",e),Gt("toggle",e),Gt("cancel",e),Gt("close",e);break;case"iframe":case"object":Gt("load",e);break;case"video":case"audio":for(u=0;u<ja.length;u++)Gt(ja[u],e);break;case"image":Gt("error",e),Gt("load",e);break;case"details":Gt("toggle",e);break;case"embed":case"source":case"link":Gt("error",e),Gt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(W in a)if(a.hasOwnProperty(W)&&(u=a[W],u!=null))switch(W){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,r));default:te(e,r,W,u,a,null)}return;default:if(Vu(r)){for(et in a)a.hasOwnProperty(et)&&(u=a[et],u!==void 0&&Dc(e,r,et,u,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(u=a[S],u!=null&&te(e,r,S,u,a,null))}function R1(e,r,a,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,v=null,S=null,P=null,W=null,et=null;for(tt in a){var st=a[tt];if(a.hasOwnProperty(tt)&&st!=null)switch(tt){case"checked":break;case"value":break;case"defaultValue":P=st;default:u.hasOwnProperty(tt)||te(e,r,tt,null,u,st)}}for(var K in u){var tt=u[K];if(st=a[K],u.hasOwnProperty(K)&&(tt!=null||st!=null))switch(K){case"type":d=tt;break;case"name":f=tt;break;case"checked":W=tt;break;case"defaultChecked":et=tt;break;case"value":v=tt;break;case"defaultValue":S=tt;break;case"children":case"dangerouslySetInnerHTML":if(tt!=null)throw Error(n(137,r));break;default:tt!==st&&te(e,r,K,tt,u,st)}}ku(e,v,S,P,W,et,d,f);return;case"select":tt=v=S=K=null;for(d in a)if(P=a[d],a.hasOwnProperty(d)&&P!=null)switch(d){case"value":break;case"multiple":tt=P;default:u.hasOwnProperty(d)||te(e,r,d,null,u,P)}for(f in u)if(d=u[f],P=a[f],u.hasOwnProperty(f)&&(d!=null||P!=null))switch(f){case"value":K=d;break;case"defaultValue":S=d;break;case"multiple":v=d;default:d!==P&&te(e,r,f,d,u,P)}r=S,a=v,u=tt,K!=null?os(e,!!a,K,!1):!!u!=!!a&&(r!=null?os(e,!!a,r,!0):os(e,!!a,a?[]:"",!1));return;case"textarea":tt=K=null;for(S in a)if(f=a[S],a.hasOwnProperty(S)&&f!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:te(e,r,S,null,u,f)}for(v in u)if(f=u[v],d=a[v],u.hasOwnProperty(v)&&(f!=null||d!=null))switch(v){case"value":K=f;break;case"defaultValue":tt=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(n(91));break;default:f!==d&&te(e,r,v,f,u,d)}Tp(e,K,tt);return;case"option":for(var vt in a)if(K=a[vt],a.hasOwnProperty(vt)&&K!=null&&!u.hasOwnProperty(vt))switch(vt){case"selected":e.selected=!1;break;default:te(e,r,vt,null,u,K)}for(P in u)if(K=u[P],tt=a[P],u.hasOwnProperty(P)&&K!==tt&&(K!=null||tt!=null))switch(P){case"selected":e.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:te(e,r,P,K,u,tt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Mt in a)K=a[Mt],a.hasOwnProperty(Mt)&&K!=null&&!u.hasOwnProperty(Mt)&&te(e,r,Mt,null,u,K);for(W in u)if(K=u[W],tt=a[W],u.hasOwnProperty(W)&&K!==tt&&(K!=null||tt!=null))switch(W){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(n(137,r));break;default:te(e,r,W,K,u,tt)}return;default:if(Vu(r)){for(var ee in a)K=a[ee],a.hasOwnProperty(ee)&&K!==void 0&&!u.hasOwnProperty(ee)&&Dc(e,r,ee,void 0,u,K);for(et in u)K=u[et],tt=a[et],!u.hasOwnProperty(et)||K===tt||K===void 0&&tt===void 0||Dc(e,r,et,K,u,tt);return}}for(var k in a)K=a[k],a.hasOwnProperty(k)&&K!=null&&!u.hasOwnProperty(k)&&te(e,r,k,null,u,K);for(st in u)K=u[st],tt=a[st],!u.hasOwnProperty(st)||K===tt||K==null&&tt==null||te(e,r,st,K,u,tt)}function Cy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function M1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,r=0,a=performance.getEntriesByType("resource"),u=0;u<a.length;u++){var f=a[u],d=f.transferSize,v=f.initiatorType,S=f.duration;if(d&&S&&Cy(v)){for(v=0,S=f.responseEnd,u+=1;u<a.length;u++){var P=a[u],W=P.startTime;if(W>S)break;var et=P.transferSize,st=P.initiatorType;et&&Cy(st)&&(P=P.responseEnd,v+=et*(P<S?1:(S-W)/(P-W)))}if(--u,r+=8*(d+v)/(f.duration/1e3),e++,10<e)break}}if(0<e)return r/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Oc=null,Bc=null;function To(e){return e.nodeType===9?e:e.ownerDocument}function Ry(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function My(e,r){if(e===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&r==="foreignObject"?0:e}function Nc(e,r){return e==="textarea"||e==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Ic=null;function D1(){var e=window.event;return e&&e.type==="popstate"?e===Ic?!1:(Ic=e,!0):(Ic=null,!1)}var Dy=typeof setTimeout=="function"?setTimeout:void 0,O1=typeof clearTimeout=="function"?clearTimeout:void 0,Oy=typeof Promise=="function"?Promise:void 0,B1=typeof queueMicrotask=="function"?queueMicrotask:typeof Oy<"u"?function(e){return Oy.resolve(null).then(e).catch(N1)}:Dy;function N1(e){setTimeout(function(){throw e})}function tn(e){return e==="head"}function By(e,r){var a=r,u=0;do{var f=a.nextSibling;if(e.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(u===0){e.removeChild(f),zs(r);return}u--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")u++;else if(a==="html")Ya(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Ya(a);for(var d=a.firstChild;d;){var v=d.nextSibling,S=d.nodeName;d[zi]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=v}}else a==="body"&&Ya(e.ownerDocument.body);a=f}while(a);zs(r)}function Ny(e,r){var a=e;e=0;do{var u=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),u&&u.nodeType===8)if(a=u.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=u}while(a)}function Uc(e){var r=e.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Uc(a),ca(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function I1(e,r,a,u){for(;e.nodeType===1;){var f=a;if(e.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(u){if(!e[zi])switch(r){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(r==="input"&&e.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=bi(e.nextSibling),e===null)break}return null}function U1(e,r,a){if(r==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=bi(e.nextSibling),e===null))return null;return e}function Iy(e,r){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=bi(e.nextSibling),e===null))return null;return e}function Lc(e){return e.data==="$?"||e.data==="$~"}function Pc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function L1(e,r){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=r;else if(e.data!=="$?"||a.readyState!=="loading")r();else{var u=function(){r(),a.removeEventListener("DOMContentLoaded",u)};a.addEventListener("DOMContentLoaded",u),e._reactRetry=u}}function bi(e){for(;e!=null;e=e.nextSibling){var r=e.nodeType;if(r===1||r===3)break;if(r===8){if(r=e.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return e}var Fc=null;function Uy(e){e=e.nextSibling;for(var r=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(r===0)return bi(e.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}e=e.nextSibling}return null}function Ly(e){e=e.previousSibling;for(var r=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return e;r--}else a!=="/$"&&a!=="/&"||r++}e=e.previousSibling}return null}function Py(e,r,a){switch(r=To(a),e){case"html":if(e=r.documentElement,!e)throw Error(n(452));return e;case"head":if(e=r.head,!e)throw Error(n(453));return e;case"body":if(e=r.body,!e)throw Error(n(454));return e;default:throw Error(n(451))}}function Ya(e){for(var r=e.attributes;r.length;)e.removeAttributeNode(r[0]);ca(e)}var Ei=new Map,Fy=new Set;function Ao(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Er=M.d;M.d={f:P1,r:F1,D:G1,C:z1,L:H1,m:k1,X:V1,S:X1,M:j1};function P1(){var e=Er.f(),r=mo();return e||r}function F1(e){var r=ss(e);r!==null&&r.tag===5&&r.type==="form"?eg(r):Er.r(e)}var Ps=typeof document>"u"?null:document;function Gy(e,r,a){var u=Ps;if(u&&typeof r=="string"&&r){var f=pi(r);f='link[rel="'+e+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),Fy.has(f)||(Fy.add(f),e={rel:e,crossOrigin:a,href:r},u.querySelector(f)===null&&(r=u.createElement("link"),Pe(r,"link",e),Re(r),u.head.appendChild(r)))}}function G1(e){Er.D(e),Gy("dns-prefetch",e,null)}function z1(e,r){Er.C(e,r),Gy("preconnect",e,r)}function H1(e,r,a){Er.L(e,r,a);var u=Ps;if(u&&e&&r){var f='link[rel="preload"][as="'+pi(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+pi(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+pi(a.imageSizes)+'"]')):f+='[href="'+pi(e)+'"]';var d=f;switch(r){case"style":d=Fs(e);break;case"script":d=Gs(e)}Ei.has(d)||(e=y({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:e,as:r},a),Ei.set(d,e),u.querySelector(f)!==null||r==="style"&&u.querySelector($a(d))||r==="script"&&u.querySelector(Wa(d))||(r=u.createElement("link"),Pe(r,"link",e),Re(r),u.head.appendChild(r)))}}function k1(e,r){Er.m(e,r);var a=Ps;if(a&&e){var u=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+pi(u)+'"][href="'+pi(e)+'"]',d=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Gs(e)}if(!Ei.has(d)&&(e=y({rel:"modulepreload",href:e},r),Ei.set(d,e),a.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Wa(d)))return}u=a.createElement("link"),Pe(u,"link",e),Re(u),a.head.appendChild(u)}}}function X1(e,r,a){Er.S(e,r,a);var u=Ps;if(u&&e){var f=as(u).hoistableStyles,d=Fs(e);r=r||"default";var v=f.get(d);if(!v){var S={loading:0,preload:null};if(v=u.querySelector($a(d)))S.loading=5;else{e=y({rel:"stylesheet",href:e,"data-precedence":r},a),(a=Ei.get(d))&&Gc(e,a);var P=v=u.createElement("link");Re(P),Pe(P,"link",e),P._p=new Promise(function(W,et){P.onload=W,P.onerror=et}),P.addEventListener("load",function(){S.loading|=1}),P.addEventListener("error",function(){S.loading|=2}),S.loading|=4,So(v,r,u)}v={type:"stylesheet",instance:v,count:1,state:S},f.set(d,v)}}}function V1(e,r){Er.X(e,r);var a=Ps;if(a&&e){var u=as(a).hoistableScripts,f=Gs(e),d=u.get(f);d||(d=a.querySelector(Wa(f)),d||(e=y({src:e,async:!0},r),(r=Ei.get(f))&&zc(e,r),d=a.createElement("script"),Re(d),Pe(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},u.set(f,d))}}function j1(e,r){Er.M(e,r);var a=Ps;if(a&&e){var u=as(a).hoistableScripts,f=Gs(e),d=u.get(f);d||(d=a.querySelector(Wa(f)),d||(e=y({src:e,async:!0,type:"module"},r),(r=Ei.get(f))&&zc(e,r),d=a.createElement("script"),Re(d),Pe(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},u.set(f,d))}}function zy(e,r,a,u){var f=(f=it.current)?Ao(f):null;if(!f)throw Error(n(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=Fs(a.href),a=as(f).hoistableStyles,u=a.get(r),u||(u={type:"style",instance:null,count:0,state:null},a.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Fs(a.href);var d=as(f).hoistableStyles,v=d.get(e);if(v||(f=f.ownerDocument||f,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,v),(d=f.querySelector($a(e)))&&!d._p&&(v.instance=d,v.state.loading=5),Ei.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ei.set(e,a),d||q1(f,e,a,v.state))),r&&u===null)throw Error(n(528,""));return v}if(r&&u!==null)throw Error(n(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Gs(a),a=as(f).hoistableScripts,u=a.get(r),u||(u={type:"script",instance:null,count:0,state:null},a.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,e))}}function Fs(e){return'href="'+pi(e)+'"'}function $a(e){return'link[rel="stylesheet"]['+e+"]"}function Hy(e){return y({},e,{"data-precedence":e.precedence,precedence:null})}function q1(e,r,a,u){e.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=e.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),Pe(r,"link",a),Re(r),e.head.appendChild(r))}function Gs(e){return'[src="'+pi(e)+'"]'}function Wa(e){return"script[async]"+e}function ky(e,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var u=e.querySelector('style[data-href~="'+pi(a.href)+'"]');if(u)return r.instance=u,Re(u),u;var f=y({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return u=(e.ownerDocument||e).createElement("style"),Re(u),Pe(u,"style",f),So(u,a.precedence,e),r.instance=u;case"stylesheet":f=Fs(a.href);var d=e.querySelector($a(f));if(d)return r.state.loading|=4,r.instance=d,Re(d),d;u=Hy(a),(f=Ei.get(f))&&Gc(u,f),d=(e.ownerDocument||e).createElement("link"),Re(d);var v=d;return v._p=new Promise(function(S,P){v.onload=S,v.onerror=P}),Pe(d,"link",u),r.state.loading|=4,So(d,a.precedence,e),r.instance=d;case"script":return d=Gs(a.src),(f=e.querySelector(Wa(d)))?(r.instance=f,Re(f),f):(u=a,(f=Ei.get(d))&&(u=y({},a),zc(u,f)),e=e.ownerDocument||e,f=e.createElement("script"),Re(f),Pe(f,"link",u),e.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(n(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,So(u,a.precedence,e));return r.instance}function So(e,r,a){for(var u=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,d=f,v=0;v<u.length;v++){var S=u[v];if(S.dataset.precedence===r)d=S;else if(d!==f)break}d?d.parentNode.insertBefore(e,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(e,r.firstChild))}function Gc(e,r){e.crossOrigin==null&&(e.crossOrigin=r.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=r.referrerPolicy),e.title==null&&(e.title=r.title)}function zc(e,r){e.crossOrigin==null&&(e.crossOrigin=r.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=r.referrerPolicy),e.integrity==null&&(e.integrity=r.integrity)}var wo=null;function Xy(e,r,a){if(wo===null){var u=new Map,f=wo=new Map;f.set(a,u)}else f=wo,u=f.get(a),u||(u=new Map,f.set(a,u));if(u.has(e))return u;for(u.set(e,null),a=a.getElementsByTagName(e),f=0;f<a.length;f++){var d=a[f];if(!(d[zi]||d[me]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(r)||"";v=e+v;var S=u.get(v);S?S.push(d):u.set(v,[d])}}return u}function Vy(e,r,a){e=e.ownerDocument||e,e.head.insertBefore(a,r==="title"?e.querySelector("head > title"):null)}function Y1(e,r,a){if(a===1||r.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return e=r.disabled,typeof r.precedence=="string"&&e==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function jy(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function $1(e,r,a,u){if(a.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=Fs(u.href),d=r.querySelector($a(f));if(d){r=d._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(e.count++,e=Co.bind(e),r.then(e,e)),a.state.loading|=4,a.instance=d,Re(d);return}d=r.ownerDocument||r,u=Hy(u),(f=Ei.get(f))&&Gc(u,f),d=d.createElement("link"),Re(d);var v=d;v._p=new Promise(function(S,P){v.onload=S,v.onerror=P}),Pe(d,"link",u),a.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Co.bind(e),r.addEventListener("load",a),r.addEventListener("error",a))}}var Hc=0;function W1(e,r){return e.stylesheets&&e.count===0&&Mo(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var u=setTimeout(function(){if(e.stylesheets&&Mo(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+r);0<e.imgBytes&&Hc===0&&(Hc=62500*M1());var f=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Mo(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>Hc?50:800)+r);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(u),clearTimeout(f)}}:null}function Co(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Mo(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ro=null;function Mo(e,r){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ro=new Map,r.forEach(Z1,e),Ro=null,Co.call(e))}function Z1(e,r){if(!(r.state.loading&4)){var a=Ro.get(e);if(a)var u=a.get(null);else{a=new Map,Ro.set(e,a);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var v=f[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),u=v)}u&&a.set(null,u)}f=r.instance,v=f.getAttribute("data-precedence"),d=a.get(v)||u,d===u&&a.set(null,f),a.set(v,f),this.count++,u=Co.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),d?d.parentNode.insertBefore(f,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),r.state.loading|=4}}var Za={$$typeof:O,Provider:null,Consumer:null,_currentValue:C,_currentValue2:C,_threadCount:0};function K1(e,r,a,u,f,d,v,S,P){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Xe(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xe(0),this.hiddenUpdates=Xe(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function qy(e,r,a,u,f,d,v,S,P,W,et,st){return e=new K1(e,r,a,v,P,W,et,st,S),r=1,d===!0&&(r|=24),d=ni(3,null,null,r),e.current=d,d.stateNode=e,r=xh(),r.refCount++,e.pooledCache=r,r.refCount++,d.memoizedState={element:u,isDehydrated:a,cache:r},Ah(d),e}function Yy(e){return e?(e=gs,e):gs}function $y(e,r,a,u,f,d){f=Yy(f),u.context===null?u.context=f:u.pendingContext=f,u=Xr(r),u.payload={element:a},d=d===void 0?null:d,d!==null&&(u.callback=d),a=Vr(e,u,r),a!==null&&(Qe(a,e,r),Ra(a,e,r))}function Wy(e,r){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<r?a:r}}function kc(e,r){Wy(e,r),(e=e.alternate)&&Wy(e,r)}function Zy(e){if(e.tag===13||e.tag===31){var r=Sn(e,67108864);r!==null&&Qe(r,e,67108864),kc(e,67108864)}}function Ky(e){if(e.tag===13||e.tag===31){var r=ui();r=Lr(r);var a=Sn(e,r);a!==null&&Qe(a,e,r),kc(e,r)}}var Do=!0;function Q1(e,r,a,u){var f=x.T;x.T=null;var d=M.p;try{M.p=2,Xc(e,r,a,u)}finally{M.p=d,x.T=f}}function J1(e,r,a,u){var f=x.T;x.T=null;var d=M.p;try{M.p=8,Xc(e,r,a,u)}finally{M.p=d,x.T=f}}function Xc(e,r,a,u){if(Do){var f=Vc(u);if(f===null)Mc(e,r,u,Oo,a),Jy(e,u);else if(eE(f,e,r,a,u))u.stopPropagation();else if(Jy(e,u),r&4&&-1<tE.indexOf(e)){for(;f!==null;){var d=ss(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=ke(d.pendingLanes);if(v!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;v;){var P=1<<31-q(v);S.entanglements[1]|=P,v&=~P}Vi(d),($t&6)===0&&(fo=_e()+500,Va(0))}}break;case 31:case 13:S=Sn(d,2),S!==null&&Qe(S,d,2),mo(),kc(d,2)}if(d=Vc(u),d===null&&Mc(e,r,u,Oo,a),d===f)break;f=d}f!==null&&u.stopPropagation()}else Mc(e,r,u,null,a)}}function Vc(e){return e=qu(e),jc(e)}var Oo=null;function jc(e){if(Oo=null,e=nr(e),e!==null){var r=o(e);if(r===null)e=null;else{var a=r.tag;if(a===13){if(e=h(r),e!==null)return e;e=null}else if(a===31){if(e=c(r),e!==null)return e;e=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;e=null}else r!==e&&(e=null)}}return Oo=e,null}function Qy(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Fu()){case bl:return 2;case aa:return 8;case ts:case vn:return 32;case es:return 268435456;default:return 32}default:return 32}}var qc=!1,en=null,rn=null,nn=null,Ka=new Map,Qa=new Map,sn=[],tE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Jy(e,r){switch(e){case"focusin":case"focusout":en=null;break;case"dragenter":case"dragleave":rn=null;break;case"mouseover":case"mouseout":nn=null;break;case"pointerover":case"pointerout":Ka.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qa.delete(r.pointerId)}}function Ja(e,r,a,u,f,d){return e===null||e.nativeEvent!==d?(e={blockedOn:r,domEventName:a,eventSystemFlags:u,nativeEvent:d,targetContainers:[f]},r!==null&&(r=ss(r),r!==null&&Zy(r)),e):(e.eventSystemFlags|=u,r=e.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),e)}function eE(e,r,a,u,f){switch(r){case"focusin":return en=Ja(en,e,r,a,u,f),!0;case"dragenter":return rn=Ja(rn,e,r,a,u,f),!0;case"mouseover":return nn=Ja(nn,e,r,a,u,f),!0;case"pointerover":var d=f.pointerId;return Ka.set(d,Ja(Ka.get(d)||null,e,r,a,u,f)),!0;case"gotpointercapture":return d=f.pointerId,Qa.set(d,Ja(Qa.get(d)||null,e,r,a,u,f)),!0}return!1}function tv(e){var r=nr(e.target);if(r!==null){var a=o(r);if(a!==null){if(r=a.tag,r===13){if(r=h(a),r!==null){e.blockedOn=r,ua(e.priority,function(){Ky(a)});return}}else if(r===31){if(r=c(a),r!==null){e.blockedOn=r,ua(e.priority,function(){Ky(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Bo(e){if(e.blockedOn!==null)return!1;for(var r=e.targetContainers;0<r.length;){var a=Vc(e.nativeEvent);if(a===null){a=e.nativeEvent;var u=new a.constructor(a.type,a);ju=u,a.target.dispatchEvent(u),ju=null}else return r=ss(a),r!==null&&Zy(r),e.blockedOn=a,!1;r.shift()}return!0}function ev(e,r,a){Bo(e)&&a.delete(r)}function iE(){qc=!1,en!==null&&Bo(en)&&(en=null),rn!==null&&Bo(rn)&&(rn=null),nn!==null&&Bo(nn)&&(nn=null),Ka.forEach(ev),Qa.forEach(ev)}function No(e,r){e.blockedOn===r&&(e.blockedOn=null,qc||(qc=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,iE)))}var Io=null;function iv(e){Io!==e&&(Io=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Io===e&&(Io=null);for(var r=0;r<e.length;r+=3){var a=e[r],u=e[r+1],f=e[r+2];if(typeof u!="function"){if(jc(u||a)===null)continue;break}var d=ss(a);d!==null&&(e.splice(r,3),r-=3,Vh(d,{pending:!0,data:f,method:a.method,action:u},u,f))}}))}function zs(e){function r(P){return No(P,e)}en!==null&&No(en,e),rn!==null&&No(rn,e),nn!==null&&No(nn,e),Ka.forEach(r),Qa.forEach(r);for(var a=0;a<sn.length;a++){var u=sn[a];u.blockedOn===e&&(u.blockedOn=null)}for(;0<sn.length&&(a=sn[0],a.blockedOn===null);)tv(a),a.blockedOn===null&&sn.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(u=0;u<a.length;u+=3){var f=a[u],d=a[u+1],v=f[Ne]||null;if(typeof d=="function")v||iv(a);else if(v){var S=null;if(d&&d.hasAttribute("formAction")){if(f=d,v=d[Ne]||null)S=v.formAction;else if(jc(f)!==null)continue}else S=v.action;typeof S=="function"?a[u+1]=S:(a.splice(u,3),u-=3),iv(a)}}}function rv(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(v){return f=v})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),u||setTimeout(a,20)}function a(){if(!u&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,f=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){u=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function Yc(e){this._internalRoot=e}Uo.prototype.render=Yc.prototype.render=function(e){var r=this._internalRoot;if(r===null)throw Error(n(409));var a=r.current,u=ui();$y(a,u,e,r,null,null)},Uo.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var r=e.containerInfo;$y(e.current,2,null,e,null,null),mo(),r[Gi]=null}};function Uo(e){this._internalRoot=e}Uo.prototype.unstable_scheduleHydration=function(e){if(e){var r=rs();e={blockedOn:null,target:e,priority:r};for(var a=0;a<sn.length&&r!==0&&r<sn[a].priority;a++);sn.splice(a,0,e),a===0&&tv(e)}};var nv=t.version;if(nv!=="19.2.0")throw Error(n(527,nv,"19.2.0"));M.findDOMNode=function(e){var r=e._reactInternals;if(r===void 0)throw typeof e.render=="function"?Error(n(188)):(e=Object.keys(e).join(","),Error(n(268,e)));return e=m(r),e=e!==null?g(e):null,e=e===null?null:e.stateNode,e};var rE={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:x,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lo.isDisabled&&Lo.supportsFiber)try{_n=Lo.inject(rE),Be=Lo}catch{}}return el.createRoot=function(e,r){if(!l(e))throw Error(n(299));var a=!1,u="",f=cg,d=fg,v=dg;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError)),r=qy(e,1,!1,null,null,a,u,null,f,d,v,rv),e[Gi]=r.current,Rc(e),new Yc(r)},el.hydrateRoot=function(e,r,a){if(!l(e))throw Error(n(299));var u=!1,f="",d=cg,v=fg,S=dg,P=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(P=a.formState)),r=qy(e,1,!0,r,a??null,u,f,P,d,v,S,rv),r.context=Yy(null),a=r.current,u=ui(),u=Lr(u),f=Xr(u),f.callback=null,Vr(a,f,u),a=u,r.current.lanes=a,Ir(r,a),Vi(r),e[Gi]=r.current,Rc(e),new Uo(r)},el.version="19.2.0",el}var pv;function mE(){if(pv)return Zc.exports;pv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Zc.exports=pE(),Zc.exports}var gE=mE();const yE=Cu(gE);var Qn=(s=>(s[s.WEBGL_LEGACY=0]="WEBGL_LEGACY",s[s.WEBGL=1]="WEBGL",s[s.WEBGL2=2]="WEBGL2",s))(Qn||{}),x_=(s=>(s[s.UNKNOWN=0]="UNKNOWN",s[s.WEBGL=1]="WEBGL",s[s.CANVAS=2]="CANVAS",s))(x_||{}),bd=(s=>(s[s.COLOR=16384]="COLOR",s[s.DEPTH=256]="DEPTH",s[s.STENCIL=1024]="STENCIL",s))(bd||{}),Rt=(s=>(s[s.NORMAL=0]="NORMAL",s[s.ADD=1]="ADD",s[s.MULTIPLY=2]="MULTIPLY",s[s.SCREEN=3]="SCREEN",s[s.OVERLAY=4]="OVERLAY",s[s.DARKEN=5]="DARKEN",s[s.LIGHTEN=6]="LIGHTEN",s[s.COLOR_DODGE=7]="COLOR_DODGE",s[s.COLOR_BURN=8]="COLOR_BURN",s[s.HARD_LIGHT=9]="HARD_LIGHT",s[s.SOFT_LIGHT=10]="SOFT_LIGHT",s[s.DIFFERENCE=11]="DIFFERENCE",s[s.EXCLUSION=12]="EXCLUSION",s[s.HUE=13]="HUE",s[s.SATURATION=14]="SATURATION",s[s.COLOR=15]="COLOR",s[s.LUMINOSITY=16]="LUMINOSITY",s[s.NORMAL_NPM=17]="NORMAL_NPM",s[s.ADD_NPM=18]="ADD_NPM",s[s.SCREEN_NPM=19]="SCREEN_NPM",s[s.NONE=20]="NONE",s[s.SRC_OVER=0]="SRC_OVER",s[s.SRC_IN=21]="SRC_IN",s[s.SRC_OUT=22]="SRC_OUT",s[s.SRC_ATOP=23]="SRC_ATOP",s[s.DST_OVER=24]="DST_OVER",s[s.DST_IN=25]="DST_IN",s[s.DST_OUT=26]="DST_OUT",s[s.DST_ATOP=27]="DST_ATOP",s[s.ERASE=26]="ERASE",s[s.SUBTRACT=28]="SUBTRACT",s[s.XOR=29]="XOR",s))(Rt||{}),Ki=(s=>(s[s.POINTS=0]="POINTS",s[s.LINES=1]="LINES",s[s.LINE_LOOP=2]="LINE_LOOP",s[s.LINE_STRIP=3]="LINE_STRIP",s[s.TRIANGLES=4]="TRIANGLES",s[s.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",s[s.TRIANGLE_FAN=6]="TRIANGLE_FAN",s))(Ki||{}),ht=(s=>(s[s.RGBA=6408]="RGBA",s[s.RGB=6407]="RGB",s[s.RG=33319]="RG",s[s.RED=6403]="RED",s[s.RGBA_INTEGER=36249]="RGBA_INTEGER",s[s.RGB_INTEGER=36248]="RGB_INTEGER",s[s.RG_INTEGER=33320]="RG_INTEGER",s[s.RED_INTEGER=36244]="RED_INTEGER",s[s.ALPHA=6406]="ALPHA",s[s.LUMINANCE=6409]="LUMINANCE",s[s.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",s[s.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",s[s.DEPTH_STENCIL=34041]="DEPTH_STENCIL",s))(ht||{}),Ks=(s=>(s[s.TEXTURE_2D=3553]="TEXTURE_2D",s[s.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",s[s.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",s[s.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",s[s.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",s[s.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",s[s.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",s[s.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",s[s.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",s))(Ks||{}),wt=(s=>(s[s.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",s[s.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",s[s.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",s[s.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",s[s.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",s[s.UNSIGNED_INT=5125]="UNSIGNED_INT",s[s.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",s[s.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",s[s.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",s[s.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",s[s.BYTE=5120]="BYTE",s[s.SHORT=5122]="SHORT",s[s.INT=5124]="INT",s[s.FLOAT=5126]="FLOAT",s[s.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",s[s.HALF_FLOAT=36193]="HALF_FLOAT",s))(wt||{}),mt=(s=>(s[s.FLOAT=0]="FLOAT",s[s.INT=1]="INT",s[s.UINT=2]="UINT",s))(mt||{}),Sr=(s=>(s[s.NEAREST=0]="NEAREST",s[s.LINEAR=1]="LINEAR",s))(Sr||{}),pn=(s=>(s[s.CLAMP=33071]="CLAMP",s[s.REPEAT=10497]="REPEAT",s[s.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",s))(pn||{}),tr=(s=>(s[s.OFF=0]="OFF",s[s.POW2=1]="POW2",s[s.ON=2]="ON",s[s.ON_MANUAL=3]="ON_MANUAL",s))(tr||{}),Je=(s=>(s[s.NPM=0]="NPM",s[s.UNPACK=1]="UNPACK",s[s.PMA=2]="PMA",s[s.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",s[s.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",s[s.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",s))(Je||{}),Zi=(s=>(s[s.NO=0]="NO",s[s.YES=1]="YES",s[s.AUTO=2]="AUTO",s[s.BLEND=0]="BLEND",s[s.CLEAR=1]="CLEAR",s[s.BLIT=2]="BLIT",s))(Zi||{}),sp=(s=>(s[s.AUTO=0]="AUTO",s[s.MANUAL=1]="MANUAL",s))(sp||{}),Ai=(s=>(s.LOW="lowp",s.MEDIUM="mediump",s.HIGH="highp",s))(Ai||{}),we=(s=>(s[s.NONE=0]="NONE",s[s.SCISSOR=1]="SCISSOR",s[s.STENCIL=2]="STENCIL",s[s.SPRITE=3]="SPRITE",s[s.COLOR=4]="COLOR",s))(we||{}),Ae=(s=>(s[s.NONE=0]="NONE",s[s.LOW=2]="LOW",s[s.MEDIUM=4]="MEDIUM",s[s.HIGH=8]="HIGH",s))(Ae||{}),Qi=(s=>(s[s.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",s[s.ARRAY_BUFFER=34962]="ARRAY_BUFFER",s[s.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",s))(Qi||{});const vE={createCanvas:(s,t)=>{const i=document.createElement("canvas");return i.width=s,i.height=t,i},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(s,t)=>fetch(s,t),parseXML:s=>new DOMParser().parseFromString(s,"text/xml")},gt={ADAPTER:vE,RESOLUTION:1,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};var tf=/iPhone/i,mv=/iPod/i,gv=/iPad/i,yv=/\biOS-universal(?:.+)Mac\b/i,ef=/\bAndroid(?:.+)Mobile\b/i,vv=/Android/i,Hs=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,Po=/Silk/i,Tr=/Windows Phone/i,_v=/\bWindows(?:.+)ARM\b/i,xv=/BlackBerry/i,bv=/BB10/i,Ev=/Opera Mini/i,Tv=/\b(CriOS|Chrome)(?:.+)Mobile/i,Av=/Mobile(?:.+)Firefox\b/i,Sv=function(s){return typeof s<"u"&&s.platform==="MacIntel"&&typeof s.maxTouchPoints=="number"&&s.maxTouchPoints>1&&typeof MSStream>"u"};function _E(s){return function(t){return t.test(s)}}function wv(s){var t={userAgent:"",platform:"",maxTouchPoints:0};!s&&typeof navigator<"u"?t={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof s=="string"?t.userAgent=s:s&&s.userAgent&&(t={userAgent:s.userAgent,platform:s.platform,maxTouchPoints:s.maxTouchPoints||0});var i=t.userAgent,n=i.split("[FBAN");typeof n[1]<"u"&&(i=n[0]),n=i.split("Twitter"),typeof n[1]<"u"&&(i=n[0]);var l=_E(i),o={apple:{phone:l(tf)&&!l(Tr),ipod:l(mv),tablet:!l(tf)&&(l(gv)||Sv(t))&&!l(Tr),universal:l(yv),device:(l(tf)||l(mv)||l(gv)||l(yv)||Sv(t))&&!l(Tr)},amazon:{phone:l(Hs),tablet:!l(Hs)&&l(Po),device:l(Hs)||l(Po)},android:{phone:!l(Tr)&&l(Hs)||!l(Tr)&&l(ef),tablet:!l(Tr)&&!l(Hs)&&!l(ef)&&(l(Po)||l(vv)),device:!l(Tr)&&(l(Hs)||l(Po)||l(ef)||l(vv))||l(/\bokhttp\b/i)},windows:{phone:l(Tr),tablet:l(_v),device:l(Tr)||l(_v)},other:{blackberry:l(xv),blackberry10:l(bv),opera:l(Ev),firefox:l(Av),chrome:l(Tv),device:l(xv)||l(bv)||l(Ev)||l(Av)||l(Tv)},any:!1,phone:!1,tablet:!1};return o.any=o.apple.device||o.android.device||o.windows.device||o.other.device,o.phone=o.apple.phone||o.android.phone||o.windows.phone,o.tablet=o.apple.tablet||o.android.tablet||o.windows.tablet,o}const xE=wv.default??wv,wr=xE(globalThis.navigator);gt.RETINA_PREFIX=/@([0-9\.]+)x/;gt.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var rf={exports:{}},Cv;function bE(){return Cv||(Cv=1,(function(s){var t=Object.prototype.hasOwnProperty,i="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(i=!1));function l(p,m,g){this.fn=p,this.context=m,this.once=g||!1}function o(p,m,g,y,_){if(typeof g!="function")throw new TypeError("The listener must be a function");var b=new l(g,y||p,_),T=i?i+m:m;return p._events[T]?p._events[T].fn?p._events[T]=[p._events[T],b]:p._events[T].push(b):(p._events[T]=b,p._eventsCount++),p}function h(p,m){--p._eventsCount===0?p._events=new n:delete p._events[m]}function c(){this._events=new n,this._eventsCount=0}c.prototype.eventNames=function(){var m=[],g,y;if(this._eventsCount===0)return m;for(y in g=this._events)t.call(g,y)&&m.push(i?y.slice(1):y);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(g)):m},c.prototype.listeners=function(m){var g=i?i+m:m,y=this._events[g];if(!y)return[];if(y.fn)return[y.fn];for(var _=0,b=y.length,T=new Array(b);_<b;_++)T[_]=y[_].fn;return T},c.prototype.listenerCount=function(m){var g=i?i+m:m,y=this._events[g];return y?y.fn?1:y.length:0},c.prototype.emit=function(m,g,y,_,b,T){var w=i?i+m:m;if(!this._events[w])return!1;var A=this._events[w],R=arguments.length,I,O;if(A.fn){switch(A.once&&this.removeListener(m,A.fn,void 0,!0),R){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,g),!0;case 3:return A.fn.call(A.context,g,y),!0;case 4:return A.fn.call(A.context,g,y,_),!0;case 5:return A.fn.call(A.context,g,y,_,b),!0;case 6:return A.fn.call(A.context,g,y,_,b,T),!0}for(O=1,I=new Array(R-1);O<R;O++)I[O-1]=arguments[O];A.fn.apply(A.context,I)}else{var L=A.length,B;for(O=0;O<L;O++)switch(A[O].once&&this.removeListener(m,A[O].fn,void 0,!0),R){case 1:A[O].fn.call(A[O].context);break;case 2:A[O].fn.call(A[O].context,g);break;case 3:A[O].fn.call(A[O].context,g,y);break;case 4:A[O].fn.call(A[O].context,g,y,_);break;default:if(!I)for(B=1,I=new Array(R-1);B<R;B++)I[B-1]=arguments[B];A[O].fn.apply(A[O].context,I)}}return!0},c.prototype.on=function(m,g,y){return o(this,m,g,y,!1)},c.prototype.once=function(m,g,y){return o(this,m,g,y,!0)},c.prototype.removeListener=function(m,g,y,_){var b=i?i+m:m;if(!this._events[b])return this;if(!g)return h(this,b),this;var T=this._events[b];if(T.fn)T.fn===g&&(!_||T.once)&&(!y||T.context===y)&&h(this,b);else{for(var w=0,A=[],R=T.length;w<R;w++)(T[w].fn!==g||_&&!T[w].once||y&&T[w].context!==y)&&A.push(T[w]);A.length?this._events[b]=A.length===1?A[0]:A:h(this,b)}return this},c.prototype.removeAllListeners=function(m){var g;return m?(g=i?i+m:m,this._events[g]&&h(this,g)):(this._events=new n,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=i,c.EventEmitter=c,s.exports=c})(rf)),rf.exports}var EE=bE();const vl=Cu(EE);var Fo={exports:{}},Rv;function TE(){if(Rv)return Fo.exports;Rv=1,Fo.exports=s,Fo.exports.default=s;function s(x,M,C){C=C||2;var H=M&&M.length,U=H?M[0]*C:x.length,E=t(x,0,U,C,!0),N=[];if(!E||E.next===E.prev)return N;var F,V,Q,it,lt,dt,ft;if(H&&(E=p(x,M,E,C)),x.length>80*C){F=Q=x[0],V=it=x[1];for(var ut=C;ut<U;ut+=C)lt=x[ut],dt=x[ut+1],lt<F&&(F=lt),dt<V&&(V=dt),lt>Q&&(Q=lt),dt>it&&(it=dt);ft=Math.max(Q-F,it-V),ft=ft!==0?32767/ft:0}return n(E,N,C,F,V,ft,0),N}function t(x,M,C,H,U){var E,N;if(U===ot(x,M,C,H)>0)for(E=M;E<C;E+=H)N=z(E,x[E],x[E+1],N);else for(E=C-H;E>=M;E-=H)N=z(E,x[E],x[E+1],N);return N&&L(N,N.next)&&(X(N),N=N.next),N}function i(x,M){if(!x)return x;M||(M=x);var C=x,H;do if(H=!1,!C.steiner&&(L(C,C.next)||O(C.prev,C,C.next)===0)){if(X(C),C=M=C.prev,C===C.next)break;H=!0}else C=C.next;while(H||C!==M);return M}function n(x,M,C,H,U,E,N){if(x){!N&&E&&b(x,H,U,E);for(var F=x,V,Q;x.prev!==x.next;){if(V=x.prev,Q=x.next,E?o(x,H,U,E):l(x)){M.push(V.i/C|0),M.push(x.i/C|0),M.push(Q.i/C|0),X(x),x=Q.next,F=Q.next;continue}if(x=Q,x===F){N?N===1?(x=h(i(x),M,C),n(x,M,C,H,U,E,2)):N===2&&c(x,M,C,H,U,E):n(i(x),M,C,H,U,E,1);break}}}}function l(x){var M=x.prev,C=x,H=x.next;if(O(M,C,H)>=0)return!1;for(var U=M.x,E=C.x,N=H.x,F=M.y,V=C.y,Q=H.y,it=U<E?U<N?U:N:E<N?E:N,lt=F<V?F<Q?F:Q:V<Q?V:Q,dt=U>E?U>N?U:N:E>N?E:N,ft=F>V?F>Q?F:Q:V>Q?V:Q,ut=H.next;ut!==M;){if(ut.x>=it&&ut.x<=dt&&ut.y>=lt&&ut.y<=ft&&R(U,F,E,V,N,Q,ut.x,ut.y)&&O(ut.prev,ut,ut.next)>=0)return!1;ut=ut.next}return!0}function o(x,M,C,H){var U=x.prev,E=x,N=x.next;if(O(U,E,N)>=0)return!1;for(var F=U.x,V=E.x,Q=N.x,it=U.y,lt=E.y,dt=N.y,ft=F<V?F<Q?F:Q:V<Q?V:Q,ut=it<lt?it<dt?it:dt:lt<dt?lt:dt,yt=F>V?F>Q?F:Q:V>Q?V:Q,xt=it>lt?it>dt?it:dt:lt>dt?lt:dt,Dt=w(ft,ut,M,C,H),Ot=w(yt,xt,M,C,H),_t=x.prevZ,bt=x.nextZ;_t&&_t.z>=Dt&&bt&&bt.z<=Ot;){if(_t.x>=ft&&_t.x<=yt&&_t.y>=ut&&_t.y<=xt&&_t!==U&&_t!==N&&R(F,it,V,lt,Q,dt,_t.x,_t.y)&&O(_t.prev,_t,_t.next)>=0||(_t=_t.prevZ,bt.x>=ft&&bt.x<=yt&&bt.y>=ut&&bt.y<=xt&&bt!==U&&bt!==N&&R(F,it,V,lt,Q,dt,bt.x,bt.y)&&O(bt.prev,bt,bt.next)>=0))return!1;bt=bt.nextZ}for(;_t&&_t.z>=Dt;){if(_t.x>=ft&&_t.x<=yt&&_t.y>=ut&&_t.y<=xt&&_t!==U&&_t!==N&&R(F,it,V,lt,Q,dt,_t.x,_t.y)&&O(_t.prev,_t,_t.next)>=0)return!1;_t=_t.prevZ}for(;bt&&bt.z<=Ot;){if(bt.x>=ft&&bt.x<=yt&&bt.y>=ut&&bt.y<=xt&&bt!==U&&bt!==N&&R(F,it,V,lt,Q,dt,bt.x,bt.y)&&O(bt.prev,bt,bt.next)>=0)return!1;bt=bt.nextZ}return!0}function h(x,M,C){var H=x;do{var U=H.prev,E=H.next.next;!L(U,E)&&B(U,H,H.next,E)&&rt(U,E)&&rt(E,U)&&(M.push(U.i/C|0),M.push(H.i/C|0),M.push(E.i/C|0),X(H),X(H.next),H=x=E),H=H.next}while(H!==x);return i(H)}function c(x,M,C,H,U,E){var N=x;do{for(var F=N.next.next;F!==N.prev;){if(N.i!==F.i&&I(N,F)){var V=ct(N,F);N=i(N,N.next),V=i(V,V.next),n(N,M,C,H,U,E,0),n(V,M,C,H,U,E,0);return}F=F.next}N=N.next}while(N!==x)}function p(x,M,C,H){var U=[],E,N,F,V,Q;for(E=0,N=M.length;E<N;E++)F=M[E]*H,V=E<N-1?M[E+1]*H:x.length,Q=t(x,F,V,H,!1),Q===Q.next&&(Q.steiner=!0),U.push(A(Q));for(U.sort(m),E=0;E<U.length;E++)C=g(U[E],C);return C}function m(x,M){return x.x-M.x}function g(x,M){var C=y(x,M);if(!C)return M;var H=ct(C,x);return i(H,H.next),i(C,C.next)}function y(x,M){var C=M,H=x.x,U=x.y,E=-1/0,N;do{if(U<=C.y&&U>=C.next.y&&C.next.y!==C.y){var F=C.x+(U-C.y)*(C.next.x-C.x)/(C.next.y-C.y);if(F<=H&&F>E&&(E=F,N=C.x<C.next.x?C:C.next,F===H))return N}C=C.next}while(C!==M);if(!N)return null;var V=N,Q=N.x,it=N.y,lt=1/0,dt;C=N;do H>=C.x&&C.x>=Q&&H!==C.x&&R(U<it?H:E,U,Q,it,U<it?E:H,U,C.x,C.y)&&(dt=Math.abs(U-C.y)/(H-C.x),rt(C,x)&&(dt<lt||dt===lt&&(C.x>N.x||C.x===N.x&&_(N,C)))&&(N=C,lt=dt)),C=C.next;while(C!==V);return N}function _(x,M){return O(x.prev,x,M.prev)<0&&O(M.next,x,x.next)<0}function b(x,M,C,H){var U=x;do U.z===0&&(U.z=w(U.x,U.y,M,C,H)),U.prevZ=U.prev,U.nextZ=U.next,U=U.next;while(U!==x);U.prevZ.nextZ=null,U.prevZ=null,T(U)}function T(x){var M,C,H,U,E,N,F,V,Q=1;do{for(C=x,x=null,E=null,N=0;C;){for(N++,H=C,F=0,M=0;M<Q&&(F++,H=H.nextZ,!!H);M++);for(V=Q;F>0||V>0&&H;)F!==0&&(V===0||!H||C.z<=H.z)?(U=C,C=C.nextZ,F--):(U=H,H=H.nextZ,V--),E?E.nextZ=U:x=U,U.prevZ=E,E=U;C=H}E.nextZ=null,Q*=2}while(N>1);return x}function w(x,M,C,H,U){return x=(x-C)*U|0,M=(M-H)*U|0,x=(x|x<<8)&16711935,x=(x|x<<4)&252645135,x=(x|x<<2)&858993459,x=(x|x<<1)&1431655765,M=(M|M<<8)&16711935,M=(M|M<<4)&252645135,M=(M|M<<2)&858993459,M=(M|M<<1)&1431655765,x|M<<1}function A(x){var M=x,C=x;do(M.x<C.x||M.x===C.x&&M.y<C.y)&&(C=M),M=M.next;while(M!==x);return C}function R(x,M,C,H,U,E,N,F){return(U-N)*(M-F)>=(x-N)*(E-F)&&(x-N)*(H-F)>=(C-N)*(M-F)&&(C-N)*(E-F)>=(U-N)*(H-F)}function I(x,M){return x.next.i!==M.i&&x.prev.i!==M.i&&!Y(x,M)&&(rt(x,M)&&rt(M,x)&&at(x,M)&&(O(x.prev,x,M.prev)||O(x,M.prev,M))||L(x,M)&&O(x.prev,x,x.next)>0&&O(M.prev,M,M.next)>0)}function O(x,M,C){return(M.y-x.y)*(C.x-M.x)-(M.x-x.x)*(C.y-M.y)}function L(x,M){return x.x===M.x&&x.y===M.y}function B(x,M,C,H){var U=D(O(x,M,C)),E=D(O(x,M,H)),N=D(O(C,H,x)),F=D(O(C,H,M));return!!(U!==E&&N!==F||U===0&&j(x,C,M)||E===0&&j(x,H,M)||N===0&&j(C,x,H)||F===0&&j(C,M,H))}function j(x,M,C){return M.x<=Math.max(x.x,C.x)&&M.x>=Math.min(x.x,C.x)&&M.y<=Math.max(x.y,C.y)&&M.y>=Math.min(x.y,C.y)}function D(x){return x>0?1:x<0?-1:0}function Y(x,M){var C=x;do{if(C.i!==x.i&&C.next.i!==x.i&&C.i!==M.i&&C.next.i!==M.i&&B(C,C.next,x,M))return!0;C=C.next}while(C!==x);return!1}function rt(x,M){return O(x.prev,x,x.next)<0?O(x,M,x.next)>=0&&O(x,x.prev,M)>=0:O(x,M,x.prev)<0||O(x,x.next,M)<0}function at(x,M){var C=x,H=!1,U=(x.x+M.x)/2,E=(x.y+M.y)/2;do C.y>E!=C.next.y>E&&C.next.y!==C.y&&U<(C.next.x-C.x)*(E-C.y)/(C.next.y-C.y)+C.x&&(H=!H),C=C.next;while(C!==x);return H}function ct(x,M){var C=new Z(x.i,x.x,x.y),H=new Z(M.i,M.x,M.y),U=x.next,E=M.prev;return x.next=M,M.prev=x,C.next=U,U.prev=C,H.next=C,C.prev=H,E.next=H,H.prev=E,H}function z(x,M,C,H){var U=new Z(x,M,C);return H?(U.next=H.next,U.prev=H,H.next.prev=U,H.next=U):(U.prev=U,U.next=U),U}function X(x){x.next.prev=x.prev,x.prev.next=x.next,x.prevZ&&(x.prevZ.nextZ=x.nextZ),x.nextZ&&(x.nextZ.prevZ=x.prevZ)}function Z(x,M,C){this.i=x,this.x=M,this.y=C,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}s.deviation=function(x,M,C,H){var U=M&&M.length,E=U?M[0]*C:x.length,N=Math.abs(ot(x,0,E,C));if(U)for(var F=0,V=M.length;F<V;F++){var Q=M[F]*C,it=F<V-1?M[F+1]*C:x.length;N-=Math.abs(ot(x,Q,it,C))}var lt=0;for(F=0;F<H.length;F+=3){var dt=H[F]*C,ft=H[F+1]*C,ut=H[F+2]*C;lt+=Math.abs((x[dt]-x[ut])*(x[ft+1]-x[dt+1])-(x[dt]-x[ft])*(x[ut+1]-x[dt+1]))}return N===0&&lt===0?0:Math.abs((lt-N)/N)};function ot(x,M,C,H){for(var U=0,E=M,N=C-H;E<C;E+=H)U+=(x[N]-x[E])*(x[E+1]+x[N+1]),N=E;return U}return s.flatten=function(x){for(var M=x[0][0].length,C={vertices:[],holes:[],dimensions:M},H=0,U=0;U<x.length;U++){for(var E=0;E<x[U].length;E++)for(var N=0;N<M;N++)C.vertices.push(x[U][E][N]);U>0&&(H+=x[U-1].length,C.holes.push(H))}return C},Fo.exports}var AE=TE();const SE=Cu(AE);var Fn={},ll={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */var wE=ll.exports,Mv;function CE(){return Mv||(Mv=1,(function(s,t){(function(i){var n=t&&!t.nodeType&&t,l=s&&!s.nodeType&&s,o=typeof fu=="object"&&fu;(o.global===o||o.window===o||o.self===o)&&(i=o);var h,c=2147483647,p=36,m=1,g=26,y=38,_=700,b=72,T=128,w="-",A=/^xn--/,R=/[^\x20-\x7E]/,I=/[\x2E\u3002\uFF0E\uFF61]/g,O={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},L=p-m,B=Math.floor,j=String.fromCharCode,D;function Y(U){throw new RangeError(O[U])}function rt(U,E){for(var N=U.length,F=[];N--;)F[N]=E(U[N]);return F}function at(U,E){var N=U.split("@"),F="";N.length>1&&(F=N[0]+"@",U=N[1]),U=U.replace(I,".");var V=U.split("."),Q=rt(V,E).join(".");return F+Q}function ct(U){for(var E=[],N=0,F=U.length,V,Q;N<F;)V=U.charCodeAt(N++),V>=55296&&V<=56319&&N<F?(Q=U.charCodeAt(N++),(Q&64512)==56320?E.push(((V&1023)<<10)+(Q&1023)+65536):(E.push(V),N--)):E.push(V);return E}function z(U){return rt(U,function(E){var N="";return E>65535&&(E-=65536,N+=j(E>>>10&1023|55296),E=56320|E&1023),N+=j(E),N}).join("")}function X(U){return U-48<10?U-22:U-65<26?U-65:U-97<26?U-97:p}function Z(U,E){return U+22+75*(U<26)-((E!=0)<<5)}function ot(U,E,N){var F=0;for(U=N?B(U/_):U>>1,U+=B(U/E);U>L*g>>1;F+=p)U=B(U/L);return B(F+(L+1)*U/(U+y))}function x(U){var E=[],N=U.length,F,V=0,Q=T,it=b,lt,dt,ft,ut,yt,xt,Dt,Ot,_t;for(lt=U.lastIndexOf(w),lt<0&&(lt=0),dt=0;dt<lt;++dt)U.charCodeAt(dt)>=128&&Y("not-basic"),E.push(U.charCodeAt(dt));for(ft=lt>0?lt+1:0;ft<N;){for(ut=V,yt=1,xt=p;ft>=N&&Y("invalid-input"),Dt=X(U.charCodeAt(ft++)),(Dt>=p||Dt>B((c-V)/yt))&&Y("overflow"),V+=Dt*yt,Ot=xt<=it?m:xt>=it+g?g:xt-it,!(Dt<Ot);xt+=p)_t=p-Ot,yt>B(c/_t)&&Y("overflow"),yt*=_t;F=E.length+1,it=ot(V-ut,F,ut==0),B(V/F)>c-Q&&Y("overflow"),Q+=B(V/F),V%=F,E.splice(V++,0,Q)}return z(E)}function M(U){var E,N,F,V,Q,it,lt,dt,ft,ut,yt,xt=[],Dt,Ot,_t,bt;for(U=ct(U),Dt=U.length,E=T,N=0,Q=b,it=0;it<Dt;++it)yt=U[it],yt<128&&xt.push(j(yt));for(F=V=xt.length,V&&xt.push(w);F<Dt;){for(lt=c,it=0;it<Dt;++it)yt=U[it],yt>=E&&yt<lt&&(lt=yt);for(Ot=F+1,lt-E>B((c-N)/Ot)&&Y("overflow"),N+=(lt-E)*Ot,E=lt,it=0;it<Dt;++it)if(yt=U[it],yt<E&&++N>c&&Y("overflow"),yt==E){for(dt=N,ft=p;ut=ft<=Q?m:ft>=Q+g?g:ft-Q,!(dt<ut);ft+=p)bt=dt-ut,_t=p-ut,xt.push(j(Z(ut+bt%_t,0))),dt=B(bt/_t);xt.push(j(Z(dt,0))),Q=ot(N,Ot,F==V),N=0,++F}++N,++E}return xt.join("")}function C(U){return at(U,function(E){return A.test(E)?x(E.slice(4).toLowerCase()):E})}function H(U){return at(U,function(E){return R.test(E)?"xn--"+M(E):E})}if(h={version:"1.4.1",ucs2:{decode:ct,encode:z},decode:x,encode:M,toASCII:H,toUnicode:C},n&&l)if(s.exports==n)l.exports=h;else for(D in h)h.hasOwnProperty(D)&&(n[D]=h[D]);else i.punycode=h})(wE)})(ll,ll.exports)),ll.exports}var nf,Dv;function na(){return Dv||(Dv=1,nf=TypeError),nf}const RE={},ME=Object.freeze(Object.defineProperty({__proto__:null,default:RE},Symbol.toStringTag,{value:"Module"})),DE=sE(ME);var sf,Ov;function Ru(){if(Ov)return sf;Ov=1;var s=typeof Map=="function"&&Map.prototype,t=Object.getOwnPropertyDescriptor&&s?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,i=s&&t&&typeof t.get=="function"?t.get:null,n=s&&Map.prototype.forEach,l=typeof Set=="function"&&Set.prototype,o=Object.getOwnPropertyDescriptor&&l?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,h=l&&o&&typeof o.get=="function"?o.get:null,c=l&&Set.prototype.forEach,p=typeof WeakMap=="function"&&WeakMap.prototype,m=p?WeakMap.prototype.has:null,g=typeof WeakSet=="function"&&WeakSet.prototype,y=g?WeakSet.prototype.has:null,_=typeof WeakRef=="function"&&WeakRef.prototype,b=_?WeakRef.prototype.deref:null,T=Boolean.prototype.valueOf,w=Object.prototype.toString,A=Function.prototype.toString,R=String.prototype.match,I=String.prototype.slice,O=String.prototype.replace,L=String.prototype.toUpperCase,B=String.prototype.toLowerCase,j=RegExp.prototype.test,D=Array.prototype.concat,Y=Array.prototype.join,rt=Array.prototype.slice,at=Math.floor,ct=typeof BigInt=="function"?BigInt.prototype.valueOf:null,z=Object.getOwnPropertySymbols,X=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Z=typeof Symbol=="function"&&typeof Symbol.iterator=="object",ot=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Z||!0)?Symbol.toStringTag:null,x=Object.prototype.propertyIsEnumerable,M=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(q){return q.__proto__}:null);function C(q,J){if(q===1/0||q===-1/0||q!==q||q&&q>-1e3&&q<1e3||j.call(/e/,J))return J;var jt=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof q=="number"){var Qt=q<0?-at(-q):at(q);if(Qt!==q){var Wt=String(Qt),Bt=I.call(J,Wt.length+1);return O.call(Wt,jt,"$&_")+"."+O.call(O.call(Bt,/([0-9]{3})/g,"$&_"),/_$/,"")}}return O.call(J,jt,"$&_")}var H=DE,U=H.custom,E=Ot(U)?U:null,N={__proto__:null,double:'"',single:"'"},F={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};sf=function q(J,jt,Qt,Wt){var Bt=jt||{};if(ue(Bt,"quoteStyle")&&!ue(N,Bt.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(ue(Bt,"maxStringLength")&&(typeof Bt.maxStringLength=="number"?Bt.maxStringLength<0&&Bt.maxStringLength!==1/0:Bt.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var ii=ue(Bt,"customInspect")?Bt.customInspect:!0;if(typeof ii!="boolean"&&ii!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(ue(Bt,"indent")&&Bt.indent!==null&&Bt.indent!=="	"&&!(parseInt(Bt.indent,10)===Bt.indent&&Bt.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(ue(Bt,"numericSeparator")&&typeof Bt.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var ke=Bt.numericSeparator;if(typeof J>"u")return"undefined";if(J===null)return"null";if(typeof J=="boolean")return J?"true":"false";if(typeof J=="string")return aa(J,Bt);if(typeof J=="number"){if(J===0)return 1/0/J>0?"0":"-0";var Ce=String(J);return ke?C(J,Ce):Ce}if(typeof J=="bigint"){var qe=String(J)+"n";return ke?C(J,qe):qe}var la=typeof Bt.depth>"u"?5:Bt.depth;if(typeof Qt>"u"&&(Qt=0),Qt>=la&&la>0&&typeof J=="object")return lt(J)?"[Array]":"[Object]";var ir=_n(Bt,Qt);if(typeof Wt>"u")Wt=[];else if(fi(Wt,J)>=0)return"[Circular]";function Xe(rr,zi,ca){if(zi&&(Wt=rt.call(Wt),Wt.push(zi)),ca){var nr={depth:Bt.depth};return ue(Bt,"quoteStyle")&&(nr.quoteStyle=Bt.quoteStyle),q(rr,nr,Qt+1,Wt)}return q(rr,Bt,Qt+1,Wt)}if(typeof J=="function"&&!ft(J)){var Ir=Fi(J),Tl=ei(J,Xe);return"[Function"+(Ir?": "+Ir:" (anonymous)")+"]"+(Tl.length>0?" { "+Y.call(Tl,", ")+" }":"")}if(Ot(J)){var oa=Z?O.call(String(J),/^(Symbol\(.*\))_[^)]*$/,"$1"):X.call(J);return typeof J=="object"&&!Z?vn(oa):oa}if(bl(J)){for(var Ur="<"+B.call(String(J.nodeName)),is=J.attributes||[],Lr=0;Lr<is.length;Lr++)Ur+=" "+is[Lr].name+"="+V(Q(is[Lr].value),"double",Bt);return Ur+=">",J.childNodes&&J.childNodes.length&&(Ur+="..."),Ur+="</"+B.call(String(J.nodeName))+">",Ur}if(lt(J)){if(J.length===0)return"[]";var xn=ei(J,Xe);return ir&&!Gu(xn)?"["+Be(xn,ir)+"]":"[ "+Y.call(xn,", ")+" ]"}if(ut(J)){var rs=ei(J,Xe);return!("cause"in Error.prototype)&&"cause"in J&&!x.call(J,"cause")?"{ ["+String(J)+"] "+Y.call(D.call("[cause]: "+Xe(J.cause),rs),", ")+" }":rs.length===0?"["+String(J)+"]":"{ ["+String(J)+"] "+Y.call(rs,", ")+" }"}if(typeof J=="object"&&ii){if(E&&typeof J[E]=="function"&&H)return H(J,{depth:la-Qt});if(ii!=="symbol"&&typeof J.inspect=="function")return J.inspect()}if(He(J)){var ua=[];return n&&n.call(J,function(rr,zi){ua.push(Xe(zi,J,!0)+" => "+Xe(rr,J))}),El("Map",i.call(J),ua,ir)}if(_e(J)){var wi=[];return c&&c.call(J,function(rr){wi.push(Xe(rr,J))}),El("Set",h.call(J),wi,ir)}if(Br(J))return es("WeakMap");if(Fu(J))return es("WeakSet");if(Nr(J))return es("WeakRef");if(xt(J))return vn(Xe(Number(J)));if(_t(J))return vn(Xe(ct.call(J)));if(Dt(J))return vn(T.call(J));if(yt(J))return vn(Xe(String(J)));if(typeof window<"u"&&J===window)return"{ [object Window] }";if(typeof globalThis<"u"&&J===globalThis||typeof fu<"u"&&J===fu)return"{ [object globalThis] }";if(!dt(J)&&!ft(J)){var me=ei(J,Xe),Ne=M?M(J)===Object.prototype:J instanceof Object||J.constructor===Object,Gi=J instanceof Object?"":"null prototype",ns=!Ne&&ot&&Object(J)===J&&ot in J?I.call(fe(J),8,-1):Gi?"Object":"",zu=Ne||typeof J.constructor!="function"?"":J.constructor.name?J.constructor.name+" ":"",ha=zu+(ns||Gi?"["+Y.call(D.call([],ns||[],Gi||[]),": ")+"] ":"");return me.length===0?ha+"{}":ir?ha+"{"+Be(me,ir)+"}":ha+"{ "+Y.call(me,", ")+" }"}return String(J)};function V(q,J,jt){var Qt=jt.quoteStyle||J,Wt=N[Qt];return Wt+q+Wt}function Q(q){return O.call(String(q),/"/g,"&quot;")}function it(q){return!ot||!(typeof q=="object"&&(ot in q||typeof q[ot]<"u"))}function lt(q){return fe(q)==="[object Array]"&&it(q)}function dt(q){return fe(q)==="[object Date]"&&it(q)}function ft(q){return fe(q)==="[object RegExp]"&&it(q)}function ut(q){return fe(q)==="[object Error]"&&it(q)}function yt(q){return fe(q)==="[object String]"&&it(q)}function xt(q){return fe(q)==="[object Number]"&&it(q)}function Dt(q){return fe(q)==="[object Boolean]"&&it(q)}function Ot(q){if(Z)return q&&typeof q=="object"&&q instanceof Symbol;if(typeof q=="symbol")return!0;if(!q||typeof q!="object"||!X)return!1;try{return X.call(q),!0}catch{}return!1}function _t(q){if(!q||typeof q!="object"||!ct)return!1;try{return ct.call(q),!0}catch{}return!1}var bt=Object.prototype.hasOwnProperty||function(q){return q in this};function ue(q,J){return bt.call(q,J)}function fe(q){return w.call(q)}function Fi(q){if(q.name)return q.name;var J=R.call(A.call(q),/^function\s*([\w$]+)/);return J?J[1]:null}function fi(q,J){if(q.indexOf)return q.indexOf(J);for(var jt=0,Qt=q.length;jt<Qt;jt++)if(q[jt]===J)return jt;return-1}function He(q){if(!i||!q||typeof q!="object")return!1;try{i.call(q);try{h.call(q)}catch{return!0}return q instanceof Map}catch{}return!1}function Br(q){if(!m||!q||typeof q!="object")return!1;try{m.call(q,m);try{y.call(q,y)}catch{return!0}return q instanceof WeakMap}catch{}return!1}function Nr(q){if(!b||!q||typeof q!="object")return!1;try{return b.call(q),!0}catch{}return!1}function _e(q){if(!h||!q||typeof q!="object")return!1;try{h.call(q);try{i.call(q)}catch{return!0}return q instanceof Set}catch{}return!1}function Fu(q){if(!y||!q||typeof q!="object")return!1;try{y.call(q,y);try{m.call(q,m)}catch{return!0}return q instanceof WeakSet}catch{}return!1}function bl(q){return!q||typeof q!="object"?!1:typeof HTMLElement<"u"&&q instanceof HTMLElement?!0:typeof q.nodeName=="string"&&typeof q.getAttribute=="function"}function aa(q,J){if(q.length>J.maxStringLength){var jt=q.length-J.maxStringLength,Qt="... "+jt+" more character"+(jt>1?"s":"");return aa(I.call(q,0,J.maxStringLength),J)+Qt}var Wt=F[J.quoteStyle||"single"];Wt.lastIndex=0;var Bt=O.call(O.call(q,Wt,"\\$1"),/[\x00-\x1f]/g,ts);return V(Bt,"single",J)}function ts(q){var J=q.charCodeAt(0),jt={8:"b",9:"t",10:"n",12:"f",13:"r"}[J];return jt?"\\"+jt:"\\x"+(J<16?"0":"")+L.call(J.toString(16))}function vn(q){return"Object("+q+")"}function es(q){return q+" { ? }"}function El(q,J,jt,Qt){var Wt=Qt?Be(jt,Qt):Y.call(jt,", ");return q+" ("+J+") {"+Wt+"}"}function Gu(q){for(var J=0;J<q.length;J++)if(fi(q[J],`
`)>=0)return!1;return!0}function _n(q,J){var jt;if(q.indent==="	")jt="	";else if(typeof q.indent=="number"&&q.indent>0)jt=Y.call(Array(q.indent+1)," ");else return null;return{base:jt,prev:Y.call(Array(J+1),jt)}}function Be(q,J){if(q.length===0)return"";var jt=`
`+J.prev+J.base;return jt+Y.call(q,","+jt)+`
`+J.prev}function ei(q,J){var jt=lt(q),Qt=[];if(jt){Qt.length=q.length;for(var Wt=0;Wt<q.length;Wt++)Qt[Wt]=ue(q,Wt)?J(q[Wt],q):""}var Bt=typeof z=="function"?z(q):[],ii;if(Z){ii={};for(var ke=0;ke<Bt.length;ke++)ii["$"+Bt[ke]]=Bt[ke]}for(var Ce in q)ue(q,Ce)&&(jt&&String(Number(Ce))===Ce&&Ce<q.length||Z&&ii["$"+Ce]instanceof Symbol||(j.call(/[^\w$]/,Ce)?Qt.push(J(Ce,q)+": "+J(q[Ce],q)):Qt.push(Ce+": "+J(q[Ce],q))));if(typeof z=="function")for(var qe=0;qe<Bt.length;qe++)x.call(q,Bt[qe])&&Qt.push("["+J(Bt[qe])+"]: "+J(q[Bt[qe]],q));return Qt}return sf}var af,Bv;function OE(){if(Bv)return af;Bv=1;var s=Ru(),t=na(),i=function(c,p,m){for(var g=c,y;(y=g.next)!=null;g=y)if(y.key===p)return g.next=y.next,m||(y.next=c.next,c.next=y),y},n=function(c,p){if(c){var m=i(c,p);return m&&m.value}},l=function(c,p,m){var g=i(c,p);g?g.value=m:c.next={key:p,next:c.next,value:m}},o=function(c,p){return c?!!i(c,p):!1},h=function(c,p){if(c)return i(c,p,!0)};return af=function(){var p,m={assert:function(g){if(!m.has(g))throw new t("Side channel does not contain "+s(g))},delete:function(g){var y=p&&p.next,_=h(p,g);return _&&y&&y===_&&(p=void 0),!!_},get:function(g){return n(p,g)},has:function(g){return o(p,g)},set:function(g,y){p||(p={next:void 0}),l(p,g,y)}};return m},af}var lf,Nv;function b_(){return Nv||(Nv=1,lf=Object),lf}var of,Iv;function BE(){return Iv||(Iv=1,of=Error),of}var uf,Uv;function NE(){return Uv||(Uv=1,uf=EvalError),uf}var hf,Lv;function IE(){return Lv||(Lv=1,hf=RangeError),hf}var cf,Pv;function UE(){return Pv||(Pv=1,cf=ReferenceError),cf}var ff,Fv;function LE(){return Fv||(Fv=1,ff=SyntaxError),ff}var df,Gv;function PE(){return Gv||(Gv=1,df=URIError),df}var pf,zv;function FE(){return zv||(zv=1,pf=Math.abs),pf}var mf,Hv;function GE(){return Hv||(Hv=1,mf=Math.floor),mf}var gf,kv;function zE(){return kv||(kv=1,gf=Math.max),gf}var yf,Xv;function HE(){return Xv||(Xv=1,yf=Math.min),yf}var vf,Vv;function kE(){return Vv||(Vv=1,vf=Math.pow),vf}var _f,jv;function XE(){return jv||(jv=1,_f=Math.round),_f}var xf,qv;function VE(){return qv||(qv=1,xf=Number.isNaN||function(t){return t!==t}),xf}var bf,Yv;function jE(){if(Yv)return bf;Yv=1;var s=VE();return bf=function(i){return s(i)||i===0?i:i<0?-1:1},bf}var Ef,$v;function qE(){return $v||($v=1,Ef=Object.getOwnPropertyDescriptor),Ef}var Tf,Wv;function E_(){if(Wv)return Tf;Wv=1;var s=qE();if(s)try{s([],"length")}catch{s=null}return Tf=s,Tf}var Af,Zv;function YE(){if(Zv)return Af;Zv=1;var s=Object.defineProperty||!1;if(s)try{s({},"a",{value:1})}catch{s=!1}return Af=s,Af}var Sf,Kv;function $E(){return Kv||(Kv=1,Sf=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},i=Symbol("test"),n=Object(i);if(typeof i=="string"||Object.prototype.toString.call(i)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var l=42;t[i]=l;for(var o in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var h=Object.getOwnPropertySymbols(t);if(h.length!==1||h[0]!==i||!Object.prototype.propertyIsEnumerable.call(t,i))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var c=Object.getOwnPropertyDescriptor(t,i);if(c.value!==l||c.enumerable!==!0)return!1}return!0}),Sf}var wf,Qv;function WE(){if(Qv)return wf;Qv=1;var s=typeof Symbol<"u"&&Symbol,t=$E();return wf=function(){return typeof s!="function"||typeof Symbol!="function"||typeof s("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:t()},wf}var Cf,Jv;function T_(){return Jv||(Jv=1,Cf=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),Cf}var Rf,t0;function A_(){if(t0)return Rf;t0=1;var s=b_();return Rf=s.getPrototypeOf||null,Rf}var Mf,e0;function ZE(){if(e0)return Mf;e0=1;var s="Function.prototype.bind called on incompatible ",t=Object.prototype.toString,i=Math.max,n="[object Function]",l=function(p,m){for(var g=[],y=0;y<p.length;y+=1)g[y]=p[y];for(var _=0;_<m.length;_+=1)g[_+p.length]=m[_];return g},o=function(p,m){for(var g=[],y=m,_=0;y<p.length;y+=1,_+=1)g[_]=p[y];return g},h=function(c,p){for(var m="",g=0;g<c.length;g+=1)m+=c[g],g+1<c.length&&(m+=p);return m};return Mf=function(p){var m=this;if(typeof m!="function"||t.apply(m)!==n)throw new TypeError(s+m);for(var g=o(arguments,1),y,_=function(){if(this instanceof y){var R=m.apply(this,l(g,arguments));return Object(R)===R?R:this}return m.apply(p,l(g,arguments))},b=i(0,m.length-g.length),T=[],w=0;w<b;w++)T[w]="$"+w;if(y=Function("binder","return function ("+h(T,",")+"){ return binder.apply(this,arguments); }")(_),m.prototype){var A=function(){};A.prototype=m.prototype,y.prototype=new A,A.prototype=null}return y},Mf}var Df,i0;function Mu(){if(i0)return Df;i0=1;var s=ZE();return Df=Function.prototype.bind||s,Df}var Of,r0;function ap(){return r0||(r0=1,Of=Function.prototype.call),Of}var Bf,n0;function S_(){return n0||(n0=1,Bf=Function.prototype.apply),Bf}var Nf,s0;function KE(){return s0||(s0=1,Nf=typeof Reflect<"u"&&Reflect&&Reflect.apply),Nf}var If,a0;function QE(){if(a0)return If;a0=1;var s=Mu(),t=S_(),i=ap(),n=KE();return If=n||s.call(i,t),If}var Uf,l0;function w_(){if(l0)return Uf;l0=1;var s=Mu(),t=na(),i=ap(),n=QE();return Uf=function(o){if(o.length<1||typeof o[0]!="function")throw new t("a function is required");return n(s,i,o)},Uf}var Lf,o0;function JE(){if(o0)return Lf;o0=1;var s=w_(),t=E_(),i;try{i=[].__proto__===Array.prototype}catch(h){if(!h||typeof h!="object"||!("code"in h)||h.code!=="ERR_PROTO_ACCESS")throw h}var n=!!i&&t&&t(Object.prototype,"__proto__"),l=Object,o=l.getPrototypeOf;return Lf=n&&typeof n.get=="function"?s([n.get]):typeof o=="function"?function(c){return o(c==null?c:l(c))}:!1,Lf}var Pf,u0;function tT(){if(u0)return Pf;u0=1;var s=T_(),t=A_(),i=JE();return Pf=s?function(l){return s(l)}:t?function(l){if(!l||typeof l!="object"&&typeof l!="function")throw new TypeError("getProto: not an object");return t(l)}:i?function(l){return i(l)}:null,Pf}var Ff,h0;function eT(){if(h0)return Ff;h0=1;var s=Function.prototype.call,t=Object.prototype.hasOwnProperty,i=Mu();return Ff=i.call(s,t),Ff}var Gf,c0;function lp(){if(c0)return Gf;c0=1;var s,t=b_(),i=BE(),n=NE(),l=IE(),o=UE(),h=LE(),c=na(),p=PE(),m=FE(),g=GE(),y=zE(),_=HE(),b=kE(),T=XE(),w=jE(),A=Function,R=function(ft){try{return A('"use strict"; return ('+ft+").constructor;")()}catch{}},I=E_(),O=YE(),L=function(){throw new c},B=I?(function(){try{return arguments.callee,L}catch{try{return I(arguments,"callee").get}catch{return L}}})():L,j=WE()(),D=tT(),Y=A_(),rt=T_(),at=S_(),ct=ap(),z={},X=typeof Uint8Array>"u"||!D?s:D(Uint8Array),Z={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?s:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?s:ArrayBuffer,"%ArrayIteratorPrototype%":j&&D?D([][Symbol.iterator]()):s,"%AsyncFromSyncIteratorPrototype%":s,"%AsyncFunction%":z,"%AsyncGenerator%":z,"%AsyncGeneratorFunction%":z,"%AsyncIteratorPrototype%":z,"%Atomics%":typeof Atomics>"u"?s:Atomics,"%BigInt%":typeof BigInt>"u"?s:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?s:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?s:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?s:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":i,"%eval%":eval,"%EvalError%":n,"%Float16Array%":typeof Float16Array>"u"?s:Float16Array,"%Float32Array%":typeof Float32Array>"u"?s:Float32Array,"%Float64Array%":typeof Float64Array>"u"?s:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?s:FinalizationRegistry,"%Function%":A,"%GeneratorFunction%":z,"%Int8Array%":typeof Int8Array>"u"?s:Int8Array,"%Int16Array%":typeof Int16Array>"u"?s:Int16Array,"%Int32Array%":typeof Int32Array>"u"?s:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":j&&D?D(D([][Symbol.iterator]())):s,"%JSON%":typeof JSON=="object"?JSON:s,"%Map%":typeof Map>"u"?s:Map,"%MapIteratorPrototype%":typeof Map>"u"||!j||!D?s:D(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":t,"%Object.getOwnPropertyDescriptor%":I,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?s:Promise,"%Proxy%":typeof Proxy>"u"?s:Proxy,"%RangeError%":l,"%ReferenceError%":o,"%Reflect%":typeof Reflect>"u"?s:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?s:Set,"%SetIteratorPrototype%":typeof Set>"u"||!j||!D?s:D(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?s:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":j&&D?D(""[Symbol.iterator]()):s,"%Symbol%":j?Symbol:s,"%SyntaxError%":h,"%ThrowTypeError%":B,"%TypedArray%":X,"%TypeError%":c,"%Uint8Array%":typeof Uint8Array>"u"?s:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?s:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?s:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?s:Uint32Array,"%URIError%":p,"%WeakMap%":typeof WeakMap>"u"?s:WeakMap,"%WeakRef%":typeof WeakRef>"u"?s:WeakRef,"%WeakSet%":typeof WeakSet>"u"?s:WeakSet,"%Function.prototype.call%":ct,"%Function.prototype.apply%":at,"%Object.defineProperty%":O,"%Object.getPrototypeOf%":Y,"%Math.abs%":m,"%Math.floor%":g,"%Math.max%":y,"%Math.min%":_,"%Math.pow%":b,"%Math.round%":T,"%Math.sign%":w,"%Reflect.getPrototypeOf%":rt};if(D)try{null.error}catch(ft){var ot=D(D(ft));Z["%Error.prototype%"]=ot}var x=function ft(ut){var yt;if(ut==="%AsyncFunction%")yt=R("async function () {}");else if(ut==="%GeneratorFunction%")yt=R("function* () {}");else if(ut==="%AsyncGeneratorFunction%")yt=R("async function* () {}");else if(ut==="%AsyncGenerator%"){var xt=ft("%AsyncGeneratorFunction%");xt&&(yt=xt.prototype)}else if(ut==="%AsyncIteratorPrototype%"){var Dt=ft("%AsyncGenerator%");Dt&&D&&(yt=D(Dt.prototype))}return Z[ut]=yt,yt},M={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},C=Mu(),H=eT(),U=C.call(ct,Array.prototype.concat),E=C.call(at,Array.prototype.splice),N=C.call(ct,String.prototype.replace),F=C.call(ct,String.prototype.slice),V=C.call(ct,RegExp.prototype.exec),Q=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,it=/\\(\\)?/g,lt=function(ut){var yt=F(ut,0,1),xt=F(ut,-1);if(yt==="%"&&xt!=="%")throw new h("invalid intrinsic syntax, expected closing `%`");if(xt==="%"&&yt!=="%")throw new h("invalid intrinsic syntax, expected opening `%`");var Dt=[];return N(ut,Q,function(Ot,_t,bt,ue){Dt[Dt.length]=bt?N(ue,it,"$1"):_t||Ot}),Dt},dt=function(ut,yt){var xt=ut,Dt;if(H(M,xt)&&(Dt=M[xt],xt="%"+Dt[0]+"%"),H(Z,xt)){var Ot=Z[xt];if(Ot===z&&(Ot=x(xt)),typeof Ot>"u"&&!yt)throw new c("intrinsic "+ut+" exists, but is not available. Please file an issue!");return{alias:Dt,name:xt,value:Ot}}throw new h("intrinsic "+ut+" does not exist!")};return Gf=function(ut,yt){if(typeof ut!="string"||ut.length===0)throw new c("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof yt!="boolean")throw new c('"allowMissing" argument must be a boolean');if(V(/^%?[^%]*%?$/,ut)===null)throw new h("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var xt=lt(ut),Dt=xt.length>0?xt[0]:"",Ot=dt("%"+Dt+"%",yt),_t=Ot.name,bt=Ot.value,ue=!1,fe=Ot.alias;fe&&(Dt=fe[0],E(xt,U([0,1],fe)));for(var Fi=1,fi=!0;Fi<xt.length;Fi+=1){var He=xt[Fi],Br=F(He,0,1),Nr=F(He,-1);if((Br==='"'||Br==="'"||Br==="`"||Nr==='"'||Nr==="'"||Nr==="`")&&Br!==Nr)throw new h("property names with quotes must have matching quotes");if((He==="constructor"||!fi)&&(ue=!0),Dt+="."+He,_t="%"+Dt+"%",H(Z,_t))bt=Z[_t];else if(bt!=null){if(!(He in bt)){if(!yt)throw new c("base intrinsic for "+ut+" exists, but the property is not available.");return}if(I&&Fi+1>=xt.length){var _e=I(bt,He);fi=!!_e,fi&&"get"in _e&&!("originalValue"in _e.get)?bt=_e.get:bt=bt[He]}else fi=H(bt,He),bt=bt[He];fi&&!ue&&(Z[_t]=bt)}}return bt},Gf}var zf,f0;function C_(){if(f0)return zf;f0=1;var s=lp(),t=w_(),i=t([s("%String.prototype.indexOf%")]);return zf=function(l,o){var h=s(l,!!o);return typeof h=="function"&&i(l,".prototype.")>-1?t([h]):h},zf}var Hf,d0;function R_(){if(d0)return Hf;d0=1;var s=lp(),t=C_(),i=Ru(),n=na(),l=s("%Map%",!0),o=t("Map.prototype.get",!0),h=t("Map.prototype.set",!0),c=t("Map.prototype.has",!0),p=t("Map.prototype.delete",!0),m=t("Map.prototype.size",!0);return Hf=!!l&&function(){var y,_={assert:function(b){if(!_.has(b))throw new n("Side channel does not contain "+i(b))},delete:function(b){if(y){var T=p(y,b);return m(y)===0&&(y=void 0),T}return!1},get:function(b){if(y)return o(y,b)},has:function(b){return y?c(y,b):!1},set:function(b,T){y||(y=new l),h(y,b,T)}};return _},Hf}var kf,p0;function iT(){if(p0)return kf;p0=1;var s=lp(),t=C_(),i=Ru(),n=R_(),l=na(),o=s("%WeakMap%",!0),h=t("WeakMap.prototype.get",!0),c=t("WeakMap.prototype.set",!0),p=t("WeakMap.prototype.has",!0),m=t("WeakMap.prototype.delete",!0);return kf=o?function(){var y,_,b={assert:function(T){if(!b.has(T))throw new l("Side channel does not contain "+i(T))},delete:function(T){if(o&&T&&(typeof T=="object"||typeof T=="function")){if(y)return m(y,T)}else if(n&&_)return _.delete(T);return!1},get:function(T){return o&&T&&(typeof T=="object"||typeof T=="function")&&y?h(y,T):_&&_.get(T)},has:function(T){return o&&T&&(typeof T=="object"||typeof T=="function")&&y?p(y,T):!!_&&_.has(T)},set:function(T,w){o&&T&&(typeof T=="object"||typeof T=="function")?(y||(y=new o),c(y,T,w)):n&&(_||(_=n()),_.set(T,w))}};return b}:n,kf}var Xf,m0;function rT(){if(m0)return Xf;m0=1;var s=na(),t=Ru(),i=OE(),n=R_(),l=iT(),o=l||n||i;return Xf=function(){var c,p={assert:function(m){if(!p.has(m))throw new s("Side channel does not contain "+t(m))},delete:function(m){return!!c&&c.delete(m)},get:function(m){return c&&c.get(m)},has:function(m){return!!c&&c.has(m)},set:function(m,g){c||(c=o()),c.set(m,g)}};return p},Xf}var Vf,g0;function op(){if(g0)return Vf;g0=1;var s=String.prototype.replace,t=/%20/g,i={RFC1738:"RFC1738",RFC3986:"RFC3986"};return Vf={default:i.RFC3986,formatters:{RFC1738:function(n){return s.call(n,t,"+")},RFC3986:function(n){return String(n)}},RFC1738:i.RFC1738,RFC3986:i.RFC3986},Vf}var jf,y0;function M_(){if(y0)return jf;y0=1;var s=op(),t=Object.prototype.hasOwnProperty,i=Array.isArray,n=(function(){for(var A=[],R=0;R<256;++R)A.push("%"+((R<16?"0":"")+R.toString(16)).toUpperCase());return A})(),l=function(R){for(;R.length>1;){var I=R.pop(),O=I.obj[I.prop];if(i(O)){for(var L=[],B=0;B<O.length;++B)typeof O[B]<"u"&&L.push(O[B]);I.obj[I.prop]=L}}},o=function(R,I){for(var O=I&&I.plainObjects?{__proto__:null}:{},L=0;L<R.length;++L)typeof R[L]<"u"&&(O[L]=R[L]);return O},h=function A(R,I,O){if(!I)return R;if(typeof I!="object"&&typeof I!="function"){if(i(R))R.push(I);else if(R&&typeof R=="object")(O&&(O.plainObjects||O.allowPrototypes)||!t.call(Object.prototype,I))&&(R[I]=!0);else return[R,I];return R}if(!R||typeof R!="object")return[R].concat(I);var L=R;return i(R)&&!i(I)&&(L=o(R,O)),i(R)&&i(I)?(I.forEach(function(B,j){if(t.call(R,j)){var D=R[j];D&&typeof D=="object"&&B&&typeof B=="object"?R[j]=A(D,B,O):R.push(B)}else R[j]=B}),R):Object.keys(I).reduce(function(B,j){var D=I[j];return t.call(B,j)?B[j]=A(B[j],D,O):B[j]=D,B},L)},c=function(R,I){return Object.keys(I).reduce(function(O,L){return O[L]=I[L],O},R)},p=function(A,R,I){var O=A.replace(/\+/g," ");if(I==="iso-8859-1")return O.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(O)}catch{return O}},m=1024,g=function(R,I,O,L,B){if(R.length===0)return R;var j=R;if(typeof R=="symbol"?j=Symbol.prototype.toString.call(R):typeof R!="string"&&(j=String(R)),O==="iso-8859-1")return escape(j).replace(/%u[0-9a-f]{4}/gi,function(X){return"%26%23"+parseInt(X.slice(2),16)+"%3B"});for(var D="",Y=0;Y<j.length;Y+=m){for(var rt=j.length>=m?j.slice(Y,Y+m):j,at=[],ct=0;ct<rt.length;++ct){var z=rt.charCodeAt(ct);if(z===45||z===46||z===95||z===126||z>=48&&z<=57||z>=65&&z<=90||z>=97&&z<=122||B===s.RFC1738&&(z===40||z===41)){at[at.length]=rt.charAt(ct);continue}if(z<128){at[at.length]=n[z];continue}if(z<2048){at[at.length]=n[192|z>>6]+n[128|z&63];continue}if(z<55296||z>=57344){at[at.length]=n[224|z>>12]+n[128|z>>6&63]+n[128|z&63];continue}ct+=1,z=65536+((z&1023)<<10|rt.charCodeAt(ct)&1023),at[at.length]=n[240|z>>18]+n[128|z>>12&63]+n[128|z>>6&63]+n[128|z&63]}D+=at.join("")}return D},y=function(R){for(var I=[{obj:{o:R},prop:"o"}],O=[],L=0;L<I.length;++L)for(var B=I[L],j=B.obj[B.prop],D=Object.keys(j),Y=0;Y<D.length;++Y){var rt=D[Y],at=j[rt];typeof at=="object"&&at!==null&&O.indexOf(at)===-1&&(I.push({obj:j,prop:rt}),O.push(at))}return l(I),R},_=function(R){return Object.prototype.toString.call(R)==="[object RegExp]"},b=function(R){return!R||typeof R!="object"?!1:!!(R.constructor&&R.constructor.isBuffer&&R.constructor.isBuffer(R))},T=function(R,I){return[].concat(R,I)},w=function(R,I){if(i(R)){for(var O=[],L=0;L<R.length;L+=1)O.push(I(R[L]));return O}return I(R)};return jf={arrayToObject:o,assign:c,combine:T,compact:y,decode:p,encode:g,isBuffer:b,isRegExp:_,maybeMap:w,merge:h},jf}var qf,v0;function nT(){if(v0)return qf;v0=1;var s=rT(),t=M_(),i=op(),n=Object.prototype.hasOwnProperty,l={brackets:function(A){return A+"[]"},comma:"comma",indices:function(A,R){return A+"["+R+"]"},repeat:function(A){return A}},o=Array.isArray,h=Array.prototype.push,c=function(w,A){h.apply(w,o(A)?A:[A])},p=Date.prototype.toISOString,m=i.default,g={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:t.encode,encodeValuesOnly:!1,filter:void 0,format:m,formatter:i.formatters[m],indices:!1,serializeDate:function(A){return p.call(A)},skipNulls:!1,strictNullHandling:!1},y=function(A){return typeof A=="string"||typeof A=="number"||typeof A=="boolean"||typeof A=="symbol"||typeof A=="bigint"},_={},b=function w(A,R,I,O,L,B,j,D,Y,rt,at,ct,z,X,Z,ot,x,M){for(var C=A,H=M,U=0,E=!1;(H=H.get(_))!==void 0&&!E;){var N=H.get(A);if(U+=1,typeof N<"u"){if(N===U)throw new RangeError("Cyclic object value");E=!0}typeof H.get(_)>"u"&&(U=0)}if(typeof rt=="function"?C=rt(R,C):C instanceof Date?C=z(C):I==="comma"&&o(C)&&(C=t.maybeMap(C,function(_t){return _t instanceof Date?z(_t):_t})),C===null){if(B)return Y&&!ot?Y(R,g.encoder,x,"key",X):R;C=""}if(y(C)||t.isBuffer(C)){if(Y){var F=ot?R:Y(R,g.encoder,x,"key",X);return[Z(F)+"="+Z(Y(C,g.encoder,x,"value",X))]}return[Z(R)+"="+Z(String(C))]}var V=[];if(typeof C>"u")return V;var Q;if(I==="comma"&&o(C))ot&&Y&&(C=t.maybeMap(C,Y)),Q=[{value:C.length>0?C.join(",")||null:void 0}];else if(o(rt))Q=rt;else{var it=Object.keys(C);Q=at?it.sort(at):it}var lt=D?String(R).replace(/\./g,"%2E"):String(R),dt=O&&o(C)&&C.length===1?lt+"[]":lt;if(L&&o(C)&&C.length===0)return dt+"[]";for(var ft=0;ft<Q.length;++ft){var ut=Q[ft],yt=typeof ut=="object"&&ut&&typeof ut.value<"u"?ut.value:C[ut];if(!(j&&yt===null)){var xt=ct&&D?String(ut).replace(/\./g,"%2E"):String(ut),Dt=o(C)?typeof I=="function"?I(dt,xt):dt:dt+(ct?"."+xt:"["+xt+"]");M.set(A,U);var Ot=s();Ot.set(_,M),c(V,w(yt,Dt,I,O,L,B,j,D,I==="comma"&&ot&&o(C)?null:Y,rt,at,ct,z,X,Z,ot,x,Ot))}}return V},T=function(A){if(!A)return g;if(typeof A.allowEmptyArrays<"u"&&typeof A.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof A.encodeDotInKeys<"u"&&typeof A.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(A.encoder!==null&&typeof A.encoder<"u"&&typeof A.encoder!="function")throw new TypeError("Encoder has to be a function.");var R=A.charset||g.charset;if(typeof A.charset<"u"&&A.charset!=="utf-8"&&A.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var I=i.default;if(typeof A.format<"u"){if(!n.call(i.formatters,A.format))throw new TypeError("Unknown format option provided.");I=A.format}var O=i.formatters[I],L=g.filter;(typeof A.filter=="function"||o(A.filter))&&(L=A.filter);var B;if(A.arrayFormat in l?B=A.arrayFormat:"indices"in A?B=A.indices?"indices":"repeat":B=g.arrayFormat,"commaRoundTrip"in A&&typeof A.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var j=typeof A.allowDots>"u"?A.encodeDotInKeys===!0?!0:g.allowDots:!!A.allowDots;return{addQueryPrefix:typeof A.addQueryPrefix=="boolean"?A.addQueryPrefix:g.addQueryPrefix,allowDots:j,allowEmptyArrays:typeof A.allowEmptyArrays=="boolean"?!!A.allowEmptyArrays:g.allowEmptyArrays,arrayFormat:B,charset:R,charsetSentinel:typeof A.charsetSentinel=="boolean"?A.charsetSentinel:g.charsetSentinel,commaRoundTrip:!!A.commaRoundTrip,delimiter:typeof A.delimiter>"u"?g.delimiter:A.delimiter,encode:typeof A.encode=="boolean"?A.encode:g.encode,encodeDotInKeys:typeof A.encodeDotInKeys=="boolean"?A.encodeDotInKeys:g.encodeDotInKeys,encoder:typeof A.encoder=="function"?A.encoder:g.encoder,encodeValuesOnly:typeof A.encodeValuesOnly=="boolean"?A.encodeValuesOnly:g.encodeValuesOnly,filter:L,format:I,formatter:O,serializeDate:typeof A.serializeDate=="function"?A.serializeDate:g.serializeDate,skipNulls:typeof A.skipNulls=="boolean"?A.skipNulls:g.skipNulls,sort:typeof A.sort=="function"?A.sort:null,strictNullHandling:typeof A.strictNullHandling=="boolean"?A.strictNullHandling:g.strictNullHandling}};return qf=function(w,A){var R=w,I=T(A),O,L;typeof I.filter=="function"?(L=I.filter,R=L("",R)):o(I.filter)&&(L=I.filter,O=L);var B=[];if(typeof R!="object"||R===null)return"";var j=l[I.arrayFormat],D=j==="comma"&&I.commaRoundTrip;O||(O=Object.keys(R)),I.sort&&O.sort(I.sort);for(var Y=s(),rt=0;rt<O.length;++rt){var at=O[rt],ct=R[at];I.skipNulls&&ct===null||c(B,b(ct,at,j,D,I.allowEmptyArrays,I.strictNullHandling,I.skipNulls,I.encodeDotInKeys,I.encode?I.encoder:null,I.filter,I.sort,I.allowDots,I.serializeDate,I.format,I.formatter,I.encodeValuesOnly,I.charset,Y))}var z=B.join(I.delimiter),X=I.addQueryPrefix===!0?"?":"";return I.charsetSentinel&&(I.charset==="iso-8859-1"?X+="utf8=%26%2310003%3B&":X+="utf8=%E2%9C%93&"),z.length>0?X+z:""},qf}var Yf,_0;function sT(){if(_0)return Yf;_0=1;var s=M_(),t=Object.prototype.hasOwnProperty,i=Array.isArray,n={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:s.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},l=function(_){return _.replace(/&#(\d+);/g,function(b,T){return String.fromCharCode(parseInt(T,10))})},o=function(_,b,T){if(_&&typeof _=="string"&&b.comma&&_.indexOf(",")>-1)return _.split(",");if(b.throwOnLimitExceeded&&T>=b.arrayLimit)throw new RangeError("Array limit exceeded. Only "+b.arrayLimit+" element"+(b.arrayLimit===1?"":"s")+" allowed in an array.");return _},h="utf8=%26%2310003%3B",c="utf8=%E2%9C%93",p=function(b,T){var w={__proto__:null},A=T.ignoreQueryPrefix?b.replace(/^\?/,""):b;A=A.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var R=T.parameterLimit===1/0?void 0:T.parameterLimit,I=A.split(T.delimiter,T.throwOnLimitExceeded?R+1:R);if(T.throwOnLimitExceeded&&I.length>R)throw new RangeError("Parameter limit exceeded. Only "+R+" parameter"+(R===1?"":"s")+" allowed.");var O=-1,L,B=T.charset;if(T.charsetSentinel)for(L=0;L<I.length;++L)I[L].indexOf("utf8=")===0&&(I[L]===c?B="utf-8":I[L]===h&&(B="iso-8859-1"),O=L,L=I.length);for(L=0;L<I.length;++L)if(L!==O){var j=I[L],D=j.indexOf("]="),Y=D===-1?j.indexOf("="):D+1,rt,at;Y===-1?(rt=T.decoder(j,n.decoder,B,"key"),at=T.strictNullHandling?null:""):(rt=T.decoder(j.slice(0,Y),n.decoder,B,"key"),at=s.maybeMap(o(j.slice(Y+1),T,i(w[rt])?w[rt].length:0),function(z){return T.decoder(z,n.decoder,B,"value")})),at&&T.interpretNumericEntities&&B==="iso-8859-1"&&(at=l(String(at))),j.indexOf("[]=")>-1&&(at=i(at)?[at]:at);var ct=t.call(w,rt);ct&&T.duplicates==="combine"?w[rt]=s.combine(w[rt],at):(!ct||T.duplicates==="last")&&(w[rt]=at)}return w},m=function(_,b,T,w){var A=0;if(_.length>0&&_[_.length-1]==="[]"){var R=_.slice(0,-1).join("");A=Array.isArray(b)&&b[R]?b[R].length:0}for(var I=w?b:o(b,T,A),O=_.length-1;O>=0;--O){var L,B=_[O];if(B==="[]"&&T.parseArrays)L=T.allowEmptyArrays&&(I===""||T.strictNullHandling&&I===null)?[]:s.combine([],I);else{L=T.plainObjects?{__proto__:null}:{};var j=B.charAt(0)==="["&&B.charAt(B.length-1)==="]"?B.slice(1,-1):B,D=T.decodeDotInKeys?j.replace(/%2E/g,"."):j,Y=parseInt(D,10);!T.parseArrays&&D===""?L={0:I}:!isNaN(Y)&&B!==D&&String(Y)===D&&Y>=0&&T.parseArrays&&Y<=T.arrayLimit?(L=[],L[Y]=I):D!=="__proto__"&&(L[D]=I)}I=L}return I},g=function(b,T,w,A){if(b){var R=w.allowDots?b.replace(/\.([^.[]+)/g,"[$1]"):b,I=/(\[[^[\]]*])/,O=/(\[[^[\]]*])/g,L=w.depth>0&&I.exec(R),B=L?R.slice(0,L.index):R,j=[];if(B){if(!w.plainObjects&&t.call(Object.prototype,B)&&!w.allowPrototypes)return;j.push(B)}for(var D=0;w.depth>0&&(L=O.exec(R))!==null&&D<w.depth;){if(D+=1,!w.plainObjects&&t.call(Object.prototype,L[1].slice(1,-1))&&!w.allowPrototypes)return;j.push(L[1])}if(L){if(w.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+w.depth+" and strictDepth is true");j.push("["+R.slice(L.index)+"]")}return m(j,T,w,A)}},y=function(b){if(!b)return n;if(typeof b.allowEmptyArrays<"u"&&typeof b.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof b.decodeDotInKeys<"u"&&typeof b.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(b.decoder!==null&&typeof b.decoder<"u"&&typeof b.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof b.charset<"u"&&b.charset!=="utf-8"&&b.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(typeof b.throwOnLimitExceeded<"u"&&typeof b.throwOnLimitExceeded!="boolean")throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var T=typeof b.charset>"u"?n.charset:b.charset,w=typeof b.duplicates>"u"?n.duplicates:b.duplicates;if(w!=="combine"&&w!=="first"&&w!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var A=typeof b.allowDots>"u"?b.decodeDotInKeys===!0?!0:n.allowDots:!!b.allowDots;return{allowDots:A,allowEmptyArrays:typeof b.allowEmptyArrays=="boolean"?!!b.allowEmptyArrays:n.allowEmptyArrays,allowPrototypes:typeof b.allowPrototypes=="boolean"?b.allowPrototypes:n.allowPrototypes,allowSparse:typeof b.allowSparse=="boolean"?b.allowSparse:n.allowSparse,arrayLimit:typeof b.arrayLimit=="number"?b.arrayLimit:n.arrayLimit,charset:T,charsetSentinel:typeof b.charsetSentinel=="boolean"?b.charsetSentinel:n.charsetSentinel,comma:typeof b.comma=="boolean"?b.comma:n.comma,decodeDotInKeys:typeof b.decodeDotInKeys=="boolean"?b.decodeDotInKeys:n.decodeDotInKeys,decoder:typeof b.decoder=="function"?b.decoder:n.decoder,delimiter:typeof b.delimiter=="string"||s.isRegExp(b.delimiter)?b.delimiter:n.delimiter,depth:typeof b.depth=="number"||b.depth===!1?+b.depth:n.depth,duplicates:w,ignoreQueryPrefix:b.ignoreQueryPrefix===!0,interpretNumericEntities:typeof b.interpretNumericEntities=="boolean"?b.interpretNumericEntities:n.interpretNumericEntities,parameterLimit:typeof b.parameterLimit=="number"?b.parameterLimit:n.parameterLimit,parseArrays:b.parseArrays!==!1,plainObjects:typeof b.plainObjects=="boolean"?b.plainObjects:n.plainObjects,strictDepth:typeof b.strictDepth=="boolean"?!!b.strictDepth:n.strictDepth,strictNullHandling:typeof b.strictNullHandling=="boolean"?b.strictNullHandling:n.strictNullHandling,throwOnLimitExceeded:typeof b.throwOnLimitExceeded=="boolean"?b.throwOnLimitExceeded:!1}};return Yf=function(_,b){var T=y(b);if(_===""||_===null||typeof _>"u")return T.plainObjects?{__proto__:null}:{};for(var w=typeof _=="string"?p(_,T):_,A=T.plainObjects?{__proto__:null}:{},R=Object.keys(w),I=0;I<R.length;++I){var O=R[I],L=g(O,w[O],T,typeof _=="string");A=s.merge(A,L,T)}return T.allowSparse===!0?A:s.compact(A)},Yf}var $f,x0;function aT(){if(x0)return $f;x0=1;var s=nT(),t=sT(),i=op();return $f={formats:i,parse:t,stringify:s},$f}var b0;function lT(){if(b0)return Fn;b0=1;var s=CE();function t(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var i=/^([a-z0-9.+-]+:)/i,n=/:[0-9]*$/,l=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,o=["<",">",'"',"`"," ","\r",`
`,"	"],h=["{","}","|","\\","^","`"].concat(o),c=["'"].concat(h),p=["%","/","?",";","#"].concat(c),m=["/","?","#"],g=255,y=/^[+a-z0-9A-Z_-]{0,63}$/,_=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,b={javascript:!0,"javascript:":!0},T={javascript:!0,"javascript:":!0},w={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},A=aT();function R(B,j,D){if(B&&typeof B=="object"&&B instanceof t)return B;var Y=new t;return Y.parse(B,j,D),Y}t.prototype.parse=function(B,j,D){if(typeof B!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof B);var Y=B.indexOf("?"),rt=Y!==-1&&Y<B.indexOf("#")?"?":"#",at=B.split(rt),ct=/\\/g;at[0]=at[0].replace(ct,"/"),B=at.join(rt);var z=B;if(z=z.trim(),!D&&B.split("#").length===1){var X=l.exec(z);if(X)return this.path=z,this.href=z,this.pathname=X[1],X[2]?(this.search=X[2],j?this.query=A.parse(this.search.substr(1)):this.query=this.search.substr(1)):j&&(this.search="",this.query={}),this}var Z=i.exec(z);if(Z){Z=Z[0];var ot=Z.toLowerCase();this.protocol=ot,z=z.substr(Z.length)}if(D||Z||z.match(/^\/\/[^@/]+@[^@/]+/)){var x=z.substr(0,2)==="//";x&&!(Z&&T[Z])&&(z=z.substr(2),this.slashes=!0)}if(!T[Z]&&(x||Z&&!w[Z])){for(var M=-1,C=0;C<m.length;C++){var H=z.indexOf(m[C]);H!==-1&&(M===-1||H<M)&&(M=H)}var U,E;M===-1?E=z.lastIndexOf("@"):E=z.lastIndexOf("@",M),E!==-1&&(U=z.slice(0,E),z=z.slice(E+1),this.auth=decodeURIComponent(U)),M=-1;for(var C=0;C<p.length;C++){var H=z.indexOf(p[C]);H!==-1&&(M===-1||H<M)&&(M=H)}M===-1&&(M=z.length),this.host=z.slice(0,M),z=z.slice(M),this.parseHost(),this.hostname=this.hostname||"";var N=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!N)for(var F=this.hostname.split(/\./),C=0,V=F.length;C<V;C++){var Q=F[C];if(Q&&!Q.match(y)){for(var it="",lt=0,dt=Q.length;lt<dt;lt++)Q.charCodeAt(lt)>127?it+="x":it+=Q[lt];if(!it.match(y)){var ft=F.slice(0,C),ut=F.slice(C+1),yt=Q.match(_);yt&&(ft.push(yt[1]),ut.unshift(yt[2])),ut.length&&(z="/"+ut.join(".")+z),this.hostname=ft.join(".");break}}}this.hostname.length>g?this.hostname="":this.hostname=this.hostname.toLowerCase(),N||(this.hostname=s.toASCII(this.hostname));var xt=this.port?":"+this.port:"",Dt=this.hostname||"";this.host=Dt+xt,this.href+=this.host,N&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),z[0]!=="/"&&(z="/"+z))}if(!b[ot])for(var C=0,V=c.length;C<V;C++){var Ot=c[C];if(z.indexOf(Ot)!==-1){var _t=encodeURIComponent(Ot);_t===Ot&&(_t=escape(Ot)),z=z.split(Ot).join(_t)}}var bt=z.indexOf("#");bt!==-1&&(this.hash=z.substr(bt),z=z.slice(0,bt));var ue=z.indexOf("?");if(ue!==-1?(this.search=z.substr(ue),this.query=z.substr(ue+1),j&&(this.query=A.parse(this.query)),z=z.slice(0,ue)):j&&(this.search="",this.query={}),z&&(this.pathname=z),w[ot]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var xt=this.pathname||"",fe=this.search||"";this.path=xt+fe}return this.href=this.format(),this};function I(B){return typeof B=="string"&&(B=R(B)),B instanceof t?B.format():t.prototype.format.call(B)}t.prototype.format=function(){var B=this.auth||"";B&&(B=encodeURIComponent(B),B=B.replace(/%3A/i,":"),B+="@");var j=this.protocol||"",D=this.pathname||"",Y=this.hash||"",rt=!1,at="";this.host?rt=B+this.host:this.hostname&&(rt=B+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(rt+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(at=A.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var ct=this.search||at&&"?"+at||"";return j&&j.substr(-1)!==":"&&(j+=":"),this.slashes||(!j||w[j])&&rt!==!1?(rt="//"+(rt||""),D&&D.charAt(0)!=="/"&&(D="/"+D)):rt||(rt=""),Y&&Y.charAt(0)!=="#"&&(Y="#"+Y),ct&&ct.charAt(0)!=="?"&&(ct="?"+ct),D=D.replace(/[?#]/g,function(z){return encodeURIComponent(z)}),ct=ct.replace("#","%23"),j+rt+D+ct+Y};function O(B,j){return R(B,!1,!0).resolve(j)}t.prototype.resolve=function(B){return this.resolveObject(R(B,!1,!0)).format()};function L(B,j){return B?R(B,!1,!0).resolveObject(j):j}return t.prototype.resolveObject=function(B){if(typeof B=="string"){var j=new t;j.parse(B,!1,!0),B=j}for(var D=new t,Y=Object.keys(this),rt=0;rt<Y.length;rt++){var at=Y[rt];D[at]=this[at]}if(D.hash=B.hash,B.href==="")return D.href=D.format(),D;if(B.slashes&&!B.protocol){for(var ct=Object.keys(B),z=0;z<ct.length;z++){var X=ct[z];X!=="protocol"&&(D[X]=B[X])}return w[D.protocol]&&D.hostname&&!D.pathname&&(D.pathname="/",D.path=D.pathname),D.href=D.format(),D}if(B.protocol&&B.protocol!==D.protocol){if(!w[B.protocol]){for(var Z=Object.keys(B),ot=0;ot<Z.length;ot++){var x=Z[ot];D[x]=B[x]}return D.href=D.format(),D}if(D.protocol=B.protocol,!B.host&&!T[B.protocol]){for(var V=(B.pathname||"").split("/");V.length&&!(B.host=V.shift()););B.host||(B.host=""),B.hostname||(B.hostname=""),V[0]!==""&&V.unshift(""),V.length<2&&V.unshift(""),D.pathname=V.join("/")}else D.pathname=B.pathname;if(D.search=B.search,D.query=B.query,D.host=B.host||"",D.auth=B.auth,D.hostname=B.hostname||B.host,D.port=B.port,D.pathname||D.search){var M=D.pathname||"",C=D.search||"";D.path=M+C}return D.slashes=D.slashes||B.slashes,D.href=D.format(),D}var H=D.pathname&&D.pathname.charAt(0)==="/",U=B.host||B.pathname&&B.pathname.charAt(0)==="/",E=U||H||D.host&&B.pathname,N=E,F=D.pathname&&D.pathname.split("/")||[],V=B.pathname&&B.pathname.split("/")||[],Q=D.protocol&&!w[D.protocol];if(Q&&(D.hostname="",D.port=null,D.host&&(F[0]===""?F[0]=D.host:F.unshift(D.host)),D.host="",B.protocol&&(B.hostname=null,B.port=null,B.host&&(V[0]===""?V[0]=B.host:V.unshift(B.host)),B.host=null),E=E&&(V[0]===""||F[0]==="")),U)D.host=B.host||B.host===""?B.host:D.host,D.hostname=B.hostname||B.hostname===""?B.hostname:D.hostname,D.search=B.search,D.query=B.query,F=V;else if(V.length)F||(F=[]),F.pop(),F=F.concat(V),D.search=B.search,D.query=B.query;else if(B.search!=null){if(Q){D.host=F.shift(),D.hostname=D.host;var it=D.host&&D.host.indexOf("@")>0?D.host.split("@"):!1;it&&(D.auth=it.shift(),D.hostname=it.shift(),D.host=D.hostname)}return D.search=B.search,D.query=B.query,(D.pathname!==null||D.search!==null)&&(D.path=(D.pathname?D.pathname:"")+(D.search?D.search:"")),D.href=D.format(),D}if(!F.length)return D.pathname=null,D.search?D.path="/"+D.search:D.path=null,D.href=D.format(),D;for(var lt=F.slice(-1)[0],dt=(D.host||B.host||F.length>1)&&(lt==="."||lt==="..")||lt==="",ft=0,ut=F.length;ut>=0;ut--)lt=F[ut],lt==="."?F.splice(ut,1):lt===".."?(F.splice(ut,1),ft++):ft&&(F.splice(ut,1),ft--);if(!E&&!N)for(;ft--;ft)F.unshift("..");E&&F[0]!==""&&(!F[0]||F[0].charAt(0)!=="/")&&F.unshift(""),dt&&F.join("/").substr(-1)!=="/"&&F.push("");var yt=F[0]===""||F[0]&&F[0].charAt(0)==="/";if(Q){D.hostname=yt?"":F.length?F.shift():"",D.host=D.hostname;var it=D.host&&D.host.indexOf("@")>0?D.host.split("@"):!1;it&&(D.auth=it.shift(),D.hostname=it.shift(),D.host=D.hostname)}return E=E||D.host&&F.length,E&&!yt&&F.unshift(""),F.length>0?D.pathname=F.join("/"):(D.pathname=null,D.path=null),(D.pathname!==null||D.search!==null)&&(D.path=(D.pathname?D.pathname:"")+(D.search?D.search:"")),D.auth=B.auth||D.auth,D.slashes=D.slashes||B.slashes,D.href=D.format(),D},t.prototype.parseHost=function(){var B=this.host,j=n.exec(B);j&&(j=j[0],j!==":"&&(this.port=j.substr(1)),B=B.substr(0,B.length-j.length)),B&&(this.hostname=B)},Fn.parse=R,Fn.resolve=O,Fn.resolveObject=L,Fn.format=I,Fn.Url=t,Fn}lT();const E0={};function zt(s,t,i=3){if(E0[t])return;let n=new Error().stack;typeof n>"u"?console.warn("PixiJS Deprecation Warning: ",`${t}
Deprecated since v${s}`):(n=n.split(`
`).splice(i).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${t}
Deprecated since v${s}`),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${t}
Deprecated since v${s}`),console.warn(n))),E0[t]=!0}function Di(s){if(typeof s!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(s)}`)}function il(s){return s.split("?")[0].split("#")[0]}function oT(s){return s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function uT(s,t,i){return s.replace(new RegExp(oT(t),"g"),i)}function hT(s,t){let i="",n=0,l=-1,o=0,h=-1;for(let c=0;c<=s.length;++c){if(c<s.length)h=s.charCodeAt(c);else{if(h===47)break;h=47}if(h===47){if(!(l===c-1||o===1))if(l!==c-1&&o===2){if(i.length<2||n!==2||i.charCodeAt(i.length-1)!==46||i.charCodeAt(i.length-2)!==46){if(i.length>2){const p=i.lastIndexOf("/");if(p!==i.length-1){p===-1?(i="",n=0):(i=i.slice(0,p),n=i.length-1-i.lastIndexOf("/")),l=c,o=0;continue}}else if(i.length===2||i.length===1){i="",n=0,l=c,o=0;continue}}}else i.length>0?i+=`/${s.slice(l+1,c)}`:i=s.slice(l+1,c),n=c-l-1;l=c,o=0}else h===46&&o!==-1?++o:o=-1}return i}const Oe={toPosix(s){return uT(s,"\\","/")},isUrl(s){return/^https?:/.test(this.toPosix(s))},isDataUrl(s){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(s)},isBlobUrl(s){return s.startsWith("blob:")},hasProtocol(s){return/^[^/:]+:/.test(this.toPosix(s))},getProtocol(s){Di(s),s=this.toPosix(s);const t=/^file:\/\/\//.exec(s);if(t)return t[0];const i=/^[^/:]+:\/{0,2}/.exec(s);return i?i[0]:""},toAbsolute(s,t,i){if(Di(s),this.isDataUrl(s)||this.isBlobUrl(s))return s;const n=il(this.toPosix(t??gt.ADAPTER.getBaseUrl())),l=il(this.toPosix(i??this.rootname(n)));return s=this.toPosix(s),s.startsWith("/")?Oe.join(l,s.slice(1)):this.isAbsolute(s)?s:this.join(n,s)},normalize(s){if(Di(s),s.length===0)return".";if(this.isDataUrl(s)||this.isBlobUrl(s))return s;s=this.toPosix(s);let t="";const i=s.startsWith("/");this.hasProtocol(s)&&(t=this.rootname(s),s=s.slice(t.length));const n=s.endsWith("/");return s=hT(s),s.length>0&&n&&(s+="/"),i?`/${s}`:t+s},isAbsolute(s){return Di(s),s=this.toPosix(s),this.hasProtocol(s)?!0:s.startsWith("/")},join(...s){if(s.length===0)return".";let t;for(let i=0;i<s.length;++i){const n=s[i];if(Di(n),n.length>0)if(t===void 0)t=n;else{const l=s[i-1]??"";this.joinExtensions.includes(this.extname(l).toLowerCase())?t+=`/../${n}`:t+=`/${n}`}}return t===void 0?".":this.normalize(t)},dirname(s){if(Di(s),s.length===0)return".";s=this.toPosix(s);let t=s.charCodeAt(0);const i=t===47;let n=-1,l=!0;const o=this.getProtocol(s),h=s;s=s.slice(o.length);for(let c=s.length-1;c>=1;--c)if(t=s.charCodeAt(c),t===47){if(!l){n=c;break}}else l=!1;return n===-1?i?"/":this.isUrl(h)?o+s:o:i&&n===1?"//":o+s.slice(0,n)},rootname(s){Di(s),s=this.toPosix(s);let t="";if(s.startsWith("/")?t="/":t=this.getProtocol(s),this.isUrl(s)){const i=s.indexOf("/",t.length);i!==-1?t=s.slice(0,i):t=s,t.endsWith("/")||(t+="/")}return t},basename(s,t){Di(s),t&&Di(t),s=il(this.toPosix(s));let i=0,n=-1,l=!0,o;if(t!==void 0&&t.length>0&&t.length<=s.length){if(t.length===s.length&&t===s)return"";let h=t.length-1,c=-1;for(o=s.length-1;o>=0;--o){const p=s.charCodeAt(o);if(p===47){if(!l){i=o+1;break}}else c===-1&&(l=!1,c=o+1),h>=0&&(p===t.charCodeAt(h)?--h===-1&&(n=o):(h=-1,n=c))}return i===n?n=c:n===-1&&(n=s.length),s.slice(i,n)}for(o=s.length-1;o>=0;--o)if(s.charCodeAt(o)===47){if(!l){i=o+1;break}}else n===-1&&(l=!1,n=o+1);return n===-1?"":s.slice(i,n)},extname(s){Di(s),s=il(this.toPosix(s));let t=-1,i=0,n=-1,l=!0,o=0;for(let h=s.length-1;h>=0;--h){const c=s.charCodeAt(h);if(c===47){if(!l){i=h+1;break}continue}n===-1&&(l=!1,n=h+1),c===46?t===-1?t=h:o!==1&&(o=1):t!==-1&&(o=-1)}return t===-1||n===-1||o===0||o===1&&t===n-1&&t===i+1?"":s.slice(t,n)},parse(s){Di(s);const t={root:"",dir:"",base:"",ext:"",name:""};if(s.length===0)return t;s=il(this.toPosix(s));let i=s.charCodeAt(0);const n=this.isAbsolute(s);let l;t.root=this.rootname(s),n||this.hasProtocol(s)?l=1:l=0;let o=-1,h=0,c=-1,p=!0,m=s.length-1,g=0;for(;m>=l;--m){if(i=s.charCodeAt(m),i===47){if(!p){h=m+1;break}continue}c===-1&&(p=!1,c=m+1),i===46?o===-1?o=m:g!==1&&(g=1):o!==-1&&(g=-1)}return o===-1||c===-1||g===0||g===1&&o===c-1&&o===h+1?c!==-1&&(h===0&&n?t.base=t.name=s.slice(1,c):t.base=t.name=s.slice(h,c)):(h===0&&n?(t.name=s.slice(1,o),t.base=s.slice(1,c)):(t.name=s.slice(h,o),t.base=s.slice(h,c)),t.ext=s.slice(o,c)),t.dir=this.dirname(s),t},sep:"/",delimiter:":",joinExtensions:[".html"]};let Wf;async function cT(){return Wf??(Wf=(async()=>{var o;const s=document.createElement("canvas").getContext("webgl");if(!s)return Je.UNPACK;const t=await new Promise(h=>{const c=document.createElement("video");c.onloadeddata=()=>h(c),c.onerror=()=>h(null),c.autoplay=!1,c.crossOrigin="anonymous",c.preload="auto",c.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",c.load()});if(!t)return Je.UNPACK;const i=s.createTexture();s.bindTexture(s.TEXTURE_2D,i);const n=s.createFramebuffer();s.bindFramebuffer(s.FRAMEBUFFER,n),s.framebufferTexture2D(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.TEXTURE_2D,i,0),s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),s.pixelStorei(s.UNPACK_COLORSPACE_CONVERSION_WEBGL,s.NONE),s.texImage2D(s.TEXTURE_2D,0,s.RGBA,s.RGBA,s.UNSIGNED_BYTE,t);const l=new Uint8Array(4);return s.readPixels(0,0,1,1,s.RGBA,s.UNSIGNED_BYTE,l),s.deleteFramebuffer(n),s.deleteTexture(i),(o=s.getExtension("WEBGL_lose_context"))==null||o.loseContext(),l[0]<=l[3]?Je.PMA:Je.UNPACK})()),Wf}let Zf;function fT(){return typeof Zf>"u"&&(Zf=(function(){var t;const s={stencil:!0,failIfMajorPerformanceCaveat:gt.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!gt.ADAPTER.getWebGLRenderingContext())return!1;const i=gt.ADAPTER.createCanvas();let n=i.getContext("webgl",s)||i.getContext("experimental-webgl",s);const l=!!((t=n==null?void 0:n.getContextAttributes())!=null&&t.stencil);if(n){const o=n.getExtension("WEBGL_lose_context");o&&o.loseContext()}return n=null,l}catch{return!1}})()),Zf}var dT={grad:.9,turn:360,rad:360/(2*Math.PI)},Ar=function(s){return typeof s=="string"?s.length>0:typeof s=="number"},De=function(s,t,i){return t===void 0&&(t=0),i===void 0&&(i=Math.pow(10,t)),Math.round(i*s)/i+0},Si=function(s,t,i){return t===void 0&&(t=0),i===void 0&&(i=1),s>i?i:s>t?s:t},D_=function(s){return(s=isFinite(s)?s%360:0)>0?s:s+360},T0=function(s){return{r:Si(s.r,0,255),g:Si(s.g,0,255),b:Si(s.b,0,255),a:Si(s.a)}},Kf=function(s){return{r:De(s.r),g:De(s.g),b:De(s.b),a:De(s.a,3)}},pT=/^#([0-9a-f]{3,8})$/i,Go=function(s){var t=s.toString(16);return t.length<2?"0"+t:t},O_=function(s){var t=s.r,i=s.g,n=s.b,l=s.a,o=Math.max(t,i,n),h=o-Math.min(t,i,n),c=h?o===t?(i-n)/h:o===i?2+(n-t)/h:4+(t-i)/h:0;return{h:60*(c<0?c+6:c),s:o?h/o*100:0,v:o/255*100,a:l}},B_=function(s){var t=s.h,i=s.s,n=s.v,l=s.a;t=t/360*6,i/=100,n/=100;var o=Math.floor(t),h=n*(1-i),c=n*(1-(t-o)*i),p=n*(1-(1-t+o)*i),m=o%6;return{r:255*[n,c,h,h,p,n][m],g:255*[p,n,n,c,h,h][m],b:255*[h,h,p,n,n,c][m],a:l}},A0=function(s){return{h:D_(s.h),s:Si(s.s,0,100),l:Si(s.l,0,100),a:Si(s.a)}},S0=function(s){return{h:De(s.h),s:De(s.s),l:De(s.l),a:De(s.a,3)}},w0=function(s){return B_((i=(t=s).s,{h:t.h,s:(i*=((n=t.l)<50?n:100-n)/100)>0?2*i/(n+i)*100:0,v:n+i,a:t.a}));var t,i,n},ml=function(s){return{h:(t=O_(s)).h,s:(l=(200-(i=t.s))*(n=t.v)/100)>0&&l<200?i*n/100/(l<=100?l:200-l)*100:0,l:l/2,a:t.a};var t,i,n,l},mT=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,gT=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,yT=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,vT=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Ed={string:[[function(s){var t=pT.exec(s);return t?(s=t[1]).length<=4?{r:parseInt(s[0]+s[0],16),g:parseInt(s[1]+s[1],16),b:parseInt(s[2]+s[2],16),a:s.length===4?De(parseInt(s[3]+s[3],16)/255,2):1}:s.length===6||s.length===8?{r:parseInt(s.substr(0,2),16),g:parseInt(s.substr(2,2),16),b:parseInt(s.substr(4,2),16),a:s.length===8?De(parseInt(s.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(s){var t=yT.exec(s)||vT.exec(s);return t?t[2]!==t[4]||t[4]!==t[6]?null:T0({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:t[7]===void 0?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(s){var t=mT.exec(s)||gT.exec(s);if(!t)return null;var i,n,l=A0({h:(i=t[1],n=t[2],n===void 0&&(n="deg"),Number(i)*(dT[n]||1)),s:Number(t[3]),l:Number(t[4]),a:t[5]===void 0?1:Number(t[5])/(t[6]?100:1)});return w0(l)},"hsl"]],object:[[function(s){var t=s.r,i=s.g,n=s.b,l=s.a,o=l===void 0?1:l;return Ar(t)&&Ar(i)&&Ar(n)?T0({r:Number(t),g:Number(i),b:Number(n),a:Number(o)}):null},"rgb"],[function(s){var t=s.h,i=s.s,n=s.l,l=s.a,o=l===void 0?1:l;if(!Ar(t)||!Ar(i)||!Ar(n))return null;var h=A0({h:Number(t),s:Number(i),l:Number(n),a:Number(o)});return w0(h)},"hsl"],[function(s){var t=s.h,i=s.s,n=s.v,l=s.a,o=l===void 0?1:l;if(!Ar(t)||!Ar(i)||!Ar(n))return null;var h=(function(c){return{h:D_(c.h),s:Si(c.s,0,100),v:Si(c.v,0,100),a:Si(c.a)}})({h:Number(t),s:Number(i),v:Number(n),a:Number(o)});return B_(h)},"hsv"]]},C0=function(s,t){for(var i=0;i<t.length;i++){var n=t[i][0](s);if(n)return[n,t[i][1]]}return[null,void 0]},_T=function(s){return typeof s=="string"?C0(s.trim(),Ed.string):typeof s=="object"&&s!==null?C0(s,Ed.object):[null,void 0]},Qf=function(s,t){var i=ml(s);return{h:i.h,s:Si(i.s+100*t,0,100),l:i.l,a:i.a}},Jf=function(s){return(299*s.r+587*s.g+114*s.b)/1e3/255},R0=function(s,t){var i=ml(s);return{h:i.h,s:i.s,l:Si(i.l+100*t,0,100),a:i.a}},Td=(function(){function s(t){this.parsed=_T(t)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return s.prototype.isValid=function(){return this.parsed!==null},s.prototype.brightness=function(){return De(Jf(this.rgba),2)},s.prototype.isDark=function(){return Jf(this.rgba)<.5},s.prototype.isLight=function(){return Jf(this.rgba)>=.5},s.prototype.toHex=function(){return t=Kf(this.rgba),i=t.r,n=t.g,l=t.b,h=(o=t.a)<1?Go(De(255*o)):"","#"+Go(i)+Go(n)+Go(l)+h;var t,i,n,l,o,h},s.prototype.toRgb=function(){return Kf(this.rgba)},s.prototype.toRgbString=function(){return t=Kf(this.rgba),i=t.r,n=t.g,l=t.b,(o=t.a)<1?"rgba("+i+", "+n+", "+l+", "+o+")":"rgb("+i+", "+n+", "+l+")";var t,i,n,l,o},s.prototype.toHsl=function(){return S0(ml(this.rgba))},s.prototype.toHslString=function(){return t=S0(ml(this.rgba)),i=t.h,n=t.s,l=t.l,(o=t.a)<1?"hsla("+i+", "+n+"%, "+l+"%, "+o+")":"hsl("+i+", "+n+"%, "+l+"%)";var t,i,n,l,o},s.prototype.toHsv=function(){return t=O_(this.rgba),{h:De(t.h),s:De(t.s),v:De(t.v),a:De(t.a,3)};var t},s.prototype.invert=function(){return ji({r:255-(t=this.rgba).r,g:255-t.g,b:255-t.b,a:t.a});var t},s.prototype.saturate=function(t){return t===void 0&&(t=.1),ji(Qf(this.rgba,t))},s.prototype.desaturate=function(t){return t===void 0&&(t=.1),ji(Qf(this.rgba,-t))},s.prototype.grayscale=function(){return ji(Qf(this.rgba,-1))},s.prototype.lighten=function(t){return t===void 0&&(t=.1),ji(R0(this.rgba,t))},s.prototype.darken=function(t){return t===void 0&&(t=.1),ji(R0(this.rgba,-t))},s.prototype.rotate=function(t){return t===void 0&&(t=15),this.hue(this.hue()+t)},s.prototype.alpha=function(t){return typeof t=="number"?ji({r:(i=this.rgba).r,g:i.g,b:i.b,a:t}):De(this.rgba.a,3);var i},s.prototype.hue=function(t){var i=ml(this.rgba);return typeof t=="number"?ji({h:t,s:i.s,l:i.l,a:i.a}):De(i.h)},s.prototype.isEqual=function(t){return this.toHex()===ji(t).toHex()},s})(),ji=function(s){return s instanceof Td?s:new Td(s)},M0=[],xT=function(s){s.forEach(function(t){M0.indexOf(t)<0&&(t(Td,Ed),M0.push(t))})};function bT(s,t){var i={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},n={};for(var l in i)n[i[l]]=l;var o={};s.prototype.toName=function(h){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var c,p,m=n[this.toHex()];if(m)return m;if(h!=null&&h.closest){var g=this.toRgb(),y=1/0,_="black";if(!o.length)for(var b in i)o[b]=new s(i[b]).toRgb();for(var T in i){var w=(c=g,p=o[T],Math.pow(c.r-p.r,2)+Math.pow(c.g-p.g,2)+Math.pow(c.b-p.b,2));w<y&&(y=w,_=T)}return _}},t.string.push([function(h){var c=h.toLowerCase(),p=c==="transparent"?"#0000":i[c];return p?new s(p).toRgb():null},"name"])}xT([bT]);const Vs=class nu{constructor(t=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=t}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(t){return this.value=t,this}set value(t){if(t instanceof nu)this._value=this.cloneSource(t._value),this._int=t._int,this._components.set(t._components);else{if(t===null)throw new Error("Cannot set PIXI.Color#value to null");(this._value===null||!this.isSourceEqual(this._value,t))&&(this.normalize(t),this._value=this.cloneSource(t))}}get value(){return this._value}cloneSource(t){return typeof t=="string"||typeof t=="number"||t instanceof Number||t===null?t:Array.isArray(t)||ArrayBuffer.isView(t)?t.slice(0):typeof t=="object"&&t!==null?{...t}:t}isSourceEqual(t,i){const n=typeof t;if(n!==typeof i)return!1;if(n==="number"||n==="string"||t instanceof Number)return t===i;if(Array.isArray(t)&&Array.isArray(i)||ArrayBuffer.isView(t)&&ArrayBuffer.isView(i))return t.length!==i.length?!1:t.every((l,o)=>l===i[o]);if(t!==null&&i!==null){const l=Object.keys(t),o=Object.keys(i);return l.length!==o.length?!1:l.every(h=>t[h]===i[h])}return t===i}toRgba(){const[t,i,n,l]=this._components;return{r:t,g:i,b:n,a:l}}toRgb(){const[t,i,n]=this._components;return{r:t,g:i,b:n}}toRgbaString(){const[t,i,n]=this.toUint8RgbArray();return`rgba(${t},${i},${n},${this.alpha})`}toUint8RgbArray(t){const[i,n,l]=this._components;return t=t??[],t[0]=Math.round(i*255),t[1]=Math.round(n*255),t[2]=Math.round(l*255),t}toRgbArray(t){t=t??[];const[i,n,l]=this._components;return t[0]=i,t[1]=n,t[2]=l,t}toNumber(){return this._int}toLittleEndianNumber(){const t=this._int;return(t>>16)+(t&65280)+((t&255)<<16)}multiply(t){const[i,n,l,o]=nu.temp.setValue(t)._components;return this._components[0]*=i,this._components[1]*=n,this._components[2]*=l,this._components[3]*=o,this.refreshInt(),this._value=null,this}premultiply(t,i=!0){return i&&(this._components[0]*=t,this._components[1]*=t,this._components[2]*=t),this._components[3]=t,this.refreshInt(),this._value=null,this}toPremultiplied(t,i=!0){if(t===1)return(255<<24)+this._int;if(t===0)return i?0:this._int;let n=this._int>>16&255,l=this._int>>8&255,o=this._int&255;return i&&(n=n*t+.5|0,l=l*t+.5|0,o=o*t+.5|0),(t*255<<24)+(n<<16)+(l<<8)+o}toHex(){const t=this._int.toString(16);return`#${"000000".substring(0,6-t.length)+t}`}toHexa(){const t=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-t.length)+t}setAlpha(t){return this._components[3]=this._clamp(t),this}round(t){const[i,n,l]=this._components;return this._components[0]=Math.round(i*t)/t,this._components[1]=Math.round(n*t)/t,this._components[2]=Math.round(l*t)/t,this.refreshInt(),this._value=null,this}toArray(t){t=t??[];const[i,n,l,o]=this._components;return t[0]=i,t[1]=n,t[2]=l,t[3]=o,t}normalize(t){let i,n,l,o;if((typeof t=="number"||t instanceof Number)&&t>=0&&t<=16777215){const h=t;i=(h>>16&255)/255,n=(h>>8&255)/255,l=(h&255)/255,o=1}else if((Array.isArray(t)||t instanceof Float32Array)&&t.length>=3&&t.length<=4)t=this._clamp(t),[i,n,l,o=1]=t;else if((t instanceof Uint8Array||t instanceof Uint8ClampedArray)&&t.length>=3&&t.length<=4)t=this._clamp(t,0,255),[i,n,l,o=255]=t,i/=255,n/=255,l/=255,o/=255;else if(typeof t=="string"||typeof t=="object"){if(typeof t=="string"){const c=nu.HEX_PATTERN.exec(t);c&&(t=`#${c[2]}`)}const h=ji(t);h.isValid()&&({r:i,g:n,b:l,a:o}=h.rgba,i/=255,n/=255,l/=255)}if(i!==void 0)this._components[0]=i,this._components[1]=n,this._components[2]=l,this._components[3]=o,this.refreshInt();else throw new Error(`Unable to convert color ${t}`)}refreshInt(){this._clamp(this._components);const[t,i,n]=this._components;this._int=(t*255<<16)+(i*255<<8)+(n*255|0)}_clamp(t,i=0,n=1){return typeof t=="number"?Math.min(Math.max(t,i),n):(t.forEach((l,o)=>{t[o]=Math.min(Math.max(l,i),n)}),t)}};Vs.shared=new Vs,Vs.temp=new Vs,Vs.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let ae=Vs;function ET(s){return zt("7.2.0","utils.hex2string is deprecated, use Color#toHex instead"),ae.shared.setValue(s).toHex()}function TT(s){return zt("7.2.0","utils.rgb2hex is deprecated, use Color#toNumber instead"),ae.shared.setValue(s).toNumber()}function AT(){const s=[],t=[];for(let n=0;n<32;n++)s[n]=n,t[n]=n;s[Rt.NORMAL_NPM]=Rt.NORMAL,s[Rt.ADD_NPM]=Rt.ADD,s[Rt.SCREEN_NPM]=Rt.SCREEN,t[Rt.NORMAL]=Rt.NORMAL_NPM,t[Rt.ADD]=Rt.ADD_NPM,t[Rt.SCREEN]=Rt.SCREEN_NPM;const i=[];return i.push(t),i.push(s),i}const N_=AT();function I_(s,t){return N_[t?1:0][s]}function ST(s,t=null){const i=s*6;if(t=t||new Uint16Array(i),t.length!==i)throw new Error(`Out buffer length is incorrect, got ${t.length} and expected ${i}`);for(let n=0,l=0;n<i;n+=6,l+=4)t[n+0]=l+0,t[n+1]=l+1,t[n+2]=l+2,t[n+3]=l+0,t[n+4]=l+2,t[n+5]=l+3;return t}function U_(s){if(s.BYTES_PER_ELEMENT===4)return s instanceof Float32Array?"Float32Array":s instanceof Uint32Array?"Uint32Array":"Int32Array";if(s.BYTES_PER_ELEMENT===2){if(s instanceof Uint16Array)return"Uint16Array"}else if(s.BYTES_PER_ELEMENT===1&&s instanceof Uint8Array)return"Uint8Array";return null}function du(s){return s+=s===0?1:0,--s,s|=s>>>1,s|=s>>>2,s|=s>>>4,s|=s>>>8,s|=s>>>16,s+1}function D0(s){return!(s&s-1)&&!!s}function O0(s){let t=(s>65535?1:0)<<4;s>>>=t;let i=(s>255?1:0)<<3;return s>>>=i,t|=i,i=(s>15?1:0)<<2,s>>>=i,t|=i,i=(s>3?1:0)<<1,s>>>=i,t|=i,t|s>>1}function Qs(s,t,i){const n=s.length;let l;if(t>=n||i===0)return;i=t+i>n?n-t:i;const o=n-i;for(l=t;l<o;++l)s[l]=s[l+i];s.length=o}function fn(s){return s===0?0:s<0?-1:1}let wT=0;function Zn(){return++wT}const Ad=class{constructor(s,t,i,n){this.left=s,this.top=t,this.right=i,this.bottom=n}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};Ad.EMPTY=new Ad(0,0,0,0);let B0=Ad;const N0={},qi=Object.create(null),ln=Object.create(null);class CT{constructor(t,i,n){this._canvas=gt.ADAPTER.createCanvas(),this._context=this._canvas.getContext("2d"),this.resolution=n||gt.RESOLUTION,this.resize(t,i)}clear(){this._checkDestroyed(),this._context.setTransform(1,0,0,1,0,0),this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}resize(t,i){this._checkDestroyed(),this._canvas.width=Math.round(t*this.resolution),this._canvas.height=Math.round(i*this.resolution)}destroy(){this._context=null,this._canvas=null}get width(){return this._checkDestroyed(),this._canvas.width}set width(t){this._checkDestroyed(),this._canvas.width=Math.round(t)}get height(){return this._checkDestroyed(),this._canvas.height}set height(t){this._checkDestroyed(),this._canvas.height=Math.round(t)}get canvas(){return this._checkDestroyed(),this._canvas}get context(){return this._checkDestroyed(),this._context}_checkDestroyed(){if(this._canvas===null)throw new TypeError("The CanvasRenderTarget has already been destroyed")}}function I0(s,t,i){for(let n=0,l=4*i*t;n<t;++n,l+=4)if(s[l+3]!==0)return!1;return!0}function U0(s,t,i,n,l){const o=4*t;for(let h=n,c=n*o+4*i;h<=l;++h,c+=o)if(s[c+3]!==0)return!1;return!0}function RT(s){const{width:t,height:i}=s,n=s.getContext("2d",{willReadFrequently:!0});if(n===null)throw new TypeError("Failed to get canvas 2D context");const l=n.getImageData(0,0,t,i).data;let o=0,h=0,c=t-1,p=i-1;for(;h<i&&I0(l,t,h);)++h;if(h===i)return B0.EMPTY;for(;I0(l,t,p);)--p;for(;U0(l,t,o,h,p);)++o;for(;U0(l,t,c,h,p);)--c;return++c,++p,new B0(o,h,c,p)}function MT(s){const t=RT(s),{width:i,height:n}=t;let l=null;if(!t.isEmpty()){const o=s.getContext("2d");if(o===null)throw new TypeError("Failed to get canvas 2D context");l=o.getImageData(t.left,t.top,i,n)}return{width:i,height:n,data:l}}function DT(s,t=globalThis.location){if(s.startsWith("data:"))return"";t=t||globalThis.location;const i=new URL(s,document.baseURI);return i.hostname!==t.hostname||i.port!==t.port||i.protocol!==t.protocol?"anonymous":""}function Dr(s,t=1){var n;const i=(n=gt.RETINA_PREFIX)==null?void 0:n.exec(s);return i?parseFloat(i[1]):t}var pt=(s=>(s.Renderer="renderer",s.Application="application",s.RendererSystem="renderer-webgl-system",s.RendererPlugin="renderer-webgl-plugin",s.CanvasRendererSystem="renderer-canvas-system",s.CanvasRendererPlugin="renderer-canvas-plugin",s.Asset="asset",s.LoadParser="load-parser",s.ResolveParser="resolve-parser",s.CacheParser="cache-parser",s.DetectionParser="detection-parser",s))(pt||{});const Sd=s=>{if(typeof s=="function"||typeof s=="object"&&s.extension){if(!s.extension)throw new Error("Extension class must have an extension object");s={...typeof s.extension!="object"?{type:s.extension}:s.extension,ref:s}}if(typeof s=="object")s={...s};else throw new Error("Invalid extension type");return typeof s.type=="string"&&(s.type=[s.type]),s},L0=(s,t)=>Sd(s).priority??t,At={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...s){return s.map(Sd).forEach(t=>{t.type.forEach(i=>{var n,l;return(l=(n=this._removeHandlers)[i])==null?void 0:l.call(n,t)})}),this},add(...s){return s.map(Sd).forEach(t=>{t.type.forEach(i=>{var o,h;const n=this._addHandlers,l=this._queue;n[i]?(o=n[i])==null||o.call(n,t):(l[i]=l[i]||[],(h=l[i])==null||h.push(t))})}),this},handle(s,t,i){var h;const n=this._addHandlers,l=this._removeHandlers;if(n[s]||l[s])throw new Error(`Extension type ${s} already has a handler`);n[s]=t,l[s]=i;const o=this._queue;return o[s]&&((h=o[s])==null||h.forEach(c=>t(c)),delete o[s]),this},handleByMap(s,t){return this.handle(s,i=>{i.name&&(t[i.name]=i.ref)},i=>{i.name&&delete t[i.name]})},handleByList(s,t,i=-1){return this.handle(s,n=>{t.includes(n.ref)||(t.push(n.ref),t.sort((l,o)=>L0(o,i)-L0(l,i)))},n=>{const l=t.indexOf(n.ref);l!==-1&&t.splice(l,1)})}};class wd{constructor(t){typeof t=="number"?this.rawBinaryData=new ArrayBuffer(t):t instanceof Uint8Array?this.rawBinaryData=t.buffer:this.rawBinaryData=t,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(t){return this[`${t}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${t} isn't a valid view type`)}}}const OT=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function BT(s){let t="";for(let i=0;i<s;++i)i>0&&(t+=`
else `),i<s-1&&(t+=`if(test == ${i}.0){}`);return t}function NT(s,t){if(s===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const i=t.createShader(t.FRAGMENT_SHADER);for(;;){const n=OT.replace(/%forloop%/gi,BT(s));if(t.shaderSource(i,n),t.compileShader(i),!t.getShaderParameter(i,t.COMPILE_STATUS))s=s/2|0;else break}return s}const td=0,ed=1,id=2,rd=3,nd=4,sd=5;class er{constructor(){this.data=0,this.blendMode=Rt.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<td)}set blend(t){!!(this.data&1<<td)!==t&&(this.data^=1<<td)}get offsets(){return!!(this.data&1<<ed)}set offsets(t){!!(this.data&1<<ed)!==t&&(this.data^=1<<ed)}get culling(){return!!(this.data&1<<id)}set culling(t){!!(this.data&1<<id)!==t&&(this.data^=1<<id)}get depthTest(){return!!(this.data&1<<rd)}set depthTest(t){!!(this.data&1<<rd)!==t&&(this.data^=1<<rd)}get depthMask(){return!!(this.data&1<<sd)}set depthMask(t){!!(this.data&1<<sd)!==t&&(this.data^=1<<sd)}get clockwiseFrontFace(){return!!(this.data&1<<nd)}set clockwiseFrontFace(t){!!(this.data&1<<nd)!==t&&(this.data^=1<<nd)}get blendMode(){return this._blendMode}set blendMode(t){this.blend=t!==Rt.NONE,this._blendMode=t}get polygonOffset(){return this._polygonOffset}set polygonOffset(t){this.offsets=!!t,this._polygonOffset=t}static for2d(){const t=new er;return t.depthTest=!1,t.blend=!0,t}}er.prototype.toString=function(){return`[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`};const Cd=[];function L_(s,t){if(!s)return null;let i="";if(typeof s=="string"){const n=/\.(\w{3,4})(?:$|\?|#)/i.exec(s);n&&(i=n[1].toLowerCase())}for(let n=Cd.length-1;n>=0;--n){const l=Cd[n];if(l.test&&l.test(s,i))return new l(s,t)}throw new Error("Unrecognized source type to auto-detect Resource")}class Ui{constructor(t){this.items=[],this._name=t,this._aliasCount=0}emit(t,i,n,l,o,h,c,p){if(arguments.length>8)throw new Error("max arguments reached");const{name:m,items:g}=this;this._aliasCount++;for(let y=0,_=g.length;y<_;y++)g[y][m](t,i,n,l,o,h,c,p);return g===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(t){return t[this._name]&&(this.ensureNonAliasedItems(),this.remove(t),this.items.push(t)),this}remove(t){const i=this.items.indexOf(t);return i!==-1&&(this.ensureNonAliasedItems(),this.items.splice(i,1)),this}contains(t){return this.items.includes(t)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items.length=0,this._name=""}get empty(){return this.items.length===0}get name(){return this._name}}Object.defineProperties(Ui.prototype,{dispatch:{value:Ui.prototype.emit},run:{value:Ui.prototype.emit}});class yl{constructor(t=0,i=0){this._width=t,this._height=i,this.destroyed=!1,this.internal=!1,this.onResize=new Ui("setRealSize"),this.onUpdate=new Ui("update"),this.onError=new Ui("onError")}bind(t){this.onResize.add(t),this.onUpdate.add(t),this.onError.add(t),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(t){this.onResize.remove(t),this.onUpdate.remove(t),this.onError.remove(t)}resize(t,i){(t!==this._width||i!==this._height)&&(this._width=t,this._height=i,this.onResize.emit(t,i))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(t,i,n){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(t,i){return!1}}class Du extends yl{constructor(t,i){const{width:n,height:l}=i||{};if(!n||!l)throw new Error("BufferResource width or height invalid");super(n,l),this.data=t,this.unpackAlignment=i.unpackAlignment??4}upload(t,i,n){const l=t.gl;l.pixelStorei(l.UNPACK_ALIGNMENT,this.unpackAlignment),l.pixelStorei(l.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.alphaMode===Je.UNPACK);const o=i.realWidth,h=i.realHeight;return n.width===o&&n.height===h?l.texSubImage2D(i.target,0,0,0,o,h,i.format,n.type,this.data):(n.width=o,n.height=h,l.texImage2D(i.target,0,n.internalFormat,o,h,0,i.format,n.type,this.data)),!0}dispose(){this.data=null}static test(t){return t===null||t instanceof Int8Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array}}const IT={scaleMode:Sr.NEAREST,alphaMode:Je.NPM},Rd=class js extends vl{constructor(t=null,i=null){super(),i=Object.assign({},js.defaultOptions,i);const{alphaMode:n,mipmap:l,anisotropicLevel:o,scaleMode:h,width:c,height:p,wrapMode:m,format:g,type:y,target:_,resolution:b,resourceOptions:T}=i;t&&!(t instanceof yl)&&(t=L_(t,T),t.internal=!0),this.resolution=b||gt.RESOLUTION,this.width=Math.round((c||0)*this.resolution)/this.resolution,this.height=Math.round((p||0)*this.resolution)/this.resolution,this._mipmap=l,this.anisotropicLevel=o,this._wrapMode=m,this._scaleMode=h,this.format=g,this.type=y,this.target=_,this.alphaMode=n,this.uid=Zn(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=c>0&&p>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(t)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(t){this._mipmap!==t&&(this._mipmap=t,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(t){this._scaleMode!==t&&(this._scaleMode=t,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(t){this._wrapMode!==t&&(this._wrapMode=t,this.dirtyStyleId++)}setStyle(t,i){let n;return t!==void 0&&t!==this.scaleMode&&(this.scaleMode=t,n=!0),i!==void 0&&i!==this.mipmap&&(this.mipmap=i,n=!0),n&&this.dirtyStyleId++,this}setSize(t,i,n){return n=n||this.resolution,this.setRealSize(t*n,i*n,n)}setRealSize(t,i,n){return this.resolution=n||this.resolution,this.width=Math.round(t)/this.resolution,this.height=Math.round(i)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=D0(this.realWidth)&&D0(this.realHeight)}setResolution(t){const i=this.resolution;return i===t?this:(this.resolution=t,this.valid&&(this.width=Math.round(this.width*i)/t,this.height=Math.round(this.height*i)/t,this.emit("update",this)),this._refreshPOT(),this)}setResource(t){if(this.resource===t)return this;if(this.resource)throw new Error("Resource can be set only once");return t.bind(this),this.resource=t,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(t){this.emit("error",this,t)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete ln[this.cacheId],delete qi[this.cacheId],this.cacheId=null),this.valid=!1,this.dispose(),js.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(t,i,n=gt.STRICT_TEXTURE_CACHE){const l=typeof t=="string";let o=null;if(l)o=t;else{if(!t._pixiId){const c=(i==null?void 0:i.pixiIdPrefix)||"pixiid";t._pixiId=`${c}_${Zn()}`}o=t._pixiId}let h=ln[o];if(l&&n&&!h)throw new Error(`The cacheId "${o}" does not exist in BaseTextureCache.`);return h||(h=new js(t,i),h.cacheId=o,js.addToCache(h,o)),h}static fromBuffer(t,i,n,l){t=t||new Float32Array(i*n*4);const o=new Du(t,{width:i,height:n,...l==null?void 0:l.resourceOptions});let h,c;return t instanceof Float32Array?(h=ht.RGBA,c=wt.FLOAT):t instanceof Int32Array?(h=ht.RGBA_INTEGER,c=wt.INT):t instanceof Uint32Array?(h=ht.RGBA_INTEGER,c=wt.UNSIGNED_INT):t instanceof Int16Array?(h=ht.RGBA_INTEGER,c=wt.SHORT):t instanceof Uint16Array?(h=ht.RGBA_INTEGER,c=wt.UNSIGNED_SHORT):t instanceof Int8Array?(h=ht.RGBA,c=wt.BYTE):(h=ht.RGBA,c=wt.UNSIGNED_BYTE),o.internal=!0,new js(o,Object.assign({},IT,{type:c,format:h},l))}static addToCache(t,i){i&&(t.textureCacheIds.includes(i)||t.textureCacheIds.push(i),ln[i]&&ln[i]!==t&&console.warn(`BaseTexture added to the cache with an id [${i}] that already had an entry`),ln[i]=t)}static removeFromCache(t){if(typeof t=="string"){const i=ln[t];if(i){const n=i.textureCacheIds.indexOf(t);return n>-1&&i.textureCacheIds.splice(n,1),delete ln[t],i}}else if(t!=null&&t.textureCacheIds){for(let i=0;i<t.textureCacheIds.length;++i)delete ln[t.textureCacheIds[i]];return t.textureCacheIds.length=0,t}return null}};Rd.defaultOptions={mipmap:tr.POW2,anisotropicLevel:0,scaleMode:Sr.LINEAR,wrapMode:pn.CLAMP,alphaMode:Je.UNPACK,target:Ks.TEXTURE_2D,format:ht.RGBA,type:wt.UNSIGNED_BYTE},Rd._globalBatch=0;let It=Rd;class Md{constructor(){this.texArray=null,this.blend=0,this.type=Ki.TRIANGLES,this.start=0,this.size=0,this.data=null}}let UT=0;class ve{constructor(t,i=!0,n=!1){this.data=t||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=n,this.static=i,this.id=UT++,this.disposeRunner=new Ui("disposeBuffer")}update(t){t instanceof Array&&(t=new Float32Array(t)),this.data=t||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(t){this.type=t?Qi.ELEMENT_ARRAY_BUFFER:Qi.ARRAY_BUFFER}get index(){return this.type===Qi.ELEMENT_ARRAY_BUFFER}static from(t){return t instanceof Array&&(t=new Float32Array(t)),new ve(t)}}class pu{constructor(t,i=0,n=!1,l=wt.FLOAT,o,h,c,p=1){this.buffer=t,this.size=i,this.normalized=n,this.type=l,this.stride=o,this.start=h,this.instance=c,this.divisor=p}destroy(){this.buffer=null}static from(t,i,n,l,o){return new pu(t,i,n,l,o)}}const LT={Float32Array,Uint32Array,Int32Array,Uint8Array};function PT(s,t){let i=0,n=0;const l={};for(let p=0;p<s.length;p++)n+=t[p],i+=s[p].length;const o=new ArrayBuffer(i*4);let h=null,c=0;for(let p=0;p<s.length;p++){const m=t[p],g=s[p],y=U_(g);l[y]||(l[y]=new LT[y](o)),h=l[y];for(let _=0;_<g.length;_++){const b=(_/m|0)*n+c,T=_%m;h[b+T]=g[_]}c+=m}return new Float32Array(o)}const P0={5126:4,5123:2,5121:1};let FT=0;const GT={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array};class mn{constructor(t=[],i={}){this.buffers=t,this.indexBuffer=null,this.attributes=i,this.glVertexArrayObjects={},this.id=FT++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new Ui("disposeGeometry"),this.refCount=0}addAttribute(t,i,n=0,l=!1,o,h,c,p=!1){if(!i)throw new Error("You must pass a buffer when creating an attribute");i instanceof ve||(i instanceof Array&&(i=new Float32Array(i)),i=new ve(i));const m=t.split("|");if(m.length>1){for(let y=0;y<m.length;y++)this.addAttribute(m[y],i,n,l,o);return this}let g=this.buffers.indexOf(i);return g===-1&&(this.buffers.push(i),g=this.buffers.length-1),this.attributes[t]=new pu(g,n,l,o,h,c,p),this.instanced=this.instanced||p,this}getAttribute(t){return this.attributes[t]}getBuffer(t){return this.buffers[this.getAttribute(t).buffer]}addIndex(t){return t instanceof ve||(t instanceof Array&&(t=new Uint16Array(t)),t=new ve(t)),t.type=Qi.ELEMENT_ARRAY_BUFFER,this.indexBuffer=t,this.buffers.includes(t)||this.buffers.push(t),this}getIndex(){return this.indexBuffer}interleave(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;const t=[],i=[],n=new ve;let l;for(l in this.attributes){const o=this.attributes[l],h=this.buffers[o.buffer];t.push(h.data),i.push(o.size*P0[o.type]/4),o.buffer=0}for(n.data=PT(t,i),l=0;l<this.buffers.length;l++)this.buffers[l]!==this.indexBuffer&&this.buffers[l].destroy();return this.buffers=[n],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const t in this.attributes){const i=this.attributes[t];return this.buffers[i.buffer].data.length/(i.stride/4||i.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const t=new mn;for(let i=0;i<this.buffers.length;i++)t.buffers[i]=new ve(this.buffers[i].data.slice(0));for(const i in this.attributes){const n=this.attributes[i];t.attributes[i]=new pu(n.buffer,n.size,n.normalized,n.type,n.stride,n.start,n.instance)}return this.indexBuffer&&(t.indexBuffer=t.buffers[this.buffers.indexOf(this.indexBuffer)],t.indexBuffer.type=Qi.ELEMENT_ARRAY_BUFFER),t}static merge(t){const i=new mn,n=[],l=[],o=[];let h;for(let c=0;c<t.length;c++){h=t[c];for(let p=0;p<h.buffers.length;p++)l[p]=l[p]||0,l[p]+=h.buffers[p].data.length,o[p]=0}for(let c=0;c<h.buffers.length;c++)n[c]=new GT[U_(h.buffers[c].data)](l[c]),i.buffers[c]=new ve(n[c]);for(let c=0;c<t.length;c++){h=t[c];for(let p=0;p<h.buffers.length;p++)n[p].set(h.buffers[p].data,o[p]),o[p]+=h.buffers[p].data.length}if(i.attributes=h.attributes,h.indexBuffer){i.indexBuffer=i.buffers[h.buffers.indexOf(h.indexBuffer)],i.indexBuffer.type=Qi.ELEMENT_ARRAY_BUFFER;let c=0,p=0,m=0,g=0;for(let y=0;y<h.buffers.length;y++)if(h.buffers[y]!==h.indexBuffer){g=y;break}for(const y in h.attributes){const _=h.attributes[y];(_.buffer|0)===g&&(p+=_.size*P0[_.type]/4)}for(let y=0;y<t.length;y++){const _=t[y].indexBuffer.data;for(let b=0;b<_.length;b++)i.indexBuffer.data[b+m]+=c;c+=t[y].buffers[g].data.length/p,m+=_.length}}return i}}class P_ extends mn{constructor(t=!1){super(),this._buffer=new ve(null,t,!1),this._indexBuffer=new ve(null,t,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,wt.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,wt.FLOAT).addAttribute("aColor",this._buffer,4,!0,wt.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,wt.FLOAT).addIndex(this._indexBuffer)}}const mu=Math.PI*2,zT=180/Math.PI,HT=Math.PI/180;var Ge=(s=>(s[s.POLY=0]="POLY",s[s.RECT=1]="RECT",s[s.CIRC=2]="CIRC",s[s.ELIP=3]="ELIP",s[s.RREC=4]="RREC",s))(Ge||{});class Vt{constructor(t=0,i=0){this.x=0,this.y=0,this.x=t,this.y=i}clone(){return new Vt(this.x,this.y)}copyFrom(t){return this.set(t.x,t.y),this}copyTo(t){return t.set(this.x,this.y),t}equals(t){return t.x===this.x&&t.y===this.y}set(t=0,i=t){return this.x=t,this.y=i,this}}Vt.prototype.toString=function(){return`[@pixi/math:Point x=${this.x} y=${this.y}]`};const zo=[new Vt,new Vt,new Vt,new Vt];class Lt{constructor(t=0,i=0,n=0,l=0){this.x=Number(t),this.y=Number(i),this.width=Number(n),this.height=Number(l),this.type=Ge.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new Lt(0,0,0,0)}clone(){return new Lt(this.x,this.y,this.width,this.height)}copyFrom(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this}copyTo(t){return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t}contains(t,i){return this.width<=0||this.height<=0?!1:t>=this.x&&t<this.x+this.width&&i>=this.y&&i<this.y+this.height}intersects(t,i){if(!i){const Y=this.x<t.x?t.x:this.x;if((this.right>t.right?t.right:this.right)<=Y)return!1;const rt=this.y<t.y?t.y:this.y;return(this.bottom>t.bottom?t.bottom:this.bottom)>rt}const n=this.left,l=this.right,o=this.top,h=this.bottom;if(l<=n||h<=o)return!1;const c=zo[0].set(t.left,t.top),p=zo[1].set(t.left,t.bottom),m=zo[2].set(t.right,t.top),g=zo[3].set(t.right,t.bottom);if(m.x<=c.x||p.y<=c.y)return!1;const y=Math.sign(i.a*i.d-i.b*i.c);if(y===0||(i.apply(c,c),i.apply(p,p),i.apply(m,m),i.apply(g,g),Math.max(c.x,p.x,m.x,g.x)<=n||Math.min(c.x,p.x,m.x,g.x)>=l||Math.max(c.y,p.y,m.y,g.y)<=o||Math.min(c.y,p.y,m.y,g.y)>=h))return!1;const _=y*(p.y-c.y),b=y*(c.x-p.x),T=_*n+b*o,w=_*l+b*o,A=_*n+b*h,R=_*l+b*h;if(Math.max(T,w,A,R)<=_*c.x+b*c.y||Math.min(T,w,A,R)>=_*g.x+b*g.y)return!1;const I=y*(c.y-m.y),O=y*(m.x-c.x),L=I*n+O*o,B=I*l+O*o,j=I*n+O*h,D=I*l+O*h;return!(Math.max(L,B,j,D)<=I*c.x+O*c.y||Math.min(L,B,j,D)>=I*g.x+O*g.y)}pad(t=0,i=t){return this.x-=t,this.y-=i,this.width+=t*2,this.height+=i*2,this}fit(t){const i=Math.max(this.x,t.x),n=Math.min(this.x+this.width,t.x+t.width),l=Math.max(this.y,t.y),o=Math.min(this.y+this.height,t.y+t.height);return this.x=i,this.width=Math.max(n-i,0),this.y=l,this.height=Math.max(o-l,0),this}ceil(t=1,i=.001){const n=Math.ceil((this.x+this.width-i)*t)/t,l=Math.ceil((this.y+this.height-i)*t)/t;return this.x=Math.floor((this.x+i)*t)/t,this.y=Math.floor((this.y+i)*t)/t,this.width=n-this.x,this.height=l-this.y,this}enlarge(t){const i=Math.min(this.x,t.x),n=Math.max(this.x+this.width,t.x+t.width),l=Math.min(this.y,t.y),o=Math.max(this.y+this.height,t.y+t.height);return this.x=i,this.width=n-i,this.y=l,this.height=o-l,this}}Lt.prototype.toString=function(){return`[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class Ou{constructor(t=0,i=0,n=0){this.x=t,this.y=i,this.radius=n,this.type=Ge.CIRC}clone(){return new Ou(this.x,this.y,this.radius)}contains(t,i){if(this.radius<=0)return!1;const n=this.radius*this.radius;let l=this.x-t,o=this.y-i;return l*=l,o*=o,l+o<=n}getBounds(){return new Lt(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)}}Ou.prototype.toString=function(){return`[@pixi/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`};class Bu{constructor(t=0,i=0,n=0,l=0){this.x=t,this.y=i,this.width=n,this.height=l,this.type=Ge.ELIP}clone(){return new Bu(this.x,this.y,this.width,this.height)}contains(t,i){if(this.width<=0||this.height<=0)return!1;let n=(t-this.x)/this.width,l=(i-this.y)/this.height;return n*=n,l*=l,n+l<=1}getBounds(){return new Lt(this.x-this.width,this.y-this.height,this.width,this.height)}}Bu.prototype.toString=function(){return`[@pixi/math:Ellipse x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class $n{constructor(...t){let i=Array.isArray(t[0])?t[0]:t;if(typeof i[0]!="number"){const n=[];for(let l=0,o=i.length;l<o;l++)n.push(i[l].x,i[l].y);i=n}this.points=i,this.type=Ge.POLY,this.closeStroke=!0}clone(){const t=this.points.slice(),i=new $n(t);return i.closeStroke=this.closeStroke,i}contains(t,i){let n=!1;const l=this.points.length/2;for(let o=0,h=l-1;o<l;h=o++){const c=this.points[o*2],p=this.points[o*2+1],m=this.points[h*2],g=this.points[h*2+1];p>i!=g>i&&t<(m-c)*((i-p)/(g-p))+c&&(n=!n)}return n}}$n.prototype.toString=function(){return`[@pixi/math:PolygoncloseStroke=${this.closeStroke}points=${this.points.reduce((s,t)=>`${s}, ${t}`,"")}]`};class Nu{constructor(t=0,i=0,n=0,l=0,o=20){this.x=t,this.y=i,this.width=n,this.height=l,this.radius=o,this.type=Ge.RREC}clone(){return new Nu(this.x,this.y,this.width,this.height,this.radius)}contains(t,i){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&i>=this.y&&i<=this.y+this.height){const n=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(i>=this.y+n&&i<=this.y+this.height-n||t>=this.x+n&&t<=this.x+this.width-n)return!0;let l=t-(this.x+n),o=i-(this.y+n);const h=n*n;if(l*l+o*o<=h||(l=t-(this.x+this.width-n),l*l+o*o<=h)||(o=i-(this.y+this.height-n),l*l+o*o<=h)||(l=t-(this.x+n),l*l+o*o<=h))return!0}return!1}}Nu.prototype.toString=function(){return`[@pixi/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`};class le{constructor(t=1,i=0,n=0,l=1,o=0,h=0){this.array=null,this.a=t,this.b=i,this.c=n,this.d=l,this.tx=o,this.ty=h}fromArray(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]}set(t,i,n,l,o,h){return this.a=t,this.b=i,this.c=n,this.d=l,this.tx=o,this.ty=h,this}toArray(t,i){this.array||(this.array=new Float32Array(9));const n=i||this.array;return t?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n}apply(t,i){i=i||new Vt;const n=t.x,l=t.y;return i.x=this.a*n+this.c*l+this.tx,i.y=this.b*n+this.d*l+this.ty,i}applyInverse(t,i){i=i||new Vt;const n=1/(this.a*this.d+this.c*-this.b),l=t.x,o=t.y;return i.x=this.d*n*l+-this.c*n*o+(this.ty*this.c-this.tx*this.d)*n,i.y=this.a*n*o+-this.b*n*l+(-this.ty*this.a+this.tx*this.b)*n,i}translate(t,i){return this.tx+=t,this.ty+=i,this}scale(t,i){return this.a*=t,this.d*=i,this.c*=t,this.b*=i,this.tx*=t,this.ty*=i,this}rotate(t){const i=Math.cos(t),n=Math.sin(t),l=this.a,o=this.c,h=this.tx;return this.a=l*i-this.b*n,this.b=l*n+this.b*i,this.c=o*i-this.d*n,this.d=o*n+this.d*i,this.tx=h*i-this.ty*n,this.ty=h*n+this.ty*i,this}append(t){const i=this.a,n=this.b,l=this.c,o=this.d;return this.a=t.a*i+t.b*l,this.b=t.a*n+t.b*o,this.c=t.c*i+t.d*l,this.d=t.c*n+t.d*o,this.tx=t.tx*i+t.ty*l+this.tx,this.ty=t.tx*n+t.ty*o+this.ty,this}setTransform(t,i,n,l,o,h,c,p,m){return this.a=Math.cos(c+m)*o,this.b=Math.sin(c+m)*o,this.c=-Math.sin(c-p)*h,this.d=Math.cos(c-p)*h,this.tx=t-(n*this.a+l*this.c),this.ty=i-(n*this.b+l*this.d),this}prepend(t){const i=this.tx;if(t.a!==1||t.b!==0||t.c!==0||t.d!==1){const n=this.a,l=this.c;this.a=n*t.a+this.b*t.c,this.b=n*t.b+this.b*t.d,this.c=l*t.a+this.d*t.c,this.d=l*t.b+this.d*t.d}return this.tx=i*t.a+this.ty*t.c+t.tx,this.ty=i*t.b+this.ty*t.d+t.ty,this}decompose(t){const i=this.a,n=this.b,l=this.c,o=this.d,h=t.pivot,c=-Math.atan2(-l,o),p=Math.atan2(n,i),m=Math.abs(c+p);return m<1e-5||Math.abs(mu-m)<1e-5?(t.rotation=p,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=c,t.skew.y=p),t.scale.x=Math.sqrt(i*i+n*n),t.scale.y=Math.sqrt(l*l+o*o),t.position.x=this.tx+(h.x*i+h.y*l),t.position.y=this.ty+(h.x*n+h.y*o),t}invert(){const t=this.a,i=this.b,n=this.c,l=this.d,o=this.tx,h=t*l-i*n;return this.a=l/h,this.b=-i/h,this.c=-n/h,this.d=t/h,this.tx=(n*this.ty-l*o)/h,this.ty=-(t*this.ty-i*o)/h,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const t=new le;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t}copyTo(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t}copyFrom(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this}static get IDENTITY(){return new le}static get TEMP_MATRIX(){return new le}}le.prototype.toString=function(){return`[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`};const Hn=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],kn=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Xn=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Vn=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],Dd=[],F_=[],Ho=Math.sign;function kT(){for(let s=0;s<16;s++){const t=[];Dd.push(t);for(let i=0;i<16;i++){const n=Ho(Hn[s]*Hn[i]+Xn[s]*kn[i]),l=Ho(kn[s]*Hn[i]+Vn[s]*kn[i]),o=Ho(Hn[s]*Xn[i]+Xn[s]*Vn[i]),h=Ho(kn[s]*Xn[i]+Vn[s]*Vn[i]);for(let c=0;c<16;c++)if(Hn[c]===n&&kn[c]===l&&Xn[c]===o&&Vn[c]===h){t.push(c);break}}}for(let s=0;s<16;s++){const t=new le;t.set(Hn[s],kn[s],Xn[s],Vn[s],0,0),F_.push(t)}}kT();const he={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:s=>Hn[s],uY:s=>kn[s],vX:s=>Xn[s],vY:s=>Vn[s],inv:s=>s&8?s&15:-s&7,add:(s,t)=>Dd[s][t],sub:(s,t)=>Dd[s][he.inv(t)],rotate180:s=>s^4,isVertical:s=>(s&3)===2,byDirection:(s,t)=>Math.abs(s)*2<=Math.abs(t)?t>=0?he.S:he.N:Math.abs(t)*2<=Math.abs(s)?s>0?he.E:he.W:t>0?s>0?he.SE:he.SW:s>0?he.NE:he.NW,matrixAppendRotationInv:(s,t,i=0,n=0)=>{const l=F_[he.inv(t)];l.tx=i,l.ty=n,s.append(l)}};class Cr{constructor(t,i,n=0,l=0){this._x=n,this._y=l,this.cb=t,this.scope=i}clone(t=this.cb,i=this.scope){return new Cr(t,i,this._x,this._y)}set(t=0,i=t){return(this._x!==t||this._y!==i)&&(this._x=t,this._y=i,this.cb.call(this.scope)),this}copyFrom(t){return(this._x!==t.x||this._y!==t.y)&&(this._x=t.x,this._y=t.y,this.cb.call(this.scope)),this}copyTo(t){return t.set(this._x,this._y),t}equals(t){return t.x===this._x&&t.y===this._y}get x(){return this._x}set x(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))}get y(){return this._y}set y(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))}}Cr.prototype.toString=function(){return`[@pixi/math:ObservablePoint x=${this.x} y=${this.y} scope=${this.scope}]`};const Od=class{constructor(){this.worldTransform=new le,this.localTransform=new le,this.position=new Cr(this.onChange,this,0,0),this.scale=new Cr(this.onChange,this,1,1),this.pivot=new Cr(this.onChange,this,0,0),this.skew=new Cr(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}updateLocalTransform(){const s=this.localTransform;this._localID!==this._currentLocalID&&(s.a=this._cx*this.scale.x,s.b=this._sx*this.scale.x,s.c=this._cy*this.scale.y,s.d=this._sy*this.scale.y,s.tx=this.position.x-(this.pivot.x*s.a+this.pivot.y*s.c),s.ty=this.position.y-(this.pivot.x*s.b+this.pivot.y*s.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(s){const t=this.localTransform;if(this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==s._worldID){const i=s.worldTransform,n=this.worldTransform;n.a=t.a*i.a+t.b*i.c,n.b=t.a*i.b+t.b*i.d,n.c=t.c*i.a+t.d*i.c,n.d=t.c*i.b+t.d*i.d,n.tx=t.tx*i.a+t.ty*i.c+i.tx,n.ty=t.tx*i.b+t.ty*i.d+i.ty,this._parentID=s._worldID,this._worldID++}}setFromMatrix(s){s.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(s){this._rotation!==s&&(this._rotation=s,this.updateSkew())}};Od.IDENTITY=new Od;let up=Od;up.prototype.toString=function(){return`[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`};var XT=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,VT=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`;function F0(s,t,i){const n=s.createShader(t);return s.shaderSource(n,i),s.compileShader(n),n}function ad(s){const t=new Array(s);for(let i=0;i<t.length;i++)t[i]=!1;return t}function G_(s,t){switch(s){case"float":return 0;case"vec2":return new Float32Array(2*t);case"vec3":return new Float32Array(3*t);case"vec4":return new Float32Array(4*t);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*t);case"ivec3":return new Int32Array(3*t);case"ivec4":return new Int32Array(4*t);case"uvec2":return new Uint32Array(2*t);case"uvec3":return new Uint32Array(3*t);case"uvec4":return new Uint32Array(4*t);case"bool":return!1;case"bvec2":return ad(2*t);case"bvec3":return ad(3*t);case"bvec4":return ad(4*t);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const Js=[{test:s=>s.type==="float"&&s.size===1&&!s.isArray,code:s=>`
            if(uv["${s}"] !== ud["${s}"].value)
            {
                ud["${s}"].value = uv["${s}"]
                gl.uniform1f(ud["${s}"].location, uv["${s}"])
            }
            `},{test:(s,t)=>(s.type==="sampler2D"||s.type==="samplerCube"||s.type==="sampler2DArray")&&s.size===1&&!s.isArray&&(t==null||t.castToBaseTexture!==void 0),code:s=>`t = syncData.textureCount++;

            renderer.texture.bind(uv["${s}"], t);

            if(ud["${s}"].value !== t)
            {
                ud["${s}"].value = t;
                gl.uniform1i(ud["${s}"].location, t);
; // eslint-disable-line max-len
            }`},{test:(s,t)=>s.type==="mat3"&&s.size===1&&!s.isArray&&t.a!==void 0,code:s=>`
            gl.uniformMatrix3fv(ud["${s}"].location, false, uv["${s}"].toArray(true));
            `,codeUbo:s=>`
                var ${s}_matrix = uv.${s}.toArray(true);

                data[offset] = ${s}_matrix[0];
                data[offset+1] = ${s}_matrix[1];
                data[offset+2] = ${s}_matrix[2];
        
                data[offset + 4] = ${s}_matrix[3];
                data[offset + 5] = ${s}_matrix[4];
                data[offset + 6] = ${s}_matrix[5];
        
                data[offset + 8] = ${s}_matrix[6];
                data[offset + 9] = ${s}_matrix[7];
                data[offset + 10] = ${s}_matrix[8];
            `},{test:(s,t)=>s.type==="vec2"&&s.size===1&&!s.isArray&&t.x!==void 0,code:s=>`
                cv = ud["${s}"].value;
                v = uv["${s}"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["${s}"].location, v.x, v.y);
                }`,codeUbo:s=>`
                v = uv.${s};

                data[offset] = v.x;
                data[offset+1] = v.y;
            `},{test:s=>s.type==="vec2"&&s.size===1&&!s.isArray,code:s=>`
                cv = ud["${s}"].value;
                v = uv["${s}"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["${s}"].location, v[0], v[1]);
                }
            `},{test:(s,t)=>s.type==="vec4"&&s.size===1&&!s.isArray&&t.width!==void 0,code:s=>`
                cv = ud["${s}"].value;
                v = uv["${s}"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["${s}"].location, v.x, v.y, v.width, v.height)
                }`,codeUbo:s=>`
                    v = uv.${s};

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `},{test:(s,t)=>s.type==="vec4"&&s.size===1&&!s.isArray&&t.red!==void 0,code:s=>`
                cv = ud["${s}"].value;
                v = uv["${s}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
                    cv[3] = v.alpha;
                    gl.uniform4f(ud["${s}"].location, v.red, v.green, v.blue, v.alpha)
                }`,codeUbo:s=>`
                    v = uv.${s};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                    data[offset+3] = v.alpha;
                `},{test:(s,t)=>s.type==="vec3"&&s.size===1&&!s.isArray&&t.red!==void 0,code:s=>`
                cv = ud["${s}"].value;
                v = uv["${s}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.a)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
    
                    gl.uniform3f(ud["${s}"].location, v.red, v.green, v.blue)
                }`,codeUbo:s=>`
                    v = uv.${s};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                `},{test:s=>s.type==="vec4"&&s.size===1&&!s.isArray,code:s=>`
                cv = ud["${s}"].value;
                v = uv["${s}"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["${s}"].location, v[0], v[1], v[2], v[3])
                }`}],jT={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},qT={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function YT(s,t){var n;const i=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(const l in s.uniforms){const o=t[l];if(!o){((n=s.uniforms[l])==null?void 0:n.group)===!0&&(s.uniforms[l].ubo?i.push(`
                        renderer.shader.syncUniformBufferGroup(uv.${l}, '${l}');
                    `):i.push(`
                        renderer.shader.syncUniformGroup(uv.${l}, syncData);
                    `));continue}const h=s.uniforms[l];let c=!1;for(let p=0;p<Js.length;p++)if(Js[p].test(o,h)){i.push(Js[p].code(l,h)),c=!0;break}if(!c){const p=(o.size===1&&!o.isArray?jT:qT)[o.type].replace("location",`ud["${l}"].location`);i.push(`
            cu = ud["${l}"];
            cv = cu.value;
            v = uv["${l}"];
            ${p};`)}}return new Function("ud","uv","renderer","syncData",i.join(`
`))}const z_={};let ks=z_;function $T(){if(ks===z_||ks!=null&&ks.isContextLost()){const s=gt.ADAPTER.createCanvas();let t;gt.PREFER_ENV>=Qn.WEBGL2&&(t=s.getContext("webgl2",{})),t||(t=s.getContext("webgl",{})||s.getContext("experimental-webgl",{}),t?t.getExtension("WEBGL_draw_buffers"):t=null),ks=t}return ks}let ko;function WT(){if(!ko){ko=Ai.MEDIUM;const s=$T();if(s&&s.getShaderPrecisionFormat){const t=s.getShaderPrecisionFormat(s.FRAGMENT_SHADER,s.HIGH_FLOAT);t&&(ko=t.precision?Ai.HIGH:Ai.MEDIUM)}}return ko}function G0(s,t){const i=s.getShaderSource(t).split(`
`).map((m,g)=>`${g}: ${m}`),n=s.getShaderInfoLog(t),l=n.split(`
`),o={},h=l.map(m=>parseFloat(m.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(m=>m&&!o[m]?(o[m]=!0,!0):!1),c=[""];h.forEach(m=>{i[m-1]=`%c${i[m-1]}%c`,c.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const p=i.join(`
`);c[0]=p,console.error(n),console.groupCollapsed("click to view full shader code"),console.warn(...c),console.groupEnd()}function ZT(s,t,i,n){s.getProgramParameter(t,s.LINK_STATUS)||(s.getShaderParameter(i,s.COMPILE_STATUS)||G0(s,i),s.getShaderParameter(n,s.COMPILE_STATUS)||G0(s,n),console.error("PixiJS Error: Could not initialize shader."),s.getProgramInfoLog(t)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",s.getProgramInfoLog(t)))}const KT={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function H_(s){return KT[s]}let Xo=null;const z0={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function k_(s,t){if(!Xo){const i=Object.keys(z0);Xo={};for(let n=0;n<i.length;++n){const l=i[n];Xo[s[l]]=z0[l]}}return Xo[t]}function H0(s,t,i){if(s.substring(0,9)!=="precision"){let n=t;return t===Ai.HIGH&&i!==Ai.HIGH&&(n=Ai.MEDIUM),`precision ${n} float;
${s}`}else if(i!==Ai.HIGH&&s.substring(0,15)==="precision highp")return s.replace("precision highp","precision mediump");return s}let rl;function QT(){if(typeof rl=="boolean")return rl;try{rl=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{rl=!1}return rl}let JT=0;const Vo={},Bd=class qs{constructor(t,i,n="pixi-shader",l={}){this.extra={},this.id=JT++,this.vertexSrc=t||qs.defaultVertexSrc,this.fragmentSrc=i||qs.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=l,this.vertexSrc.substring(0,8)!=="#version"&&(n=n.replace(/\s+/g,"-"),Vo[n]?(Vo[n]++,n+=`-${Vo[n]}`):Vo[n]=1,this.vertexSrc=`#define SHADER_NAME ${n}
${this.vertexSrc}`,this.fragmentSrc=`#define SHADER_NAME ${n}
${this.fragmentSrc}`,this.vertexSrc=H0(this.vertexSrc,qs.defaultVertexPrecision,Ai.HIGH),this.fragmentSrc=H0(this.fragmentSrc,qs.defaultFragmentPrecision,WT())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return VT}static get defaultFragmentSrc(){return XT}static from(t,i,n){const l=t+i;let o=N0[l];return o||(N0[l]=o=new qs(t,i,n)),o}};Bd.defaultVertexPrecision=Ai.HIGH,Bd.defaultFragmentPrecision=wr.apple.device?Ai.HIGH:Ai.MEDIUM;let Rr=Bd,tA=0;class Li{constructor(t,i,n){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=tA++,this.static=!!i,this.ubo=!!n,t instanceof ve?(this.buffer=t,this.buffer.type=Qi.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=t,this.ubo&&(this.buffer=new ve(new Float32Array(1)),this.buffer.type=Qi.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(t,i,n){if(!this.ubo)this.uniforms[t]=new Li(i,n);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")}static from(t,i,n){return new Li(t,i,n)}static uboFrom(t,i){return new Li(t,i??!0,!0)}}class Ji{constructor(t,i){this.uniformBindCount=0,this.program=t,i?i instanceof Li?this.uniformGroup=i:this.uniformGroup=new Li(i):this.uniformGroup=new Li({}),this.disposeRunner=new Ui("disposeShader")}checkUniformExists(t,i){if(i.uniforms[t])return!0;for(const n in i.uniforms){const l=i.uniforms[n];if(l.group===!0&&this.checkUniformExists(t,l))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(t,i,n){const l=Rr.from(t,i);return new Ji(l,n)}}class eA{constructor(t,i){if(this.vertexSrc=t,this.fragTemplate=i,this.programCache={},this.defaultGroupCache={},!i.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!i.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(t){if(!this.programCache[t]){const n=new Int32Array(t);for(let o=0;o<t;o++)n[o]=o;this.defaultGroupCache[t]=Li.from({uSamplers:n},!0);let l=this.fragTemplate;l=l.replace(/%count%/gi,`${t}`),l=l.replace(/%forloop%/gi,this.generateSampleSrc(t)),this.programCache[t]=new Rr(this.vertexSrc,l)}const i={tint:new Float32Array([1,1,1,1]),translationMatrix:new le,default:this.defaultGroupCache[t]};return new Ji(this.programCache[t],i)}generateSampleSrc(t){let i="";i+=`
`,i+=`
`;for(let n=0;n<t;n++)n>0&&(i+=`
else `),n<t-1&&(i+=`if(vTextureId < ${n}.5)`),i+=`
{`,i+=`
	color = texture2D(uSamplers[${n}], vTextureCoord);`,i+=`
}`;return i+=`
`,i+=`
`,i}}class Nd{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let t=0;t<this.count;t++)this.elements[t]=null;this.count=0}}function iA(){return!wr.apple.device}function rA(s){let t=!0;const i=gt.ADAPTER.getNavigator();if(wr.tablet||wr.phone){if(wr.apple.device){const n=i.userAgent.match(/OS (\d+)_(\d+)?/);n&&parseInt(n[1],10)<11&&(t=!1)}if(wr.android.device){const n=i.userAgent.match(/Android\s([0-9.]*)/);n&&parseInt(n[1],10)<7&&(t=!1)}}return t?s:4}class Iu{constructor(t){this.renderer=t}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(t){}}var nA=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,sA=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`;const ol=class Bi extends Iu{constructor(t){super(t),this.setShaderGenerator(),this.geometryClass=P_,this.vertexSize=6,this.state=er.for2d(),this.size=Bi.defaultBatchSize*4,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),t.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){return this._defaultMaxTextures=this._defaultMaxTextures??rA(32),this._defaultMaxTextures}static set defaultMaxTextures(t){this._defaultMaxTextures=t}static get canUploadSameBuffer(){return this._canUploadSameBuffer=this._canUploadSameBuffer??iA(),this._canUploadSameBuffer}static set canUploadSameBuffer(t){this._canUploadSameBuffer=t}get MAX_TEXTURES(){return zt("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return sA}static get defaultFragmentTemplate(){return nA}setShaderGenerator({vertex:t=Bi.defaultVertexSrc,fragment:i=Bi.defaultFragmentTemplate}={}){this.shaderGenerator=new eA(t,i)}contextChange(){const t=this.renderer.gl;gt.PREFER_ENV===Qn.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),Bi.defaultMaxTextures),this.maxTextures=NT(this.maxTextures,t)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let i=0;i<this._packedGeometryPoolSize;i++)this._packedGeometries[i]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:t,_textureArrayPool:i}=Bi,n=this.size/4,l=Math.floor(n/this.maxTextures)+1;for(;t.length<n;)t.push(new Md);for(;i.length<l;)i.push(new Nd);for(let o=0;o<this.maxTextures;o++)this._tempBoundTextures[o]=null}onPrerender(){this._flushId=0}render(t){t._texture.valid&&(this._vertexCount+t.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=t.vertexData.length/2,this._indexCount+=t.indices.length,this._bufferedTextures[this._bufferSize]=t._texture.baseTexture,this._bufferedElements[this._bufferSize++]=t)}buildTexturesAndDrawCalls(){const{_bufferedTextures:t,maxTextures:i}=this,n=Bi._textureArrayPool,l=this.renderer.batch,o=this._tempBoundTextures,h=this.renderer.textureGC.count;let c=++It._globalBatch,p=0,m=n[0],g=0;l.copyBoundTextures(o,i);for(let y=0;y<this._bufferSize;++y){const _=t[y];t[y]=null,_._batchEnabled!==c&&(m.count>=i&&(l.boundArray(m,o,c,i),this.buildDrawCalls(m,g,y),g=y,m=n[++p],++c),_._batchEnabled=c,_.touched=h,m.elements[m.count++]=_)}m.count>0&&(l.boundArray(m,o,c,i),this.buildDrawCalls(m,g,this._bufferSize),++p,++c);for(let y=0;y<o.length;y++)o[y]=null;It._globalBatch=c}buildDrawCalls(t,i,n){const{_bufferedElements:l,_attributeBuffer:o,_indexBuffer:h,vertexSize:c}=this,p=Bi._drawCallPool;let m=this._dcIndex,g=this._aIndex,y=this._iIndex,_=p[m];_.start=this._iIndex,_.texArray=t;for(let b=i;b<n;++b){const T=l[b],w=T._texture.baseTexture,A=N_[w.alphaMode?1:0][T.blendMode];l[b]=null,i<b&&_.blend!==A&&(_.size=y-_.start,i=b,_=p[++m],_.texArray=t,_.start=y),this.packInterleavedGeometry(T,o,h,g,y),g+=T.vertexData.length/2*c,y+=T.indices.length,_.blend=A}i<n&&(_.size=y-_.start,++m),this._dcIndex=m,this._aIndex=g,this._iIndex=y}bindAndClearTexArray(t){const i=this.renderer.texture;for(let n=0;n<t.count;n++)i.bind(t.elements[n],t.ids[n]),t.elements[n]=null;t.count=0}updateGeometry(){const{_packedGeometries:t,_attributeBuffer:i,_indexBuffer:n}=this;Bi.canUploadSameBuffer?(t[this._flushId]._buffer.update(i.rawBinaryData),t[this._flushId]._indexBuffer.update(n),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,t[this._flushId]=new this.geometryClass),t[this._flushId]._buffer.update(i.rawBinaryData),t[this._flushId]._indexBuffer.update(n),this.renderer.geometry.bind(t[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const t=this._dcIndex,{gl:i,state:n}=this.renderer,l=Bi._drawCallPool;let o=null;for(let h=0;h<t;h++){const{texArray:c,type:p,size:m,start:g,blend:y}=l[h];o!==c&&(o=c,this.bindAndClearTexArray(c)),this.state.blendMode=y,n.set(this.state),i.drawElements(p,m,i.UNSIGNED_SHORT,g*2)}}flush(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),Bi.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]&&this._packedGeometries[t].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(t){const i=du(Math.ceil(t/8)),n=O0(i),l=i*8;this._aBuffers.length<=n&&(this._iBuffers.length=n+1);let o=this._aBuffers[l];return o||(this._aBuffers[l]=o=new wd(l*this.vertexSize*4)),o}getIndexBuffer(t){const i=du(Math.ceil(t/12)),n=O0(i),l=i*12;this._iBuffers.length<=n&&(this._iBuffers.length=n+1);let o=this._iBuffers[n];return o||(this._iBuffers[n]=o=new Uint16Array(l)),o}packInterleavedGeometry(t,i,n,l,o){const{uint32View:h,float32View:c}=i,p=l/this.vertexSize,m=t.uvs,g=t.indices,y=t.vertexData,_=t._texture.baseTexture._batchLocation,b=Math.min(t.worldAlpha,1),T=ae.shared.setValue(t._tintRGB).toPremultiplied(b,t._texture.baseTexture.alphaMode>0);for(let w=0;w<y.length;w+=2)c[l++]=y[w],c[l++]=y[w+1],c[l++]=m[w],c[l++]=m[w+1],h[l++]=T,c[l++]=_;for(let w=0;w<g.length;w++)n[o++]=p+g[w]}};ol.defaultBatchSize=4096,ol.extension={name:"batch",type:pt.RendererPlugin},ol._drawCallPool=[],ol._textureArrayPool=[];let jn=ol;At.add(jn);var aA=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,lA=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const Id=class ul extends Ji{constructor(t,i,n){const l=Rr.from(t||ul.defaultVertexSrc,i||ul.defaultFragmentSrc);super(l,n),this.padding=0,this.resolution=ul.defaultResolution,this.multisample=ul.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new er}apply(t,i,n,l,o){t.applyFilter(this,i,n,l)}get blendMode(){return this.state.blendMode}set blendMode(t){this.state.blendMode=t}get resolution(){return this._resolution}set resolution(t){this._resolution=t}static get defaultVertexSrc(){return lA}static get defaultFragmentSrc(){return aA}};Id.defaultResolution=1,Id.defaultMultisample=Ae.NONE;let je=Id;class gu{constructor(){this.clearBeforeRender=!0,this._backgroundColor=new ae(0),this.alpha=1}init(t){this.clearBeforeRender=t.clearBeforeRender;const{backgroundColor:i,background:n,backgroundAlpha:l}=t,o=n??i;o!==void 0&&(this.color=o),this.alpha=l}get color(){return this._backgroundColor.value}set color(t){this._backgroundColor.setValue(t)}get alpha(){return this._backgroundColor.alpha}set alpha(t){this._backgroundColor.setAlpha(t)}get backgroundColor(){return this._backgroundColor}destroy(){}}gu.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0},gu.extension={type:[pt.RendererSystem,pt.CanvasRendererSystem],name:"background"};At.add(gu);class X_{constructor(t){this.renderer=t,this.emptyRenderer=new Iu(t),this.currentRenderer=this.emptyRenderer}setObjectRenderer(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(t,i){const{boundTextures:n}=this.renderer.texture;for(let l=i-1;l>=0;--l)t[l]=n[l]||null,t[l]&&(t[l]._batchLocation=l)}boundArray(t,i,n,l){const{elements:o,ids:h,count:c}=t;let p=0;for(let m=0;m<c;m++){const g=o[m],y=g._batchLocation;if(y>=0&&y<l&&i[y]===g){h[m]=y;continue}for(;p<l;){const _=i[p];if(_&&_._batchEnabled===n&&_._batchLocation===p){p++;continue}h[m]=p,g._batchLocation=p,i[p]=g;break}}}destroy(){this.renderer=null}}X_.extension={type:pt.RendererSystem,name:"batch"};At.add(X_);let k0=0;class yu{constructor(t){this.renderer=t,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(t){this.gl=t,this.renderer.gl=t,this.renderer.CONTEXT_UID=k0++}init(t){if(t.context)this.initFromContext(t.context);else{const i=this.renderer.background.alpha<1,n=t.premultipliedAlpha;this.preserveDrawingBuffer=t.preserveDrawingBuffer,this.useContextAlpha=t.useContextAlpha,this.powerPreference=t.powerPreference,this.initFromOptions({alpha:i,premultipliedAlpha:n,antialias:t.antialias,stencil:!0,preserveDrawingBuffer:t.preserveDrawingBuffer,powerPreference:t.powerPreference})}}initFromContext(t){this.gl=t,this.validateContext(t),this.renderer.gl=t,this.renderer.CONTEXT_UID=k0++,this.renderer.runners.contextChange.emit(t);const i=this.renderer.view;i.addEventListener!==void 0&&(i.addEventListener("webglcontextlost",this.handleContextLost,!1),i.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(t){const i=this.createContext(this.renderer.view,t);this.initFromContext(i)}createContext(t,i){let n;if(gt.PREFER_ENV>=Qn.WEBGL2&&(n=t.getContext("webgl2",i)),n)this.webGLVersion=2;else if(this.webGLVersion=1,n=t.getContext("webgl",i)||t.getContext("experimental-webgl",i),!n)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=n,this.getExtensions(),this.gl}getExtensions(){const{gl:t}=this,i={loseContext:t.getExtension("WEBGL_lose_context"),anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),s3tc:t.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:t.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:t.getExtension("WEBGL_compressed_texture_etc"),etc1:t.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:t.getExtension("WEBGL_compressed_texture_atc"),astc:t.getExtension("WEBGL_compressed_texture_astc"),bptc:t.getExtension("EXT_texture_compression_bptc")};this.webGLVersion===1?Object.assign(this.extensions,i,{drawBuffers:t.getExtension("WEBGL_draw_buffers"),depthTexture:t.getExtension("WEBGL_depth_texture"),vertexArrayObject:t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:t.getExtension("OES_element_index_uint"),floatTexture:t.getExtension("OES_texture_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),textureHalfFloat:t.getExtension("OES_texture_half_float"),textureHalfFloatLinear:t.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,i,{colorBufferFloat:t.getExtension("EXT_color_buffer_float")})}handleContextLost(t){t.preventDefault(),setTimeout(()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()},0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const t=this.renderer.view;this.renderer=null,t.removeEventListener!==void 0&&(t.removeEventListener("webglcontextlost",this.handleContextLost),t.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(t){const i=t.getContextAttributes(),n="WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext;n&&(this.webGLVersion=2),i&&!i.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const l=n||!!t.getExtension("OES_element_index_uint");this.supports.uint32Indices=l,l||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}yu.defaultOptions={context:null,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:"default"},yu.extension={type:pt.RendererSystem,name:"context"};At.add(yu);class Ud{constructor(t,i){if(this.width=Math.round(t),this.height=Math.round(i),!this.width||!this.height)throw new Error("Framebuffer width or height is zero");this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Ui("disposeFramebuffer"),this.multisample=Ae.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(t=0,i){return this.colorTextures[t]=i||new It(null,{scaleMode:Sr.NEAREST,resolution:1,mipmap:tr.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(t){return this.depthTexture=t||new It(null,{scaleMode:Sr.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:tr.OFF,format:ht.DEPTH_COMPONENT,type:wt.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(t,i){if(t=Math.round(t),i=Math.round(i),!t||!i)throw new Error("Framebuffer width and height must not be zero");if(!(t===this.width&&i===this.height)){this.width=t,this.height=i,this.dirtyId++,this.dirtySize++;for(let n=0;n<this.colorTextures.length;n++){const l=this.colorTextures[n],o=l.resolution;l.setSize(t/o,i/o)}if(this.depthTexture){const n=this.depthTexture.resolution;this.depthTexture.setSize(t/n,i/n)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}class V_ extends It{constructor(t={}){if(typeof t=="number"){const i=arguments[0],n=arguments[1],l=arguments[2],o=arguments[3];t={width:i,height:n,scaleMode:l,resolution:o}}t.width=t.width??100,t.height=t.height??100,t.multisample??(t.multisample=Ae.NONE),super(null,t),this.mipmap=tr.OFF,this.valid=!0,this._clear=new ae([0,0,0,0]),this.framebuffer=new Ud(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=t.multisample,this.maskStack=[],this.filterStack=[{}]}set clearColor(t){this._clear.setValue(t)}get clearColor(){return this._clear.value}get clear(){return this._clear}get multisample(){return this.framebuffer.multisample}set multisample(t){this.framebuffer.multisample=t}resize(t,i){this.framebuffer.resize(t*this.resolution,i*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}class Or extends yl{constructor(t){const i=t,n=i.naturalWidth||i.videoWidth||i.displayWidth||i.width,l=i.naturalHeight||i.videoHeight||i.displayHeight||i.height;super(n,l),this.source=t,this.noSubImage=!1}static crossOrigin(t,i,n){n===void 0&&!i.startsWith("data:")?t.crossOrigin=DT(i):n!==!1&&(t.crossOrigin=typeof n=="string"?n:"anonymous")}upload(t,i,n,l){const o=t.gl,h=i.realWidth,c=i.realHeight;if(l=l||this.source,typeof HTMLImageElement<"u"&&l instanceof HTMLImageElement){if(!l.complete||l.naturalWidth===0)return!1}else if(typeof HTMLVideoElement<"u"&&l instanceof HTMLVideoElement&&l.readyState<=1)return!1;return o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.alphaMode===Je.UNPACK),!this.noSubImage&&i.target===o.TEXTURE_2D&&n.width===h&&n.height===c?o.texSubImage2D(o.TEXTURE_2D,0,0,0,i.format,n.type,l):(n.width=h,n.height=c,o.texImage2D(i.target,0,n.internalFormat,i.format,n.type,l)),!0}update(){if(this.destroyed)return;const t=this.source,i=t.naturalWidth||t.videoWidth||t.width,n=t.naturalHeight||t.videoHeight||t.height;this.resize(i,n),super.update()}dispose(){this.source=null}}class j_ extends Or{constructor(t,i){if(i=i||{},typeof t=="string"){const n=new Image;Or.crossOrigin(n,t,i.crossorigin),n.src=t,t=n}super(t),!t.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=t.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(i.createBitmap??gt.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode=typeof i.alphaMode=="number"?i.alphaMode:null,this.bitmap=null,this._load=null,i.autoLoad!==!1&&this.load()}load(t){return this._load?this._load:(t!==void 0&&(this.createBitmap=t),this._load=new Promise((i,n)=>{const l=this.source;this.url=l.src;const o=()=>{this.destroyed||(l.onload=null,l.onerror=null,this.update(),this._load=null,this.createBitmap?i(this.process()):i(this))};l.complete&&l.src?o():(l.onload=o,l.onerror=h=>{n(h),this.onError.emit(h)})}),this._load)}process(){const t=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);const i=globalThis.createImageBitmap,n=!t.crossOrigin||t.crossOrigin==="anonymous";return this._process=fetch(t.src,{mode:n?"cors":"no-cors"}).then(l=>l.blob()).then(l=>i(l,0,0,t.width,t.height,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===Je.UNPACK?"premultiply":"none"})).then(l=>this.destroyed?Promise.reject():(this.bitmap=l,this.update(),this._process=null,Promise.resolve(this))),this._process}upload(t,i,n){if(typeof this.alphaMode=="number"&&(i.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(t,i,n);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(t,i,n,this.bitmap),!this.preserveBitmap){let l=!0;const o=i._glTextures;for(const h in o){const c=o[h];if(c!==n&&c.dirtyId!==i.dirtyId){l=!1;break}}l&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(t){return typeof HTMLImageElement<"u"&&(typeof t=="string"||t instanceof HTMLImageElement)}}class hp{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(t,i,n){const l=i.width,o=i.height;if(n){const h=t.width/2/l,c=t.height/2/o,p=t.x/l+h,m=t.y/o+c;n=he.add(n,he.NW),this.x0=p+h*he.uX(n),this.y0=m+c*he.uY(n),n=he.add(n,2),this.x1=p+h*he.uX(n),this.y1=m+c*he.uY(n),n=he.add(n,2),this.x2=p+h*he.uX(n),this.y2=m+c*he.uY(n),n=he.add(n,2),this.x3=p+h*he.uX(n),this.y3=m+c*he.uY(n)}else this.x0=t.x/l,this.y0=t.y/o,this.x1=(t.x+t.width)/l,this.y1=t.y/o,this.x2=(t.x+t.width)/l,this.y2=(t.y+t.height)/o,this.x3=t.x/l,this.y3=(t.y+t.height)/o;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}}hp.prototype.toString=function(){return`[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`};const X0=new hp;function jo(s){s.destroy=function(){},s.on=function(){},s.once=function(){},s.emit=function(){}}class Tt extends vl{constructor(t,i,n,l,o,h,c){if(super(),this.noFrame=!1,i||(this.noFrame=!0,i=new Lt(0,0,1,1)),t instanceof Tt&&(t=t.baseTexture),this.baseTexture=t,this._frame=i,this.trim=l,this.valid=!1,this.destroyed=!1,this._uvs=X0,this.uvMatrix=null,this.orig=n||i,this._rotate=Number(o||0),o===!0)this._rotate=2;else if(this._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=h?new Vt(h.x,h.y):new Vt(0,0),this.defaultBorders=c,this._updateID=0,this.textureCacheIds=[],t.valid?this.noFrame?t.valid&&this.onBaseTextureUpdated(t):this.frame=i:t.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&t.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(t){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=t.width,this._frame.height=t.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(t){if(this.baseTexture){if(t){const{resource:i}=this.baseTexture;i!=null&&i.url&&qi[i.url]&&Tt.removeFromCache(i.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,Tt.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}clone(){var l;const t=this._frame.clone(),i=this._frame===this.orig?t:this.orig.clone(),n=new Tt(this.baseTexture,!this.noFrame&&t,i,(l=this.trim)==null?void 0:l.clone(),this.rotate,this.defaultAnchor,this.defaultBorders);return this.noFrame&&(n._frame=t),n}updateUvs(){this._uvs===X0&&(this._uvs=new hp),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(t,i={},n=gt.STRICT_TEXTURE_CACHE){const l=typeof t=="string";let o=null;if(l)o=t;else if(t instanceof It){if(!t.cacheId){const c=(i==null?void 0:i.pixiIdPrefix)||"pixiid";t.cacheId=`${c}-${Zn()}`,It.addToCache(t,t.cacheId)}o=t.cacheId}else{if(!t._pixiId){const c=(i==null?void 0:i.pixiIdPrefix)||"pixiid";t._pixiId=`${c}_${Zn()}`}o=t._pixiId}let h=qi[o];if(l&&n&&!h)throw new Error(`The cacheId "${o}" does not exist in TextureCache.`);return!h&&!(t instanceof It)?(i.resolution||(i.resolution=Dr(t)),h=new Tt(new It(t,i)),h.baseTexture.cacheId=o,It.addToCache(h.baseTexture,o),Tt.addToCache(h,o)):!h&&t instanceof It&&(h=new Tt(t),Tt.addToCache(h,o)),h}static fromURL(t,i){const n=Object.assign({autoLoad:!1},i==null?void 0:i.resourceOptions),l=Tt.from(t,Object.assign({resourceOptions:n},i),!1),o=l.baseTexture.resource;return l.baseTexture.valid?Promise.resolve(l):o.load().then(()=>Promise.resolve(l))}static fromBuffer(t,i,n,l){return new Tt(It.fromBuffer(t,i,n,l))}static fromLoader(t,i,n,l){const o=new It(t,Object.assign({scaleMode:It.defaultOptions.scaleMode,resolution:Dr(i)},l)),{resource:h}=o;h instanceof j_&&(h.url=i);const c=new Tt(o);return n||(n=i),It.addToCache(c.baseTexture,n),Tt.addToCache(c,n),n!==i&&(It.addToCache(c.baseTexture,i),Tt.addToCache(c,i)),c.baseTexture.valid?Promise.resolve(c):new Promise(p=>{c.baseTexture.once("loaded",()=>p(c))})}static addToCache(t,i){i&&(t.textureCacheIds.includes(i)||t.textureCacheIds.push(i),qi[i]&&qi[i]!==t&&console.warn(`Texture added to the cache with an id [${i}] that already had an entry`),qi[i]=t)}static removeFromCache(t){if(typeof t=="string"){const i=qi[t];if(i){const n=i.textureCacheIds.indexOf(t);return n>-1&&i.textureCacheIds.splice(n,1),delete qi[t],i}}else if(t!=null&&t.textureCacheIds){for(let i=0;i<t.textureCacheIds.length;++i)qi[t.textureCacheIds[i]]===t&&delete qi[t.textureCacheIds[i]];return t.textureCacheIds.length=0,t}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(t){this._frame=t,this.noFrame=!1;const{x:i,y:n,width:l,height:o}=t,h=i+l>this.baseTexture.width,c=n+o>this.baseTexture.height;if(h||c){const p=h&&c?"and":"or",m=`X: ${i} + ${l} = ${i+l} > ${this.baseTexture.width}`,g=`Y: ${n} + ${o} = ${n+o} > ${this.baseTexture.height}`;throw new Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${m} ${p} ${g}`)}this.valid=l&&o&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=t),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(t){this._rotate=t,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return Tt._EMPTY||(Tt._EMPTY=new Tt(new It),jo(Tt._EMPTY),jo(Tt._EMPTY.baseTexture)),Tt._EMPTY}static get WHITE(){if(!Tt._WHITE){const t=gt.ADAPTER.createCanvas(16,16),i=t.getContext("2d");t.width=16,t.height=16,i.fillStyle="white",i.fillRect(0,0,16,16),Tt._WHITE=new Tt(It.from(t)),jo(Tt._WHITE),jo(Tt._WHITE.baseTexture)}return Tt._WHITE}}class Jn extends Tt{constructor(t,i){super(t,i),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(t){this.framebuffer.multisample=t}resize(t,i,n=!0){const l=this.baseTexture.resolution,o=Math.round(t*l)/l,h=Math.round(i*l)/l;this.valid=o>0&&h>0,this._frame.width=this.orig.width=o,this._frame.height=this.orig.height=h,n&&this.baseTexture.resize(o,h),this.updateUvs()}setResolution(t){const{baseTexture:i}=this;i.resolution!==t&&(i.setResolution(t),this.resize(i.width,i.height,!1))}static create(t){return new Jn(new V_(t))}}class q_{constructor(t){this.texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(t,i,n=Ae.NONE){const l=new V_(Object.assign({width:t,height:i,resolution:1,multisample:n},this.textureOptions));return new Jn(l)}getOptimalTexture(t,i,n=1,l=Ae.NONE){let o;t=Math.max(Math.ceil(t*n-1e-6),1),i=Math.max(Math.ceil(i*n-1e-6),1),!this.enableFullScreen||t!==this._pixelsWidth||i!==this._pixelsHeight?(t=du(t),i=du(i),o=((t&65535)<<16|i&65535)>>>0,l>1&&(o+=l*4294967296)):o=l>1?-l:-1,this.texturePool[o]||(this.texturePool[o]=[]);let h=this.texturePool[o].pop();return h||(h=this.createTexture(t,i,l)),h.filterPoolKey=o,h.setResolution(n),h}getFilterTexture(t,i,n){const l=this.getOptimalTexture(t.width,t.height,i||t.resolution,n||Ae.NONE);return l.filterFrame=t.filterFrame,l}returnTexture(t){const i=t.filterPoolKey;t.filterFrame=null,this.texturePool[i].push(t)}returnFilterTexture(t){this.returnTexture(t)}clear(t){if(t=t!==!1,t)for(const i in this.texturePool){const n=this.texturePool[i];if(n)for(let l=0;l<n.length;l++)n[l].destroy(!0)}this.texturePool={}}setScreenSize(t){if(!(t.width===this._pixelsWidth&&t.height===this._pixelsHeight)){this.enableFullScreen=t.width>0&&t.height>0;for(const i in this.texturePool){if(!(Number(i)<0))continue;const n=this.texturePool[i];if(n)for(let l=0;l<n.length;l++)n[l].destroy(!0);this.texturePool[i]=[]}this._pixelsWidth=t.width,this._pixelsHeight=t.height}}}q_.SCREEN_KEY=-1;class oA extends mn{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}class Y_ extends mn{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new ve(this.vertices),this.uvBuffer=new ve(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(t,i){let n=0,l=0;return this.uvs[0]=n,this.uvs[1]=l,this.uvs[2]=n+i.width/t.width,this.uvs[3]=l,this.uvs[4]=n+i.width/t.width,this.uvs[5]=l+i.height/t.height,this.uvs[6]=n,this.uvs[7]=l+i.height/t.height,n=i.x,l=i.y,this.vertices[0]=n,this.vertices[1]=l,this.vertices[2]=n+i.width,this.vertices[3]=l,this.vertices[4]=n+i.width,this.vertices[5]=l+i.height,this.vertices[6]=n,this.vertices[7]=l+i.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}class uA{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=Ae.NONE,this.sourceFrame=new Lt,this.destinationFrame=new Lt,this.bindingSourceFrame=new Lt,this.bindingDestinationFrame=new Lt,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}const qo=[new Vt,new Vt,new Vt,new Vt],ld=new le;class $_{constructor(t){this.renderer=t,this.defaultFilterStack=[{}],this.texturePool=new q_,this.statePool=[],this.quad=new oA,this.quadUv=new Y_,this.tempRect=new Lt,this.activeState={},this.globalUniforms=new Li({outputFrame:new Lt,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(t,i){const n=this.renderer,l=this.defaultFilterStack,o=this.statePool.pop()||new uA,h=n.renderTexture;let c,p;if(h.current){const A=h.current;c=A.resolution,p=A.multisample}else c=n.resolution,p=n.multisample;let m=i[0].resolution||c,g=i[0].multisample??p,y=i[0].padding,_=i[0].autoFit,b=i[0].legacy??!0;for(let A=1;A<i.length;A++){const R=i[A];m=Math.min(m,R.resolution||c),g=Math.min(g,R.multisample??p),y=this.useMaxPadding?Math.max(y,R.padding):y+R.padding,_=_&&R.autoFit,b=b||(R.legacy??!0)}l.length===1&&(this.defaultFilterStack[0].renderTexture=h.current),l.push(o),o.resolution=m,o.multisample=g,o.legacy=b,o.target=t,o.sourceFrame.copyFrom(t.filterArea||t.getBounds(!0)),o.sourceFrame.pad(y);const T=this.tempRect.copyFrom(h.sourceFrame);n.projection.transform&&this.transformAABB(ld.copyFrom(n.projection.transform).invert(),T),_?(o.sourceFrame.fit(T),(o.sourceFrame.width<=0||o.sourceFrame.height<=0)&&(o.sourceFrame.width=0,o.sourceFrame.height=0)):o.sourceFrame.intersects(T)||(o.sourceFrame.width=0,o.sourceFrame.height=0),this.roundFrame(o.sourceFrame,h.current?h.current.resolution:n.resolution,h.sourceFrame,h.destinationFrame,n.projection.transform),o.renderTexture=this.getOptimalFilterTexture(o.sourceFrame.width,o.sourceFrame.height,m,g),o.filters=i,o.destinationFrame.width=o.renderTexture.width,o.destinationFrame.height=o.renderTexture.height;const w=this.tempRect;w.x=0,w.y=0,w.width=o.sourceFrame.width,w.height=o.sourceFrame.height,o.renderTexture.filterFrame=o.sourceFrame,o.bindingSourceFrame.copyFrom(h.sourceFrame),o.bindingDestinationFrame.copyFrom(h.destinationFrame),o.transform=n.projection.transform,n.projection.transform=null,h.bind(o.renderTexture,o.sourceFrame,w),n.framebuffer.clear(0,0,0,0)}pop(){const t=this.defaultFilterStack,i=t.pop(),n=i.filters;this.activeState=i;const l=this.globalUniforms.uniforms;l.outputFrame=i.sourceFrame,l.resolution=i.resolution;const o=l.inputSize,h=l.inputPixel,c=l.inputClamp;if(o[0]=i.destinationFrame.width,o[1]=i.destinationFrame.height,o[2]=1/o[0],o[3]=1/o[1],h[0]=Math.round(o[0]*i.resolution),h[1]=Math.round(o[1]*i.resolution),h[2]=1/h[0],h[3]=1/h[1],c[0]=.5*h[2],c[1]=.5*h[3],c[2]=i.sourceFrame.width*o[2]-.5*h[2],c[3]=i.sourceFrame.height*o[3]-.5*h[3],i.legacy){const m=l.filterArea;m[0]=i.destinationFrame.width,m[1]=i.destinationFrame.height,m[2]=i.sourceFrame.x,m[3]=i.sourceFrame.y,l.filterClamp=l.inputClamp}this.globalUniforms.update();const p=t[t.length-1];if(this.renderer.framebuffer.blit(),n.length===1)n[0].apply(this,i.renderTexture,p.renderTexture,Zi.BLEND,i),this.returnFilterTexture(i.renderTexture);else{let m=i.renderTexture,g=this.getOptimalFilterTexture(m.width,m.height,i.resolution);g.filterFrame=m.filterFrame;let y=0;for(y=0;y<n.length-1;++y){y===1&&i.multisample>1&&(g=this.getOptimalFilterTexture(m.width,m.height,i.resolution),g.filterFrame=m.filterFrame),n[y].apply(this,m,g,Zi.CLEAR,i);const _=m;m=g,g=_}n[y].apply(this,m,p.renderTexture,Zi.BLEND,i),y>1&&i.multisample>1&&this.returnFilterTexture(i.renderTexture),this.returnFilterTexture(m),this.returnFilterTexture(g)}i.clear(),this.statePool.push(i)}bindAndClear(t,i=Zi.CLEAR){const{renderTexture:n,state:l}=this.renderer;if(t===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,t==null?void 0:t.filterFrame){const h=this.tempRect;h.x=0,h.y=0,h.width=t.filterFrame.width,h.height=t.filterFrame.height,n.bind(t,t.filterFrame,h)}else t!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?n.bind(t):this.renderer.renderTexture.bind(t,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);const o=l.stateId&1||this.forceClear;(i===Zi.CLEAR||i===Zi.BLIT&&o)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(t,i,n,l){const o=this.renderer;o.state.set(t.state),this.bindAndClear(n,l),t.uniforms.uSampler=i,t.uniforms.filterGlobals=this.globalUniforms,o.shader.bind(t),t.legacy=!!t.program.attributeData.aTextureCoord,t.legacy?(this.quadUv.map(i._frame,i.filterFrame),o.geometry.bind(this.quadUv),o.geometry.draw(Ki.TRIANGLES)):(o.geometry.bind(this.quad),o.geometry.draw(Ki.TRIANGLE_STRIP))}calculateSpriteMatrix(t,i){const{sourceFrame:n,destinationFrame:l}=this.activeState,{orig:o}=i._texture,h=t.set(l.width,0,0,l.height,n.x,n.y),c=i.worldTransform.copyTo(le.TEMP_MATRIX);return c.invert(),h.prepend(c),h.scale(1/o.width,1/o.height),h.translate(i.anchor.x,i.anchor.y),h}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(t,i,n=1,l=Ae.NONE){return this.texturePool.getOptimalTexture(t,i,n,l)}getFilterTexture(t,i,n){if(typeof t=="number"){const o=t;t=i,i=o}t=t||this.activeState.renderTexture;const l=this.texturePool.getOptimalTexture(t.width,t.height,i||t.resolution,n||Ae.NONE);return l.filterFrame=t.filterFrame,l}returnFilterTexture(t){this.texturePool.returnTexture(t)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(t,i){const n=qo[0],l=qo[1],o=qo[2],h=qo[3];n.set(i.left,i.top),l.set(i.left,i.bottom),o.set(i.right,i.top),h.set(i.right,i.bottom),t.apply(n,n),t.apply(l,l),t.apply(o,o),t.apply(h,h);const c=Math.min(n.x,l.x,o.x,h.x),p=Math.min(n.y,l.y,o.y,h.y),m=Math.max(n.x,l.x,o.x,h.x),g=Math.max(n.y,l.y,o.y,h.y);i.x=c,i.y=p,i.width=m-c,i.height=g-p}roundFrame(t,i,n,l,o){if(!(t.width<=0||t.height<=0||n.width<=0||n.height<=0)){if(o){const{a:h,b:c,c:p,d:m}=o;if((Math.abs(c)>1e-4||Math.abs(p)>1e-4)&&(Math.abs(h)>1e-4||Math.abs(m)>1e-4))return}o=o?ld.copyFrom(o):ld.identity(),o.translate(-n.x,-n.y).scale(l.width/n.width,l.height/n.height).translate(l.x,l.y),this.transformAABB(o,t),t.ceil(i),this.transformAABB(o.invert(),t)}}}$_.extension={type:pt.RendererSystem,name:"filter"};At.add($_);class hA{constructor(t){this.framebuffer=t,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=Ae.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}const cA=new Lt;class W_{constructor(t){this.renderer=t,this.managedFramebuffers=[],this.unknownFramebuffer=new Ud(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);const t=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Lt,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){let i=this.renderer.context.extensions.drawBuffers,n=this.renderer.context.extensions.depthTexture;gt.PREFER_ENV===Qn.WEBGL_LEGACY&&(i=null,n=null),i?t.drawBuffers=l=>i.drawBuffersWEBGL(l):(this.hasMRT=!1,t.drawBuffers=()=>{}),n||(this.writeDepthTexture=!1)}else this.msaaSamples=t.getInternalformatParameter(t.RENDERBUFFER,t.RGBA8,t.SAMPLES)}bind(t,i,n=0){const{gl:l}=this;if(t){const o=t.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(t);this.current!==t&&(this.current=t,l.bindFramebuffer(l.FRAMEBUFFER,o.framebuffer)),o.mipLevel!==n&&(t.dirtyId++,t.dirtyFormat++,o.mipLevel=n),o.dirtyId!==t.dirtyId&&(o.dirtyId=t.dirtyId,o.dirtyFormat!==t.dirtyFormat?(o.dirtyFormat=t.dirtyFormat,o.dirtySize=t.dirtySize,this.updateFramebuffer(t,n)):o.dirtySize!==t.dirtySize&&(o.dirtySize=t.dirtySize,this.resizeFramebuffer(t)));for(let h=0;h<t.colorTextures.length;h++){const c=t.colorTextures[h];this.renderer.texture.unbind(c.parentTextureArray||c)}if(t.depthTexture&&this.renderer.texture.unbind(t.depthTexture),i){const h=i.width>>n,c=i.height>>n,p=h/i.width;this.setViewport(i.x*p,i.y*p,h,c)}else{const h=t.width>>n,c=t.height>>n;this.setViewport(0,0,h,c)}}else this.current&&(this.current=null,l.bindFramebuffer(l.FRAMEBUFFER,null)),i?this.setViewport(i.x,i.y,i.width,i.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(t,i,n,l){const o=this.viewport;t=Math.round(t),i=Math.round(i),n=Math.round(n),l=Math.round(l),(o.width!==n||o.height!==l||o.x!==t||o.y!==i)&&(o.x=t,o.y=i,o.width=n,o.height=l,this.gl.viewport(t,i,n,l))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(t,i,n,l,o=bd.COLOR|bd.DEPTH){const{gl:h}=this;h.clearColor(t,i,n,l),h.clear(o)}initFramebuffer(t){const{gl:i}=this,n=new hA(i.createFramebuffer());return n.multisample=this.detectSamples(t.multisample),t.glFramebuffers[this.CONTEXT_UID]=n,this.managedFramebuffers.push(t),t.disposeRunner.add(this),n}resizeFramebuffer(t){const{gl:i}=this,n=t.glFramebuffers[this.CONTEXT_UID];if(n.stencil){i.bindRenderbuffer(i.RENDERBUFFER,n.stencil);let h;this.renderer.context.webGLVersion===1?h=i.DEPTH_STENCIL:t.depth&&t.stencil?h=i.DEPTH24_STENCIL8:t.depth?h=i.DEPTH_COMPONENT24:h=i.STENCIL_INDEX8,n.msaaBuffer?i.renderbufferStorageMultisample(i.RENDERBUFFER,n.multisample,h,t.width,t.height):i.renderbufferStorage(i.RENDERBUFFER,h,t.width,t.height)}const l=t.colorTextures;let o=l.length;i.drawBuffers||(o=Math.min(o,1));for(let h=0;h<o;h++){const c=l[h],p=c.parentTextureArray||c;this.renderer.texture.bind(p,0),h===0&&n.msaaBuffer&&(i.bindRenderbuffer(i.RENDERBUFFER,n.msaaBuffer),i.renderbufferStorageMultisample(i.RENDERBUFFER,n.multisample,p._glTextures[this.CONTEXT_UID].internalFormat,t.width,t.height))}t.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(t.depthTexture,0)}updateFramebuffer(t,i){const{gl:n}=this,l=t.glFramebuffers[this.CONTEXT_UID],o=t.colorTextures;let h=o.length;n.drawBuffers||(h=Math.min(h,1)),l.multisample>1&&this.canMultisampleFramebuffer(t)?l.msaaBuffer=l.msaaBuffer||n.createRenderbuffer():l.msaaBuffer&&(n.deleteRenderbuffer(l.msaaBuffer),l.msaaBuffer=null,l.blitFramebuffer&&(l.blitFramebuffer.dispose(),l.blitFramebuffer=null));const c=[];for(let p=0;p<h;p++){const m=o[p],g=m.parentTextureArray||m;this.renderer.texture.bind(g,0),p===0&&l.msaaBuffer?(n.bindRenderbuffer(n.RENDERBUFFER,l.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,l.multisample,g._glTextures[this.CONTEXT_UID].internalFormat,t.width,t.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,l.msaaBuffer)):(n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+p,m.target,g._glTextures[this.CONTEXT_UID].texture,i),c.push(n.COLOR_ATTACHMENT0+p))}if(c.length>1&&n.drawBuffers(c),t.depthTexture&&this.writeDepthTexture){const p=t.depthTexture;this.renderer.texture.bind(p,0),n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,p._glTextures[this.CONTEXT_UID].texture,i)}if((t.stencil||t.depth)&&!(t.depthTexture&&this.writeDepthTexture)){l.stencil=l.stencil||n.createRenderbuffer();let p,m;this.renderer.context.webGLVersion===1?(p=n.DEPTH_STENCIL_ATTACHMENT,m=n.DEPTH_STENCIL):t.depth&&t.stencil?(p=n.DEPTH_STENCIL_ATTACHMENT,m=n.DEPTH24_STENCIL8):t.depth?(p=n.DEPTH_ATTACHMENT,m=n.DEPTH_COMPONENT24):(p=n.STENCIL_ATTACHMENT,m=n.STENCIL_INDEX8),n.bindRenderbuffer(n.RENDERBUFFER,l.stencil),l.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,l.multisample,m,t.width,t.height):n.renderbufferStorage(n.RENDERBUFFER,m,t.width,t.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,p,n.RENDERBUFFER,l.stencil)}else l.stencil&&(n.deleteRenderbuffer(l.stencil),l.stencil=null)}canMultisampleFramebuffer(t){return this.renderer.context.webGLVersion!==1&&t.colorTextures.length<=1&&!t.depthTexture}detectSamples(t){const{msaaSamples:i}=this;let n=Ae.NONE;if(t<=1||i===null)return n;for(let l=0;l<i.length;l++)if(i[l]<=t){n=i[l];break}return n===1&&(n=Ae.NONE),n}blit(t,i,n){const{current:l,renderer:o,gl:h,CONTEXT_UID:c}=this;if(o.context.webGLVersion!==2||!l)return;const p=l.glFramebuffers[c];if(!p)return;if(!t){if(!p.msaaBuffer)return;const g=l.colorTextures[0];if(!g)return;p.blitFramebuffer||(p.blitFramebuffer=new Ud(l.width,l.height),p.blitFramebuffer.addColorTexture(0,g)),t=p.blitFramebuffer,t.colorTextures[0]!==g&&(t.colorTextures[0]=g,t.dirtyId++,t.dirtyFormat++),(t.width!==l.width||t.height!==l.height)&&(t.width=l.width,t.height=l.height,t.dirtyId++,t.dirtySize++)}i||(i=cA,i.width=l.width,i.height=l.height),n||(n=i);const m=i.width===n.width&&i.height===n.height;this.bind(t),h.bindFramebuffer(h.READ_FRAMEBUFFER,p.framebuffer),h.blitFramebuffer(i.left,i.top,i.right,i.bottom,n.left,n.top,n.right,n.bottom,h.COLOR_BUFFER_BIT,m?h.NEAREST:h.LINEAR),h.bindFramebuffer(h.READ_FRAMEBUFFER,t.glFramebuffers[this.CONTEXT_UID].framebuffer)}disposeFramebuffer(t,i){const n=t.glFramebuffers[this.CONTEXT_UID],l=this.gl;if(!n)return;delete t.glFramebuffers[this.CONTEXT_UID];const o=this.managedFramebuffers.indexOf(t);o>=0&&this.managedFramebuffers.splice(o,1),t.disposeRunner.remove(this),i||(l.deleteFramebuffer(n.framebuffer),n.msaaBuffer&&l.deleteRenderbuffer(n.msaaBuffer),n.stencil&&l.deleteRenderbuffer(n.stencil)),n.blitFramebuffer&&this.disposeFramebuffer(n.blitFramebuffer,i)}disposeAll(t){const i=this.managedFramebuffers;this.managedFramebuffers=[];for(let n=0;n<i.length;n++)this.disposeFramebuffer(i[n],t)}forceStencil(){const t=this.current;if(!t)return;const i=t.glFramebuffers[this.CONTEXT_UID];if(!i||i.stencil&&t.stencil)return;t.stencil=!0;const n=t.width,l=t.height,o=this.gl,h=i.stencil=o.createRenderbuffer();o.bindRenderbuffer(o.RENDERBUFFER,h);let c,p;this.renderer.context.webGLVersion===1?(c=o.DEPTH_STENCIL_ATTACHMENT,p=o.DEPTH_STENCIL):t.depth?(c=o.DEPTH_STENCIL_ATTACHMENT,p=o.DEPTH24_STENCIL8):(c=o.STENCIL_ATTACHMENT,p=o.STENCIL_INDEX8),i.msaaBuffer?o.renderbufferStorageMultisample(o.RENDERBUFFER,i.multisample,p,n,l):o.renderbufferStorage(o.RENDERBUFFER,p,n,l),o.framebufferRenderbuffer(o.FRAMEBUFFER,c,o.RENDERBUFFER,h)}reset(){this.current=this.unknownFramebuffer,this.viewport=new Lt}destroy(){this.renderer=null}}W_.extension={type:pt.RendererSystem,name:"framebuffer"};At.add(W_);const od={5126:4,5123:2,5121:1};class Z_{constructor(t){this.renderer=t,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const t=this.gl=this.renderer.gl,i=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,i.webGLVersion!==2){let n=this.renderer.context.extensions.vertexArrayObject;gt.PREFER_ENV===Qn.WEBGL_LEGACY&&(n=null),n?(t.createVertexArray=()=>n.createVertexArrayOES(),t.bindVertexArray=l=>n.bindVertexArrayOES(l),t.deleteVertexArray=l=>n.deleteVertexArrayOES(l)):(this.hasVao=!1,t.createVertexArray=()=>null,t.bindVertexArray=()=>null,t.deleteVertexArray=()=>null)}if(i.webGLVersion!==2){const n=t.getExtension("ANGLE_instanced_arrays");n?(t.vertexAttribDivisor=(l,o)=>n.vertexAttribDivisorANGLE(l,o),t.drawElementsInstanced=(l,o,h,c,p)=>n.drawElementsInstancedANGLE(l,o,h,c,p),t.drawArraysInstanced=(l,o,h,c)=>n.drawArraysInstancedANGLE(l,o,h,c)):this.hasInstance=!1}this.canUseUInt32ElementIndex=i.webGLVersion===2||!!i.extensions.uint32ElementIndex}bind(t,i){i=i||this.renderer.shader.shader;const{gl:n}=this;let l=t.glVertexArrayObjects[this.CONTEXT_UID],o=!1;l||(this.managedGeometries[t.id]=t,t.disposeRunner.add(this),t.glVertexArrayObjects[this.CONTEXT_UID]=l={},o=!0);const h=l[i.program.id]||this.initGeometryVao(t,i,o);this._activeGeometry=t,this._activeVao!==h&&(this._activeVao=h,this.hasVao?n.bindVertexArray(h):this.activateVao(t,i.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const t=this._activeGeometry,i=this.renderer.buffer;for(let n=0;n<t.buffers.length;n++){const l=t.buffers[n];i.update(l)}}checkCompatibility(t,i){const n=t.attributes,l=i.attributeData;for(const o in l)if(!n[o])throw new Error(`shader and geometry incompatible, geometry missing the "${o}" attribute`)}getSignature(t,i){const n=t.attributes,l=i.attributeData,o=["g",t.id];for(const h in n)l[h]&&o.push(h,l[h].location);return o.join("-")}initGeometryVao(t,i,n=!0){const l=this.gl,o=this.CONTEXT_UID,h=this.renderer.buffer,c=i.program;c.glPrograms[o]||this.renderer.shader.generateProgram(i),this.checkCompatibility(t,c);const p=this.getSignature(t,c),m=t.glVertexArrayObjects[this.CONTEXT_UID];let g=m[p];if(g)return m[c.id]=g,g;const y=t.buffers,_=t.attributes,b={},T={};for(const w in y)b[w]=0,T[w]=0;for(const w in _)!_[w].size&&c.attributeData[w]?_[w].size=c.attributeData[w].size:_[w].size||console.warn(`PIXI Geometry attribute '${w}' size cannot be determined (likely the bound shader does not have the attribute)`),b[_[w].buffer]+=_[w].size*od[_[w].type];for(const w in _){const A=_[w],R=A.size;A.stride===void 0&&(b[A.buffer]===R*od[A.type]?A.stride=0:A.stride=b[A.buffer]),A.start===void 0&&(A.start=T[A.buffer],T[A.buffer]+=R*od[A.type])}g=l.createVertexArray(),l.bindVertexArray(g);for(let w=0;w<y.length;w++){const A=y[w];h.bind(A),n&&A._glBuffers[o].refCount++}return this.activateVao(t,c),m[c.id]=g,m[p]=g,l.bindVertexArray(null),h.unbind(Qi.ARRAY_BUFFER),g}disposeGeometry(t,i){var c;if(!this.managedGeometries[t.id])return;delete this.managedGeometries[t.id];const n=t.glVertexArrayObjects[this.CONTEXT_UID],l=this.gl,o=t.buffers,h=(c=this.renderer)==null?void 0:c.buffer;if(t.disposeRunner.remove(this),!!n){if(h)for(let p=0;p<o.length;p++){const m=o[p]._glBuffers[this.CONTEXT_UID];m&&(m.refCount--,m.refCount===0&&!i&&h.dispose(o[p],i))}if(!i){for(const p in n)if(p[0]==="g"){const m=n[p];this._activeVao===m&&this.unbind(),l.deleteVertexArray(m)}}delete t.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(t){const i=Object.keys(this.managedGeometries);for(let n=0;n<i.length;n++)this.disposeGeometry(this.managedGeometries[i[n]],t)}activateVao(t,i){const n=this.gl,l=this.CONTEXT_UID,o=this.renderer.buffer,h=t.buffers,c=t.attributes;t.indexBuffer&&o.bind(t.indexBuffer);let p=null;for(const m in c){const g=c[m],y=h[g.buffer],_=y._glBuffers[l];if(i.attributeData[m]){p!==_&&(o.bind(y),p=_);const b=i.attributeData[m].location;if(n.enableVertexAttribArray(b),n.vertexAttribPointer(b,g.size,g.type||n.FLOAT,g.normalized,g.stride,g.start),g.instance)if(this.hasInstance)n.vertexAttribDivisor(b,g.divisor);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}}draw(t,i,n,l){const{gl:o}=this,h=this._activeGeometry;if(h.indexBuffer){const c=h.indexBuffer.data.BYTES_PER_ELEMENT,p=c===2?o.UNSIGNED_SHORT:o.UNSIGNED_INT;c===2||c===4&&this.canUseUInt32ElementIndex?h.instanced?o.drawElementsInstanced(t,i||h.indexBuffer.data.length,p,(n||0)*c,l||1):o.drawElements(t,i||h.indexBuffer.data.length,p,(n||0)*c):console.warn("unsupported index buffer type: uint32")}else h.instanced?o.drawArraysInstanced(t,n,i||h.getSize(),l||1):o.drawArrays(t,n,i||h.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}Z_.extension={type:pt.RendererSystem,name:"geometry"};At.add(Z_);const V0=new le;class K_{constructor(t,i){this._texture=t,this.mapCoord=new le,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof i>"u"?.5:i,this.isSimple=!1}get texture(){return this._texture}set texture(t){this._texture=t,this._textureID=-1}multiplyUvs(t,i){i===void 0&&(i=t);const n=this.mapCoord;for(let l=0;l<t.length;l+=2){const o=t[l],h=t[l+1];i[l]=o*n.a+h*n.c+n.tx,i[l+1]=o*n.b+h*n.d+n.ty}return i}update(t){const i=this._texture;if(!i||!i.valid||!t&&this._textureID===i._updateID)return!1;this._textureID=i._updateID,this._updateID++;const n=i._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);const l=i.orig,o=i.trim;o&&(V0.set(l.width/o.width,0,0,l.height/o.height,-o.x/o.width,-o.y/o.height),this.mapCoord.append(V0));const h=i.baseTexture,c=this.uClampFrame,p=this.clampMargin/h.resolution,m=this.clampOffset;return c[0]=(i._frame.x+p+m)/h.width,c[1]=(i._frame.y+p+m)/h.height,c[2]=(i._frame.x+i._frame.width-p+m)/h.width,c[3]=(i._frame.y+i._frame.height-p+m)/h.height,this.uClampOffset[0]=m/h.realWidth,this.uClampOffset[1]=m/h.realHeight,this.isSimple=i._frame.width===h.width&&i._frame.height===h.height&&i.rotate===0,!0}}var fA=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,dA=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`;class pA extends je{constructor(t,i,n){let l=null;typeof t!="string"&&i===void 0&&n===void 0&&(l=t,t=void 0,i=void 0,n=void 0),super(t||dA,i||fA,n),this.maskSprite=l,this.maskMatrix=new le}get maskSprite(){return this._maskSprite}set maskSprite(t){this._maskSprite=t,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(t,i,n,l){const o=this._maskSprite,h=o._texture;h.valid&&(h.uvMatrix||(h.uvMatrix=new K_(h,0)),h.uvMatrix.update(),this.uniforms.npmAlpha=h.baseTexture.alphaMode?0:1,this.uniforms.mask=h,this.uniforms.otherMatrix=t.calculateSpriteMatrix(this.maskMatrix,o).prepend(h.uvMatrix.mapCoord),this.uniforms.alpha=o.worldAlpha,this.uniforms.maskClamp=h.uvMatrix.uClampFrame,t.applyFilter(this,i,n,l))}}class mA{constructor(t=null){this.type=we.NONE,this.autoDetect=!0,this.maskObject=t||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=je.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(t){t?this._filters?this._filters[0]=t:this._filters=[t]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=we.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(t){t?(this._stencilCounter=t._stencilCounter,this._scissorCounter=t._scissorCounter,this._scissorRect=t._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}class Q_{constructor(t){this.renderer=t,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(t){this.maskStack=t,this.renderer.scissor.setMaskStack(t),this.renderer.stencil.setMaskStack(t)}push(t,i){let n=i;if(!n.isMaskData){const o=this.maskDataPool.pop()||new mA;o.pooled=!0,o.maskObject=i,n=o}const l=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(n.copyCountersOrReset(l),n._colorMask=l?l._colorMask:15,n.autoDetect&&this.detect(n),n._target=t,n.type!==we.SPRITE&&this.maskStack.push(n),n.enabled)switch(n.type){case we.SCISSOR:this.renderer.scissor.push(n);break;case we.STENCIL:this.renderer.stencil.push(n);break;case we.SPRITE:n.copyCountersOrReset(null),this.pushSpriteMask(n);break;case we.COLOR:this.pushColorMask(n);break}n.type===we.SPRITE&&this.maskStack.push(n)}pop(t){const i=this.maskStack.pop();if(!(!i||i._target!==t)){if(i.enabled)switch(i.type){case we.SCISSOR:this.renderer.scissor.pop(i);break;case we.STENCIL:this.renderer.stencil.pop(i.maskObject);break;case we.SPRITE:this.popSpriteMask(i);break;case we.COLOR:this.popColorMask(i);break}if(i.reset(),i.pooled&&this.maskDataPool.push(i),this.maskStack.length!==0){const n=this.maskStack[this.maskStack.length-1];n.type===we.SPRITE&&n._filters&&(n._filters[0].maskSprite=n.maskObject)}}}detect(t){const i=t.maskObject;i?i.isSprite?t.type=we.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(t)?t.type=we.SCISSOR:t.type=we.STENCIL:t.type=we.COLOR}pushSpriteMask(t){const{maskObject:i}=t,n=t._target;let l=t._filters;l||(l=this.alphaMaskPool[this.alphaMaskIndex],l||(l=this.alphaMaskPool[this.alphaMaskIndex]=[new pA])),l[0].resolution=t.resolution,l[0].multisample=t.multisample,l[0].maskSprite=i;const o=n.filterArea;n.filterArea=i.getBounds(!0),this.renderer.filter.push(n,l),n.filterArea=o,t._filters||this.alphaMaskIndex++}popSpriteMask(t){this.renderer.filter.pop(),t._filters?t._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(t){const i=t._colorMask,n=t._colorMask=i&t.colorMask;n!==i&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}popColorMask(t){const i=t._colorMask,n=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;n!==i&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}destroy(){this.renderer=null}}Q_.extension={type:pt.RendererSystem,name:"mask"};At.add(Q_);class J_{constructor(t){this.renderer=t,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(t){const{gl:i}=this.renderer,n=this.getStackLength();this.maskStack=t;const l=this.getStackLength();l!==n&&(l===0?i.disable(this.glConst):(i.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}const j0=new le,q0=[],tx=class su extends J_{constructor(t){super(t),this.glConst=gt.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const t=this.maskStack[this.maskStack.length-1];return t?t._scissorCounter:0}calcScissorRect(t){if(t._scissorRectLocal)return;const i=t._scissorRect,{maskObject:n}=t,{renderer:l}=this,o=l.renderTexture,h=n.getBounds(!0,q0.pop()??new Lt);this.roundFrameToPixels(h,o.current?o.current.resolution:l.resolution,o.sourceFrame,o.destinationFrame,l.projection.transform),i&&h.fit(i),t._scissorRectLocal=h}static isMatrixRotated(t){if(!t)return!1;const{a:i,b:n,c:l,d:o}=t;return(Math.abs(n)>1e-4||Math.abs(l)>1e-4)&&(Math.abs(i)>1e-4||Math.abs(o)>1e-4)}testScissor(t){const{maskObject:i}=t;if(!i.isFastRect||!i.isFastRect()||su.isMatrixRotated(i.worldTransform)||su.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(t);const n=t._scissorRectLocal;return n.width>0&&n.height>0}roundFrameToPixels(t,i,n,l,o){su.isMatrixRotated(o)||(o=o?j0.copyFrom(o):j0.identity(),o.translate(-n.x,-n.y).scale(l.width/n.width,l.height/n.height).translate(l.x,l.y),this.renderer.filter.transformAABB(o,t),t.fit(l),t.x=Math.round(t.x*i),t.y=Math.round(t.y*i),t.width=Math.round(t.width*i),t.height=Math.round(t.height*i))}push(t){t._scissorRectLocal||this.calcScissorRect(t);const{gl:i}=this.renderer;t._scissorRect||i.enable(i.SCISSOR_TEST),t._scissorCounter++,t._scissorRect=t._scissorRectLocal,this._useCurrent()}pop(t){const{gl:i}=this.renderer;t&&q0.push(t._scissorRectLocal),this.getStackLength()>0?this._useCurrent():i.disable(i.SCISSOR_TEST)}_useCurrent(){const t=this.maskStack[this.maskStack.length-1]._scissorRect;let i;this.renderer.renderTexture.current?i=t.y:i=this.renderer.height-t.height-t.y,this.renderer.gl.scissor(t.x,i,t.width,t.height)}};tx.extension={type:pt.RendererSystem,name:"scissor"};let gA=tx;At.add(gA);class ex extends J_{constructor(t){super(t),this.glConst=gt.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const t=this.maskStack[this.maskStack.length-1];return t?t._stencilCounter:0}push(t){const i=t.maskObject,{gl:n}=this.renderer,l=t._stencilCounter;l===0&&(this.renderer.framebuffer.forceStencil(),n.clearStencil(0),n.clear(n.STENCIL_BUFFER_BIT),n.enable(n.STENCIL_TEST)),t._stencilCounter++;const o=t._colorMask;o!==0&&(t._colorMask=0,n.colorMask(!1,!1,!1,!1)),n.stencilFunc(n.EQUAL,l,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.INCR),i.renderable=!0,i.render(this.renderer),this.renderer.batch.flush(),i.renderable=!1,o!==0&&(t._colorMask=o,n.colorMask((o&1)!==0,(o&2)!==0,(o&4)!==0,(o&8)!==0)),this._useCurrent()}pop(t){const i=this.renderer.gl;if(this.getStackLength()===0)i.disable(i.STENCIL_TEST);else{const n=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,l=n?n._colorMask:15;l!==0&&(n._colorMask=0,i.colorMask(!1,!1,!1,!1)),i.stencilOp(i.KEEP,i.KEEP,i.DECR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,l!==0&&(n._colorMask=l,i.colorMask((l&1)!==0,(l&2)!==0,(l&4)!==0,(l&8)!==0)),this._useCurrent()}}_useCurrent(){const t=this.renderer.gl;t.stencilFunc(t.EQUAL,this.getStackLength(),4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP)}}ex.extension={type:pt.RendererSystem,name:"stencil"};At.add(ex);class ix{constructor(t){this.renderer=t,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get(){return zt("7.0.0","renderer.plugins.extract has moved to renderer.extract"),t.extract}},prepare:{enumerable:!1,get(){return zt("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),t.prepare}},interaction:{enumerable:!1,get(){return zt("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),t.events}}})}init(){const t=this.rendererPlugins;for(const i in t)this.plugins[i]=new t[i](this.renderer)}destroy(){for(const t in this.plugins)this.plugins[t].destroy(),this.plugins[t]=null}}ix.extension={type:[pt.RendererSystem,pt.CanvasRendererSystem],name:"_plugin"};At.add(ix);class rx{constructor(t){this.renderer=t,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new le,this.transform=null}update(t,i,n,l){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=i||this.sourceFrame||t,this.calculateProjection(this.destinationFrame,this.sourceFrame,n,l),this.transform&&this.projectionMatrix.append(this.transform);const o=this.renderer;o.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,o.globalUniforms.update(),o.shader.shader&&o.shader.syncUniformGroup(o.shader.shader.uniforms.globals)}calculateProjection(t,i,n,l){const o=this.projectionMatrix,h=l?-1:1;o.identity(),o.a=1/i.width*2,o.d=h*(1/i.height*2),o.tx=-1-i.x*o.a,o.ty=-h-i.y*o.d}setTransform(t){}destroy(){this.renderer=null}}rx.extension={type:pt.RendererSystem,name:"projection"};At.add(rx);const yA=new up,Y0=new Lt;class nx{constructor(t){this.renderer=t,this._tempMatrix=new le}generateTexture(t,i){const{region:n,...l}=i||{},o=(n==null?void 0:n.copyTo(Y0))||t.getLocalBounds(Y0,!0),h=l.resolution||this.renderer.resolution;o.width=Math.max(o.width,1/h),o.height=Math.max(o.height,1/h),l.width=o.width,l.height=o.height,l.resolution=h,l.multisample??(l.multisample=this.renderer.multisample);const c=Jn.create(l);this._tempMatrix.tx=-o.x,this._tempMatrix.ty=-o.y;const p=t.transform;return t.transform=yA,this.renderer.render(t,{renderTexture:c,transform:this._tempMatrix,skipUpdateTransform:!!t.parent,blit:!0}),t.transform=p,c}destroy(){}}nx.extension={type:[pt.RendererSystem,pt.CanvasRendererSystem],name:"textureGenerator"};At.add(nx);const Gn=new Lt,nl=new Lt;class sx{constructor(t){this.renderer=t,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new Lt,this.destinationFrame=new Lt,this.viewportFrame=new Lt}contextChange(){var i;const t=(i=this.renderer)==null?void 0:i.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(t&&t.alpha&&t.premultipliedAlpha)}bind(t=null,i,n){const l=this.renderer;this.current=t;let o,h,c;t?(o=t.baseTexture,c=o.resolution,i||(Gn.width=t.frame.width,Gn.height=t.frame.height,i=Gn),n||(nl.x=t.frame.x,nl.y=t.frame.y,nl.width=i.width,nl.height=i.height,n=nl),h=o.framebuffer):(c=l.resolution,i||(Gn.width=l._view.screen.width,Gn.height=l._view.screen.height,i=Gn),n||(n=Gn,n.width=i.width,n.height=i.height));const p=this.viewportFrame;p.x=n.x*c,p.y=n.y*c,p.width=n.width*c,p.height=n.height*c,t||(p.y=l.view.height-(p.y+p.height)),p.ceil(),this.renderer.framebuffer.bind(h,p),this.renderer.projection.update(n,i,c,!h),t?this.renderer.mask.setMaskStack(o.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(i),this.destinationFrame.copyFrom(n)}clear(t,i){const n=this.current?this.current.baseTexture.clear:this.renderer.background.backgroundColor,l=ae.shared.setValue(t||n);(this.current&&this.current.baseTexture.alphaMode>0||!this.current&&this._rendererPremultipliedAlpha)&&l.premultiply(l.alpha);const o=this.destinationFrame,h=this.current?this.current.baseTexture:this.renderer._view.screen,c=o.width!==h.width||o.height!==h.height;if(c){let{x:p,y:m,width:g,height:y}=this.viewportFrame;p=Math.round(p),m=Math.round(m),g=Math.round(g),y=Math.round(y),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(p,m,g,y)}this.renderer.framebuffer.clear(l.red,l.green,l.blue,l.alpha,i),c&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}sx.extension={type:pt.RendererSystem,name:"renderTexture"};At.add(sx);class vA{constructor(t,i){this.program=t,this.uniformData=i,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}function _A(s,t){const i={},n=t.getProgramParameter(s,t.ACTIVE_ATTRIBUTES);for(let l=0;l<n;l++){const o=t.getActiveAttrib(s,l);if(o.name.startsWith("gl_"))continue;const h=k_(t,o.type),c={type:h,name:o.name,size:H_(h),location:t.getAttribLocation(s,o.name)};i[o.name]=c}return i}function xA(s,t){const i={},n=t.getProgramParameter(s,t.ACTIVE_UNIFORMS);for(let l=0;l<n;l++){const o=t.getActiveUniform(s,l),h=o.name.replace(/\[.*?\]$/,""),c=!!o.name.match(/\[.*?\]$/),p=k_(t,o.type);i[h]={name:h,index:l,type:p,size:o.size,isArray:c,value:G_(p,o.size)}}return i}function bA(s,t){var c;const i=F0(s,s.VERTEX_SHADER,t.vertexSrc),n=F0(s,s.FRAGMENT_SHADER,t.fragmentSrc),l=s.createProgram();s.attachShader(l,i),s.attachShader(l,n);const o=(c=t.extra)==null?void 0:c.transformFeedbackVaryings;if(o&&(typeof s.transformFeedbackVaryings!="function"?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):s.transformFeedbackVaryings(l,o.names,o.bufferMode==="separate"?s.SEPARATE_ATTRIBS:s.INTERLEAVED_ATTRIBS)),s.linkProgram(l),s.getProgramParameter(l,s.LINK_STATUS)||ZT(s,l,i,n),t.attributeData=_A(l,s),t.uniformData=xA(l,s),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(t.vertexSrc)){const p=Object.keys(t.attributeData);p.sort((m,g)=>m>g?1:-1);for(let m=0;m<p.length;m++)t.attributeData[p[m]].location=m,s.bindAttribLocation(l,m,p[m]);s.linkProgram(l)}s.deleteShader(i),s.deleteShader(n);const h={};for(const p in t.uniformData){const m=t.uniformData[p];h[p]={location:s.getUniformLocation(l,p),value:G_(m.type,m.size)}}return new vA(l,h)}function EA(s,t,i,n,l){i.buffer.update(l)}const TA={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},ax={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:32,mat3:48,mat4:64};function AA(s){const t=s.map(o=>({data:o,offset:0,dataLen:0,dirty:0}));let i=0,n=0,l=0;for(let o=0;o<t.length;o++){const h=t[o];if(i=ax[h.data.type],h.data.size>1&&(i=Math.max(i,16)*h.data.size),h.dataLen=i,n%i!==0&&n<16){const c=n%i%16;n+=c,l+=c}n+i>16?(l=Math.ceil(l/16)*16,h.offset=l,l+=i,n=i):(h.offset=l,n+=i,l+=i)}return l=Math.ceil(l/16)*16,{uboElements:t,size:l}}function SA(s,t){const i=[];for(const n in s)t[n]&&i.push(t[n]);return i.sort((n,l)=>n.index-l.index),i}function wA(s,t){if(!s.autoManage)return{size:0,syncFunc:EA};const i=SA(s.uniforms,t),{uboElements:n,size:l}=AA(i),o=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `];for(let h=0;h<n.length;h++){const c=n[h],p=s.uniforms[c.data.name],m=c.data.name;let g=!1;for(let y=0;y<Js.length;y++){const _=Js[y];if(_.codeUbo&&_.test(c.data,p)){o.push(`offset = ${c.offset/4};`,Js[y].codeUbo(c.data.name,p)),g=!0;break}}if(!g)if(c.data.size>1){const y=H_(c.data.type),_=Math.max(ax[c.data.type]/16,1),b=y/_,T=(4-b%4)%4;o.push(`
                cv = ud.${m}.value;
                v = uv.${m};
                offset = ${c.offset/4};

                t = 0;

                for(var i=0; i < ${c.data.size*_}; i++)
                {
                    for(var j = 0; j < ${b}; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += ${T};
                }

                `)}else{const y=TA[c.data.type];o.push(`
                cv = ud.${m}.value;
                v = uv.${m};
                offset = ${c.offset/4};
                ${y};
                `)}}return o.push(`
       renderer.buffer.update(buffer);
    `),{size:l,syncFunc:new Function("ud","uv","renderer","syncData","buffer",o.join(`
`))}}let CA=0;const Yo={textureCount:0,uboCount:0};class lx{constructor(t){this.destroyed=!1,this.renderer=t,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=CA++}systemCheck(){if(!QT())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(t){this.gl=t,this.reset()}bind(t,i){t.disposeRunner.add(this),t.uniforms.globals=this.renderer.globalUniforms;const n=t.program,l=n.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(t);return this.shader=t,this.program!==n&&(this.program=n,this.gl.useProgram(l.program)),i||(Yo.textureCount=0,Yo.uboCount=0,this.syncUniformGroup(t.uniformGroup,Yo)),l}setUniforms(t){const i=this.shader.program,n=i.glPrograms[this.renderer.CONTEXT_UID];i.syncUniforms(n.uniformData,t,this.renderer)}syncUniformGroup(t,i){const n=this.getGlProgram();(!t.static||t.dirtyId!==n.uniformDirtyGroups[t.id])&&(n.uniformDirtyGroups[t.id]=t.dirtyId,this.syncUniforms(t,n,i))}syncUniforms(t,i,n){(t.syncUniforms[this.shader.program.id]||this.createSyncGroups(t))(i.uniformData,t.uniforms,this.renderer,n)}createSyncGroups(t){const i=this.getSignature(t,this.shader.program.uniformData,"u");return this.cache[i]||(this.cache[i]=YT(t,this.shader.program.uniformData)),t.syncUniforms[this.shader.program.id]=this.cache[i],t.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(t,i){const n=this.getGlProgram();if(!t.static||t.dirtyId!==0||!n.uniformGroups[t.id]){t.dirtyId=0;const l=n.uniformGroups[t.id]||this.createSyncBufferGroup(t,n,i);t.buffer.update(),l(n.uniformData,t.uniforms,this.renderer,Yo,t.buffer)}this.renderer.buffer.bindBufferBase(t.buffer,n.uniformBufferBindings[i])}createSyncBufferGroup(t,i,n){const{gl:l}=this.renderer;this.renderer.buffer.bind(t.buffer);const o=this.gl.getUniformBlockIndex(i.program,n);i.uniformBufferBindings[n]=this.shader.uniformBindCount,l.uniformBlockBinding(i.program,o,this.shader.uniformBindCount),this.shader.uniformBindCount++;const h=this.getSignature(t,this.shader.program.uniformData,"ubo");let c=this._uboCache[h];if(c||(c=this._uboCache[h]=wA(t,this.shader.program.uniformData)),t.autoManage){const p=new Float32Array(c.size/4);t.buffer.update(p)}return i.uniformGroups[t.id]=c.syncFunc,i.uniformGroups[t.id]}getSignature(t,i,n){const l=t.uniforms,o=[`${n}-`];for(const h in l)o.push(h),i[h]&&o.push(i[h].type);return o.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(t){const i=this.gl,n=t.program,l=bA(i,n);return n.glPrograms[this.renderer.CONTEXT_UID]=l,l}reset(){this.program=null,this.shader=null}disposeShader(t){this.shader===t&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}lx.extension={type:pt.RendererSystem,name:"shader"};At.add(lx);class vu{constructor(t){this.renderer=t}run(t){const{renderer:i}=this;i.runners.init.emit(i.options),t.hello&&console.log(`PixiJS 7.4.3 - ${i.rendererLogId} - https://pixijs.com`),i.resize(i.screen.width,i.screen.height)}destroy(){}}vu.defaultOptions={hello:!1},vu.extension={type:[pt.RendererSystem,pt.CanvasRendererSystem],name:"startup"};At.add(vu);function RA(s,t=[]){return t[Rt.NORMAL]=[s.ONE,s.ONE_MINUS_SRC_ALPHA],t[Rt.ADD]=[s.ONE,s.ONE],t[Rt.MULTIPLY]=[s.DST_COLOR,s.ONE_MINUS_SRC_ALPHA,s.ONE,s.ONE_MINUS_SRC_ALPHA],t[Rt.SCREEN]=[s.ONE,s.ONE_MINUS_SRC_COLOR,s.ONE,s.ONE_MINUS_SRC_ALPHA],t[Rt.OVERLAY]=[s.ONE,s.ONE_MINUS_SRC_ALPHA],t[Rt.DARKEN]=[s.ONE,s.ONE_MINUS_SRC_ALPHA],t[Rt.LIGHTEN]=[s.ONE,s.ONE_MINUS_SRC_ALPHA],t[Rt.COLOR_DODGE]=[s.ONE,s.ONE_MINUS_SRC_ALPHA],t[Rt.COLOR_BURN]=[s.ONE,s.ONE_MINUS_SRC_ALPHA],t[Rt.HARD_LIGHT]=[s.ONE,s.ONE_MINUS_SRC_ALPHA],t[Rt.SOFT_LIGHT]=[s.ONE,s.ONE_MINUS_SRC_ALPHA],t[Rt.DIFFERENCE]=[s.ONE,s.ONE_MINUS_SRC_ALPHA],t[Rt.EXCLUSION]=[s.ONE,s.ONE_MINUS_SRC_ALPHA],t[Rt.HUE]=[s.ONE,s.ONE_MINUS_SRC_ALPHA],t[Rt.SATURATION]=[s.ONE,s.ONE_MINUS_SRC_ALPHA],t[Rt.COLOR]=[s.ONE,s.ONE_MINUS_SRC_ALPHA],t[Rt.LUMINOSITY]=[s.ONE,s.ONE_MINUS_SRC_ALPHA],t[Rt.NONE]=[0,0],t[Rt.NORMAL_NPM]=[s.SRC_ALPHA,s.ONE_MINUS_SRC_ALPHA,s.ONE,s.ONE_MINUS_SRC_ALPHA],t[Rt.ADD_NPM]=[s.SRC_ALPHA,s.ONE,s.ONE,s.ONE],t[Rt.SCREEN_NPM]=[s.SRC_ALPHA,s.ONE_MINUS_SRC_COLOR,s.ONE,s.ONE_MINUS_SRC_ALPHA],t[Rt.SRC_IN]=[s.DST_ALPHA,s.ZERO],t[Rt.SRC_OUT]=[s.ONE_MINUS_DST_ALPHA,s.ZERO],t[Rt.SRC_ATOP]=[s.DST_ALPHA,s.ONE_MINUS_SRC_ALPHA],t[Rt.DST_OVER]=[s.ONE_MINUS_DST_ALPHA,s.ONE],t[Rt.DST_IN]=[s.ZERO,s.SRC_ALPHA],t[Rt.DST_OUT]=[s.ZERO,s.ONE_MINUS_SRC_ALPHA],t[Rt.DST_ATOP]=[s.ONE_MINUS_DST_ALPHA,s.SRC_ALPHA],t[Rt.XOR]=[s.ONE_MINUS_DST_ALPHA,s.ONE_MINUS_SRC_ALPHA],t[Rt.SUBTRACT]=[s.ONE,s.ONE,s.ONE,s.ONE,s.FUNC_REVERSE_SUBTRACT,s.FUNC_ADD],t}const MA=0,DA=1,OA=2,BA=3,NA=4,IA=5,ox=class Ld{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=Rt.NONE,this._blendEq=!1,this.map=[],this.map[MA]=this.setBlend,this.map[DA]=this.setOffset,this.map[OA]=this.setCullFace,this.map[BA]=this.setDepthTest,this.map[NA]=this.setFrontFace,this.map[IA]=this.setDepthMask,this.checks=[],this.defaultState=new er,this.defaultState.blend=!0}contextChange(t){this.gl=t,this.blendModes=RA(t),this.set(this.defaultState),this.reset()}set(t){if(t=t||this.defaultState,this.stateId!==t.data){let i=this.stateId^t.data,n=0;for(;i;)i&1&&this.map[n].call(this,!!(t.data&1<<n)),i=i>>1,n++;this.stateId=t.data}for(let i=0;i<this.checks.length;i++)this.checks[i](this,t)}forceState(t){t=t||this.defaultState;for(let i=0;i<this.map.length;i++)this.map[i].call(this,!!(t.data&1<<i));for(let i=0;i<this.checks.length;i++)this.checks[i](this,t);this.stateId=t.data}setBlend(t){this.updateCheck(Ld.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)}setOffset(t){this.updateCheck(Ld.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(t){this.gl.depthMask(t)}setCullFace(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])}setBlendMode(t){if(t===this.blendMode)return;this.blendMode=t;const i=this.blendModes[t],n=this.gl;i.length===2?n.blendFunc(i[0],i[1]):n.blendFuncSeparate(i[0],i[1],i[2],i[3]),i.length===6?(this._blendEq=!0,n.blendEquationSeparate(i[4],i[5])):this._blendEq&&(this._blendEq=!1,n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD))}setPolygonOffset(t,i){this.gl.polygonOffset(t,i)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(t,i){const n=this.checks.indexOf(t);i&&n===-1?this.checks.push(t):!i&&n!==-1&&this.checks.splice(n,1)}static checkBlendMode(t,i){t.setBlendMode(i.blendMode)}static checkPolygonOffset(t,i){t.setPolygonOffset(1,i.polygonOffset)}destroy(){this.gl=null}};ox.extension={type:pt.RendererSystem,name:"state"};let UA=ox;At.add(UA);class LA extends vl{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(t){this.addRunners(...t.runners);const i=(t.priority??[]).filter(l=>t.systems[l]),n=[...i,...Object.keys(t.systems).filter(l=>!i.includes(l))];for(const l of n)this.addSystem(t.systems[l],l)}addRunners(...t){t.forEach(i=>{this.runners[i]=new Ui(i)})}addSystem(t,i){const n=new t(this);if(this[i])throw new Error(`Whoops! The name "${i}" is already in use`);this[i]=n,this._systemsHash[i]=n;for(const l in this.runners)this.runners[l].add(n);return this}emitWithCustomOptions(t,i){const n=Object.keys(this._systemsHash);t.items.forEach(l=>{const o=n.find(h=>this._systemsHash[h]===l);l[t.name](i[o])})}destroy(){Object.values(this.runners).forEach(t=>{t.destroy()}),this._systemsHash={}}}const hl=class au{constructor(t){this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=au.defaultMaxIdle,this.checkCountMax=au.defaultCheckCountMax,this.mode=au.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==sp.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const t=this.renderer.texture,i=t.managedTextures;let n=!1;for(let l=0;l<i.length;l++){const o=i[l];o.resource&&this.count-o.touched>this.maxIdle&&(t.destroyTexture(o,!0),i[l]=null,n=!0)}if(n){let l=0;for(let o=0;o<i.length;o++)i[o]!==null&&(i[l++]=i[o]);i.length=l}}unload(t){const i=this.renderer.texture,n=t._texture;n&&!n.framebuffer&&i.destroyTexture(n);for(let l=t.children.length-1;l>=0;l--)this.unload(t.children[l])}destroy(){this.renderer=null}};hl.defaultMode=sp.AUTO,hl.defaultMaxIdle=3600,hl.defaultCheckCountMax=600,hl.extension={type:pt.RendererSystem,name:"textureGC"};let qn=hl;At.add(qn);class ud{constructor(t){this.texture=t,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=wt.UNSIGNED_BYTE,this.internalFormat=ht.RGBA,this.samplerType=0}}function PA(s){let t;return"WebGL2RenderingContext"in globalThis&&s instanceof globalThis.WebGL2RenderingContext?t={[s.RGB]:mt.FLOAT,[s.RGBA]:mt.FLOAT,[s.ALPHA]:mt.FLOAT,[s.LUMINANCE]:mt.FLOAT,[s.LUMINANCE_ALPHA]:mt.FLOAT,[s.R8]:mt.FLOAT,[s.R8_SNORM]:mt.FLOAT,[s.RG8]:mt.FLOAT,[s.RG8_SNORM]:mt.FLOAT,[s.RGB8]:mt.FLOAT,[s.RGB8_SNORM]:mt.FLOAT,[s.RGB565]:mt.FLOAT,[s.RGBA4]:mt.FLOAT,[s.RGB5_A1]:mt.FLOAT,[s.RGBA8]:mt.FLOAT,[s.RGBA8_SNORM]:mt.FLOAT,[s.RGB10_A2]:mt.FLOAT,[s.RGB10_A2UI]:mt.FLOAT,[s.SRGB8]:mt.FLOAT,[s.SRGB8_ALPHA8]:mt.FLOAT,[s.R16F]:mt.FLOAT,[s.RG16F]:mt.FLOAT,[s.RGB16F]:mt.FLOAT,[s.RGBA16F]:mt.FLOAT,[s.R32F]:mt.FLOAT,[s.RG32F]:mt.FLOAT,[s.RGB32F]:mt.FLOAT,[s.RGBA32F]:mt.FLOAT,[s.R11F_G11F_B10F]:mt.FLOAT,[s.RGB9_E5]:mt.FLOAT,[s.R8I]:mt.INT,[s.R8UI]:mt.UINT,[s.R16I]:mt.INT,[s.R16UI]:mt.UINT,[s.R32I]:mt.INT,[s.R32UI]:mt.UINT,[s.RG8I]:mt.INT,[s.RG8UI]:mt.UINT,[s.RG16I]:mt.INT,[s.RG16UI]:mt.UINT,[s.RG32I]:mt.INT,[s.RG32UI]:mt.UINT,[s.RGB8I]:mt.INT,[s.RGB8UI]:mt.UINT,[s.RGB16I]:mt.INT,[s.RGB16UI]:mt.UINT,[s.RGB32I]:mt.INT,[s.RGB32UI]:mt.UINT,[s.RGBA8I]:mt.INT,[s.RGBA8UI]:mt.UINT,[s.RGBA16I]:mt.INT,[s.RGBA16UI]:mt.UINT,[s.RGBA32I]:mt.INT,[s.RGBA32UI]:mt.UINT,[s.DEPTH_COMPONENT16]:mt.FLOAT,[s.DEPTH_COMPONENT24]:mt.FLOAT,[s.DEPTH_COMPONENT32F]:mt.FLOAT,[s.DEPTH_STENCIL]:mt.FLOAT,[s.DEPTH24_STENCIL8]:mt.FLOAT,[s.DEPTH32F_STENCIL8]:mt.FLOAT}:t={[s.RGB]:mt.FLOAT,[s.RGBA]:mt.FLOAT,[s.ALPHA]:mt.FLOAT,[s.LUMINANCE]:mt.FLOAT,[s.LUMINANCE_ALPHA]:mt.FLOAT,[s.DEPTH_STENCIL]:mt.FLOAT},t}function FA(s){let t;return"WebGL2RenderingContext"in globalThis&&s instanceof globalThis.WebGL2RenderingContext?t={[wt.UNSIGNED_BYTE]:{[ht.RGBA]:s.RGBA8,[ht.RGB]:s.RGB8,[ht.RG]:s.RG8,[ht.RED]:s.R8,[ht.RGBA_INTEGER]:s.RGBA8UI,[ht.RGB_INTEGER]:s.RGB8UI,[ht.RG_INTEGER]:s.RG8UI,[ht.RED_INTEGER]:s.R8UI,[ht.ALPHA]:s.ALPHA,[ht.LUMINANCE]:s.LUMINANCE,[ht.LUMINANCE_ALPHA]:s.LUMINANCE_ALPHA},[wt.BYTE]:{[ht.RGBA]:s.RGBA8_SNORM,[ht.RGB]:s.RGB8_SNORM,[ht.RG]:s.RG8_SNORM,[ht.RED]:s.R8_SNORM,[ht.RGBA_INTEGER]:s.RGBA8I,[ht.RGB_INTEGER]:s.RGB8I,[ht.RG_INTEGER]:s.RG8I,[ht.RED_INTEGER]:s.R8I},[wt.UNSIGNED_SHORT]:{[ht.RGBA_INTEGER]:s.RGBA16UI,[ht.RGB_INTEGER]:s.RGB16UI,[ht.RG_INTEGER]:s.RG16UI,[ht.RED_INTEGER]:s.R16UI,[ht.DEPTH_COMPONENT]:s.DEPTH_COMPONENT16},[wt.SHORT]:{[ht.RGBA_INTEGER]:s.RGBA16I,[ht.RGB_INTEGER]:s.RGB16I,[ht.RG_INTEGER]:s.RG16I,[ht.RED_INTEGER]:s.R16I},[wt.UNSIGNED_INT]:{[ht.RGBA_INTEGER]:s.RGBA32UI,[ht.RGB_INTEGER]:s.RGB32UI,[ht.RG_INTEGER]:s.RG32UI,[ht.RED_INTEGER]:s.R32UI,[ht.DEPTH_COMPONENT]:s.DEPTH_COMPONENT24},[wt.INT]:{[ht.RGBA_INTEGER]:s.RGBA32I,[ht.RGB_INTEGER]:s.RGB32I,[ht.RG_INTEGER]:s.RG32I,[ht.RED_INTEGER]:s.R32I},[wt.FLOAT]:{[ht.RGBA]:s.RGBA32F,[ht.RGB]:s.RGB32F,[ht.RG]:s.RG32F,[ht.RED]:s.R32F,[ht.DEPTH_COMPONENT]:s.DEPTH_COMPONENT32F},[wt.HALF_FLOAT]:{[ht.RGBA]:s.RGBA16F,[ht.RGB]:s.RGB16F,[ht.RG]:s.RG16F,[ht.RED]:s.R16F},[wt.UNSIGNED_SHORT_5_6_5]:{[ht.RGB]:s.RGB565},[wt.UNSIGNED_SHORT_4_4_4_4]:{[ht.RGBA]:s.RGBA4},[wt.UNSIGNED_SHORT_5_5_5_1]:{[ht.RGBA]:s.RGB5_A1},[wt.UNSIGNED_INT_2_10_10_10_REV]:{[ht.RGBA]:s.RGB10_A2,[ht.RGBA_INTEGER]:s.RGB10_A2UI},[wt.UNSIGNED_INT_10F_11F_11F_REV]:{[ht.RGB]:s.R11F_G11F_B10F},[wt.UNSIGNED_INT_5_9_9_9_REV]:{[ht.RGB]:s.RGB9_E5},[wt.UNSIGNED_INT_24_8]:{[ht.DEPTH_STENCIL]:s.DEPTH24_STENCIL8},[wt.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[ht.DEPTH_STENCIL]:s.DEPTH32F_STENCIL8}}:t={[wt.UNSIGNED_BYTE]:{[ht.RGBA]:s.RGBA,[ht.RGB]:s.RGB,[ht.ALPHA]:s.ALPHA,[ht.LUMINANCE]:s.LUMINANCE,[ht.LUMINANCE_ALPHA]:s.LUMINANCE_ALPHA},[wt.UNSIGNED_SHORT_5_6_5]:{[ht.RGB]:s.RGB},[wt.UNSIGNED_SHORT_4_4_4_4]:{[ht.RGBA]:s.RGBA},[wt.UNSIGNED_SHORT_5_5_5_1]:{[ht.RGBA]:s.RGBA}},t}class ux{constructor(t){this.renderer=t,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new It,this.hasIntegerTextures=!1}contextChange(){const t=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=FA(t),this.samplerTypes=PA(t);const i=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=i;for(let l=0;l<i;l++)this.boundTextures[l]=null;this.emptyTextures={};const n=new ud(t.createTexture());t.bindTexture(t.TEXTURE_2D,n.texture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[t.TEXTURE_2D]=n,this.emptyTextures[t.TEXTURE_CUBE_MAP]=new ud(t.createTexture()),t.bindTexture(t.TEXTURE_CUBE_MAP,this.emptyTextures[t.TEXTURE_CUBE_MAP].texture);for(let l=0;l<6;l++)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+l,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,null);t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MIN_FILTER,t.LINEAR);for(let l=0;l<this.boundTextures.length;l++)this.bind(null,l)}bind(t,i=0){const{gl:n}=this;if(t=t==null?void 0:t.castToBaseTexture(),(t==null?void 0:t.valid)&&!t.parentTextureArray){t.touched=this.renderer.textureGC.count;const l=t._glTextures[this.CONTEXT_UID]||this.initTexture(t);this.boundTextures[i]!==t&&(this.currentLocation!==i&&(this.currentLocation=i,n.activeTexture(n.TEXTURE0+i)),n.bindTexture(t.target,l.texture)),l.dirtyId!==t.dirtyId?(this.currentLocation!==i&&(this.currentLocation=i,n.activeTexture(n.TEXTURE0+i)),this.updateTexture(t)):l.dirtyStyleId!==t.dirtyStyleId&&this.updateTextureStyle(t),this.boundTextures[i]=t}else this.currentLocation!==i&&(this.currentLocation=i,n.activeTexture(n.TEXTURE0+i)),n.bindTexture(n.TEXTURE_2D,this.emptyTextures[n.TEXTURE_2D].texture),this.boundTextures[i]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let t=0;t<this.boundTextures.length;t++)this.boundTextures[t]=this.unknownTexture}unbind(t){const{gl:i,boundTextures:n}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let l=0;l<n.length;l++)n[l]===this.unknownTexture&&this.bind(null,l)}for(let l=0;l<n.length;l++)n[l]===t&&(this.currentLocation!==l&&(i.activeTexture(i.TEXTURE0+l),this.currentLocation=l),i.bindTexture(t.target,this.emptyTextures[t.target].texture),n[l]=null)}ensureSamplerType(t){const{boundTextures:i,hasIntegerTextures:n,CONTEXT_UID:l}=this;if(n)for(let o=t-1;o>=0;--o){const h=i[o];h&&h._glTextures[l].samplerType!==mt.FLOAT&&this.renderer.texture.unbind(h)}}initTexture(t){const i=new ud(this.gl.createTexture());return i.dirtyId=-1,t._glTextures[this.CONTEXT_UID]=i,this.managedTextures.push(t),t.on("dispose",this.destroyTexture,this),i}initTextureType(t,i){var n;i.internalFormat=((n=this.internalFormats[t.type])==null?void 0:n[t.format])??t.format,i.samplerType=this.samplerTypes[i.internalFormat]??mt.FLOAT,this.webGLVersion===2&&t.type===wt.HALF_FLOAT?i.type=this.gl.HALF_FLOAT:i.type=t.type}updateTexture(t){var l;const i=t._glTextures[this.CONTEXT_UID];if(!i)return;const n=this.renderer;if(this.initTextureType(t,i),(l=t.resource)==null?void 0:l.upload(n,t,i))i.samplerType!==mt.FLOAT&&(this.hasIntegerTextures=!0);else{const o=t.realWidth,h=t.realHeight,c=n.gl;(i.width!==o||i.height!==h||i.dirtyId<0)&&(i.width=o,i.height=h,c.texImage2D(t.target,0,i.internalFormat,o,h,0,t.format,i.type,null))}t.dirtyStyleId!==i.dirtyStyleId&&this.updateTextureStyle(t),i.dirtyId=t.dirtyId}destroyTexture(t,i){const{gl:n}=this;if(t=t.castToBaseTexture(),t._glTextures[this.CONTEXT_UID]&&(this.unbind(t),n.deleteTexture(t._glTextures[this.CONTEXT_UID].texture),t.off("dispose",this.destroyTexture,this),delete t._glTextures[this.CONTEXT_UID],!i)){const l=this.managedTextures.indexOf(t);l!==-1&&Qs(this.managedTextures,l,1)}}updateTextureStyle(t){var n;const i=t._glTextures[this.CONTEXT_UID];i&&((t.mipmap===tr.POW2||this.webGLVersion!==2)&&!t.isPowerOfTwo?i.mipmap=!1:i.mipmap=t.mipmap>=1,this.webGLVersion!==2&&!t.isPowerOfTwo?i.wrapMode=pn.CLAMP:i.wrapMode=t.wrapMode,(n=t.resource)!=null&&n.style(this.renderer,t,i)||this.setStyle(t,i),i.dirtyStyleId=t.dirtyStyleId)}setStyle(t,i){const n=this.gl;if(i.mipmap&&t.mipmap!==tr.ON_MANUAL&&n.generateMipmap(t.target),n.texParameteri(t.target,n.TEXTURE_WRAP_S,i.wrapMode),n.texParameteri(t.target,n.TEXTURE_WRAP_T,i.wrapMode),i.mipmap){n.texParameteri(t.target,n.TEXTURE_MIN_FILTER,t.scaleMode===Sr.LINEAR?n.LINEAR_MIPMAP_LINEAR:n.NEAREST_MIPMAP_NEAREST);const l=this.renderer.context.extensions.anisotropicFiltering;if(l&&t.anisotropicLevel>0&&t.scaleMode===Sr.LINEAR){const o=Math.min(t.anisotropicLevel,n.getParameter(l.MAX_TEXTURE_MAX_ANISOTROPY_EXT));n.texParameterf(t.target,l.TEXTURE_MAX_ANISOTROPY_EXT,o)}}else n.texParameteri(t.target,n.TEXTURE_MIN_FILTER,t.scaleMode===Sr.LINEAR?n.LINEAR:n.NEAREST);n.texParameteri(t.target,n.TEXTURE_MAG_FILTER,t.scaleMode===Sr.LINEAR?n.LINEAR:n.NEAREST)}destroy(){this.renderer=null}}ux.extension={type:pt.RendererSystem,name:"texture"};At.add(ux);class hx{constructor(t){this.renderer=t}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(t){const{gl:i,CONTEXT_UID:n}=this,l=t._glTransformFeedbacks[n]||this.createGLTransformFeedback(t);i.bindTransformFeedback(i.TRANSFORM_FEEDBACK,l)}unbind(){const{gl:t}=this;t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(t,i){const{gl:n,renderer:l}=this;i&&l.shader.bind(i),n.beginTransformFeedback(t)}endTransformFeedback(){const{gl:t}=this;t.endTransformFeedback()}createGLTransformFeedback(t){const{gl:i,renderer:n,CONTEXT_UID:l}=this,o=i.createTransformFeedback();t._glTransformFeedbacks[l]=o,i.bindTransformFeedback(i.TRANSFORM_FEEDBACK,o);for(let h=0;h<t.buffers.length;h++){const c=t.buffers[h];c&&(n.buffer.update(c),c._glBuffers[l].refCount++,i.bindBufferBase(i.TRANSFORM_FEEDBACK_BUFFER,h,c._glBuffers[l].buffer||null))}return i.bindTransformFeedback(i.TRANSFORM_FEEDBACK,null),t.disposeRunner.add(this),o}disposeTransformFeedback(t,i){const n=t._glTransformFeedbacks[this.CONTEXT_UID],l=this.gl;t.disposeRunner.remove(this);const o=this.renderer.buffer;if(o)for(let h=0;h<t.buffers.length;h++){const c=t.buffers[h];if(!c)continue;const p=c._glBuffers[this.CONTEXT_UID];p&&(p.refCount--,p.refCount===0&&!i&&o.dispose(c,i))}n&&(i||l.deleteTransformFeedback(n),delete t._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}hx.extension={type:pt.RendererSystem,name:"transformFeedback"};At.add(hx);class _u{constructor(t){this.renderer=t}init(t){this.screen=new Lt(0,0,t.width,t.height),this.element=t.view||gt.ADAPTER.createCanvas(),this.resolution=t.resolution||gt.RESOLUTION,this.autoDensity=!!t.autoDensity}resizeView(t,i){this.element.width=Math.round(t*this.resolution),this.element.height=Math.round(i*this.resolution);const n=this.element.width/this.resolution,l=this.element.height/this.resolution;this.screen.width=n,this.screen.height=l,this.autoDensity&&(this.element.style.width=`${n}px`,this.element.style.height=`${l}px`),this.renderer.emit("resize",n,l),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(t){var i;t&&((i=this.element.parentNode)==null||i.removeChild(this.element)),this.renderer=null,this.element=null,this.screen=null}}_u.defaultOptions={width:800,height:600,resolution:void 0,autoDensity:!1},_u.extension={type:[pt.RendererSystem,pt.CanvasRendererSystem],name:"_view"};At.add(_u);gt.PREFER_ENV=Qn.WEBGL2;gt.STRICT_TEXTURE_CACHE=!1;gt.RENDER_OPTIONS={...yu.defaultOptions,...gu.defaultOptions,..._u.defaultOptions,...vu.defaultOptions};Object.defineProperties(gt,{WRAP_MODE:{get(){return It.defaultOptions.wrapMode},set(s){zt("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),It.defaultOptions.wrapMode=s}},SCALE_MODE:{get(){return It.defaultOptions.scaleMode},set(s){zt("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),It.defaultOptions.scaleMode=s}},MIPMAP_TEXTURES:{get(){return It.defaultOptions.mipmap},set(s){zt("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),It.defaultOptions.mipmap=s}},ANISOTROPIC_LEVEL:{get(){return It.defaultOptions.anisotropicLevel},set(s){zt("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),It.defaultOptions.anisotropicLevel=s}},FILTER_RESOLUTION:{get(){return zt("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),je.defaultResolution},set(s){je.defaultResolution=s}},FILTER_MULTISAMPLE:{get(){return zt("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),je.defaultMultisample},set(s){je.defaultMultisample=s}},SPRITE_MAX_TEXTURES:{get(){return jn.defaultMaxTextures},set(s){zt("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),jn.defaultMaxTextures=s}},SPRITE_BATCH_SIZE:{get(){return jn.defaultBatchSize},set(s){zt("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),jn.defaultBatchSize=s}},CAN_UPLOAD_SAME_BUFFER:{get(){return jn.canUploadSameBuffer},set(s){zt("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),jn.canUploadSameBuffer=s}},GC_MODE:{get(){return qn.defaultMode},set(s){zt("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),qn.defaultMode=s}},GC_MAX_IDLE:{get(){return qn.defaultMaxIdle},set(s){zt("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),qn.defaultMaxIdle=s}},GC_MAX_CHECK_COUNT:{get(){return qn.defaultCheckCountMax},set(s){zt("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),qn.defaultCheckCountMax=s}},PRECISION_VERTEX:{get(){return Rr.defaultVertexPrecision},set(s){zt("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),Rr.defaultVertexPrecision=s}},PRECISION_FRAGMENT:{get(){return Rr.defaultFragmentPrecision},set(s){zt("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),Rr.defaultFragmentPrecision=s}}});var Kn=(s=>(s[s.INTERACTION=50]="INTERACTION",s[s.HIGH=25]="HIGH",s[s.NORMAL=0]="NORMAL",s[s.LOW=-25]="LOW",s[s.UTILITY=-50]="UTILITY",s))(Kn||{});class hd{constructor(t,i=null,n=0,l=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=t,this.context=i,this.priority=n,this.once=l}match(t,i=null){return this.fn===t&&this.context===i}emit(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));const i=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),i}connect(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this}destroy(t=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const i=this.next;return this.next=t?null:i,this.previous=null,i}}const cx=class hi{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new hd(null,null,1/0),this.deltaMS=1/hi.targetFPMS,this.elapsedMS=1/hi.targetFPMS,this._tick=t=>{this._requestId=null,this.started&&(this.update(t),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(t,i,n=Kn.NORMAL){return this._addListener(new hd(t,i,n))}addOnce(t,i,n=Kn.NORMAL){return this._addListener(new hd(t,i,n,!0))}_addListener(t){let i=this._head.next,n=this._head;if(!i)t.connect(n);else{for(;i;){if(t.priority>i.priority){t.connect(n);break}n=i,i=i.next}t.previous||t.connect(n)}return this._startIfPossible(),this}remove(t,i){let n=this._head.next;for(;n;)n.match(t,i)?n=n.destroy():n=n.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let t=0,i=this._head;for(;i=i.next;)t++;return t}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let t=this._head.next;for(;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}}update(t=performance.now()){let i;if(t>this.lastTime){if(i=this.elapsedMS=t-this.lastTime,i>this._maxElapsedMS&&(i=this._maxElapsedMS),i*=this.speed,this._minElapsedMS){const o=t-this._lastFrame|0;if(o<this._minElapsedMS)return;this._lastFrame=t-o%this._minElapsedMS}this.deltaMS=i,this.deltaTime=this.deltaMS*hi.targetFPMS;const n=this._head;let l=n.next;for(;l;)l=l.emit(this.deltaTime);n.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(t){const i=Math.min(this.maxFPS,t),n=Math.min(Math.max(0,i)/1e3,hi.targetFPMS);this._maxElapsedMS=1/n}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(t){if(t===0)this._minElapsedMS=0;else{const i=Math.max(this.minFPS,t);this._minElapsedMS=1/(i/1e3)}}static get shared(){if(!hi._shared){const t=hi._shared=new hi;t.autoStart=!0,t._protected=!0}return hi._shared}static get system(){if(!hi._system){const t=hi._system=new hi;t.autoStart=!0,t._protected=!0}return hi._system}};cx.targetFPMS=.06;let ci=cx;Object.defineProperties(gt,{TARGET_FPMS:{get(){return ci.targetFPMS},set(s){zt("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),ci.targetFPMS=s}}});class fx{static init(t){t=Object.assign({autoStart:!0,sharedTicker:!1},t),Object.defineProperty(this,"ticker",{set(i){this._ticker&&this._ticker.remove(this.render,this),this._ticker=i,i&&i.add(this.render,this,Kn.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=t.sharedTicker?ci.shared:new ci,t.autoStart&&this.start()}static destroy(){if(this._ticker){const t=this._ticker;this.ticker=null,t.destroy()}}}fx.extension=pt.Application;At.add(fx);const dx=[];At.handleByList(pt.Renderer,dx);function GA(s){for(const t of dx)if(t.test(s))return new t(s);throw new Error("Unable to auto-detect a suitable renderer.")}var zA=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,HA=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const kA=zA,px=HA;class mx{constructor(t){this.renderer=t}contextChange(t){let i;if(this.renderer.context.webGLVersion===1){const n=t.getParameter(t.FRAMEBUFFER_BINDING);t.bindFramebuffer(t.FRAMEBUFFER,null),i=t.getParameter(t.SAMPLES),t.bindFramebuffer(t.FRAMEBUFFER,n)}else{const n=t.getParameter(t.DRAW_FRAMEBUFFER_BINDING);t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),i=t.getParameter(t.SAMPLES),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,n)}i>=Ae.HIGH?this.multisample=Ae.HIGH:i>=Ae.MEDIUM?this.multisample=Ae.MEDIUM:i>=Ae.LOW?this.multisample=Ae.LOW:this.multisample=Ae.NONE}destroy(){}}mx.extension={type:pt.RendererSystem,name:"_multisample"};At.add(mx);class XA{constructor(t){this.buffer=t||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}class gx{constructor(t){this.renderer=t,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(t){const{gl:i,CONTEXT_UID:n}=this,l=t._glBuffers[n]||this.createGLBuffer(t);i.bindBuffer(t.type,l.buffer)}unbind(t){const{gl:i}=this;i.bindBuffer(t,null)}bindBufferBase(t,i){const{gl:n,CONTEXT_UID:l}=this;if(this.boundBufferBases[i]!==t){const o=t._glBuffers[l]||this.createGLBuffer(t);this.boundBufferBases[i]=t,n.bindBufferBase(n.UNIFORM_BUFFER,i,o.buffer)}}bindBufferRange(t,i,n){const{gl:l,CONTEXT_UID:o}=this;n=n||0;const h=t._glBuffers[o]||this.createGLBuffer(t);l.bindBufferRange(l.UNIFORM_BUFFER,i||0,h.buffer,n*256,256)}update(t){const{gl:i,CONTEXT_UID:n}=this,l=t._glBuffers[n]||this.createGLBuffer(t);if(t._updateID!==l.updateID)if(l.updateID=t._updateID,i.bindBuffer(t.type,l.buffer),l.byteLength>=t.data.byteLength)i.bufferSubData(t.type,0,t.data);else{const o=t.static?i.STATIC_DRAW:i.DYNAMIC_DRAW;l.byteLength=t.data.byteLength,i.bufferData(t.type,t.data,o)}}dispose(t,i){if(!this.managedBuffers[t.id])return;delete this.managedBuffers[t.id];const n=t._glBuffers[this.CONTEXT_UID],l=this.gl;t.disposeRunner.remove(this),n&&(i||l.deleteBuffer(n.buffer),delete t._glBuffers[this.CONTEXT_UID])}disposeAll(t){const i=Object.keys(this.managedBuffers);for(let n=0;n<i.length;n++)this.dispose(this.managedBuffers[i[n]],t)}createGLBuffer(t){const{CONTEXT_UID:i,gl:n}=this;return t._glBuffers[i]=new XA(n.createBuffer()),this.managedBuffers[t.id]=t,t.disposeRunner.add(this),t._glBuffers[i]}}gx.extension={type:pt.RendererSystem,name:"buffer"};At.add(gx);class yx{constructor(t){this.renderer=t}render(t,i){const n=this.renderer;let l,o,h,c;if(i&&(l=i.renderTexture,o=i.clear,h=i.transform,c=i.skipUpdateTransform),this.renderingToScreen=!l,n.runners.prerender.emit(),n.emit("prerender"),n.projection.transform=h,!n.context.isLost){if(l||(this.lastObjectRendered=t),!c){const p=t.enableTempParent();t.updateTransform(),t.disableTempParent(p)}n.renderTexture.bind(l),n.batch.currentRenderer.start(),(o??n.background.clearBeforeRender)&&n.renderTexture.clear(),t.render(n),n.batch.currentRenderer.flush(),l&&(i.blit&&n.framebuffer.blit(),l.baseTexture.update()),n.runners.postrender.emit(),n.projection.transform=null,n.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}yx.extension={type:pt.RendererSystem,name:"objectRenderer"};At.add(yx);const lu=class Pd extends LA{constructor(t){super(),this.type=x_.WEBGL,t=Object.assign({},gt.RENDER_OPTIONS,t),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new Li({projectionMatrix:new le},!0);const i={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:Pd.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(i),"useContextAlpha"in t&&(zt("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),t.premultipliedAlpha=t.useContextAlpha&&t.useContextAlpha!=="notMultiplied",t.backgroundAlpha=t.useContextAlpha===!1?1:t.backgroundAlpha),this._plugin.rendererPlugins=Pd.__plugins,this.options=t,this.startup.run(this.options)}static test(t){return t!=null&&t.forceCanvas?!1:fT()}render(t,i){this.objectRenderer.render(t,i)}resize(t,i){this._view.resizeView(t,i)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(t=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:t}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(t){this._view.resolution=t,this.runners.resolutionChange.emit(t)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return`WebGL ${this.context.webGLVersion}`}get clearBeforeRender(){return zt("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return zt("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return zt("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return zt("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(t){zt("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=t}get backgroundAlpha(){return zt("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha}set backgroundAlpha(t){zt("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=t}get powerPreference(){return zt("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(t,i){return this.textureGenerator.generateTexture(t,i)}};lu.extension={type:pt.Renderer,priority:1},lu.__plugins={},lu.__systems={};let cp=lu;At.handleByMap(pt.RendererPlugin,cp.__plugins);At.handleByMap(pt.RendererSystem,cp.__systems);At.add(cp);class vx extends yl{constructor(t,i){const{width:n,height:l}=i||{};super(n,l),this.items=[],this.itemDirtyIds=[];for(let o=0;o<t;o++){const h=new It;this.items.push(h),this.itemDirtyIds.push(-2)}this.length=t,this._load=null,this.baseTexture=null}initFromArray(t,i){for(let n=0;n<this.length;n++)t[n]&&(t[n].castToBaseTexture?this.addBaseTextureAt(t[n].castToBaseTexture(),n):t[n]instanceof yl?this.addResourceAt(t[n],n):this.addResourceAt(L_(t[n],i),n))}dispose(){for(let t=0,i=this.length;t<i;t++)this.items[t].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(t,i){if(!this.items[i])throw new Error(`Index ${i} is out of bounds`);return t.valid&&!this.valid&&this.resize(t.width,t.height),this.items[i].setResource(t),this}bind(t){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");super.bind(t);for(let i=0;i<this.length;i++)this.items[i].parentTextureArray=t,this.items[i].on("update",t.update,t)}unbind(t){super.unbind(t);for(let i=0;i<this.length;i++)this.items[i].parentTextureArray=null,this.items[i].off("update",t.update,t)}load(){if(this._load)return this._load;const t=this.items.map(i=>i.resource).filter(i=>i).map(i=>i.load());return this._load=Promise.all(t).then(()=>{const{realWidth:i,realHeight:n}=this.items[0];return this.resize(i,n),this.update(),Promise.resolve(this)}),this._load}}class VA extends vx{constructor(t,i){const{width:n,height:l}=i||{};let o,h;Array.isArray(t)?(o=t,h=t.length):h=t,super(h,{width:n,height:l}),o&&this.initFromArray(o,i)}addBaseTextureAt(t,i){if(t.resource)this.addResourceAt(t.resource,i);else throw new Error("ArrayResource does not support RenderTexture");return this}bind(t){super.bind(t),t.target=Ks.TEXTURE_2D_ARRAY}upload(t,i,n){const{length:l,itemDirtyIds:o,items:h}=this,{gl:c}=t;n.dirtyId<0&&c.texImage3D(c.TEXTURE_2D_ARRAY,0,n.internalFormat,this._width,this._height,l,0,i.format,n.type,null);for(let p=0;p<l;p++){const m=h[p];o[p]<m.dirtyId&&(o[p]=m.dirtyId,m.valid&&c.texSubImage3D(c.TEXTURE_2D_ARRAY,0,0,0,p,m.resource.width,m.resource.height,1,i.format,n.type,m.resource.source))}return!0}}class jA extends Or{constructor(t){super(t)}static test(t){const{OffscreenCanvas:i}=globalThis;return i&&t instanceof i?!0:globalThis.HTMLCanvasElement&&t instanceof HTMLCanvasElement}}const _x=class cl extends vx{constructor(t,i){const{width:n,height:l,autoLoad:o,linkBaseTexture:h}=i||{};if(t&&t.length!==cl.SIDES)throw new Error(`Invalid length. Got ${t.length}, expected 6`);super(6,{width:n,height:l});for(let c=0;c<cl.SIDES;c++)this.items[c].target=Ks.TEXTURE_CUBE_MAP_POSITIVE_X+c;this.linkBaseTexture=h!==!1,t&&this.initFromArray(t,i),o!==!1&&this.load()}bind(t){super.bind(t),t.target=Ks.TEXTURE_CUBE_MAP}addBaseTextureAt(t,i,n){if(n===void 0&&(n=this.linkBaseTexture),!this.items[i])throw new Error(`Index ${i} is out of bounds`);if(!this.linkBaseTexture||t.parentTextureArray||Object.keys(t._glTextures).length>0)if(t.resource)this.addResourceAt(t.resource,i);else throw new Error("CubeResource does not support copying of renderTexture.");else t.target=Ks.TEXTURE_CUBE_MAP_POSITIVE_X+i,t.parentTextureArray=this.baseTexture,this.items[i]=t;return t.valid&&!this.valid&&this.resize(t.realWidth,t.realHeight),this.items[i]=t,this}upload(t,i,n){const l=this.itemDirtyIds;for(let o=0;o<cl.SIDES;o++){const h=this.items[o];(l[o]<h.dirtyId||n.dirtyId<i.dirtyId)&&(h.valid&&h.resource?(h.resource.upload(t,h,n),l[o]=h.dirtyId):l[o]<-1&&(t.gl.texImage2D(h.target,0,n.internalFormat,i.realWidth,i.realHeight,0,i.format,n.type,null),l[o]=-1))}return!0}static test(t){return Array.isArray(t)&&t.length===cl.SIDES}};_x.SIDES=6;let qA=_x;class Zs extends Or{constructor(t,i){i=i||{};let n,l,o;typeof t=="string"?(n=Zs.EMPTY,l=t,o=!0):(n=t,l=null,o=!1),super(n),this.url=l,this.crossOrigin=i.crossOrigin??!0,this.alphaMode=typeof i.alphaMode=="number"?i.alphaMode:null,this.ownsImageBitmap=i.ownsImageBitmap??o,this._load=null,i.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(async(t,i)=>{if(this.url===null){t(this);return}try{const n=await gt.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;const l=await n.blob();if(this.destroyed)return;const o=await createImageBitmap(l,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===Je.UNPACK?"premultiply":"none"});if(this.destroyed){o.close();return}this.source=o,this.update(),t(this)}catch(n){if(this.destroyed)return;i(n),this.onError.emit(n)}}),this._load)}upload(t,i,n){return this.source instanceof ImageBitmap?(typeof this.alphaMode=="number"&&(i.alphaMode=this.alphaMode),super.upload(t,i,n)):(this.load(),!1)}dispose(){this.ownsImageBitmap&&this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(t){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&(typeof t=="string"||t instanceof ImageBitmap)}static get EMPTY(){return Zs._EMPTY=Zs._EMPTY??gt.ADAPTER.createCanvas(0,0),Zs._EMPTY}}const Fd=class ou extends Or{constructor(t,i){i=i||{},super(gt.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=t,this.scale=i.scale||1,this._overrideWidth=i.width,this._overrideHeight=i.height,this._resolve=null,this._crossorigin=i.crossorigin,this._load=null,i.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(t=>{if(this._resolve=()=>{this.update(),t(this)},ou.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`}this._loadSvg()}),this._load)}_loadSvg(){const t=new Image;Or.crossOrigin(t,this.svg,this._crossorigin),t.src=this.svg,t.onerror=i=>{this._resolve&&(t.onerror=null,this.onError.emit(i))},t.onload=()=>{if(!this._resolve)return;const i=t.width,n=t.height;if(!i||!n)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let l=i*this.scale,o=n*this.scale;(this._overrideWidth||this._overrideHeight)&&(l=this._overrideWidth||this._overrideHeight/n*i,o=this._overrideHeight||this._overrideWidth/i*n),l=Math.round(l),o=Math.round(o);const h=this.source;h.width=l,h.height=o,h._pixiId=`canvas_${Zn()}`,h.getContext("2d").drawImage(t,0,0,i,n,0,0,l,o),this._resolve(),this._resolve=null}}static getSize(t){const i=ou.SVG_SIZE.exec(t),n={};return i&&(n[i[1]]=Math.round(parseFloat(i[3])),n[i[5]]=Math.round(parseFloat(i[7]))),n}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(t,i){return i==="svg"||typeof t=="string"&&t.startsWith("data:image/svg+xml")||typeof t=="string"&&ou.SVG_XML.test(t)}};Fd.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,Fd.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;let Gd=Fd;class YA extends Or{constructor(t){super(t)}static test(t){return!!globalThis.VideoFrame&&t instanceof globalThis.VideoFrame}}const zd=class Hd extends Or{constructor(t,i){if(i=i||{},!(t instanceof HTMLVideoElement)){const n=document.createElement("video");i.autoLoad!==!1&&n.setAttribute("preload","auto"),i.playsinline!==!1&&(n.setAttribute("webkit-playsinline",""),n.setAttribute("playsinline","")),i.muted===!0&&(n.setAttribute("muted",""),n.muted=!0),i.loop===!0&&n.setAttribute("loop",""),i.autoPlay!==!1&&n.setAttribute("autoplay",""),typeof t=="string"&&(t=[t]);const l=t[0].src||t[0];Or.crossOrigin(n,l,i.crossorigin);for(let o=0;o<t.length;++o){const h=document.createElement("source");let{src:c,mime:p}=t[o];if(c=c||t[o],c.startsWith("data:"))p=c.slice(5,c.indexOf(";"));else if(!c.startsWith("blob:")){const m=c.split("?").shift().toLowerCase(),g=m.slice(m.lastIndexOf(".")+1);p=p||Hd.MIME_TYPES[g]||`video/${g}`}h.src=c,p&&(h.type=p),n.appendChild(h)}t=n}super(t),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=i.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=i.autoPlay!==!1,this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),i.autoLoad!==!1&&this.load()}update(t=0){if(!this.destroyed){if(this._updateFPS){const i=ci.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-i)}(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}_videoFrameRequestCallback(){this.update(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback)}load(){if(this._load)return this._load;const t=this.source;return(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),t.addEventListener("play",this._onPlayStart),t.addEventListener("pause",this._onPlayStop),t.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._onCanPlay():(t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlay),t.addEventListener("error",this._onError,!0)),this._load=new Promise((i,n)=>{this.valid?i(this):(this._resolve=i,this._reject=n,t.load())}),this._load}_onError(t){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(t),this._reject&&(this._reject(t),this._reject=null,this._resolve=null)}_isSourcePlaying(){const t=this.source;return!t.paused&&!t.ended}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0)}_onCanPlay(){const t=this.source;t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlay);const i=this.valid;this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0,!i&&this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&t.play()}dispose(){this._configureAutoUpdate();const t=this.source;t&&(t.removeEventListener("play",this._onPlayStart),t.removeEventListener("pause",this._onPlayStop),t.removeEventListener("seeked",this._onSeeked),t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlay),t.removeEventListener("error",this._onError,!0),t.pause(),t.src="",t.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(t){t!==this._autoUpdate&&(this._autoUpdate=t,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(t){t!==this._updateFPS&&(this._updateFPS=t,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.source.requestVideoFrameCallback?(this._isConnectedToTicker&&(ci.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(ci.shared.add(this.update,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(ci.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(t,i){return globalThis.HTMLVideoElement&&t instanceof HTMLVideoElement||Hd.TYPES.includes(i)}};zd.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],zd.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let xx=zd;Cd.push(Zs,j_,jA,xx,YA,Gd,Du,qA,VA);class xu{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(t){return this.minX>this.maxX||this.minY>this.maxY?Lt.EMPTY:(t=t||new Lt(0,0,1,1),t.x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)}addPoint(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)}addPointMatrix(t,i){const{a:n,b:l,c:o,d:h,tx:c,ty:p}=t,m=n*i.x+o*i.y+c,g=l*i.x+h*i.y+p;this.minX=Math.min(this.minX,m),this.maxX=Math.max(this.maxX,m),this.minY=Math.min(this.minY,g),this.maxY=Math.max(this.maxY,g)}addQuad(t){let i=this.minX,n=this.minY,l=this.maxX,o=this.maxY,h=t[0],c=t[1];i=h<i?h:i,n=c<n?c:n,l=h>l?h:l,o=c>o?c:o,h=t[2],c=t[3],i=h<i?h:i,n=c<n?c:n,l=h>l?h:l,o=c>o?c:o,h=t[4],c=t[5],i=h<i?h:i,n=c<n?c:n,l=h>l?h:l,o=c>o?c:o,h=t[6],c=t[7],i=h<i?h:i,n=c<n?c:n,l=h>l?h:l,o=c>o?c:o,this.minX=i,this.minY=n,this.maxX=l,this.maxY=o}addFrame(t,i,n,l,o){this.addFrameMatrix(t.worldTransform,i,n,l,o)}addFrameMatrix(t,i,n,l,o){const h=t.a,c=t.b,p=t.c,m=t.d,g=t.tx,y=t.ty;let _=this.minX,b=this.minY,T=this.maxX,w=this.maxY,A=h*i+p*n+g,R=c*i+m*n+y;_=A<_?A:_,b=R<b?R:b,T=A>T?A:T,w=R>w?R:w,A=h*l+p*n+g,R=c*l+m*n+y,_=A<_?A:_,b=R<b?R:b,T=A>T?A:T,w=R>w?R:w,A=h*i+p*o+g,R=c*i+m*o+y,_=A<_?A:_,b=R<b?R:b,T=A>T?A:T,w=R>w?R:w,A=h*l+p*o+g,R=c*l+m*o+y,_=A<_?A:_,b=R<b?R:b,T=A>T?A:T,w=R>w?R:w,this.minX=_,this.minY=b,this.maxX=T,this.maxY=w}addVertexData(t,i,n){let l=this.minX,o=this.minY,h=this.maxX,c=this.maxY;for(let p=i;p<n;p+=2){const m=t[p],g=t[p+1];l=m<l?m:l,o=g<o?g:o,h=m>h?m:h,c=g>c?g:c}this.minX=l,this.minY=o,this.maxX=h,this.maxY=c}addVertices(t,i,n,l){this.addVerticesMatrix(t.worldTransform,i,n,l)}addVerticesMatrix(t,i,n,l,o=0,h=o){const c=t.a,p=t.b,m=t.c,g=t.d,y=t.tx,_=t.ty;let b=this.minX,T=this.minY,w=this.maxX,A=this.maxY;for(let R=n;R<l;R+=2){const I=i[R],O=i[R+1],L=c*I+m*O+y,B=g*O+p*I+_;b=Math.min(b,L-o),w=Math.max(w,L+o),T=Math.min(T,B-h),A=Math.max(A,B+h)}this.minX=b,this.minY=T,this.maxX=w,this.maxY=A}addBounds(t){const i=this.minX,n=this.minY,l=this.maxX,o=this.maxY;this.minX=t.minX<i?t.minX:i,this.minY=t.minY<n?t.minY:n,this.maxX=t.maxX>l?t.maxX:l,this.maxY=t.maxY>o?t.maxY:o}addBoundsMask(t,i){const n=t.minX>i.minX?t.minX:i.minX,l=t.minY>i.minY?t.minY:i.minY,o=t.maxX<i.maxX?t.maxX:i.maxX,h=t.maxY<i.maxY?t.maxY:i.maxY;if(n<=o&&l<=h){const c=this.minX,p=this.minY,m=this.maxX,g=this.maxY;this.minX=n<c?n:c,this.minY=l<p?l:p,this.maxX=o>m?o:m,this.maxY=h>g?h:g}}addBoundsMatrix(t,i){this.addFrameMatrix(i,t.minX,t.minY,t.maxX,t.maxY)}addBoundsArea(t,i){const n=t.minX>i.x?t.minX:i.x,l=t.minY>i.y?t.minY:i.y,o=t.maxX<i.x+i.width?t.maxX:i.x+i.width,h=t.maxY<i.y+i.height?t.maxY:i.y+i.height;if(n<=o&&l<=h){const c=this.minX,p=this.minY,m=this.maxX,g=this.maxY;this.minX=n<c?n:c,this.minY=l<p?l:p,this.maxX=o>m?o:m,this.maxY=h>g?h:g}}pad(t=0,i=t){this.isEmpty()||(this.minX-=t,this.maxX+=t,this.minY-=i,this.maxY+=i)}addFramePad(t,i,n,l,o,h){t-=o,i-=h,n+=o,l+=h,this.minX=this.minX<t?this.minX:t,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<i?this.minY:i,this.maxY=this.maxY>l?this.maxY:l}}class ce extends vl{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new up,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new xu,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(t){const i=Object.keys(t);for(let n=0;n<i.length;++n){const l=i[n];Object.defineProperty(ce.prototype,l,Object.getOwnPropertyDescriptor(t,l))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(t,i){return t||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),i||(this._boundsRect||(this._boundsRect=new Lt),i=this._boundsRect),this._bounds.getRectangle(i)}getLocalBounds(t){t||(this._localBoundsRect||(this._localBoundsRect=new Lt),t=this._localBoundsRect),this._localBounds||(this._localBounds=new xu);const i=this.transform,n=this.parent;this.parent=null,this._tempDisplayObjectParent.worldAlpha=(n==null?void 0:n.worldAlpha)??1,this.transform=this._tempDisplayObjectParent.transform;const l=this._bounds,o=this._boundsID;this._bounds=this._localBounds;const h=this.getBounds(!1,t);return this.parent=n,this.transform=i,this._bounds=l,this._bounds.updateID+=this._boundsID-o,h}toGlobal(t,i,n=!1){return n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(t,i)}toLocal(t,i,n,l){return i&&(t=i.toGlobal(t,n,l)),l||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(t,n)}setParent(t){if(!t||!t.addChild)throw new Error("setParent: Argument must be a Container");return t.addChild(this),t}removeFromParent(){var t;(t=this.parent)==null||t.removeChild(this)}setTransform(t=0,i=0,n=1,l=1,o=0,h=0,c=0,p=0,m=0){return this.position.x=t,this.position.y=i,this.scale.x=n||1,this.scale.y=l||1,this.rotation=o,this.skew.x=h,this.skew.y=c,this.pivot.x=p,this.pivot.y=m,this}destroy(t){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.eventMode="auto",this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new $A),this.tempDisplayObjectParent}enableTempParent(){const t=this.parent;return this.parent=this._tempDisplayObjectParent,t}disableTempParent(t){this.parent=t}get x(){return this.position.x}set x(t){this.transform.position.x=t}get y(){return this.position.y}set y(t){this.transform.position.y=t}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(t){this.transform.position.copyFrom(t)}get scale(){return this.transform.scale}set scale(t){this.transform.scale.copyFrom(t)}get pivot(){return this.transform.pivot}set pivot(t){this.transform.pivot.copyFrom(t)}get skew(){return this.transform.skew}set skew(t){this.transform.skew.copyFrom(t)}get rotation(){return this.transform.rotation}set rotation(t){this.transform.rotation=t}get angle(){return this.transform.rotation*zT}set angle(t){this.transform.rotation=t*HT}get zIndex(){return this._zIndex}set zIndex(t){this._zIndex!==t&&(this._zIndex=t,this.parent&&(this.parent.sortDirty=!0))}get worldVisible(){let t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0}get mask(){return this._mask}set mask(t){if(this._mask!==t){if(this._mask){const i=this._mask.isMaskData?this._mask.maskObject:this._mask;i&&(i._maskRefCount--,i._maskRefCount===0&&(i.renderable=!0,i.isMask=!1))}if(this._mask=t,this._mask){const i=this._mask.isMaskData?this._mask.maskObject:this._mask;i&&(i._maskRefCount===0&&(i.renderable=!1,i.isMask=!0),i._maskRefCount++)}}}}class $A extends ce{constructor(){super(...arguments),this.sortDirty=null}}ce.prototype.displayObjectUpdateTransform=ce.prototype.updateTransform;const WA=new le;function ZA(s,t){return s.zIndex===t.zIndex?s._lastSortedIndex-t._lastSortedIndex:s.zIndex-t.zIndex}const bx=class kd extends ce{constructor(){super(),this.children=[],this.sortableChildren=kd.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(t){}addChild(...t){if(t.length>1)for(let i=0;i<t.length;i++)this.addChild(t[i]);else{const i=t[0];i.parent&&i.parent.removeChild(i),i.parent=this,this.sortDirty=!0,i.transform._parentID=-1,this.children.push(i),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",i,this,this.children.length-1),i.emit("added",this)}return t[0]}addChildAt(t,i){if(i<0||i>this.children.length)throw new Error(`${t}addChildAt: The index ${i} supplied is out of bounds ${this.children.length}`);return t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.splice(i,0,t),this._boundsID++,this.onChildrenChange(i),t.emit("added",this),this.emit("childAdded",t,this,i),t}swapChildren(t,i){if(t===i)return;const n=this.getChildIndex(t),l=this.getChildIndex(i);this.children[n]=i,this.children[l]=t,this.onChildrenChange(n<l?n:l)}getChildIndex(t){const i=this.children.indexOf(t);if(i===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return i}setChildIndex(t,i){if(i<0||i>=this.children.length)throw new Error(`The index ${i} supplied is out of bounds ${this.children.length}`);const n=this.getChildIndex(t);Qs(this.children,n,1),this.children.splice(i,0,t),this.onChildrenChange(i)}getChildAt(t){if(t<0||t>=this.children.length)throw new Error(`getChildAt: Index (${t}) does not exist.`);return this.children[t]}removeChild(...t){if(t.length>1)for(let i=0;i<t.length;i++)this.removeChild(t[i]);else{const i=t[0],n=this.children.indexOf(i);if(n===-1)return null;i.parent=null,i.transform._parentID=-1,Qs(this.children,n,1),this._boundsID++,this.onChildrenChange(n),i.emit("removed",this),this.emit("childRemoved",i,this,n)}return t[0]}removeChildAt(t){const i=this.getChildAt(t);return i.parent=null,i.transform._parentID=-1,Qs(this.children,t,1),this._boundsID++,this.onChildrenChange(t),i.emit("removed",this),this.emit("childRemoved",i,this,t),i}removeChildren(t=0,i=this.children.length){const n=t,l=i,o=l-n;let h;if(o>0&&o<=l){h=this.children.splice(n,o);for(let c=0;c<h.length;++c)h[c].parent=null,h[c].transform&&(h[c].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(let c=0;c<h.length;++c)h[c].emit("removed",this),this.emit("childRemoved",h[c],this,c);return h}else if(o===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let t=!1;for(let i=0,n=this.children.length;i<n;++i){const l=this.children[i];l._lastSortedIndex=i,!t&&l.zIndex!==0&&(t=!0)}t&&this.children.length>1&&this.children.sort(ZA),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let t=0,i=this.children.length;t<i;++t){const n=this.children[t];n.visible&&n.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let t=0;t<this.children.length;t++){const i=this.children[t];if(!(!i.visible||!i.renderable))if(i.calculateBounds(),i._mask){const n=i._mask.isMaskData?i._mask.maskObject:i._mask;n?(n.calculateBounds(),this._bounds.addBoundsMask(i._bounds,n._bounds)):this._bounds.addBounds(i._bounds)}else i.filterArea?this._bounds.addBoundsArea(i._bounds,i.filterArea):this._bounds.addBounds(i._bounds)}this._bounds.updateID=this._boundsID}getLocalBounds(t,i=!1){const n=super.getLocalBounds(t);if(!i)for(let l=0,o=this.children.length;l<o;++l){const h=this.children[l];h.visible&&h.updateTransform()}return n}_calculateBounds(){}_renderWithCulling(t){const i=t.renderTexture.sourceFrame;if(!(i.width>0&&i.height>0))return;let n,l;this.cullArea?(n=this.cullArea,l=this.worldTransform):this._render!==kd.prototype._render&&(n=this.getBounds(!0));const o=t.projection.transform;if(o&&(l?(l=WA.copyFrom(l),l.prepend(o)):l=o),n&&i.intersects(n,l))this._render(t);else if(this.cullArea)return;for(let h=0,c=this.children.length;h<c;++h){const p=this.children[h],m=p.cullable;p.cullable=m||!this.cullArea,p.render(t),p.cullable=m}}render(t){var i;if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||(i=this.filters)!=null&&i.length)this.renderAdvanced(t);else if(this.cullable)this._renderWithCulling(t);else{this._render(t);for(let n=0,l=this.children.length;n<l;++n)this.children[n].render(t)}}renderAdvanced(t){var o,h,c;const i=this.filters,n=this._mask;if(i){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let p=0;p<i.length;p++)i[p].enabled&&this._enabledFilters.push(i[p])}const l=i&&((o=this._enabledFilters)==null?void 0:o.length)||n&&(!n.isMaskData||n.enabled&&(n.autoDetect||n.type!==we.NONE));if(l&&t.batch.flush(),i&&((h=this._enabledFilters)!=null&&h.length)&&t.filter.push(this,this._enabledFilters),n&&t.mask.push(this,this._mask),this.cullable)this._renderWithCulling(t);else{this._render(t);for(let p=0,m=this.children.length;p<m;++p)this.children[p].render(t)}l&&t.batch.flush(),n&&t.mask.pop(this),i&&((c=this._enabledFilters)!=null&&c.length)&&t.filter.pop()}_render(t){}destroy(t){super.destroy(),this.sortDirty=!1;const i=typeof t=="boolean"?t:t==null?void 0:t.children,n=this.removeChildren(0,this.children.length);if(i)for(let l=0;l<n.length;++l)n[l].destroy(t)}get width(){return this.scale.x*this.getLocalBounds().width}set width(t){const i=this.getLocalBounds().width;i!==0?this.scale.x=t/i:this.scale.x=1,this._width=t}get height(){return this.scale.y*this.getLocalBounds().height}set height(t){const i=this.getLocalBounds().height;i!==0?this.scale.y=t/i:this.scale.y=1,this._height=t}};bx.defaultSortableChildren=!1;let ti=bx;ti.prototype.containerUpdateTransform=ti.prototype.updateTransform;Object.defineProperties(gt,{SORTABLE_CHILDREN:{get(){return ti.defaultSortableChildren},set(s){zt("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),ti.defaultSortableChildren=s}}});const sl=new Vt,KA=new Uint16Array([0,1,2,0,2,3]);class Mr extends ti{constructor(t){super(),this._anchor=new Cr(this._onAnchorUpdate,this,t?t.defaultAnchor.x:0,t?t.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tintColor=new ae(16777215),this._tintRGB=null,this.tint=16777215,this.blendMode=Rt.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=t||Tt.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=KA,this.pluginName="batch",this.isSprite=!0,this._roundPixels=gt.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=fn(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=fn(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){const t=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===t._updateID)return;this._textureID!==t._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=t._updateID;const i=this.transform.worldTransform,n=i.a,l=i.b,o=i.c,h=i.d,c=i.tx,p=i.ty,m=this.vertexData,g=t.trim,y=t.orig,_=this._anchor;let b=0,T=0,w=0,A=0;if(g?(T=g.x-_._x*y.width,b=T+g.width,A=g.y-_._y*y.height,w=A+g.height):(T=-_._x*y.width,b=T+y.width,A=-_._y*y.height,w=A+y.height),m[0]=n*T+o*A+c,m[1]=h*A+l*T+p,m[2]=n*b+o*A+c,m[3]=h*A+l*b+p,m[4]=n*b+o*w+c,m[5]=h*w+l*b+p,m[6]=n*T+o*w+c,m[7]=h*w+l*T+p,this._roundPixels){const R=gt.RESOLUTION;for(let I=0;I<m.length;++I)m[I]=Math.round(m[I]*R)/R}}calculateTrimmedVertices(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;const t=this._texture,i=this.vertexTrimmedData,n=t.orig,l=this._anchor,o=this.transform.worldTransform,h=o.a,c=o.b,p=o.c,m=o.d,g=o.tx,y=o.ty,_=-l._x*n.width,b=_+n.width,T=-l._y*n.height,w=T+n.height;if(i[0]=h*_+p*T+g,i[1]=m*T+c*_+y,i[2]=h*b+p*T+g,i[3]=m*T+c*b+y,i[4]=h*b+p*w+g,i[5]=m*w+c*b+y,i[6]=h*_+p*w+g,i[7]=m*w+c*_+y,this._roundPixels){const A=gt.RESOLUTION;for(let R=0;R<i.length;++R)i[R]=Math.round(i[R]*A)/A}}_render(t){this.calculateVertices(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)}_calculateBounds(){const t=this._texture.trim,i=this._texture.orig;!t||t.width===i.width&&t.height===i.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(t){return this.children.length===0?(this._localBounds||(this._localBounds=new xu),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),t||(this._localBoundsRect||(this._localBoundsRect=new Lt),t=this._localBoundsRect),this._localBounds.getRectangle(t)):super.getLocalBounds.call(this,t)}containsPoint(t){this.worldTransform.applyInverse(t,sl);const i=this._texture.orig.width,n=this._texture.orig.height,l=-i*this.anchor.x;let o=0;return sl.x>=l&&sl.x<l+i&&(o=-n*this.anchor.y,sl.y>=o&&sl.y<o+n)}destroy(t){if(super.destroy(t),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,typeof t=="boolean"?t:t==null?void 0:t.texture){const i=typeof t=="boolean"?t:t==null?void 0:t.baseTexture;this._texture.destroy(!!i)}this._texture=null}static from(t,i){const n=t instanceof Tt?t:Tt.from(t,i);return new Mr(n)}set roundPixels(t){this._roundPixels!==t&&(this._transformID=-1,this._transformTrimmedID=-1),this._roundPixels=t}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(t){const i=fn(this.scale.x)||1;this.scale.x=i*t/this._texture.orig.width,this._width=t}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(t){const i=fn(this.scale.y)||1;this.scale.y=i*t/this._texture.orig.height,this._height=t}get anchor(){return this._anchor}set anchor(t){this._anchor.copyFrom(t)}get tint(){return this._tintColor.value}set tint(t){this._tintColor.setValue(t),this._tintRGB=this._tintColor.toLittleEndianNumber()}get tintValue(){return this._tintColor.toNumber()}get texture(){return this._texture}set texture(t){this._texture!==t&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=t||Tt.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,t&&(t.baseTexture.valid?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))}}const Ex=new le;ce.prototype._cacheAsBitmap=!1;ce.prototype._cacheData=null;ce.prototype._cacheAsBitmapResolution=null;ce.prototype._cacheAsBitmapMultisample=null;class QA{constructor(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}Object.defineProperties(ce.prototype,{cacheAsBitmapResolution:{get(){return this._cacheAsBitmapResolution},set(s){s!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=s,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get(){return this._cacheAsBitmapMultisample},set(s){s!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=s,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get(){return this._cacheAsBitmap},set(s){if(this._cacheAsBitmap===s)return;this._cacheAsBitmap=s;let t;s?(this._cacheData||(this._cacheData=new QA),t=this._cacheData,t.originalRender=this.render,t.originalRenderCanvas=this.renderCanvas,t.originalUpdateTransform=this.updateTransform,t.originalCalculateBounds=this.calculateBounds,t.originalGetLocalBounds=this.getLocalBounds,t.originalDestroy=this.destroy,t.originalContainsPoint=this.containsPoint,t.originalMask=this._mask,t.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(t=this._cacheData,t.sprite&&this._destroyCachedDisplayObject(),this.render=t.originalRender,this.renderCanvas=t.originalRenderCanvas,this.calculateBounds=t.originalCalculateBounds,this.getLocalBounds=t.originalGetLocalBounds,this.destroy=t.originalDestroy,this.updateTransform=t.originalUpdateTransform,this.containsPoint=t.originalContainsPoint,this._mask=t.originalMask,this.filterArea=t.originalFilterArea)}}});ce.prototype._renderCached=function(s){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(s),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(s))};ce.prototype._initCachedDisplayObject=function(s){var _,b;if((_=this._cacheData)!=null&&_.sprite)return;const t=this.alpha;this.alpha=1,s.batch.flush();const i=this.getLocalBounds(new Lt,!0);if((b=this.filters)!=null&&b.length){const T=this.filters[0].padding;i.pad(T)}const n=this.cacheAsBitmapResolution||s.resolution;i.ceil(n),i.width=Math.max(i.width,1/n),i.height=Math.max(i.height,1/n);const l=s.renderTexture.current,o=s.renderTexture.sourceFrame.clone(),h=s.renderTexture.destinationFrame.clone(),c=s.projection.transform,p=Jn.create({width:i.width,height:i.height,resolution:n,multisample:this.cacheAsBitmapMultisample??s.multisample}),m=`cacheAsBitmap_${Zn()}`;this._cacheData.textureCacheId=m,It.addToCache(p.baseTexture,m),Tt.addToCache(p,m);const g=this.transform.localTransform.copyTo(Ex).invert().translate(-i.x,-i.y);this.render=this._cacheData.originalRender,s.render(this,{renderTexture:p,clear:!0,transform:g,skipUpdateTransform:!1}),s.framebuffer.blit(),s.projection.transform=c,s.renderTexture.bind(l,o,h),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=t;const y=new Mr(p);y.transform.worldTransform=this.transform.worldTransform,y.anchor.x=-(i.x/i.width),y.anchor.y=-(i.y/i.height),y.alpha=t,y._bounds=this._bounds,this._cacheData.sprite=y,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=y.containsPoint.bind(y)};ce.prototype._renderCachedCanvas=function(s){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(s),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(s))};ce.prototype._initCachedDisplayObjectCanvas=function(s){var g;if((g=this._cacheData)!=null&&g.sprite)return;const t=this.getLocalBounds(new Lt,!0),i=this.alpha;this.alpha=1;const n=s.canvasContext.activeContext,l=s._projTransform,o=this.cacheAsBitmapResolution||s.resolution;t.ceil(o),t.width=Math.max(t.width,1/o),t.height=Math.max(t.height,1/o);const h=Jn.create({width:t.width,height:t.height,resolution:o}),c=`cacheAsBitmap_${Zn()}`;this._cacheData.textureCacheId=c,It.addToCache(h.baseTexture,c),Tt.addToCache(h,c);const p=Ex;this.transform.localTransform.copyTo(p),p.invert(),p.tx-=t.x,p.ty-=t.y,this.renderCanvas=this._cacheData.originalRenderCanvas,s.render(this,{renderTexture:h,clear:!0,transform:p,skipUpdateTransform:!1}),s.canvasContext.activeContext=n,s._projTransform=l,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=i;const m=new Mr(h);m.transform.worldTransform=this.transform.worldTransform,m.anchor.x=-(t.x/t.width),m.anchor.y=-(t.y/t.height),m.alpha=i,m._bounds=this._bounds,this._cacheData.sprite=m,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=s._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=m.containsPoint.bind(m)};ce.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};ce.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};ce.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,It.removeFromCache(this._cacheData.textureCacheId),Tt.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};ce.prototype._cacheAsBitmapDestroy=function(s){this.cacheAsBitmap=!1,this.destroy(s)};ce.prototype.name=null;ti.prototype.getChildByName=function(s,t){for(let i=0,n=this.children.length;i<n;i++)if(this.children[i].name===s)return this.children[i];if(t)for(let i=0,n=this.children.length;i<n;i++){const l=this.children[i];if(!l.getChildByName)continue;const o=l.getChildByName(s,!0);if(o)return o}return null};ce.prototype.getGlobalPosition=function(s=new Vt,t=!1){return this.parent?this.parent.toGlobal(this.position,s,t):(s.x=this.position.x,s.y=this.position.y),s};var JA=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`;class tS extends je{constructor(t=1){super(kA,JA,{uAlpha:1}),this.alpha=t}get alpha(){return this.uniforms.uAlpha}set alpha(t){this.uniforms.uAlpha=t}}const eS={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},iS=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function rS(s){const t=eS[s],i=t.length;let n=iS,l="";const o="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;";let h;for(let c=0;c<s;c++){let p=o.replace("%index%",c.toString());h=c,c>=i&&(h=s-c-1),p=p.replace("%value%",t[h].toString()),l+=p,l+=`
`}return n=n.replace("%blur%",l),n=n.replace("%size%",s.toString()),n}const nS=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function sS(s,t){const i=Math.ceil(s/2);let n=nS,l="",o;t?o="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":o="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(let h=0;h<s;h++){let c=o.replace("%index%",h.toString());c=c.replace("%sampleIndex%",`${h-(i-1)}.0`),l+=c,l+=`
`}return n=n.replace("%blur%",l),n=n.replace("%size%",s.toString()),n}class Xd extends je{constructor(t,i=8,n=4,l=je.defaultResolution,o=5){const h=sS(o,t),c=rS(o);super(h,c),this.horizontal=t,this.resolution=l,this._quality=0,this.quality=n,this.blur=i}apply(t,i,n,l){if(n?this.horizontal?this.uniforms.strength=1/n.width*(n.width/i.width):this.uniforms.strength=1/n.height*(n.height/i.height):this.horizontal?this.uniforms.strength=1/t.renderer.width*(t.renderer.width/i.width):this.uniforms.strength=1/t.renderer.height*(t.renderer.height/i.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)t.applyFilter(this,i,n,l);else{const o=t.getFilterTexture(),h=t.renderer;let c=i,p=o;this.state.blend=!1,t.applyFilter(this,c,p,Zi.CLEAR);for(let m=1;m<this.passes-1;m++){t.bindAndClear(c,Zi.BLIT),this.uniforms.uSampler=p;const g=p;p=c,c=g,h.shader.bind(this),h.geometry.draw(5)}this.state.blend=!0,t.applyFilter(this,p,n,l),t.returnFilterTexture(o)}}get blur(){return this.strength}set blur(t){this.padding=1+Math.abs(t)*2,this.strength=t}get quality(){return this._quality}set quality(t){this._quality=t,this.passes=t}}class aS extends je{constructor(t=8,i=4,n=je.defaultResolution,l=5){super(),this._repeatEdgePixels=!1,this.blurXFilter=new Xd(!0,t,i,n,l),this.blurYFilter=new Xd(!1,t,i,n,l),this.resolution=n,this.quality=i,this.blur=t,this.repeatEdgePixels=!1}apply(t,i,n,l){const o=Math.abs(this.blurXFilter.strength),h=Math.abs(this.blurYFilter.strength);if(o&&h){const c=t.getFilterTexture();this.blurXFilter.apply(t,i,c,Zi.CLEAR),this.blurYFilter.apply(t,c,n,l),t.returnFilterTexture(c)}else h?this.blurYFilter.apply(t,i,n,l):this.blurXFilter.apply(t,i,n,l)}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}get blur(){return this.blurXFilter.blur}set blur(t){this.blurXFilter.blur=this.blurYFilter.blur=t,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(t){this.blurXFilter.quality=this.blurYFilter.quality=t}get blurX(){return this.blurXFilter.blur}set blurX(t){this.blurXFilter.blur=t,this.updatePadding()}get blurY(){return this.blurYFilter.blur}set blurY(t){this.blurYFilter.blur=t,this.updatePadding()}get blendMode(){return this.blurYFilter.blendMode}set blendMode(t){this.blurYFilter.blendMode=t}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(t){this._repeatEdgePixels=t,this.updatePadding()}}var lS=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`;class Vd extends je{constructor(){const t={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};super(px,lS,t),this.alpha=1}_loadMatrix(t,i=!1){let n=t;i&&(this._multiply(n,this.uniforms.m,t),n=this._colorMatrix(n)),this.uniforms.m=n}_multiply(t,i,n){return t[0]=i[0]*n[0]+i[1]*n[5]+i[2]*n[10]+i[3]*n[15],t[1]=i[0]*n[1]+i[1]*n[6]+i[2]*n[11]+i[3]*n[16],t[2]=i[0]*n[2]+i[1]*n[7]+i[2]*n[12]+i[3]*n[17],t[3]=i[0]*n[3]+i[1]*n[8]+i[2]*n[13]+i[3]*n[18],t[4]=i[0]*n[4]+i[1]*n[9]+i[2]*n[14]+i[3]*n[19]+i[4],t[5]=i[5]*n[0]+i[6]*n[5]+i[7]*n[10]+i[8]*n[15],t[6]=i[5]*n[1]+i[6]*n[6]+i[7]*n[11]+i[8]*n[16],t[7]=i[5]*n[2]+i[6]*n[7]+i[7]*n[12]+i[8]*n[17],t[8]=i[5]*n[3]+i[6]*n[8]+i[7]*n[13]+i[8]*n[18],t[9]=i[5]*n[4]+i[6]*n[9]+i[7]*n[14]+i[8]*n[19]+i[9],t[10]=i[10]*n[0]+i[11]*n[5]+i[12]*n[10]+i[13]*n[15],t[11]=i[10]*n[1]+i[11]*n[6]+i[12]*n[11]+i[13]*n[16],t[12]=i[10]*n[2]+i[11]*n[7]+i[12]*n[12]+i[13]*n[17],t[13]=i[10]*n[3]+i[11]*n[8]+i[12]*n[13]+i[13]*n[18],t[14]=i[10]*n[4]+i[11]*n[9]+i[12]*n[14]+i[13]*n[19]+i[14],t[15]=i[15]*n[0]+i[16]*n[5]+i[17]*n[10]+i[18]*n[15],t[16]=i[15]*n[1]+i[16]*n[6]+i[17]*n[11]+i[18]*n[16],t[17]=i[15]*n[2]+i[16]*n[7]+i[17]*n[12]+i[18]*n[17],t[18]=i[15]*n[3]+i[16]*n[8]+i[17]*n[13]+i[18]*n[18],t[19]=i[15]*n[4]+i[16]*n[9]+i[17]*n[14]+i[18]*n[19]+i[19],t}_colorMatrix(t){const i=new Float32Array(t);return i[4]/=255,i[9]/=255,i[14]/=255,i[19]/=255,i}brightness(t,i){const n=[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];this._loadMatrix(n,i)}tint(t,i){const[n,l,o]=ae.shared.setValue(t).toArray(),h=[n,0,0,0,0,0,l,0,0,0,0,0,o,0,0,0,0,0,1,0];this._loadMatrix(h,i)}greyscale(t,i){const n=[t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0];this._loadMatrix(n,i)}blackAndWhite(t){const i=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(i,t)}hue(t,i){t=(t||0)/180*Math.PI;const n=Math.cos(t),l=Math.sin(t),o=Math.sqrt,h=1/3,c=o(h),p=n+(1-n)*h,m=h*(1-n)-c*l,g=h*(1-n)+c*l,y=h*(1-n)+c*l,_=n+h*(1-n),b=h*(1-n)-c*l,T=h*(1-n)-c*l,w=h*(1-n)+c*l,A=n+h*(1-n),R=[p,m,g,0,0,y,_,b,0,0,T,w,A,0,0,0,0,0,1,0];this._loadMatrix(R,i)}contrast(t,i){const n=(t||0)+1,l=-.5*(n-1),o=[n,0,0,0,l,0,n,0,0,l,0,0,n,0,l,0,0,0,1,0];this._loadMatrix(o,i)}saturate(t=0,i){const n=t*2/3+1,l=(n-1)*-.5,o=[n,l,l,0,0,l,n,l,0,0,l,l,n,0,0,0,0,0,1,0];this._loadMatrix(o,i)}desaturate(){this.saturate(-1)}negative(t){const i=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(i,t)}sepia(t){const i=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(i,t)}technicolor(t){const i=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(i,t)}polaroid(t){const i=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(i,t)}toBGR(t){const i=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(i,t)}kodachrome(t){const i=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(i,t)}browni(t){const i=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(i,t)}vintage(t){const i=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(i,t)}colorTone(t,i,n,l,o){t=t||.2,i=i||.15,n=n||16770432,l=l||3375104;const h=ae.shared,[c,p,m]=h.setValue(n).toArray(),[g,y,_]=h.setValue(l).toArray(),b=[.3,.59,.11,0,0,c,p,m,t,0,g,y,_,i,0,c-g,p-y,m-_,0,0];this._loadMatrix(b,o)}night(t,i){t=t||.1;const n=[t*-2,-t,0,0,0,-t,0,t,0,0,0,t,t*2,0,0,0,0,0,1,0];this._loadMatrix(n,i)}predator(t,i){const n=[11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0];this._loadMatrix(n,i)}lsd(t){const i=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(i,t)}reset(){const t=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(t,!1)}get matrix(){return this.uniforms.m}set matrix(t){this.uniforms.m=t}get alpha(){return this.uniforms.uAlpha}set alpha(t){this.uniforms.uAlpha=t}}Vd.prototype.grayscale=Vd.prototype.greyscale;var oS=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,uS=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`;class hS extends je{constructor(t,i){const n=new le;t.renderable=!1,super(uS,oS,{mapSampler:t._texture,filterMatrix:n,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=t,this.maskMatrix=n,i==null&&(i=20),this.scale=new Vt(i,i)}apply(t,i,n,l){this.uniforms.filterMatrix=t.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;const o=this.maskSprite.worldTransform,h=Math.sqrt(o.a*o.a+o.b*o.b),c=Math.sqrt(o.c*o.c+o.d*o.d);h!==0&&c!==0&&(this.uniforms.rotation[0]=o.a/h,this.uniforms.rotation[1]=o.b/h,this.uniforms.rotation[2]=o.c/c,this.uniforms.rotation[3]=o.d/c),t.applyFilter(this,i,n,l)}get map(){return this.uniforms.mapSampler}set map(t){this.uniforms.mapSampler=t}}var cS=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,fS=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`;class dS extends je{constructor(){super(fS,cS)}}var pS=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`;class mS extends je{constructor(t=.5,i=Math.random()){super(px,pS,{uNoise:0,uSeed:0}),this.noise=t,this.seed=i}get noise(){return this.uniforms.uNoise}set noise(t){this.uniforms.uNoise=t}get seed(){return this.uniforms.uSeed}set seed(t){this.uniforms.uSeed=t}}const $0={AlphaFilter:tS,BlurFilter:aS,BlurFilterPass:Xd,ColorMatrixFilter:Vd,DisplacementFilter:hS,FXAAFilter:dS,NoiseFilter:mS};Object.entries($0).forEach(([s,t])=>{Object.defineProperty($0,s,{get(){return zt("7.1.0",`filters.${s} has moved to ${s}`),t}})});class gS{constructor(){this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}init(t){this.removeTickerListener(),this.events=t,this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}get pauseUpdate(){return this._pauseUpdate}set pauseUpdate(t){this._pauseUpdate=t}addTickerListener(){this.tickerAdded||!this.domElement||(ci.system.add(this.tickerUpdate,this,Kn.INTERACTION),this.tickerAdded=!0)}removeTickerListener(){this.tickerAdded&&(ci.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)}pointerMoved(){this._didMove=!0}update(){if(!this.domElement||this._pauseUpdate)return;if(this._didMove){this._didMove=!1;return}const t=this.events.rootPointerEvent;this.events.supportsTouchEvents&&t.pointerType==="touch"||globalThis.document.dispatchEvent(new PointerEvent("pointermove",{clientX:t.clientX,clientY:t.clientY}))}tickerUpdate(t){this._deltaTime+=t,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())}}const cn=new gS;class _l{constructor(t){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=_l.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new Vt,this.page=new Vt,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=t}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(t,i,n){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(t,i,n,l,o){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}class bu extends _l{constructor(){super(...arguments),this.client=new Vt,this.movement=new Vt,this.offset=new Vt,this.global=new Vt,this.screen=new Vt}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getLocalPosition(t,i,n){return t.worldTransform.applyInverse(n||this.global,i)}getModifierState(t){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(t)}initMouseEvent(t,i,n,l,o,h,c,p,m,g,y,_,b,T,w){throw new Error("Method not implemented.")}}class Ni extends bu{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}class ta extends bu{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}ta.DOM_DELTA_PIXEL=0,ta.DOM_DELTA_LINE=1,ta.DOM_DELTA_PAGE=2;const yS=2048,vS=new Vt,cd=new Vt;class _S{constructor(t){this.dispatch=new vl,this.moveOnAll=!1,this.enableGlobalMoveEvents=!0,this.mappingState={trackingData:{}},this.eventPool=new Map,this._allInteractiveElements=[],this._hitElements=[],this._isPointerMoveEvent=!1,this.rootTarget=t,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(t,i){this.mappingTable[t]||(this.mappingTable[t]=[]),this.mappingTable[t].push({fn:i,priority:0}),this.mappingTable[t].sort((n,l)=>n.priority-l.priority)}dispatchEvent(t,i){t.propagationStopped=!1,t.propagationImmediatelyStopped=!1,this.propagate(t,i),this.dispatch.emit(i||t.type,t)}mapEvent(t){if(!this.rootTarget)return;const i=this.mappingTable[t.type];if(i)for(let n=0,l=i.length;n<l;n++)i[n].fn(t);else console.warn(`[EventBoundary]: Event mapping not defined for ${t.type}`)}hitTest(t,i){cn.pauseUpdate=!0;const n=this._isPointerMoveEvent&&this.enableGlobalMoveEvents?"hitTestMoveRecursive":"hitTestRecursive",l=this[n](this.rootTarget,this.rootTarget.eventMode,vS.set(t,i),this.hitTestFn,this.hitPruneFn);return l&&l[0]}propagate(t,i){if(!t.target)return;const n=t.composedPath();t.eventPhase=t.CAPTURING_PHASE;for(let l=0,o=n.length-1;l<o;l++)if(t.currentTarget=n[l],this.notifyTarget(t,i),t.propagationStopped||t.propagationImmediatelyStopped)return;if(t.eventPhase=t.AT_TARGET,t.currentTarget=t.target,this.notifyTarget(t,i),!(t.propagationStopped||t.propagationImmediatelyStopped)){t.eventPhase=t.BUBBLING_PHASE;for(let l=n.length-2;l>=0;l--)if(t.currentTarget=n[l],this.notifyTarget(t,i),t.propagationStopped||t.propagationImmediatelyStopped)return}}all(t,i,n=this._allInteractiveElements){if(n.length===0)return;t.eventPhase=t.BUBBLING_PHASE;const l=Array.isArray(i)?i:[i];for(let o=n.length-1;o>=0;o--)l.forEach(h=>{t.currentTarget=n[o],this.notifyTarget(t,h)})}propagationPath(t){const i=[t];for(let n=0;n<yS&&t!==this.rootTarget;n++){if(!t.parent)throw new Error("Cannot find propagation path to disconnected target");i.push(t.parent),t=t.parent}return i.reverse(),i}hitTestMoveRecursive(t,i,n,l,o,h=!1){let c=!1;if(this._interactivePrune(t))return null;if((t.eventMode==="dynamic"||i==="dynamic")&&(cn.pauseUpdate=!1),t.interactiveChildren&&t.children){const g=t.children;for(let y=g.length-1;y>=0;y--){const _=g[y],b=this.hitTestMoveRecursive(_,this._isInteractive(i)?i:_.eventMode,n,l,o,h||o(t,n));if(b){if(b.length>0&&!b[b.length-1].parent)continue;const T=t.isInteractive();(b.length>0||T)&&(T&&this._allInteractiveElements.push(t),b.push(t)),this._hitElements.length===0&&(this._hitElements=b),c=!0}}}const p=this._isInteractive(i),m=t.isInteractive();return p&&m&&this._allInteractiveElements.push(t),h||this._hitElements.length>0?null:c?this._hitElements:p&&!o(t,n)&&l(t,n)?m?[t]:[]:null}hitTestRecursive(t,i,n,l,o){if(this._interactivePrune(t)||o(t,n))return null;if((t.eventMode==="dynamic"||i==="dynamic")&&(cn.pauseUpdate=!1),t.interactiveChildren&&t.children){const p=t.children;for(let m=p.length-1;m>=0;m--){const g=p[m],y=this.hitTestRecursive(g,this._isInteractive(i)?i:g.eventMode,n,l,o);if(y){if(y.length>0&&!y[y.length-1].parent)continue;const _=t.isInteractive();return(y.length>0||_)&&y.push(t),y}}}const h=this._isInteractive(i),c=t.isInteractive();return h&&l(t,n)?c?[t]:[]:null}_isInteractive(t){return t==="static"||t==="dynamic"}_interactivePrune(t){return!!(!t||t.isMask||!t.visible||!t.renderable||t.eventMode==="none"||t.eventMode==="passive"&&!t.interactiveChildren||t.isMask)}hitPruneFn(t,i){var n;if(t.hitArea&&(t.worldTransform.applyInverse(i,cd),!t.hitArea.contains(cd.x,cd.y)))return!0;if(t._mask){const l=t._mask.isMaskData?t._mask.maskObject:t._mask;if(l&&!((n=l.containsPoint)!=null&&n.call(l,i)))return!0}return!1}hitTestFn(t,i){return t.eventMode==="passive"?!1:t.hitArea?!0:t.containsPoint?t.containsPoint(i):!1}notifyTarget(t,i){var o,h;i=i??t.type;const n=`on${i}`;(h=(o=t.currentTarget)[n])==null||h.call(o,t);const l=t.eventPhase===t.CAPTURING_PHASE||t.eventPhase===t.AT_TARGET?`${i}capture`:i;this.notifyListeners(t,l),t.eventPhase===t.AT_TARGET&&this.notifyListeners(t,i)}mapPointerDown(t){if(!(t instanceof Ni)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const i=this.createPointerEvent(t);if(this.dispatchEvent(i,"pointerdown"),i.pointerType==="touch")this.dispatchEvent(i,"touchstart");else if(i.pointerType==="mouse"||i.pointerType==="pen"){const l=i.button===2;this.dispatchEvent(i,l?"rightdown":"mousedown")}const n=this.trackingData(t.pointerId);n.pressTargetsByButton[t.button]=i.composedPath(),this.freeEvent(i)}mapPointerMove(t){var p,m;if(!(t instanceof Ni)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}this._allInteractiveElements.length=0,this._hitElements.length=0,this._isPointerMoveEvent=!0;const i=this.createPointerEvent(t);this._isPointerMoveEvent=!1;const n=i.pointerType==="mouse"||i.pointerType==="pen",l=this.trackingData(t.pointerId),o=this.findMountedTarget(l.overTargets);if(((p=l.overTargets)==null?void 0:p.length)>0&&o!==i.target){const g=t.type==="mousemove"?"mouseout":"pointerout",y=this.createPointerEvent(t,g,o);if(this.dispatchEvent(y,"pointerout"),n&&this.dispatchEvent(y,"mouseout"),!i.composedPath().includes(o)){const _=this.createPointerEvent(t,"pointerleave",o);for(_.eventPhase=_.AT_TARGET;_.target&&!i.composedPath().includes(_.target);)_.currentTarget=_.target,this.notifyTarget(_),n&&this.notifyTarget(_,"mouseleave"),_.target=_.target.parent;this.freeEvent(_)}this.freeEvent(y)}if(o!==i.target){const g=t.type==="mousemove"?"mouseover":"pointerover",y=this.clonePointerEvent(i,g);this.dispatchEvent(y,"pointerover"),n&&this.dispatchEvent(y,"mouseover");let _=o==null?void 0:o.parent;for(;_&&_!==this.rootTarget.parent&&_!==i.target;)_=_.parent;if(!_||_===this.rootTarget.parent){const b=this.clonePointerEvent(i,"pointerenter");for(b.eventPhase=b.AT_TARGET;b.target&&b.target!==o&&b.target!==this.rootTarget.parent;)b.currentTarget=b.target,this.notifyTarget(b),n&&this.notifyTarget(b,"mouseenter"),b.target=b.target.parent;this.freeEvent(b)}this.freeEvent(y)}const h=[],c=this.enableGlobalMoveEvents??!0;this.moveOnAll?h.push("pointermove"):this.dispatchEvent(i,"pointermove"),c&&h.push("globalpointermove"),i.pointerType==="touch"&&(this.moveOnAll?h.splice(1,0,"touchmove"):this.dispatchEvent(i,"touchmove"),c&&h.push("globaltouchmove")),n&&(this.moveOnAll?h.splice(1,0,"mousemove"):this.dispatchEvent(i,"mousemove"),c&&h.push("globalmousemove"),this.cursor=(m=i.target)==null?void 0:m.cursor),h.length>0&&this.all(i,h),this._allInteractiveElements.length=0,this._hitElements.length=0,l.overTargets=i.composedPath(),this.freeEvent(i)}mapPointerOver(t){var h;if(!(t instanceof Ni)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const i=this.trackingData(t.pointerId),n=this.createPointerEvent(t),l=n.pointerType==="mouse"||n.pointerType==="pen";this.dispatchEvent(n,"pointerover"),l&&this.dispatchEvent(n,"mouseover"),n.pointerType==="mouse"&&(this.cursor=(h=n.target)==null?void 0:h.cursor);const o=this.clonePointerEvent(n,"pointerenter");for(o.eventPhase=o.AT_TARGET;o.target&&o.target!==this.rootTarget.parent;)o.currentTarget=o.target,this.notifyTarget(o),l&&this.notifyTarget(o,"mouseenter"),o.target=o.target.parent;i.overTargets=n.composedPath(),this.freeEvent(n),this.freeEvent(o)}mapPointerOut(t){if(!(t instanceof Ni)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const i=this.trackingData(t.pointerId);if(i.overTargets){const n=t.pointerType==="mouse"||t.pointerType==="pen",l=this.findMountedTarget(i.overTargets),o=this.createPointerEvent(t,"pointerout",l);this.dispatchEvent(o),n&&this.dispatchEvent(o,"mouseout");const h=this.createPointerEvent(t,"pointerleave",l);for(h.eventPhase=h.AT_TARGET;h.target&&h.target!==this.rootTarget.parent;)h.currentTarget=h.target,this.notifyTarget(h),n&&this.notifyTarget(h,"mouseleave"),h.target=h.target.parent;i.overTargets=null,this.freeEvent(o),this.freeEvent(h)}this.cursor=null}mapPointerUp(t){if(!(t instanceof Ni)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const i=performance.now(),n=this.createPointerEvent(t);if(this.dispatchEvent(n,"pointerup"),n.pointerType==="touch")this.dispatchEvent(n,"touchend");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const c=n.button===2;this.dispatchEvent(n,c?"rightup":"mouseup")}const l=this.trackingData(t.pointerId),o=this.findMountedTarget(l.pressTargetsByButton[t.button]);let h=o;if(o&&!n.composedPath().includes(o)){let c=o;for(;c&&!n.composedPath().includes(c);){if(n.currentTarget=c,this.notifyTarget(n,"pointerupoutside"),n.pointerType==="touch")this.notifyTarget(n,"touchendoutside");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const p=n.button===2;this.notifyTarget(n,p?"rightupoutside":"mouseupoutside")}c=c.parent}delete l.pressTargetsByButton[t.button],h=c}if(h){const c=this.clonePointerEvent(n,"click");c.target=h,c.path=null,l.clicksByButton[t.button]||(l.clicksByButton[t.button]={clickCount:0,target:c.target,timeStamp:i});const p=l.clicksByButton[t.button];if(p.target===c.target&&i-p.timeStamp<200?++p.clickCount:p.clickCount=1,p.target=c.target,p.timeStamp=i,c.detail=p.clickCount,c.pointerType==="mouse"){const m=c.button===2;this.dispatchEvent(c,m?"rightclick":"click")}else c.pointerType==="touch"&&this.dispatchEvent(c,"tap");this.dispatchEvent(c,"pointertap"),this.freeEvent(c)}this.freeEvent(n)}mapPointerUpOutside(t){if(!(t instanceof Ni)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const i=this.trackingData(t.pointerId),n=this.findMountedTarget(i.pressTargetsByButton[t.button]),l=this.createPointerEvent(t);if(n){let o=n;for(;o;)l.currentTarget=o,this.notifyTarget(l,"pointerupoutside"),l.pointerType==="touch"?this.notifyTarget(l,"touchendoutside"):(l.pointerType==="mouse"||l.pointerType==="pen")&&this.notifyTarget(l,l.button===2?"rightupoutside":"mouseupoutside"),o=o.parent;delete i.pressTargetsByButton[t.button]}this.freeEvent(l)}mapWheel(t){if(!(t instanceof ta)){console.warn("EventBoundary cannot map a non-wheel event as a wheel event");return}const i=this.createWheelEvent(t);this.dispatchEvent(i),this.freeEvent(i)}findMountedTarget(t){if(!t)return null;let i=t[0];for(let n=1;n<t.length&&t[n].parent===i;n++)i=t[n];return i}createPointerEvent(t,i,n){const l=this.allocateEvent(Ni);return this.copyPointerData(t,l),this.copyMouseData(t,l),this.copyData(t,l),l.nativeEvent=t.nativeEvent,l.originalEvent=t,l.target=n??this.hitTest(l.global.x,l.global.y)??this._hitElements[0],typeof i=="string"&&(l.type=i),l}createWheelEvent(t){const i=this.allocateEvent(ta);return this.copyWheelData(t,i),this.copyMouseData(t,i),this.copyData(t,i),i.nativeEvent=t.nativeEvent,i.originalEvent=t,i.target=this.hitTest(i.global.x,i.global.y),i}clonePointerEvent(t,i){const n=this.allocateEvent(Ni);return n.nativeEvent=t.nativeEvent,n.originalEvent=t.originalEvent,this.copyPointerData(t,n),this.copyMouseData(t,n),this.copyData(t,n),n.target=t.target,n.path=t.composedPath().slice(),n.type=i??n.type,n}copyWheelData(t,i){i.deltaMode=t.deltaMode,i.deltaX=t.deltaX,i.deltaY=t.deltaY,i.deltaZ=t.deltaZ}copyPointerData(t,i){t instanceof Ni&&i instanceof Ni&&(i.pointerId=t.pointerId,i.width=t.width,i.height=t.height,i.isPrimary=t.isPrimary,i.pointerType=t.pointerType,i.pressure=t.pressure,i.tangentialPressure=t.tangentialPressure,i.tiltX=t.tiltX,i.tiltY=t.tiltY,i.twist=t.twist)}copyMouseData(t,i){t instanceof bu&&i instanceof bu&&(i.altKey=t.altKey,i.button=t.button,i.buttons=t.buttons,i.client.copyFrom(t.client),i.ctrlKey=t.ctrlKey,i.metaKey=t.metaKey,i.movement.copyFrom(t.movement),i.screen.copyFrom(t.screen),i.shiftKey=t.shiftKey,i.global.copyFrom(t.global))}copyData(t,i){i.isTrusted=t.isTrusted,i.srcElement=t.srcElement,i.timeStamp=performance.now(),i.type=t.type,i.detail=t.detail,i.view=t.view,i.which=t.which,i.layer.copyFrom(t.layer),i.page.copyFrom(t.page)}trackingData(t){return this.mappingState.trackingData[t]||(this.mappingState.trackingData[t]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[t]}allocateEvent(t){this.eventPool.has(t)||this.eventPool.set(t,[]);const i=this.eventPool.get(t).pop()||new t(this);return i.eventPhase=i.NONE,i.currentTarget=null,i.path=null,i.target=null,i}freeEvent(t){if(t.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const i=t.constructor;this.eventPool.has(i)||this.eventPool.set(i,[]),this.eventPool.get(i).push(t)}notifyListeners(t,i){const n=t.currentTarget._events[i];if(n&&t.currentTarget.isInteractive())if("fn"in n)n.once&&t.currentTarget.removeListener(i,n.fn,void 0,!0),n.fn.call(n.context,t);else for(let l=0,o=n.length;l<o&&!t.propagationImmediatelyStopped;l++)n[l].once&&t.currentTarget.removeListener(i,n[l].fn,void 0,!0),n[l].fn.call(n[l].context,t)}}const xS=1,bS={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},jd=class qd{constructor(t){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=t,this.rootBoundary=new _S(null),cn.init(this),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new Ni(null),this.rootWheelEvent=new ta(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.features=new Proxy({...qd.defaultEventFeatures},{set:(i,n,l)=>(n==="globalMove"&&(this.rootBoundary.enableGlobalMoveEvents=l),i[n]=l,!0)}),this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}static get defaultEventMode(){return this._defaultEventMode}init(t){const{view:i,resolution:n}=this.renderer;this.setTargetElement(i),this.resolution=n,qd._defaultEventMode=t.eventMode??"auto",Object.assign(this.features,t.eventFeatures??{}),this.rootBoundary.enableGlobalMoveEvents=this.features.globalMove}resolutionChange(t){this.resolution=t}destroy(){this.setTargetElement(null),this.renderer=null}setCursor(t){t=t||"default";let i=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(i=!1),this.currentCursor===t)return;this.currentCursor=t;const n=this.cursorStyles[t];if(n)switch(typeof n){case"string":i&&(this.domElement.style.cursor=n);break;case"function":n(t);break;case"object":i&&Object.assign(this.domElement.style,n);break}else i&&typeof t=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,t)&&(this.domElement.style.cursor=t)}get pointer(){return this.rootPointerEvent}onPointerDown(t){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const i=this.normalizeToPointerData(t);this.autoPreventDefault&&i[0].isNormalized&&(t.cancelable||!("cancelable"in t))&&t.preventDefault();for(let n=0,l=i.length;n<l;n++){const o=i[n],h=this.bootstrapEvent(this.rootPointerEvent,o);this.rootBoundary.mapEvent(h)}this.setCursor(this.rootBoundary.cursor)}onPointerMove(t){if(!this.features.move)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,cn.pointerMoved();const i=this.normalizeToPointerData(t);for(let n=0,l=i.length;n<l;n++){const o=this.bootstrapEvent(this.rootPointerEvent,i[n]);this.rootBoundary.mapEvent(o)}this.setCursor(this.rootBoundary.cursor)}onPointerUp(t){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;let i=t.target;t.composedPath&&t.composedPath().length>0&&(i=t.composedPath()[0]);const n=i!==this.domElement?"outside":"",l=this.normalizeToPointerData(t);for(let o=0,h=l.length;o<h;o++){const c=this.bootstrapEvent(this.rootPointerEvent,l[o]);c.type+=n,this.rootBoundary.mapEvent(c)}this.setCursor(this.rootBoundary.cursor)}onPointerOverOut(t){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const i=this.normalizeToPointerData(t);for(let n=0,l=i.length;n<l;n++){const o=this.bootstrapEvent(this.rootPointerEvent,i[n]);this.rootBoundary.mapEvent(o)}this.setCursor(this.rootBoundary.cursor)}onWheel(t){if(!this.features.wheel)return;const i=this.normalizeWheelEvent(t);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(i)}setTargetElement(t){this.removeEvents(),this.domElement=t,cn.domElement=t,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;cn.addTickerListener();const t=this.domElement.style;t&&(globalThis.navigator.msPointerEnabled?(t.msContentZooming="none",t.msTouchAction="none"):this.supportsPointerEvents&&(t.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0))),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;cn.removeTickerListener();const t=this.domElement.style;globalThis.navigator.msPointerEnabled?(t.msContentZooming="",t.msTouchAction=""):this.supportsPointerEvents&&(t.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0))),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapPositionToPoint(t,i,n){const l=this.domElement.isConnected?this.domElement.getBoundingClientRect():{width:this.domElement.width,height:this.domElement.height,left:0,top:0},o=1/this.resolution;t.x=(i-l.left)*(this.domElement.width/l.width)*o,t.y=(n-l.top)*(this.domElement.height/l.height)*o}normalizeToPointerData(t){const i=[];if(this.supportsTouchEvents&&t instanceof TouchEvent)for(let n=0,l=t.changedTouches.length;n<l;n++){const o=t.changedTouches[n];typeof o.button>"u"&&(o.button=0),typeof o.buttons>"u"&&(o.buttons=1),typeof o.isPrimary>"u"&&(o.isPrimary=t.touches.length===1&&t.type==="touchstart"),typeof o.width>"u"&&(o.width=o.radiusX||1),typeof o.height>"u"&&(o.height=o.radiusY||1),typeof o.tiltX>"u"&&(o.tiltX=0),typeof o.tiltY>"u"&&(o.tiltY=0),typeof o.pointerType>"u"&&(o.pointerType="touch"),typeof o.pointerId>"u"&&(o.pointerId=o.identifier||0),typeof o.pressure>"u"&&(o.pressure=o.force||.5),typeof o.twist>"u"&&(o.twist=0),typeof o.tangentialPressure>"u"&&(o.tangentialPressure=0),typeof o.layerX>"u"&&(o.layerX=o.offsetX=o.clientX),typeof o.layerY>"u"&&(o.layerY=o.offsetY=o.clientY),o.isNormalized=!0,o.type=t.type,i.push(o)}else if(!globalThis.MouseEvent||t instanceof MouseEvent&&(!this.supportsPointerEvents||!(t instanceof globalThis.PointerEvent))){const n=t;typeof n.isPrimary>"u"&&(n.isPrimary=!0),typeof n.width>"u"&&(n.width=1),typeof n.height>"u"&&(n.height=1),typeof n.tiltX>"u"&&(n.tiltX=0),typeof n.tiltY>"u"&&(n.tiltY=0),typeof n.pointerType>"u"&&(n.pointerType="mouse"),typeof n.pointerId>"u"&&(n.pointerId=xS),typeof n.pressure>"u"&&(n.pressure=.5),typeof n.twist>"u"&&(n.twist=0),typeof n.tangentialPressure>"u"&&(n.tangentialPressure=0),n.isNormalized=!0,i.push(n)}else i.push(t);return i}normalizeWheelEvent(t){const i=this.rootWheelEvent;return this.transferMouseData(i,t),i.deltaX=t.deltaX,i.deltaY=t.deltaY,i.deltaZ=t.deltaZ,i.deltaMode=t.deltaMode,this.mapPositionToPoint(i.screen,t.clientX,t.clientY),i.global.copyFrom(i.screen),i.offset.copyFrom(i.screen),i.nativeEvent=t,i.type=t.type,i}bootstrapEvent(t,i){return t.originalEvent=null,t.nativeEvent=i,t.pointerId=i.pointerId,t.width=i.width,t.height=i.height,t.isPrimary=i.isPrimary,t.pointerType=i.pointerType,t.pressure=i.pressure,t.tangentialPressure=i.tangentialPressure,t.tiltX=i.tiltX,t.tiltY=i.tiltY,t.twist=i.twist,this.transferMouseData(t,i),this.mapPositionToPoint(t.screen,i.clientX,i.clientY),t.global.copyFrom(t.screen),t.offset.copyFrom(t.screen),t.isTrusted=i.isTrusted,t.type==="pointerleave"&&(t.type="pointerout"),t.type.startsWith("mouse")&&(t.type=t.type.replace("mouse","pointer")),t.type.startsWith("touch")&&(t.type=bS[t.type]||t.type),t}transferMouseData(t,i){t.isTrusted=i.isTrusted,t.srcElement=i.srcElement,t.timeStamp=performance.now(),t.type=i.type,t.altKey=i.altKey,t.button=i.button,t.buttons=i.buttons,t.client.x=i.clientX,t.client.y=i.clientY,t.ctrlKey=i.ctrlKey,t.metaKey=i.metaKey,t.movement.x=i.movementX,t.movement.y=i.movementY,t.page.x=i.pageX,t.page.y=i.pageY,t.relatedTarget=null,t.shiftKey=i.shiftKey}};jd.extension={name:"events",type:[pt.RendererSystem,pt.CanvasRendererSystem]},jd.defaultEventFeatures={move:!0,globalMove:!0,click:!0,wheel:!0};let Yd=jd;At.add(Yd);function W0(s){return s==="dynamic"||s==="static"}const ES={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,_internalInteractive:void 0,get interactive(){return this._internalInteractive??W0(Yd.defaultEventMode)},set interactive(s){zt("7.2.0","Setting interactive is deprecated, use eventMode = 'none'/'passive'/'auto'/'static'/'dynamic' instead."),this._internalInteractive=s,this.eventMode=s?"static":"auto"},_internalEventMode:void 0,get eventMode(){return this._internalEventMode??Yd.defaultEventMode},set eventMode(s){this._internalInteractive=W0(s),this._internalEventMode=s},isInteractive(){return this.eventMode==="static"||this.eventMode==="dynamic"},interactiveChildren:!0,hitArea:null,addEventListener(s,t,i){const n=typeof i=="boolean"&&i||typeof i=="object"&&i.capture,l=typeof i=="object"?i.signal:void 0,o=typeof i=="object"?i.once===!0:!1,h=typeof t=="function"?void 0:t;s=n?`${s}capture`:s;const c=typeof t=="function"?t:t.handleEvent,p=this;l&&l.addEventListener("abort",()=>{p.off(s,c,h)}),o?p.once(s,c,h):p.on(s,c,h)},removeEventListener(s,t,i){const n=typeof i=="boolean"&&i||typeof i=="object"&&i.capture,l=typeof t=="function"?void 0:t;s=n?`${s}capture`:s,t=typeof t=="function"?t:t.handleEvent,this.off(s,t,l)},dispatchEvent(s){if(!(s instanceof _l))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return s.defaultPrevented=!1,s.path=null,s.target=this,s.manager.dispatchEvent(s),!s.defaultPrevented}};ce.mixin(ES);const TS={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};ce.mixin(TS);const AS=9,$o=100,SS=0,wS=0,Z0=2,K0=1,CS=-1e3,RS=-1e3,MS=2;class Tx{constructor(t){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(wr.tablet||wr.phone)&&this.createTouchHook();const i=document.createElement("div");i.style.width=`${$o}px`,i.style.height=`${$o}px`,i.style.position="absolute",i.style.top=`${SS}px`,i.style.left=`${wS}px`,i.style.zIndex=Z0.toString(),this.div=i,this.renderer=t,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}createTouchHook(){const t=document.createElement("button");t.style.width=`${K0}px`,t.style.height=`${K0}px`,t.style.position="absolute",t.style.top=`${CS}px`,t.style.left=`${RS}px`,t.style.zIndex=MS.toString(),t.style.backgroundColor="#FF0000",t.title="select to enable accessibility for this content",t.addEventListener("focus",()=>{this._isMobileAccessibility=!0,this.activate(),this.destroyTouchHook()}),document.body.appendChild(t),this._hookDiv=t}destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}activate(){var t;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(t=this.renderer.view.parentNode)==null||t.appendChild(this.div))}deactivate(){var t;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(t=this.div.parentNode)==null||t.removeChild(this.div))}updateAccessibleObjects(t){if(!t.visible||!t.accessibleChildren)return;t.accessible&&t.isInteractive()&&(t._accessibleActive||this.addChild(t),t.renderId=this.renderId);const i=t.children;if(i)for(let n=0;n<i.length;n++)this.updateAccessibleObjects(i[n])}update(){const t=performance.now();if(wr.android.device&&t<this.androidUpdateCount||(this.androidUpdateCount=t+this.androidUpdateFrequency,!this.renderer.renderingToScreen))return;this.renderer.lastObjectRendered&&this.updateAccessibleObjects(this.renderer.lastObjectRendered);const{x:i,y:n,width:l,height:o}=this.renderer.view.getBoundingClientRect(),{width:h,height:c,resolution:p}=this.renderer,m=l/h*p,g=o/c*p;let y=this.div;y.style.left=`${i}px`,y.style.top=`${n}px`,y.style.width=`${h}px`,y.style.height=`${c}px`;for(let _=0;_<this.children.length;_++){const b=this.children[_];if(b.renderId!==this.renderId)b._accessibleActive=!1,Qs(this.children,_,1),this.div.removeChild(b._accessibleDiv),this.pool.push(b._accessibleDiv),b._accessibleDiv=null,_--;else{y=b._accessibleDiv;let T=b.hitArea;const w=b.worldTransform;b.hitArea?(y.style.left=`${(w.tx+T.x*w.a)*m}px`,y.style.top=`${(w.ty+T.y*w.d)*g}px`,y.style.width=`${T.width*w.a*m}px`,y.style.height=`${T.height*w.d*g}px`):(T=b.getBounds(),this.capHitArea(T),y.style.left=`${T.x*m}px`,y.style.top=`${T.y*g}px`,y.style.width=`${T.width*m}px`,y.style.height=`${T.height*g}px`,y.title!==b.accessibleTitle&&b.accessibleTitle!==null&&(y.title=b.accessibleTitle),y.getAttribute("aria-label")!==b.accessibleHint&&b.accessibleHint!==null&&y.setAttribute("aria-label",b.accessibleHint)),(b.accessibleTitle!==y.title||b.tabIndex!==y.tabIndex)&&(y.title=b.accessibleTitle,y.tabIndex=b.tabIndex,this.debug&&this.updateDebugHTML(y))}}this.renderId++}updateDebugHTML(t){t.innerHTML=`type: ${t.type}</br> title : ${t.title}</br> tabIndex: ${t.tabIndex}`}capHitArea(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0);const{width:i,height:n}=this.renderer;t.x+t.width>i&&(t.width=i-t.x),t.y+t.height>n&&(t.height=n-t.y)}addChild(t){let i=this.pool.pop();i||(i=document.createElement("button"),i.style.width=`${$o}px`,i.style.height=`${$o}px`,i.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",i.style.position="absolute",i.style.zIndex=Z0.toString(),i.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?i.setAttribute("aria-live","off"):i.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?i.setAttribute("aria-relevant","additions"):i.setAttribute("aria-relevant","text"),i.addEventListener("click",this._onClick.bind(this)),i.addEventListener("focus",this._onFocus.bind(this)),i.addEventListener("focusout",this._onFocusOut.bind(this))),i.style.pointerEvents=t.accessiblePointerEvents,i.type=t.accessibleType,t.accessibleTitle&&t.accessibleTitle!==null?i.title=t.accessibleTitle:(!t.accessibleHint||t.accessibleHint===null)&&(i.title=`displayObject ${t.tabIndex}`),t.accessibleHint&&t.accessibleHint!==null&&i.setAttribute("aria-label",t.accessibleHint),this.debug&&this.updateDebugHTML(i),t._accessibleActive=!0,t._accessibleDiv=i,i.displayObject=t,this.children.push(t),this.div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex}_dispatchEvent(t,i){const{displayObject:n}=t.target,l=this.renderer.events.rootBoundary,o=Object.assign(new _l(l),{target:n});l.rootTarget=this.renderer.lastObjectRendered,i.forEach(h=>l.dispatchEvent(o,h))}_onClick(t){this._dispatchEvent(t,["click","pointertap","tap"])}_onFocus(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","assertive"),this._dispatchEvent(t,["mouseover"])}_onFocusOut(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","polite"),this._dispatchEvent(t,["mouseout"])}_onKeyDown(t){t.keyCode===AS&&this.activate()}_onMouseMove(t){t.movementX===0&&t.movementY===0||this.deactivate()}destroy(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null}}Tx.extension={name:"accessibility",type:[pt.RendererPlugin,pt.CanvasRendererPlugin]};At.add(Tx);const Ax=class $d{constructor(t){this.stage=new ti,t=Object.assign({forceCanvas:!1},t),this.renderer=GA(t),$d._plugins.forEach(i=>{i.init.call(this,t)})}render(){this.renderer.render(this.stage)}get view(){var t;return(t=this.renderer)==null?void 0:t.view}get screen(){var t;return(t=this.renderer)==null?void 0:t.screen}destroy(t,i){const n=$d._plugins.slice(0);n.reverse(),n.forEach(l=>{l.destroy.call(this)}),this.stage.destroy(i),this.stage=null,this.renderer.destroy(t),this.renderer=null}};Ax._plugins=[];let Sx=Ax;At.handleByList(pt.Application,Sx._plugins);class wx{static init(t){Object.defineProperty(this,"resizeTo",{set(i){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=i,i&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;this.cancelResize();let i,n;if(this._resizeTo===globalThis.window)i=globalThis.innerWidth,n=globalThis.innerHeight;else{const{clientWidth:l,clientHeight:o}=this._resizeTo;i=l,n=o}this.renderer.resize(i,n),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=t.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}wx.extension=pt.Application;At.add(wx);const Q0={loader:pt.LoadParser,resolver:pt.ResolveParser,cache:pt.CacheParser,detection:pt.DetectionParser};At.handle(pt.Asset,s=>{const t=s.ref;Object.entries(Q0).filter(([i])=>!!t[i]).forEach(([i,n])=>At.add(Object.assign(t[i],{extension:t[i].extension??n})))},s=>{const t=s.ref;Object.keys(Q0).filter(i=>!!t[i]).forEach(i=>At.remove(t[i]))});class DS{constructor(t,i=!1){this._loader=t,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=i}add(t){t.forEach(i=>{this._assetList.push(i)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const t=[],i=Math.min(this._assetList.length,this._maxConcurrent);for(let n=0;n<i;n++)t.push(this._assetList.pop());await this._loader.load(t),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(t){this._isActive!==t&&(this._isActive=t,t&&!this._isLoading&&this._next())}}function sa(s,t){if(Array.isArray(t)){for(const i of t)if(s.startsWith(`data:${i}`))return!0;return!1}return s.startsWith(`data:${t}`)}function yn(s,t){const i=s.split("?")[0],n=Oe.extname(i).toLowerCase();return Array.isArray(t)?t.includes(n):n===t}const Ii=(s,t,i=!1)=>(Array.isArray(s)||(s=[s]),t?s.map(n=>typeof n=="string"||i?t(n):n):s),Wd=(s,t)=>{const i=t.split("?")[1];return i&&(s+=`?${i}`),s};function Cx(s,t,i,n,l){const o=t[i];for(let h=0;h<o.length;h++){const c=o[h];i<t.length-1?Cx(s.replace(n[i],c),t,i+1,n,l):l.push(s.replace(n[i],c))}}function OS(s){const t=/\{(.*?)\}/g,i=s.match(t),n=[];if(i){const l=[];i.forEach(o=>{const h=o.substring(1,o.length-1).split(",");l.push(h)}),Cx(s,l,0,i,n)}else n.push(s);return n}const Eu=s=>!Array.isArray(s);class BS{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(t){return this._cache.has(t)}get(t){const i=this._cache.get(t);return i||console.warn(`[Assets] Asset id ${t} was not found in the Cache`),i}set(t,i){const n=Ii(t);let l;for(let c=0;c<this.parsers.length;c++){const p=this.parsers[c];if(p.test(i)){l=p.getCacheableAssets(n,i);break}}l||(l={},n.forEach(c=>{l[c]=i}));const o=Object.keys(l),h={cacheKeys:o,keys:n};if(n.forEach(c=>{this._cacheMap.set(c,h)}),o.forEach(c=>{const p=l?l[c]:i;this._cache.has(c)&&this._cache.get(c)!==p&&console.warn("[Cache] already has key:",c),this._cache.set(c,l[c])}),i instanceof Tt){const c=i;n.forEach(p=>{c.baseTexture!==Tt.EMPTY.baseTexture&&It.addToCache(c.baseTexture,p),Tt.addToCache(c,p)})}}remove(t){if(!this._cacheMap.has(t)){console.warn(`[Assets] Asset id ${t} was not found in the Cache`);return}const i=this._cacheMap.get(t);i.cacheKeys.forEach(n=>{this._cache.delete(n)}),i.keys.forEach(n=>{this._cacheMap.delete(n)})}get parsers(){return this._parsers}}const Yn=new BS;class NS{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(t,i,n)=>(this._parsersValidated=!1,t[i]=n,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(t,i){const n={promise:null,parser:null};return n.promise=(async()=>{var h,c;let l=null,o=null;if(i.loadParser&&(o=this._parserHash[i.loadParser],o||console.warn(`[Assets] specified load parser "${i.loadParser}" not found while loading ${t}`)),!o){for(let p=0;p<this.parsers.length;p++){const m=this.parsers[p];if(m.load&&((h=m.test)!=null&&h.call(m,t,i,this))){o=m;break}}if(!o)return console.warn(`[Assets] ${t} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}l=await o.load(t,i,this),n.parser=o;for(let p=0;p<this.parsers.length;p++){const m=this.parsers[p];m.parse&&m.parse&&await((c=m.testParse)==null?void 0:c.call(m,l,i,this))&&(l=await m.parse(l,i,this)||l,n.parser=m)}return l})(),n}async load(t,i){this._parsersValidated||this._validateParsers();let n=0;const l={},o=Eu(t),h=Ii(t,m=>({alias:[m],src:m})),c=h.length,p=h.map(async m=>{const g=Oe.toAbsolute(m.src);if(!l[m.src])try{this.promiseCache[g]||(this.promiseCache[g]=this._getLoadPromiseAndParser(g,m)),l[m.src]=await this.promiseCache[g].promise,i&&i(++n/c)}catch(y){throw delete this.promiseCache[g],delete l[m.src],new Error(`[Loader.load] Failed to load ${g}.
${y}`)}});return await Promise.all(p),o?l[h[0].src]:l}async unload(t){const i=Ii(t,n=>({alias:[n],src:n})).map(async n=>{var h,c;const l=Oe.toAbsolute(n.src),o=this.promiseCache[l];if(o){const p=await o.promise;delete this.promiseCache[l],(c=(h=o.parser)==null?void 0:h.unload)==null||c.call(h,p,n,this)}});await Promise.all(i)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(t=>t.name).reduce((t,i)=>(t[i.name]&&console.warn(`[Assets] loadParser name conflict "${i.name}"`),{...t,[i.name]:i}),{})}}var Pi=(s=>(s[s.Low=0]="Low",s[s.Normal=1]="Normal",s[s.High=2]="High",s))(Pi||{});const IS=".json",US="application/json",LS={extension:{type:pt.LoadParser,priority:Pi.Low},name:"loadJson",test(s){return sa(s,US)||yn(s,IS)},async load(s){return await(await gt.ADAPTER.fetch(s)).json()}};At.add(LS);const PS=".txt",FS="text/plain",GS={name:"loadTxt",extension:{type:pt.LoadParser,priority:Pi.Low},test(s){return sa(s,FS)||yn(s,PS)},async load(s){return await(await gt.ADAPTER.fetch(s)).text()}};At.add(GS);const zS=["normal","bold","100","200","300","400","500","600","700","800","900"],HS=[".ttf",".otf",".woff",".woff2"],kS=["font/ttf","font/otf","font/woff","font/woff2"],XS=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function VS(s){const t=Oe.extname(s),i=Oe.basename(s,t).replace(/(-|_)/g," ").toLowerCase().split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1));let n=i.length>0;for(const o of i)if(!o.match(XS)){n=!1;break}let l=i.join(" ");return n||(l=`"${l.replace(/[\\"]/g,"\\$&")}"`),l}const jS=/^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/;function qS(s){return jS.test(s)?s:encodeURI(s)}const YS={extension:{type:pt.LoadParser,priority:Pi.Low},name:"loadWebFont",test(s){return sa(s,kS)||yn(s,HS)},async load(s,t){var n,l,o;const i=gt.ADAPTER.getFontFaceSet();if(i){const h=[],c=((n=t.data)==null?void 0:n.family)??VS(s),p=((o=(l=t.data)==null?void 0:l.weights)==null?void 0:o.filter(g=>zS.includes(g)))??["normal"],m=t.data??{};for(let g=0;g<p.length;g++){const y=p[g],_=new FontFace(c,`url(${qS(s)})`,{...m,weight:y});await _.load(),i.add(_),h.push(_)}return h.length===1?h[0]:h}return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(s){(Array.isArray(s)?s:[s]).forEach(t=>gt.ADAPTER.getFontFaceSet().delete(t))}};At.add(YS);const $S=`(function() {
  "use strict";
  const WHITE_PNG = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=";
  async function checkImageBitmap() {
    try {
      if (typeof createImageBitmap != "function")
        return !1;
      const imageBlob = await (await fetch(WHITE_PNG)).blob(), imageBitmap = await createImageBitmap(imageBlob);
      return imageBitmap.width === 1 && imageBitmap.height === 1;
    } catch {
      return !1;
    }
  }
  checkImageBitmap().then((result) => {
    self.postMessage(result);
  });
})();
`;let ea=null,Zd=class{constructor(){ea||(ea=URL.createObjectURL(new Blob([$S],{type:"application/javascript"}))),this.worker=new Worker(ea)}};Zd.revokeObjectURL=function(){ea&&(URL.revokeObjectURL(ea),ea=null)};const WS=`(function() {
  "use strict";
  async function loadImageBitmap(url) {
    const response = await fetch(url);
    if (!response.ok)
      throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \${response.status} \${response.statusText}\`);
    const imageBlob = await response.blob();
    return await createImageBitmap(imageBlob);
  }
  self.onmessage = async (event) => {
    try {
      const imageBitmap = await loadImageBitmap(event.data.data[0]);
      self.postMessage({
        data: imageBitmap,
        uuid: event.data.uuid,
        id: event.data.id
      }, [imageBitmap]);
    } catch (e) {
      self.postMessage({
        error: e,
        uuid: event.data.uuid,
        id: event.data.id
      });
    }
  };
})();
`;let ia=null;class Rx{constructor(){ia||(ia=URL.createObjectURL(new Blob([WS],{type:"application/javascript"}))),this.worker=new Worker(ia)}}Rx.revokeObjectURL=function(){ia&&(URL.revokeObjectURL(ia),ia=null)};let J0=0,fd;class ZS{constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(t=>{const{worker:i}=new Zd;i.addEventListener("message",n=>{i.terminate(),Zd.revokeObjectURL(),t(n.data)})}),this._isImageBitmapSupported)}loadImageBitmap(t){return this._run("loadImageBitmap",[t])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){fd===void 0&&(fd=navigator.hardwareConcurrency||4);let t=this.workerPool.pop();return!t&&this._createdWorkers<fd&&(this._createdWorkers++,t=new Rx().worker,t.addEventListener("message",i=>{this.complete(i.data),this.returnWorker(i.target),this.next()})),t}returnWorker(t){this.workerPool.push(t)}complete(t){t.error!==void 0?this.resolveHash[t.uuid].reject(t.error):this.resolveHash[t.uuid].resolve(t.data),this.resolveHash[t.uuid]=null}async _run(t,i){await this._initWorkers();const n=new Promise((l,o)=>{this.queue.push({id:t,arguments:i,resolve:l,reject:o})});return this.next(),n}next(){if(!this.queue.length)return;const t=this.getWorker();if(!t)return;const i=this.queue.pop(),n=i.id;this.resolveHash[J0]={resolve:i.resolve,reject:i.reject},t.postMessage({data:i.arguments,uuid:J0++,id:n})}}const t_=new ZS;function xl(s,t,i){s.resource.internal=!0;const n=new Tt(s),l=()=>{delete t.promiseCache[i],Yn.has(i)&&Yn.remove(i)};return n.baseTexture.once("destroyed",()=>{i in t.promiseCache&&(console.warn("[Assets] A BaseTexture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the BaseTexture."),l())}),n.once("destroyed",()=>{s.destroyed||(console.warn("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),l())}),n}const KS=[".jpeg",".jpg",".png",".webp",".avif"],QS=["image/jpeg","image/png","image/webp","image/avif"];async function JS(s){const t=await gt.ADAPTER.fetch(s);if(!t.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${s}: ${t.status} ${t.statusText}`);const i=await t.blob();return await createImageBitmap(i)}const Uu={name:"loadTextures",extension:{type:pt.LoadParser,priority:Pi.High},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(s){return sa(s,QS)||yn(s,KS)},async load(s,t,i){var c;const n=globalThis.createImageBitmap&&this.config.preferCreateImageBitmap;let l;n?this.config.preferWorkers&&await t_.isImageBitmapSupported()?l=await t_.loadImageBitmap(s):l=await JS(s):l=await new Promise((p,m)=>{const g=new Image;g.crossOrigin=this.config.crossOrigin,g.src=s,g.complete?p(g):(g.onload=()=>p(g),g.onerror=y=>m(y))});const o={...t.data};o.resolution??(o.resolution=Dr(s)),n&&((c=o.resourceOptions)==null?void 0:c.ownsImageBitmap)===void 0&&(o.resourceOptions={...o.resourceOptions},o.resourceOptions.ownsImageBitmap=!0);const h=new It(l,o);return h.resource.src=s,xl(h,i,s)},unload(s){s.destroy(!0)}};At.add(Uu);const tw=".svg",ew="image/svg+xml",iw={extension:{type:pt.LoadParser,priority:Pi.High},name:"loadSVG",test(s){return sa(s,ew)||yn(s,tw)},async testParse(s){return Gd.test(s)},async parse(s,t,i){var o;const n=new Gd(s,(o=t==null?void 0:t.data)==null?void 0:o.resourceOptions);await n.load();const l=new It(n,{resolution:Dr(s),...t==null?void 0:t.data});return l.resource.src=t.src,xl(l,i,t.src)},async load(s,t){return(await gt.ADAPTER.fetch(s)).text()},unload:Uu.unload};At.add(iw);const rw=[".mp4",".m4v",".webm",".ogv"],nw=["video/mp4","video/webm","video/ogg"],sw={name:"loadVideo",extension:{type:pt.LoadParser,priority:Pi.High},config:{defaultAutoPlay:!0,defaultUpdateFPS:0,defaultLoop:!1,defaultMuted:!1,defaultPlaysinline:!0},test(s){return sa(s,nw)||yn(s,rw)},async load(s,t,i){var h;let n;const l=await(await gt.ADAPTER.fetch(s)).blob(),o=URL.createObjectURL(l);try{const c={autoPlay:this.config.defaultAutoPlay,updateFPS:this.config.defaultUpdateFPS,loop:this.config.defaultLoop,muted:this.config.defaultMuted,playsinline:this.config.defaultPlaysinline,...(h=t==null?void 0:t.data)==null?void 0:h.resourceOptions,autoLoad:!0},p=new xx(o,c);await p.load();const m=new It(p,{alphaMode:await cT(),resolution:Dr(s),...t==null?void 0:t.data});m.resource.src=s,n=xl(m,i,s),n.baseTexture.once("destroyed",()=>{URL.revokeObjectURL(o)})}catch(c){throw URL.revokeObjectURL(o),c}return n},unload(s){s.destroy(!0)}};At.add(sw);class aw{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(t,i)=>`${t}${this._bundleIdConnector}${i}`,extractAssetIdFromBundle:(t,i)=>i.replace(`${t}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(t){if(this._bundleIdConnector=t.connector??this._bundleIdConnector,this._createBundleAssetId=t.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=t.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...t){t.forEach(i=>{this._preferredOrder.push(i),i.priority||(i.priority=Object.keys(i.params))}),this._resolverHash={}}set basePath(t){this._basePath=t}get basePath(){return this._basePath}set rootPath(t){this._rootPath=t}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(t){if(typeof t=="string")this._defaultSearchParams=t;else{const i=t;this._defaultSearchParams=Object.keys(i).map(n=>`${encodeURIComponent(n)}=${encodeURIComponent(i[n])}`).join("&")}}getAlias(t){const{alias:i,name:n,src:l,srcs:o}=t;return Ii(i||n||l||o,h=>typeof h=="string"?h:Array.isArray(h)?h.map(c=>(c==null?void 0:c.src)??(c==null?void 0:c.srcs)??c):h!=null&&h.src||h!=null&&h.srcs?h.src??h.srcs:h,!0)}addManifest(t){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=t,t.bundles.forEach(i=>{this.addBundle(i.name,i.assets)})}addBundle(t,i){const n=[];Array.isArray(i)?i.forEach(l=>{const o=l.src??l.srcs,h=l.alias??l.name;let c;if(typeof h=="string"){const p=this._createBundleAssetId(t,h);n.push(p),c=[h,p]}else{const p=h.map(m=>this._createBundleAssetId(t,m));n.push(...p),c=[...h,...p]}this.add({...l,alias:c,src:o})}):Object.keys(i).forEach(l=>{const o=[l,this._createBundleAssetId(t,l)];if(typeof i[l]=="string")this.add({alias:o,src:i[l]});else if(Array.isArray(i[l]))this.add({alias:o,src:i[l]});else{const h=i[l],c=h.src??h.srcs;this.add({...h,alias:o,src:Array.isArray(c)?c:[c]})}n.push(...o)}),this._bundles[t]=n}add(t,i,n,l,o){const h=[];typeof t=="string"||Array.isArray(t)&&typeof t[0]=="string"?(zt("7.2.0",`Assets.add now uses an object instead of individual parameters.
Please use Assets.add({ alias, src, data, format, loadParser }) instead.`),h.push({alias:t,src:i,data:n,format:l,loadParser:o})):Array.isArray(t)?h.push(...t):h.push(t);let c;c=p=>{this.hasKey(p)&&console.warn(`[Resolver] already has key: ${p} overwriting`)},Ii(h).forEach(p=>{const{src:m,srcs:g}=p;let{data:y,format:_,loadParser:b}=p;const T=Ii(m||g).map(R=>typeof R=="string"?OS(R):Array.isArray(R)?R:[R]),w=this.getAlias(p);Array.isArray(w)?w.forEach(c):c(w);const A=[];T.forEach(R=>{R.forEach(I=>{let O={};if(typeof I!="object"){O.src=I;for(let L=0;L<this._parsers.length;L++){const B=this._parsers[L];if(B.test(I)){O=B.parse(I);break}}}else y=I.data??y,_=I.format??_,b=I.loadParser??b,O={...O,...I};if(!w)throw new Error(`[Resolver] alias is undefined for this asset: ${O.src}`);O=this.buildResolvedAsset(O,{aliases:w,data:y,format:_,loadParser:b}),A.push(O)})}),w.forEach(R=>{this._assetMap[R]=A})})}resolveBundle(t){const i=Eu(t);t=Ii(t);const n={};return t.forEach(l=>{const o=this._bundles[l];if(o){const h=this.resolve(o),c={};for(const p in h){const m=h[p];c[this._extractAssetIdFromBundle(l,p)]=m}n[l]=c}}),i?n[t[0]]:n}resolveUrl(t){const i=this.resolve(t);if(typeof t!="string"){const n={};for(const l in i)n[l]=i[l].src;return n}return i.src}resolve(t){const i=Eu(t);t=Ii(t);const n={};return t.forEach(l=>{if(!this._resolverHash[l])if(this._assetMap[l]){let o=this._assetMap[l];const h=o[0],c=this._getPreferredOrder(o);c==null||c.priority.forEach(p=>{c.params[p].forEach(m=>{const g=o.filter(y=>y[p]?y[p]===m:!1);g.length&&(o=g)})}),this._resolverHash[l]=o[0]??h}else this._resolverHash[l]=this.buildResolvedAsset({alias:[l],src:l},{});n[l]=this._resolverHash[l]}),i?n[t[0]]:n}hasKey(t){return!!this._assetMap[t]}hasBundle(t){return!!this._bundles[t]}_getPreferredOrder(t){for(let i=0;i<t.length;i++){const n=t[0],l=this._preferredOrder.find(o=>o.params.format.includes(n.format));if(l)return l}return this._preferredOrder[0]}_appendDefaultSearchParams(t){if(!this._defaultSearchParams)return t;const i=/\?/.test(t)?"&":"?";return`${t}${i}${this._defaultSearchParams}`}buildResolvedAsset(t,i){const{aliases:n,data:l,loadParser:o,format:h}=i;return(this._basePath||this._rootPath)&&(t.src=Oe.toAbsolute(t.src,this._basePath,this._rootPath)),t.alias=n??t.alias??[t.src],t.src=this._appendDefaultSearchParams(t.src),t.data={...l||{},...t.data},t.loadParser=o??t.loadParser,t.format=h??t.format??Oe.extname(t.src).slice(1),t.srcs=t.src,t.name=t.alias,t}}class lw{constructor(){this._detections=[],this._initialized=!1,this.resolver=new aw,this.loader=new NS,this.cache=Yn,this._backgroundLoader=new DS(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(t={}){var o,h;if(this._initialized){console.warn("[Assets]AssetManager already initialized, did you load before calling this Assets.init()?");return}if(this._initialized=!0,t.defaultSearchParams&&this.resolver.setDefaultSearchParams(t.defaultSearchParams),t.basePath&&(this.resolver.basePath=t.basePath),t.bundleIdentifier&&this.resolver.setBundleIdentifier(t.bundleIdentifier),t.manifest){let c=t.manifest;typeof c=="string"&&(c=await this.load(c)),this.resolver.addManifest(c)}const i=((o=t.texturePreference)==null?void 0:o.resolution)??1,n=typeof i=="number"?[i]:i,l=await this._detectFormats({preferredFormats:(h=t.texturePreference)==null?void 0:h.format,skipDetections:t.skipDetections,detections:this._detections});this.resolver.prefer({params:{format:l,resolution:n}}),t.preferences&&this.setPreferences(t.preferences)}add(t,i,n,l,o){this.resolver.add(t,i,n,l,o)}async load(t,i){this._initialized||await this.init();const n=Eu(t),l=Ii(t).map(c=>{if(typeof c!="string"){const p=this.resolver.getAlias(c);return p.some(m=>!this.resolver.hasKey(m))&&this.add(c),Array.isArray(p)?p[0]:p}return this.resolver.hasKey(c)||this.add({alias:c,src:c}),c}),o=this.resolver.resolve(l),h=await this._mapLoadToResolve(o,i);return n?h[l[0]]:h}addBundle(t,i){this.resolver.addBundle(t,i)}async loadBundle(t,i){this._initialized||await this.init();let n=!1;typeof t=="string"&&(n=!0,t=[t]);const l=this.resolver.resolveBundle(t),o={},h=Object.keys(l);let c=0,p=0;const m=()=>{i==null||i(++c/p)},g=h.map(y=>{const _=l[y];return p+=Object.keys(_).length,this._mapLoadToResolve(_,m).then(b=>{o[y]=b})});return await Promise.all(g),n?o[t[0]]:o}async backgroundLoad(t){this._initialized||await this.init(),typeof t=="string"&&(t=[t]);const i=this.resolver.resolve(t);this._backgroundLoader.add(Object.values(i))}async backgroundLoadBundle(t){this._initialized||await this.init(),typeof t=="string"&&(t=[t]);const i=this.resolver.resolveBundle(t);Object.values(i).forEach(n=>{this._backgroundLoader.add(Object.values(n))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(t){if(typeof t=="string")return Yn.get(t);const i={};for(let n=0;n<t.length;n++)i[n]=Yn.get(t[n]);return i}async _mapLoadToResolve(t,i){const n=Object.values(t),l=Object.keys(t);this._backgroundLoader.active=!1;const o=await this.loader.load(n,i);this._backgroundLoader.active=!0;const h={};return n.forEach((c,p)=>{const m=o[c.src],g=[c.src];c.alias&&g.push(...c.alias),h[l[p]]=m,Yn.set(g,m)}),h}async unload(t){this._initialized||await this.init();const i=Ii(t).map(l=>typeof l!="string"?l.src:l),n=this.resolver.resolve(i);await this._unloadFromResolved(n)}async unloadBundle(t){this._initialized||await this.init(),t=Ii(t);const i=this.resolver.resolveBundle(t),n=Object.keys(i).map(l=>this._unloadFromResolved(i[l]));await Promise.all(n)}async _unloadFromResolved(t){const i=Object.values(t);i.forEach(n=>{Yn.remove(n.src)}),await this.loader.unload(i)}async _detectFormats(t){let i=[];t.preferredFormats&&(i=Array.isArray(t.preferredFormats)?t.preferredFormats:[t.preferredFormats]);for(const n of t.detections)t.skipDetections||await n.test()?i=await n.add(i):t.skipDetections||(i=await n.remove(i));return i=i.filter((n,l)=>i.indexOf(n)===l),i}get detections(){return this._detections}get preferWorkers(){return Uu.config.preferWorkers}set preferWorkers(t){zt("7.2.0","Assets.prefersWorkers is deprecated, use Assets.setPreferences({ preferWorkers: true }) instead."),this.setPreferences({preferWorkers:t})}setPreferences(t){this.loader.parsers.forEach(i=>{i.config&&Object.keys(i.config).filter(n=>n in t).forEach(n=>{i.config[n]=t[n]})})}}const Wo=new lw;At.handleByList(pt.LoadParser,Wo.loader.parsers).handleByList(pt.ResolveParser,Wo.resolver.parsers).handleByList(pt.CacheParser,Wo.cache.parsers).handleByList(pt.DetectionParser,Wo.detections);const ow={extension:pt.CacheParser,test:s=>Array.isArray(s)&&s.every(t=>t instanceof Tt),getCacheableAssets:(s,t)=>{const i={};return s.forEach(n=>{t.forEach((l,o)=>{i[n+(o===0?"":o+1)]=l})}),i}};At.add(ow);async function Mx(s){if("Image"in globalThis)return new Promise(t=>{const i=new Image;i.onload=()=>{t(!0)},i.onerror=()=>{t(!1)},i.src=s});if("createImageBitmap"in globalThis&&"fetch"in globalThis){try{const t=await(await fetch(s)).blob();await createImageBitmap(t)}catch{return!1}return!0}return!1}const uw={extension:{type:pt.DetectionParser,priority:1},test:async()=>Mx("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="),add:async s=>[...s,"avif"],remove:async s=>s.filter(t=>t!=="avif")};At.add(uw);const hw={extension:{type:pt.DetectionParser,priority:0},test:async()=>Mx("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="),add:async s=>[...s,"webp"],remove:async s=>s.filter(t=>t!=="webp")};At.add(hw);const e_=["png","jpg","jpeg"],cw={extension:{type:pt.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async s=>[...s,...e_],remove:async s=>s.filter(t=>!e_.includes(t))};At.add(cw);const fw="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;function fp(s){return fw?!1:document.createElement("video").canPlayType(s)!==""}const dw={extension:{type:pt.DetectionParser,priority:0},test:async()=>fp("video/webm"),add:async s=>[...s,"webm"],remove:async s=>s.filter(t=>t!=="webm")};At.add(dw);const pw={extension:{type:pt.DetectionParser,priority:0},test:async()=>fp("video/mp4"),add:async s=>[...s,"mp4","m4v"],remove:async s=>s.filter(t=>t!=="mp4"&&t!=="m4v")};At.add(pw);const mw={extension:{type:pt.DetectionParser,priority:0},test:async()=>fp("video/ogg"),add:async s=>[...s,"ogv"],remove:async s=>s.filter(t=>t!=="ogv")};At.add(mw);const gw={extension:pt.ResolveParser,test:Uu.test,parse:s=>{var t;return{resolution:parseFloat(((t=gt.RETINA_PREFIX.exec(s))==null?void 0:t[1])??"1"),format:Oe.extname(s).slice(1),src:s}}};At.add(gw);var Fe=(s=>(s[s.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",s[s.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",s[s.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",s[s.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",s[s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",s[s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",s[s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",s[s.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",s[s.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",s[s.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",s[s.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",s[s.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",s[s.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",s[s.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",s[s.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",s[s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",s[s.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",s[s.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",s[s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",s[s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",s[s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",s[s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",s[s.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",s[s.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",s[s.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35987]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",s[s.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",s[s.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",s[s.COMPRESSED_RGBA_BPTC_UNORM_EXT=36492]="COMPRESSED_RGBA_BPTC_UNORM_EXT",s[s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT=36493]="COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT",s[s.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT=36494]="COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT",s[s.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT=36495]="COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT",s))(Fe||{});const Tu={33776:.5,33777:.5,33778:1,33779:1,35916:.5,35917:.5,35918:1,35919:1,37488:.5,37489:.5,37490:1,37491:1,37492:.5,37496:1,37493:.5,37497:1,37494:.5,37495:.5,35840:.5,35842:.5,35841:.25,35843:.25,36196:.5,35986:.5,35987:1,34798:1,37808:1,36492:1,36493:1,36494:1,36495:1};let Yi,Ys;function i_(){Ys={bptc:Yi.getExtension("EXT_texture_compression_bptc"),astc:Yi.getExtension("WEBGL_compressed_texture_astc"),etc:Yi.getExtension("WEBGL_compressed_texture_etc"),s3tc:Yi.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:Yi.getExtension("WEBGL_compressed_texture_s3tc_srgb"),pvrtc:Yi.getExtension("WEBGL_compressed_texture_pvrtc")||Yi.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),etc1:Yi.getExtension("WEBGL_compressed_texture_etc1"),atc:Yi.getExtension("WEBGL_compressed_texture_atc")}}const yw={extension:{type:pt.DetectionParser,priority:2},test:async()=>{const s=gt.ADAPTER.createCanvas().getContext("webgl");return s?(Yi=s,!0):(console.warn("WebGL not available for compressed textures."),!1)},add:async s=>{Ys||i_();const t=[];for(const i in Ys)Ys[i]&&t.push(i);return[...t,...s]},remove:async s=>(Ys||i_(),s.filter(t=>!(t in Ys)))};At.add(yw);class vw extends Du{constructor(t,i={width:1,height:1,autoLoad:!0}){let n,l;typeof t=="string"?(n=t,l=new Uint8Array):(n=null,l=t),super(l,i),this.origin=n,this.buffer=l?new wd(l):null,this._load=null,this.loaded=!1,this.origin!==null&&i.autoLoad!==!1&&this.load(),this.origin===null&&this.buffer&&(this._load=Promise.resolve(this),this.loaded=!0,this.onBlobLoaded(this.buffer.rawBinaryData))}onBlobLoaded(t){}load(){return this._load?this._load:(this._load=fetch(this.origin).then(t=>t.blob()).then(t=>t.arrayBuffer()).then(t=>(this.data=new Uint32Array(t),this.buffer=new wd(t),this.loaded=!0,this.onBlobLoaded(t),this.update(),this)),this._load)}}class Wn extends vw{constructor(t,i){super(t,i),this.format=i.format,this.levels=i.levels||1,this._width=i.width,this._height=i.height,this._extension=Wn._formatToExtension(this.format),(i.levelBuffers||this.buffer)&&(this._levelBuffers=i.levelBuffers||Wn._createLevelBuffers(t instanceof Uint8Array?t:this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height))}upload(t,i,n){const l=t.gl;if(!t.context.extensions[this._extension])throw new Error(`${this._extension} textures are not supported on the current machine`);if(!this._levelBuffers)return!1;l.pixelStorei(l.UNPACK_ALIGNMENT,4);for(let o=0,h=this.levels;o<h;o++){const{levelID:c,levelWidth:p,levelHeight:m,levelBuffer:g}=this._levelBuffers[o];l.compressedTexImage2D(l.TEXTURE_2D,c,this.format,p,m,0,g)}return!0}onBlobLoaded(){this._levelBuffers=Wn._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)}static _formatToExtension(t){if(t>=33776&&t<=33779)return"s3tc";if(t>=35916&&t<=35919)return"s3tc_sRGB";if(t>=37488&&t<=37497)return"etc";if(t>=35840&&t<=35843)return"pvrtc";if(t===36196)return"etc1";if(t===35986||t===35987||t===34798)return"atc";if(t>=36492&&t<=36495)return"bptc";if(t===37808)return"astc";throw new Error(`Invalid (compressed) texture format given: ${t}`)}static _createLevelBuffers(t,i,n,l,o,h,c){const p=new Array(n);let m=t.byteOffset,g=h,y=c,_=g+l-1&~(l-1),b=y+o-1&~(o-1),T=_*b*Tu[i];for(let w=0;w<n;w++)p[w]={levelID:w,levelWidth:n>1?g:_,levelHeight:n>1?y:b,levelBuffer:new Uint8Array(t.buffer,m,T)},m+=T,g=g>>1||1,y=y>>1||1,_=g+l-1&~(l-1),b=y+o-1&~(o-1),T=_*b*Tu[i];return p}}const dd=4,Zo=124,_w=32,r_=20,xw=542327876,Ko={HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},bw={FOURCC:2},Qo={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3},Ew=1,Tw=2,Aw=4,Sw=64,ww=512,Cw=131072,Rw=827611204,Mw=861165636,Dw=894720068,Ow=808540228,Bw=4,Nw={[Rw]:Fe.COMPRESSED_RGBA_S3TC_DXT1_EXT,[Mw]:Fe.COMPRESSED_RGBA_S3TC_DXT3_EXT,[Dw]:Fe.COMPRESSED_RGBA_S3TC_DXT5_EXT},Iw={70:Fe.COMPRESSED_RGBA_S3TC_DXT1_EXT,71:Fe.COMPRESSED_RGBA_S3TC_DXT1_EXT,73:Fe.COMPRESSED_RGBA_S3TC_DXT3_EXT,74:Fe.COMPRESSED_RGBA_S3TC_DXT3_EXT,76:Fe.COMPRESSED_RGBA_S3TC_DXT5_EXT,77:Fe.COMPRESSED_RGBA_S3TC_DXT5_EXT,72:Fe.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,75:Fe.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,78:Fe.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,96:Fe.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT,95:Fe.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT,98:Fe.COMPRESSED_RGBA_BPTC_UNORM_EXT,99:Fe.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT};function Uw(s){const t=new Uint32Array(s);if(t[0]!==xw)throw new Error("Invalid DDS file magic word");const i=new Uint32Array(s,0,Zo/Uint32Array.BYTES_PER_ELEMENT),n=i[Ko.HEIGHT],l=i[Ko.WIDTH],o=i[Ko.MIPMAP_COUNT],h=new Uint32Array(s,Ko.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,_w/Uint32Array.BYTES_PER_ELEMENT),c=h[Ew];if(c&Aw){const p=h[bw.FOURCC];if(p!==Ow){const I=Nw[p],O=dd+Zo,L=new Uint8Array(s,O);return[new Wn(L,{format:I,width:l,height:n,levels:o})]}const m=dd+Zo,g=new Uint32Array(t.buffer,m,r_/Uint32Array.BYTES_PER_ELEMENT),y=g[Qo.DXGI_FORMAT],_=g[Qo.RESOURCE_DIMENSION],b=g[Qo.MISC_FLAG],T=g[Qo.ARRAY_SIZE],w=Iw[y];if(w===void 0)throw new Error(`DDSParser cannot parse texture data with DXGI format ${y}`);if(b===Bw)throw new Error("DDSParser does not support cubemap textures");if(_===6)throw new Error("DDSParser does not supported 3D texture data");const A=new Array,R=dd+Zo+r_;if(T===1)A.push(new Uint8Array(s,R));else{const I=Tu[w];let O=0,L=l,B=n;for(let D=0;D<o;D++){const Y=Math.max(1,L+3&-4),rt=Math.max(1,B+3&-4),at=Y*rt*I;O+=at,L=L>>>1,B=B>>>1}let j=R;for(let D=0;D<T;D++)A.push(new Uint8Array(s,j,O)),j+=O}return A.map(I=>new Wn(I,{format:w,width:l,height:n,levels:o}))}throw c&Sw?new Error("DDSParser does not support uncompressed texture data."):c&ww?new Error("DDSParser does not supported YUV uncompressed texture data."):c&Cw?new Error("DDSParser does not support single-channel (lumninance) texture data!"):c&Tw?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}const n_=[171,75,84,88,32,49,49,187,13,10,26,10],Lw=67305985,Oi={ENDIANNESS:12,GL_TYPE:16,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},Kd=64,s_={[wt.UNSIGNED_BYTE]:1,[wt.UNSIGNED_SHORT]:2,[wt.INT]:4,[wt.UNSIGNED_INT]:4,[wt.FLOAT]:4,[wt.HALF_FLOAT]:8},Pw={[ht.RGBA]:4,[ht.RGB]:3,[ht.RG]:2,[ht.RED]:1,[ht.LUMINANCE]:1,[ht.LUMINANCE_ALPHA]:2,[ht.ALPHA]:1},Fw={[wt.UNSIGNED_SHORT_4_4_4_4]:2,[wt.UNSIGNED_SHORT_5_5_5_1]:2,[wt.UNSIGNED_SHORT_5_6_5]:2};function Gw(s,t,i=!1){const n=new DataView(t);if(!zw(s,n))return null;const l=n.getUint32(Oi.ENDIANNESS,!0)===Lw,o=n.getUint32(Oi.GL_TYPE,l),h=n.getUint32(Oi.GL_FORMAT,l),c=n.getUint32(Oi.GL_INTERNAL_FORMAT,l),p=n.getUint32(Oi.PIXEL_WIDTH,l),m=n.getUint32(Oi.PIXEL_HEIGHT,l)||1,g=n.getUint32(Oi.PIXEL_DEPTH,l)||1,y=n.getUint32(Oi.NUMBER_OF_ARRAY_ELEMENTS,l)||1,_=n.getUint32(Oi.NUMBER_OF_FACES,l),b=n.getUint32(Oi.NUMBER_OF_MIPMAP_LEVELS,l),T=n.getUint32(Oi.BYTES_OF_KEY_VALUE_DATA,l);if(m===0||g!==1)throw new Error("Only 2D textures are supported");if(_!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(y!==1)throw new Error("WebGL does not support array textures");const w=4,A=4,R=p+3&-4,I=m+3&-4,O=new Array(y);let L=p*m;o===0&&(L=R*I);let B;if(o!==0?s_[o]?B=s_[o]*Pw[h]:B=Fw[o]:B=Tu[c],B===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");const j=i?kw(n,T,l):null;let D=L*B,Y=p,rt=m,at=R,ct=I,z=Kd+T;for(let X=0;X<b;X++){const Z=n.getUint32(z,l);let ot=z+4;for(let x=0;x<y;x++){let M=O[x];M||(M=O[x]=new Array(b)),M[X]={levelID:X,levelWidth:b>1||o!==0?Y:at,levelHeight:b>1||o!==0?rt:ct,levelBuffer:new Uint8Array(t,ot,D)},ot+=D}z+=Z+4,z=z%4!==0?z+4-z%4:z,Y=Y>>1||1,rt=rt>>1||1,at=Y+w-1&-4,ct=rt+A-1&-4,D=at*ct*B}return o!==0?{uncompressed:O.map(X=>{let Z=X[0].levelBuffer,ot=!1;return o===wt.FLOAT?Z=new Float32Array(X[0].levelBuffer.buffer,X[0].levelBuffer.byteOffset,X[0].levelBuffer.byteLength/4):o===wt.UNSIGNED_INT?(ot=!0,Z=new Uint32Array(X[0].levelBuffer.buffer,X[0].levelBuffer.byteOffset,X[0].levelBuffer.byteLength/4)):o===wt.INT&&(ot=!0,Z=new Int32Array(X[0].levelBuffer.buffer,X[0].levelBuffer.byteOffset,X[0].levelBuffer.byteLength/4)),{resource:new Du(Z,{width:X[0].levelWidth,height:X[0].levelHeight}),type:o,format:ot?Hw(h):h}}),kvData:j}:{compressed:O.map(X=>new Wn(null,{format:c,width:p,height:m,levels:b,levelBuffers:X})),kvData:j}}function zw(s,t){for(let i=0;i<n_.length;i++)if(t.getUint8(i)!==n_[i])return console.error(`${s} is not a valid *.ktx file!`),!1;return!0}function Hw(s){switch(s){case ht.RGBA:return ht.RGBA_INTEGER;case ht.RGB:return ht.RGB_INTEGER;case ht.RG:return ht.RG_INTEGER;case ht.RED:return ht.RED_INTEGER;default:return s}}function kw(s,t,i){const n=new Map;let l=0;for(;l<t;){const o=s.getUint32(Kd+l,i),h=Kd+l+4,c=3-(o+3)%4;if(o===0||o>t-l){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}let p=0;for(;p<o&&s.getUint8(h+p)!==0;p++);if(p===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}const m=new TextDecoder().decode(new Uint8Array(s.buffer,h,p)),g=new DataView(s.buffer,h+p+1,o-p-1);n.set(m,g),l+=4+o+c}return n}const Xw={extension:{type:pt.LoadParser,priority:Pi.High},name:"loadDDS",test(s){return yn(s,".dds")},async load(s,t,i){const n=await(await gt.ADAPTER.fetch(s)).arrayBuffer(),l=Uw(n).map(o=>{const h=new It(o,{mipmap:tr.OFF,alphaMode:Je.NO_PREMULTIPLIED_ALPHA,resolution:Dr(s),...t.data});return xl(h,i,s)});return l.length===1?l[0]:l},unload(s){Array.isArray(s)?s.forEach(t=>t.destroy(!0)):s.destroy(!0)}};At.add(Xw);const Vw={extension:{type:pt.LoadParser,priority:Pi.High},name:"loadKTX",test(s){return yn(s,".ktx")},async load(s,t,i){const n=await(await gt.ADAPTER.fetch(s)).arrayBuffer(),{compressed:l,uncompressed:o,kvData:h}=Gw(s,n),c=l??o,p={mipmap:tr.OFF,alphaMode:Je.NO_PREMULTIPLIED_ALPHA,resolution:Dr(s),...t.data},m=c.map(g=>{c===o&&Object.assign(p,{type:g.type,format:g.format});const y=g.resource??g,_=new It(y,p);return _.ktxKeyValueData=h,xl(_,i,s)});return m.length===1?m[0]:m},unload(s){Array.isArray(s)?s.forEach(t=>t.destroy(!0)):s.destroy(!0)}};At.add(Vw);const jw=["s3tc","s3tc_sRGB","etc","etc1","pvrtc","atc","astc","bptc"],qw={extension:pt.ResolveParser,test:s=>{const t=Oe.extname(s).slice(1);return["basis","ktx","dds"].includes(t)},parse:s=>{var n,l;const t=s.split("."),i=t.pop();if(["ktx","dds"].includes(i)){const o=t.pop();if(jw.includes(o))return{resolution:parseFloat(((n=gt.RETINA_PREFIX.exec(s))==null?void 0:n[1])??"1"),format:o,src:s}}return{resolution:parseFloat(((l=gt.RETINA_PREFIX.exec(s))==null?void 0:l[1])??"1"),format:i,src:s}}};At.add(qw);const Jo=new Lt,Yw=4,Dx=class fl{constructor(t){this.renderer=t,this._rendererPremultipliedAlpha=!1}contextChange(){var i;const t=(i=this.renderer)==null?void 0:i.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(t&&t.alpha&&t.premultipliedAlpha)}async image(t,i,n,l){const o=new Image;return o.src=await this.base64(t,i,n,l),o}async base64(t,i,n,l){const o=this.canvas(t,l);if(o.toBlob!==void 0)return new Promise((h,c)=>{o.toBlob(p=>{if(!p){c(new Error("ICanvas.toBlob failed!"));return}const m=new FileReader;m.onload=()=>h(m.result),m.onerror=c,m.readAsDataURL(p)},i,n)});if(o.toDataURL!==void 0)return o.toDataURL(i,n);if(o.convertToBlob!==void 0){const h=await o.convertToBlob({type:i,quality:n});return new Promise((c,p)=>{const m=new FileReader;m.onload=()=>c(m.result),m.onerror=p,m.readAsDataURL(h)})}throw new Error("Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented")}canvas(t,i){const{pixels:n,width:l,height:o,flipY:h,premultipliedAlpha:c}=this._rawPixels(t,i);h&&fl._flipY(n,l,o),c&&fl._unpremultiplyAlpha(n);const p=new CT(l,o,1),m=new ImageData(new Uint8ClampedArray(n.buffer),l,o);return p.context.putImageData(m,0,0),p.canvas}pixels(t,i){const{pixels:n,width:l,height:o,flipY:h,premultipliedAlpha:c}=this._rawPixels(t,i);return h&&fl._flipY(n,l,o),c&&fl._unpremultiplyAlpha(n),n}_rawPixels(t,i){const n=this.renderer;if(!n)throw new Error("The Extract has already been destroyed");let l,o=!1,h=!1,c,p=!1;t&&(t instanceof Jn?c=t:(c=n.generateTexture(t,{region:i,resolution:n.resolution,multisample:n.multisample}),p=!0,i&&(Jo.width=i.width,Jo.height=i.height,i=Jo)));const m=n.gl;if(c){if(l=c.baseTexture.resolution,i=i??c.frame,o=!1,h=c.baseTexture.alphaMode>0&&c.baseTexture.format===ht.RGBA,!p){n.renderTexture.bind(c);const b=c.framebuffer.glFramebuffers[n.CONTEXT_UID];b.blitFramebuffer&&n.framebuffer.bind(b.blitFramebuffer)}}else l=n.resolution,i||(i=Jo,i.width=n.width/l,i.height=n.height/l),o=!0,h=this._rendererPremultipliedAlpha,n.renderTexture.bind();const g=Math.max(Math.round(i.width*l),1),y=Math.max(Math.round(i.height*l),1),_=new Uint8Array(Yw*g*y);return m.readPixels(Math.round(i.x*l),Math.round(i.y*l),g,y,m.RGBA,m.UNSIGNED_BYTE,_),p&&(c==null||c.destroy(!0)),{pixels:_,width:g,height:y,flipY:o,premultipliedAlpha:h}}destroy(){this.renderer=null}static _flipY(t,i,n){const l=i<<2,o=n>>1,h=new Uint8Array(l);for(let c=0;c<o;c++){const p=c*l,m=(n-c-1)*l;h.set(t.subarray(p,p+l)),t.copyWithin(p,m,m+l),t.set(h,m)}}static _unpremultiplyAlpha(t){t instanceof Uint8ClampedArray&&(t=new Uint8Array(t.buffer));const i=t.length;for(let n=0;n<i;n+=4){const l=t[n+3];if(l!==0){const o=255.001/l;t[n]=t[n]*o+.5,t[n+1]=t[n+1]*o+.5,t[n+2]=t[n+2]*o+.5}}}};Dx.extension={name:"extract",type:pt.RendererSystem};let $w=Dx;At.add($w);const Au={build(s){const t=s.points;let i,n,l,o,h,c;if(s.type===Ge.CIRC){const T=s.shape;i=T.x,n=T.y,h=c=T.radius,l=o=0}else if(s.type===Ge.ELIP){const T=s.shape;i=T.x,n=T.y,h=T.width,c=T.height,l=o=0}else{const T=s.shape,w=T.width/2,A=T.height/2;i=T.x+w,n=T.y+A,h=c=Math.max(0,Math.min(T.radius,Math.min(w,A))),l=w-h,o=A-c}if(!(h>=0&&c>=0&&l>=0&&o>=0)){t.length=0;return}const p=Math.ceil(2.3*Math.sqrt(h+c)),m=p*8+(l?4:0)+(o?4:0);if(t.length=m,m===0)return;if(p===0){t.length=8,t[0]=t[6]=i+l,t[1]=t[3]=n+o,t[2]=t[4]=i-l,t[5]=t[7]=n-o;return}let g=0,y=p*4+(l?2:0)+2,_=y,b=m;{const T=l+h,w=o,A=i+T,R=i-T,I=n+w;if(t[g++]=A,t[g++]=I,t[--y]=I,t[--y]=R,o){const O=n-w;t[_++]=R,t[_++]=O,t[--b]=O,t[--b]=A}}for(let T=1;T<p;T++){const w=Math.PI/2*(T/p),A=l+Math.cos(w)*h,R=o+Math.sin(w)*c,I=i+A,O=i-A,L=n+R,B=n-R;t[g++]=I,t[g++]=L,t[--y]=L,t[--y]=O,t[_++]=O,t[_++]=B,t[--b]=B,t[--b]=I}{const T=l,w=o+c,A=i+T,R=i-T,I=n+w,O=n-w;t[g++]=A,t[g++]=I,t[--b]=O,t[--b]=A,l&&(t[g++]=R,t[g++]=I,t[--b]=O,t[--b]=R)}},triangulate(s,t){const i=s.points,n=t.points,l=t.indices;if(i.length===0)return;let o=n.length/2;const h=o;let c,p;if(s.type!==Ge.RREC){const g=s.shape;c=g.x,p=g.y}else{const g=s.shape;c=g.x+g.width/2,p=g.y+g.height/2}const m=s.matrix;n.push(s.matrix?m.a*c+m.c*p+m.tx:c,s.matrix?m.b*c+m.d*p+m.ty:p),o++,n.push(i[0],i[1]);for(let g=2;g<i.length;g+=2)n.push(i[g],i[g+1]),l.push(o++,h,o);l.push(h+1,h,o)}};function a_(s,t=!1){const i=s.length;if(i<6)return;let n=0;for(let l=0,o=s[i-2],h=s[i-1];l<i;l+=2){const c=s[l],p=s[l+1];n+=(c-o)*(p+h),o=c,h=p}if(!t&&n>0||t&&n<=0){const l=i/2;for(let o=l+l%2;o<i;o+=2){const h=i-o-2,c=i-o-1,p=o,m=o+1;[s[h],s[p]]=[s[p],s[h]],[s[c],s[m]]=[s[m],s[c]]}}}const Ox={build(s){s.points=s.shape.points.slice()},triangulate(s,t){let i=s.points;const n=s.holes,l=t.points,o=t.indices;if(i.length>=6){a_(i,!1);const h=[];for(let m=0;m<n.length;m++){const g=n[m];a_(g.points,!0),h.push(i.length/2),i=i.concat(g.points)}const c=SE(i,h,2);if(!c)return;const p=l.length/2;for(let m=0;m<c.length;m+=3)o.push(c[m]+p),o.push(c[m+1]+p),o.push(c[m+2]+p);for(let m=0;m<i.length;m++)l.push(i[m])}}},Ww={build(s){const t=s.shape,i=t.x,n=t.y,l=t.width,o=t.height,h=s.points;h.length=0,l>=0&&o>=0&&h.push(i,n,i+l,n,i+l,n+o,i,n+o)},triangulate(s,t){const i=s.points,n=t.points;if(i.length===0)return;const l=n.length/2;n.push(i[0],i[1],i[2],i[3],i[6],i[7],i[4],i[5]),t.indices.push(l,l+1,l+2,l+1,l+2,l+3)}},Zw={build(s){Au.build(s)},triangulate(s,t){Au.triangulate(s,t)}};var Ti=(s=>(s.MITER="miter",s.BEVEL="bevel",s.ROUND="round",s))(Ti||{}),dn=(s=>(s.BUTT="butt",s.ROUND="round",s.SQUARE="square",s))(dn||{});const ra={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(s,t=20){if(!this.adaptive||!s||isNaN(s))return t;let i=Math.ceil(s/this.maxLength);return i<this.minSegments?i=this.minSegments:i>this.maxSegments&&(i=this.maxSegments),i}};class l_{static curveTo(t,i,n,l,o,h){const c=h[h.length-2],p=h[h.length-1]-i,m=c-t,g=l-i,y=n-t,_=Math.abs(p*y-m*g);if(_<1e-8||o===0)return(h[h.length-2]!==t||h[h.length-1]!==i)&&h.push(t,i),null;const b=p*p+m*m,T=g*g+y*y,w=p*g+m*y,A=o*Math.sqrt(b)/_,R=o*Math.sqrt(T)/_,I=A*w/b,O=R*w/T,L=A*y+R*m,B=A*g+R*p,j=m*(R+I),D=p*(R+I),Y=y*(A+O),rt=g*(A+O),at=Math.atan2(D-B,j-L),ct=Math.atan2(rt-B,Y-L);return{cx:L+t,cy:B+i,radius:o,startAngle:at,endAngle:ct,anticlockwise:m*g>y*p}}static arc(t,i,n,l,o,h,c,p,m){const g=c-h,y=ra._segmentsCount(Math.abs(g)*o,Math.ceil(Math.abs(g)/mu)*40),_=g/(y*2),b=_*2,T=Math.cos(_),w=Math.sin(_),A=y-1,R=A%1/A;for(let I=0;I<=A;++I){const O=I+R*I,L=_+h+b*O,B=Math.cos(L),j=-Math.sin(L);m.push((T*B+w*j)*o+n,(T*-j+w*B)*o+l)}}}class Kw{constructor(){this.reset()}begin(t,i,n){this.reset(),this.style=t,this.start=i,this.attribStart=n}end(t,i){this.attribSize=i-this.attribStart,this.size=t-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}class dp{static curveLength(t,i,n,l,o,h,c,p){let m=0,g=0,y=0,_=0,b=0,T=0,w=0,A=0,R=0,I=0,O=0,L=t,B=i;for(let j=1;j<=10;++j)g=j/10,y=g*g,_=y*g,b=1-g,T=b*b,w=T*b,A=w*t+3*T*g*n+3*b*y*o+_*c,R=w*i+3*T*g*l+3*b*y*h+_*p,I=L-A,O=B-R,L=A,B=R,m+=Math.sqrt(I*I+O*O);return m}static curveTo(t,i,n,l,o,h,c){const p=c[c.length-2],m=c[c.length-1];c.length-=2;const g=ra._segmentsCount(dp.curveLength(p,m,t,i,n,l,o,h));let y=0,_=0,b=0,T=0,w=0;c.push(p,m);for(let A=1,R=0;A<=g;++A)R=A/g,y=1-R,_=y*y,b=_*y,T=R*R,w=T*R,c.push(b*p+3*_*R*t+3*y*T*n+w*o,b*m+3*_*R*i+3*y*T*l+w*h)}}function o_(s,t,i,n,l,o,h,c){const p=s-i*l,m=t-n*l,g=s+i*o,y=t+n*o;let _,b;h?(_=n,b=-i):(_=-n,b=i);const T=p+_,w=m+b,A=g+_,R=y+b;return c.push(T,w,A,R),2}function zn(s,t,i,n,l,o,h,c){const p=i-s,m=n-t;let g=Math.atan2(p,m),y=Math.atan2(l-s,o-t);c&&g<y?g+=Math.PI*2:!c&&g>y&&(y+=Math.PI*2);let _=g;const b=y-g,T=Math.abs(b),w=Math.sqrt(p*p+m*m),A=(15*T*Math.sqrt(w)/Math.PI>>0)+1,R=b/A;if(_+=R,c){h.push(s,t,i,n);for(let I=1,O=_;I<A;I++,O+=R)h.push(s,t,s+Math.sin(O)*w,t+Math.cos(O)*w);h.push(s,t,l,o)}else{h.push(i,n,s,t);for(let I=1,O=_;I<A;I++,O+=R)h.push(s+Math.sin(O)*w,t+Math.cos(O)*w,s,t);h.push(l,o,s,t)}return A*2}function Qw(s,t){const i=s.shape;let n=s.points||i.points.slice();const l=t.closePointEps;if(n.length===0)return;const o=s.lineStyle,h=new Vt(n[0],n[1]),c=new Vt(n[n.length-2],n[n.length-1]),p=i.type!==Ge.POLY||i.closeStroke,m=Math.abs(h.x-c.x)<l&&Math.abs(h.y-c.y)<l;if(p){n=n.slice(),m&&(n.pop(),n.pop(),c.set(n[n.length-2],n[n.length-1]));const M=(h.x+c.x)*.5,C=(c.y+h.y)*.5;n.unshift(M,C),n.push(M,C)}const g=t.points,y=n.length/2;let _=n.length;const b=g.length/2,T=o.width/2,w=T*T,A=o.miterLimit*o.miterLimit;let R=n[0],I=n[1],O=n[2],L=n[3],B=0,j=0,D=-(I-L),Y=R-O,rt=0,at=0,ct=Math.sqrt(D*D+Y*Y);D/=ct,Y/=ct,D*=T,Y*=T;const z=o.alignment,X=(1-z)*2,Z=z*2;p||(o.cap===dn.ROUND?_+=zn(R-D*(X-Z)*.5,I-Y*(X-Z)*.5,R-D*X,I-Y*X,R+D*Z,I+Y*Z,g,!0)+2:o.cap===dn.SQUARE&&(_+=o_(R,I,D,Y,X,Z,!0,g))),g.push(R-D*X,I-Y*X,R+D*Z,I+Y*Z);for(let M=1;M<y-1;++M){R=n[(M-1)*2],I=n[(M-1)*2+1],O=n[M*2],L=n[M*2+1],B=n[(M+1)*2],j=n[(M+1)*2+1],D=-(I-L),Y=R-O,ct=Math.sqrt(D*D+Y*Y),D/=ct,Y/=ct,D*=T,Y*=T,rt=-(L-j),at=O-B,ct=Math.sqrt(rt*rt+at*at),rt/=ct,at/=ct,rt*=T,at*=T;const C=O-R,H=I-L,U=O-B,E=j-L,N=C*U+H*E,F=H*U-E*C,V=F<0;if(Math.abs(F)<.001*Math.abs(N)){g.push(O-D*X,L-Y*X,O+D*Z,L+Y*Z),N>=0&&(o.join===Ti.ROUND?_+=zn(O,L,O-D*X,L-Y*X,O-rt*X,L-at*X,g,!1)+4:_+=2,g.push(O-rt*Z,L-at*Z,O+rt*X,L+at*X));continue}const Q=(-D+R)*(-Y+L)-(-D+O)*(-Y+I),it=(-rt+B)*(-at+L)-(-rt+O)*(-at+j),lt=(C*it-U*Q)/F,dt=(E*Q-H*it)/F,ft=(lt-O)*(lt-O)+(dt-L)*(dt-L),ut=O+(lt-O)*X,yt=L+(dt-L)*X,xt=O-(lt-O)*Z,Dt=L-(dt-L)*Z,Ot=Math.min(C*C+H*H,U*U+E*E),_t=V?X:Z,bt=Ot+_t*_t*w,ue=ft<=bt;let fe=o.join;if(fe===Ti.MITER&&ft/w>A&&(fe=Ti.BEVEL),ue)switch(fe){case Ti.MITER:{g.push(ut,yt,xt,Dt);break}case Ti.BEVEL:{V?g.push(ut,yt,O+D*Z,L+Y*Z,ut,yt,O+rt*Z,L+at*Z):g.push(O-D*X,L-Y*X,xt,Dt,O-rt*X,L-at*X,xt,Dt),_+=2;break}case Ti.ROUND:{V?(g.push(ut,yt,O+D*Z,L+Y*Z),_+=zn(O,L,O+D*Z,L+Y*Z,O+rt*Z,L+at*Z,g,!0)+4,g.push(ut,yt,O+rt*Z,L+at*Z)):(g.push(O-D*X,L-Y*X,xt,Dt),_+=zn(O,L,O-D*X,L-Y*X,O-rt*X,L-at*X,g,!1)+4,g.push(O-rt*X,L-at*X,xt,Dt));break}}else{switch(g.push(O-D*X,L-Y*X,O+D*Z,L+Y*Z),fe){case Ti.MITER:{V?g.push(xt,Dt,xt,Dt):g.push(ut,yt,ut,yt),_+=2;break}case Ti.ROUND:{V?_+=zn(O,L,O+D*Z,L+Y*Z,O+rt*Z,L+at*Z,g,!0)+2:_+=zn(O,L,O-D*X,L-Y*X,O-rt*X,L-at*X,g,!1)+2;break}}g.push(O-rt*X,L-at*X,O+rt*Z,L+at*Z),_+=2}}R=n[(y-2)*2],I=n[(y-2)*2+1],O=n[(y-1)*2],L=n[(y-1)*2+1],D=-(I-L),Y=R-O,ct=Math.sqrt(D*D+Y*Y),D/=ct,Y/=ct,D*=T,Y*=T,g.push(O-D*X,L-Y*X,O+D*Z,L+Y*Z),p||(o.cap===dn.ROUND?_+=zn(O-D*(X-Z)*.5,L-Y*(X-Z)*.5,O-D*X,L-Y*X,O+D*Z,L+Y*Z,g,!1)+2:o.cap===dn.SQUARE&&(_+=o_(O,L,D,Y,X,Z,!1,g)));const ot=t.indices,x=ra.epsilon*ra.epsilon;for(let M=b;M<_+b-2;++M)R=g[M*2],I=g[M*2+1],O=g[(M+1)*2],L=g[(M+1)*2+1],B=g[(M+2)*2],j=g[(M+2)*2+1],!(Math.abs(R*(L-j)+O*(j-I)+B*(I-L))<x)&&ot.push(M,M+1,M+2)}function Jw(s,t){let i=0;const n=s.shape,l=s.points||n.points,o=n.type!==Ge.POLY||n.closeStroke;if(l.length===0)return;const h=t.points,c=t.indices,p=l.length/2,m=h.length/2;let g=m;for(h.push(l[0],l[1]),i=1;i<p;i++)h.push(l[i*2],l[i*2+1]),c.push(g,g+1),g++;o&&c.push(g,m)}function u_(s,t){s.lineStyle.native?Jw(s,t):Qw(s,t)}class pp{static curveLength(t,i,n,l,o,h){const c=t-2*n+o,p=i-2*l+h,m=2*n-2*t,g=2*l-2*i,y=4*(c*c+p*p),_=4*(c*m+p*g),b=m*m+g*g,T=2*Math.sqrt(y+_+b),w=Math.sqrt(y),A=2*y*w,R=2*Math.sqrt(b),I=_/w;return(A*T+w*_*(T-R)+(4*b*y-_*_)*Math.log((2*w+I+T)/(I+R)))/(4*A)}static curveTo(t,i,n,l,o){const h=o[o.length-2],c=o[o.length-1],p=ra._segmentsCount(pp.curveLength(h,c,t,i,n,l));let m=0,g=0;for(let y=1;y<=p;++y){const _=y/p;m=h+(t-h)*_,g=c+(i-c)*_,o.push(m+(t+(n-t)*_-m)*_,g+(i+(l-i)*_-g)*_)}}}const pd={[Ge.POLY]:Ox,[Ge.CIRC]:Au,[Ge.ELIP]:Au,[Ge.RECT]:Ww,[Ge.RREC]:Zw},h_=[],tu=[];class Su{constructor(t,i=null,n=null,l=null){this.points=[],this.holes=[],this.shape=t,this.lineStyle=n,this.fillStyle=i,this.matrix=l,this.type=t.type}clone(){return new Su(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}const Xs=new Vt,Bx=class Nx extends P_{constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new xu,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let t=0;t<this.drawCalls.length;t++)this.drawCalls[t].texArray.clear(),tu.push(this.drawCalls[t]);this.drawCalls.length=0;for(let t=0;t<this.batches.length;t++){const i=this.batches[t];i.reset(),h_.push(i)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(t,i=null,n=null,l=null){const o=new Su(t,i,n,l);return this.graphicsData.push(o),this.dirty++,this}drawHole(t,i=null){if(!this.graphicsData.length)return null;const n=new Su(t,null,null,i),l=this.graphicsData[this.graphicsData.length-1];return n.lineStyle=l.lineStyle,l.holes.push(n),this.dirty++,this}destroy(){super.destroy();for(let t=0;t<this.graphicsData.length;++t)this.graphicsData[t].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(t){const i=this.graphicsData;for(let n=0;n<i.length;++n){const l=i[n];if(l.fillStyle.visible&&l.shape&&(l.matrix?l.matrix.applyInverse(t,Xs):Xs.copyFrom(t),l.shape.contains(Xs.x,Xs.y))){let o=!1;if(l.holes){for(let h=0;h<l.holes.length;h++)if(l.holes[h].shape.contains(Xs.x,Xs.y)){o=!0;break}}if(!o)return!0}}return!1}updateBatches(){if(!this.graphicsData.length){this.batchable=!0;return}if(!this.validateBatching())return;this.cacheDirty=this.dirty;const t=this.uvs,i=this.graphicsData;let n=null,l=null;this.batches.length>0&&(n=this.batches[this.batches.length-1],l=n.style);for(let p=this.shapeIndex;p<i.length;p++){this.shapeIndex++;const m=i[p],g=m.fillStyle,y=m.lineStyle;pd[m.type].build(m),m.matrix&&this.transformPoints(m.points,m.matrix),(g.visible||y.visible)&&this.processHoles(m.holes);for(let _=0;_<2;_++){const b=_===0?g:y;if(!b.visible)continue;const T=b.texture.baseTexture,w=this.indices.length,A=this.points.length/2;T.wrapMode=pn.REPEAT,_===0?this.processFill(m):this.processLine(m);const R=this.points.length/2-A;R!==0&&(n&&!this._compareStyles(l,b)&&(n.end(w,A),n=null),n||(n=h_.pop()||new Kw,n.begin(b,w,A),this.batches.push(n),l=b),this.addUvs(this.points,t,b.texture,A,R,b.matrix))}}const o=this.indices.length,h=this.points.length/2;if(n&&n.end(o,h),this.batches.length===0){this.batchable=!0;return}const c=h>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&c===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=c?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(t,i){return!(!t||!i||t.texture.baseTexture!==i.texture.baseTexture||t.color+t.alpha!==i.color+i.alpha||!!t.native!=!!i.native)}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let t=0,i=this.graphicsData.length;t<i;t++){const n=this.graphicsData[t],l=n.fillStyle,o=n.lineStyle;if(l&&!l.texture.baseTexture.valid||o&&!o.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);const t=this.batches;for(let i=0,n=t.length;i<n;i++){const l=t[i];for(let o=0;o<l.size;o++){const h=l.start+o;this.indicesUint16[h]=this.indicesUint16[h]-l.attribStart}}}isBatchable(){if(this.points.length>65535*2)return!1;const t=this.batches;for(let i=0;i<t.length;i++)if(t[i].style.native)return!1;return this.points.length<Nx.BATCHABLE_SIZE*2}buildDrawCalls(){let t=++It._globalBatch;for(let y=0;y<this.drawCalls.length;y++)this.drawCalls[y].texArray.clear(),tu.push(this.drawCalls[y]);this.drawCalls.length=0;const i=this.colors,n=this.textureIds;let l=tu.pop();l||(l=new Md,l.texArray=new Nd),l.texArray.count=0,l.start=0,l.size=0,l.type=Ki.TRIANGLES;let o=0,h=null,c=0,p=!1,m=Ki.TRIANGLES,g=0;this.drawCalls.push(l);for(let y=0;y<this.batches.length;y++){const _=this.batches[y],b=8,T=_.style,w=T.texture.baseTexture;p!==!!T.native&&(p=!!T.native,m=p?Ki.LINES:Ki.TRIANGLES,h=null,o=b,t++),h!==w&&(h=w,w._batchEnabled!==t&&(o===b&&(t++,o=0,l.size>0&&(l=tu.pop(),l||(l=new Md,l.texArray=new Nd),this.drawCalls.push(l)),l.start=g,l.size=0,l.texArray.count=0,l.type=m),w.touched=1,w._batchEnabled=t,w._batchLocation=o,w.wrapMode=pn.REPEAT,l.texArray.elements[l.texArray.count++]=w,o++)),l.size+=_.size,g+=_.size,c=w._batchLocation,this.addColors(i,T.color,T.alpha,_.attribSize,_.attribStart),this.addTextureIds(n,c,_.attribSize,_.attribStart)}It._globalBatch=t,this.packAttributes()}packAttributes(){const t=this.points,i=this.uvs,n=this.colors,l=this.textureIds,o=new ArrayBuffer(t.length*3*4),h=new Float32Array(o),c=new Uint32Array(o);let p=0;for(let m=0;m<t.length/2;m++)h[p++]=t[m*2],h[p++]=t[m*2+1],h[p++]=i[m*2],h[p++]=i[m*2+1],c[p++]=n[m],h[p++]=l[m];this._buffer.update(o),this._indexBuffer.update(this.indicesUint16)}processFill(t){t.holes.length?Ox.triangulate(t,this):pd[t.type].triangulate(t,this)}processLine(t){u_(t,this);for(let i=0;i<t.holes.length;i++)u_(t.holes[i],this)}processHoles(t){for(let i=0;i<t.length;i++){const n=t[i];pd[n.type].build(n),n.matrix&&this.transformPoints(n.points,n.matrix)}}calculateBounds(){const t=this._bounds;t.clear(),t.addVertexData(this.points,0,this.points.length),t.pad(this.boundsPadding,this.boundsPadding)}transformPoints(t,i){for(let n=0;n<t.length/2;n++){const l=t[n*2],o=t[n*2+1];t[n*2]=i.a*l+i.c*o+i.tx,t[n*2+1]=i.b*l+i.d*o+i.ty}}addColors(t,i,n,l,o=0){const h=ae.shared.setValue(i).toLittleEndianNumber(),c=ae.shared.setValue(h).toPremultiplied(n);t.length=Math.max(t.length,o+l);for(let p=0;p<l;p++)t[o+p]=c}addTextureIds(t,i,n,l=0){t.length=Math.max(t.length,l+n);for(let o=0;o<n;o++)t[l+o]=i}addUvs(t,i,n,l,o,h=null){let c=0;const p=i.length,m=n.frame;for(;c<o;){let y=t[(l+c)*2],_=t[(l+c)*2+1];if(h){const b=h.a*y+h.c*_+h.tx;_=h.b*y+h.d*_+h.ty,y=b}c++,i.push(y/m.width,_/m.height)}const g=n.baseTexture;(m.width<g.width||m.height<g.height)&&this.adjustUvs(i,n,p,o)}adjustUvs(t,i,n,l){const o=i.baseTexture,h=1e-6,c=n+l*2,p=i.frame,m=p.width/o.width,g=p.height/o.height;let y=p.x/p.width,_=p.y/p.height,b=Math.floor(t[n]+h),T=Math.floor(t[n+1]+h);for(let w=n+2;w<c;w+=2)b=Math.min(b,Math.floor(t[w]+h)),T=Math.min(T,Math.floor(t[w+1]+h));y-=b,_-=T;for(let w=n;w<c;w+=2)t[w]=(t[w]+y)*m,t[w+1]=(t[w+1]+_)*g}};Bx.BATCHABLE_SIZE=100;let tC=Bx;class Lu{constructor(){this.color=16777215,this.alpha=1,this.texture=Tt.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){const t=new Lu;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t}reset(){this.color=16777215,this.alpha=1,this.texture=Tt.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}}class mp extends Lu{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=dn.BUTT,this.join=Ti.MITER,this.miterLimit=10}clone(){const t=new mp;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t.width=this.width,t.alignment=this.alignment,t.native=this.native,t.cap=this.cap,t.join=this.join,t.miterLimit=this.miterLimit,t}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1,this.cap=dn.BUTT,this.join=Ti.MITER,this.miterLimit=10}}const md={},Qd=class uu extends ti{constructor(t=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new Lu,this._lineStyle=new mp,this._matrix=null,this._holeMode=!1,this.state=er.for2d(),this._geometry=t||new tC,this._geometry.refCount++,this._transformID=-1,this._tintColor=new ae(16777215),this.blendMode=Rt.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new uu(this._geometry)}set blendMode(t){this.state.blendMode=t}get blendMode(){return this.state.blendMode}get tint(){return this._tintColor.value}set tint(t){this._tintColor.setValue(t)}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(t=null,i=0,n,l=.5,o=!1){return typeof t=="number"&&(t={width:t,color:i,alpha:n,alignment:l,native:o}),this.lineTextureStyle(t)}lineTextureStyle(t){const i={width:0,texture:Tt.WHITE,color:t!=null&&t.texture?16777215:0,matrix:null,alignment:.5,native:!1,cap:dn.BUTT,join:Ti.MITER,miterLimit:10};t=Object.assign(i,t),this.normalizeColor(t),this.currentPath&&this.startPoly();const n=t.width>0&&t.alpha>0;return n?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._lineStyle,{visible:n},t)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){const t=this.currentPath.points,i=this.currentPath.points.length;i>2&&(this.drawShape(this.currentPath),this.currentPath=new $n,this.currentPath.closeStroke=!1,this.currentPath.points.push(t[i-2],t[i-1]))}else this.currentPath=new $n,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(t,i){return this.startPoly(),this.currentPath.points[0]=t,this.currentPath.points[1]=i,this}lineTo(t,i){this.currentPath||this.moveTo(0,0);const n=this.currentPath.points,l=n[n.length-2],o=n[n.length-1];return(l!==t||o!==i)&&n.push(t,i),this}_initCurve(t=0,i=0){this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[t,i]):this.moveTo(t,i)}quadraticCurveTo(t,i,n,l){this._initCurve();const o=this.currentPath.points;return o.length===0&&this.moveTo(0,0),pp.curveTo(t,i,n,l,o),this}bezierCurveTo(t,i,n,l,o,h){return this._initCurve(),dp.curveTo(t,i,n,l,o,h,this.currentPath.points),this}arcTo(t,i,n,l,o){this._initCurve(t,i);const h=this.currentPath.points,c=l_.curveTo(t,i,n,l,o,h);if(c){const{cx:p,cy:m,radius:g,startAngle:y,endAngle:_,anticlockwise:b}=c;this.arc(p,m,g,y,_,b)}return this}arc(t,i,n,l,o,h=!1){if(l===o)return this;if(!h&&o<=l?o+=mu:h&&l<=o&&(l+=mu),o-l===0)return this;const c=t+Math.cos(l)*n,p=i+Math.sin(l)*n,m=this._geometry.closePointEps;let g=this.currentPath?this.currentPath.points:null;if(g){const y=Math.abs(g[g.length-2]-c),_=Math.abs(g[g.length-1]-p);y<m&&_<m||g.push(c,p)}else this.moveTo(c,p),g=this.currentPath.points;return l_.arc(c,p,t,i,n,l,o,h,g),this}beginFill(t=0,i){return this.beginTextureFill({texture:Tt.WHITE,color:t,alpha:i})}normalizeColor(t){const i=ae.shared.setValue(t.color??0);t.color=i.toNumber(),t.alpha??(t.alpha=i.alpha)}beginTextureFill(t){const i={texture:Tt.WHITE,color:16777215,matrix:null};t=Object.assign(i,t),this.normalizeColor(t),this.currentPath&&this.startPoly();const n=t.alpha>0;return n?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._fillStyle,{visible:n},t)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(t,i,n,l){return this.drawShape(new Lt(t,i,n,l))}drawRoundedRect(t,i,n,l,o){return this.drawShape(new Nu(t,i,n,l,o))}drawCircle(t,i,n){return this.drawShape(new Ou(t,i,n))}drawEllipse(t,i,n,l){return this.drawShape(new Bu(t,i,n,l))}drawPolygon(...t){let i,n=!0;const l=t[0];l.points?(n=l.closeStroke,i=l.points):Array.isArray(t[0])?i=t[0]:i=t;const o=new $n(i);return o.closeStroke=n,this.drawShape(o),this}drawShape(t){return this._holeMode?this._geometry.drawHole(t,this._matrix):this._geometry.drawShape(t,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){const t=this._geometry.graphicsData;return t.length===1&&t[0].shape.type===Ge.RECT&&!t[0].matrix&&!t[0].holes.length&&!(t[0].lineStyle.visible&&t[0].lineStyle.width)}_render(t){this.finishPoly();const i=this._geometry;i.updateBatches(),i.batchable?(this.batchDirty!==i.batchDirty&&this._populateBatches(),this._renderBatched(t)):(t.batch.flush(),this._renderDirect(t))}_populateBatches(){const t=this._geometry,i=this.blendMode,n=t.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=t.batchDirty,this.batches.length=n,this.vertexData=new Float32Array(t.points);for(let l=0;l<n;l++){const o=t.batches[l],h=o.style.color,c=new Float32Array(this.vertexData.buffer,o.attribStart*4*2,o.attribSize*2),p=new Float32Array(t.uvsFloat32.buffer,o.attribStart*4*2,o.attribSize*2),m=new Uint16Array(t.indicesUint16.buffer,o.start*2,o.size),g={vertexData:c,blendMode:i,indices:m,uvs:p,_batchRGB:ae.shared.setValue(h).toRgbArray(),_tintRGB:h,_texture:o.style.texture,alpha:o.style.alpha,worldAlpha:1};this.batches[l]=g}}_renderBatched(t){if(this.batches.length){t.batch.setObjectRenderer(t.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let i=0,n=this.batches.length;i<n;i++){const l=this.batches[i];l.worldAlpha=this.worldAlpha*l.alpha,t.plugins[this.pluginName].render(l)}}}_renderDirect(t){const i=this._resolveDirectShader(t),n=this._geometry,l=this.worldAlpha,o=i.uniforms,h=n.drawCalls;o.translationMatrix=this.transform.worldTransform,ae.shared.setValue(this._tintColor).premultiply(l).toArray(o.tint),t.shader.bind(i),t.geometry.bind(n,i),t.state.set(this.state);for(let c=0,p=h.length;c<p;c++)this._renderDrawCallDirect(t,n.drawCalls[c])}_renderDrawCallDirect(t,i){const{texArray:n,type:l,size:o,start:h}=i,c=n.count;for(let p=0;p<c;p++)t.texture.bind(n.elements[p],p);t.geometry.draw(l,o,h)}_resolveDirectShader(t){let i=this.shader;const n=this.pluginName;if(!i){if(!md[n]){const{maxTextures:l}=t.plugins[n],o=new Int32Array(l);for(let p=0;p<l;p++)o[p]=p;const h={tint:new Float32Array([1,1,1,1]),translationMatrix:new le,default:Li.from({uSamplers:o},!0)},c=t.plugins[n]._shader.program;md[n]=new Ji(c,h)}i=md[n]}return i}_calculateBounds(){this.finishPoly();const t=this._geometry;if(!t.graphicsData.length)return;const{minX:i,minY:n,maxX:l,maxY:o}=t.bounds;this._bounds.addFrame(this.transform,i,n,l,o)}containsPoint(t){return this.worldTransform.applyInverse(t,uu._TEMP_POINT),this._geometry.containsPoint(uu._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this._tintColor.toNumber();for(let t=0;t<this.batches.length;t++){const i=this.batches[t];i._tintRGB=ae.shared.setValue(this._tintColor).multiply(i._batchRGB).toLittleEndianNumber()}}}calculateVertices(){const t=this.transform._worldID;if(this._transformID===t)return;this._transformID=t;const i=this.transform.worldTransform,n=i.a,l=i.b,o=i.c,h=i.d,c=i.tx,p=i.ty,m=this._geometry.points,g=this.vertexData;let y=0;for(let _=0;_<m.length;_+=2){const b=m[_],T=m[_+1];g[y++]=n*b+o*T+c,g[y++]=h*T+l*b+p}}closePath(){const t=this.currentPath;return t&&(t.closeStroke=!0,this.finishPoly()),this}setMatrix(t){return this._matrix=t,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(t){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(t)}};Qd.curves=ra,Qd._TEMP_POINT=new Vt;let gl=Qd;class eC{constructor(t,i){this.uvBuffer=t,this.uvMatrix=i,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(t){if(!t&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;const i=this.uvBuffer.data;(!this.data||this.data.length!==i.length)&&(this.data=new Float32Array(i.length)),this.uvMatrix.multiplyUvs(i,this.data),this._updateID++}}const gd=new Vt,c_=new $n,Ix=class Ux extends ti{constructor(t,i,n,l=Ki.TRIANGLES){super(),this.geometry=t,this.shader=i,this.state=n||er.for2d(),this.drawMode=l,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=gt.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(t){this._geometry!==t&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=t,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(t){this.shader=t}get material(){return this.shader}set blendMode(t){this.state.blendMode=t}get blendMode(){return this.state.blendMode}set roundPixels(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(t){this.shader.tint=t}get tintValue(){return this.shader.tintValue}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(t){this.shader.texture=t}_render(t){const i=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===Ki.TRIANGLES&&i.length<Ux.BATCHABLE_SIZE*2?this._renderToBatch(t):this._renderDefault(t)}_renderDefault(t){const i=this.shader;i.alpha=this.worldAlpha,i.update&&i.update(),t.batch.flush(),i.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),t.shader.bind(i),t.state.set(this.state),t.geometry.bind(this.geometry,i),t.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(t){const i=this.geometry,n=this.shader;n.uvMatrix&&(n.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=i.indexBuffer.data,this._tintRGB=n._tintRGB,this._texture=n.texture;const l=this.material.pluginName;t.batch.setObjectRenderer(t.plugins[l]),t.plugins[l].render(this)}calculateVertices(){const t=this.geometry.buffers[0],i=t.data,n=t._updateID;if(n===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==i.length&&(this.vertexData=new Float32Array(i.length));const l=this.transform.worldTransform,o=l.a,h=l.b,c=l.c,p=l.d,m=l.tx,g=l.ty,y=this.vertexData;for(let _=0;_<y.length/2;_++){const b=i[_*2],T=i[_*2+1];y[_*2]=o*b+c*T+m,y[_*2+1]=h*b+p*T+g}if(this._roundPixels){const _=gt.RESOLUTION;for(let b=0;b<y.length;++b)y[b]=Math.round(y[b]*_)/_}this.vertexDirty=n}calculateUvs(){const t=this.geometry.buffers[1],i=this.shader;i.uvMatrix.isSimple?this.uvs=t.data:(this.batchUvs||(this.batchUvs=new eC(t,i.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,gd);const i=this.geometry.getBuffer("aVertexPosition").data,n=c_.points,l=this.geometry.getIndex().data,o=l.length,h=this.drawMode===4?3:1;for(let c=0;c+2<o;c+=h){const p=l[c]*2,m=l[c+1]*2,g=l[c+2]*2;if(n[0]=i[p],n[1]=i[p+1],n[2]=i[m],n[3]=i[m+1],n[4]=i[g],n[5]=i[g+1],c_.contains(gd.x,gd.y))return!0}return!1}destroy(t){super.destroy(t),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}};Ix.BATCHABLE_SIZE=100;let f_=Ix;class iC extends mn{constructor(t,i,n){super();const l=new ve(t),o=new ve(i,!0),h=new ve(n,!0,!0);this.addAttribute("aVertexPosition",l,2,!1,wt.FLOAT).addAttribute("aTextureCoord",o,2,!1,wt.FLOAT).addIndex(h),this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}}var rC=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,nC=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`;class d_ extends Ji{constructor(t,i){const n={uSampler:t,alpha:1,uTextureMatrix:le.IDENTITY,uColor:new Float32Array([1,1,1,1])};i=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},i),i.uniforms&&Object.assign(n,i.uniforms),super(i.program||Rr.from(nC,rC),n),this._colorDirty=!1,this.uvMatrix=new K_(t),this.batchable=i.program===void 0,this.pluginName=i.pluginName,this._tintColor=new ae(i.tint),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0,this.alpha=i.alpha}get texture(){return this.uniforms.uSampler}set texture(t){this.uniforms.uSampler!==t&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!t.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=t,this.uvMatrix.texture=t)}set alpha(t){t!==this._alpha&&(this._alpha=t,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(t){t!==this.tint&&(this._tintColor.setValue(t),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0)}get tint(){return this._tintColor.value}get tintValue(){return this._tintColor.toNumber()}update(){if(this._colorDirty){this._colorDirty=!1;const t=this.texture.baseTexture.alphaMode;ae.shared.setValue(this._tintColor).premultiply(this._alpha,t).toArray(this.uniforms.uColor)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}class p_{constructor(t,i,n){this.geometry=new mn,this.indexBuffer=null,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(let l=0;l<t.length;++l){let o=t[l];o={attributeName:o.attributeName,size:o.size,uploadFunction:o.uploadFunction,type:o.type||wt.FLOAT,offset:o.offset},i[l]?this.dynamicProperties.push(o):this.staticProperties.push(o)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){const t=this.geometry;let i=0;this.indexBuffer=new ve(ST(this.size),!0,!0),t.addIndex(this.indexBuffer),this.dynamicStride=0;for(let h=0;h<this.dynamicProperties.length;++h){const c=this.dynamicProperties[h];c.offset=i,i+=c.size,this.dynamicStride+=c.size}const n=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(n),this.dynamicDataUint32=new Uint32Array(n),this.dynamicBuffer=new ve(this.dynamicData,!1,!1);let l=0;this.staticStride=0;for(let h=0;h<this.staticProperties.length;++h){const c=this.staticProperties[h];c.offset=l,l+=c.size,this.staticStride+=c.size}const o=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(o),this.staticDataUint32=new Uint32Array(o),this.staticBuffer=new ve(this.staticData,!0,!1);for(let h=0;h<this.dynamicProperties.length;++h){const c=this.dynamicProperties[h];t.addAttribute(c.attributeName,this.dynamicBuffer,0,c.type===wt.UNSIGNED_BYTE,c.type,this.dynamicStride*4,c.offset*4)}for(let h=0;h<this.staticProperties.length;++h){const c=this.staticProperties[h];t.addAttribute(c.attributeName,this.staticBuffer,0,c.type===wt.UNSIGNED_BYTE,c.type,this.staticStride*4,c.offset*4)}}uploadDynamic(t,i,n){for(let l=0;l<this.dynamicProperties.length;l++){const o=this.dynamicProperties[l];o.uploadFunction(t,i,n,o.type===wt.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,o.offset)}this.dynamicBuffer._updateID++}uploadStatic(t,i,n){for(let l=0;l<this.staticProperties.length;l++){const o=this.staticProperties[l];o.uploadFunction(t,i,n,o.type===wt.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,o.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}var sC=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,aC=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`;class Lx extends Iu{constructor(t){super(t),this.shader=null,this.properties=null,this.tempMatrix=new le,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:wt.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=Ji.from(aC,sC,{}),this.state=er.for2d()}render(t){const i=t.children,n=t._maxSize,l=t._batchSize,o=this.renderer;let h=i.length;if(h===0)return;h>n&&!t.autoResize&&(h=n);let c=t._buffers;c||(c=t._buffers=this.generateBuffers(t));const p=i[0]._texture.baseTexture,m=p.alphaMode>0;this.state.blendMode=I_(t.blendMode,m),o.state.set(this.state);const g=o.gl,y=t.worldTransform.copyTo(this.tempMatrix);y.prepend(o.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=y.toArray(!0),this.shader.uniforms.uColor=ae.shared.setValue(t.tintRgb).premultiply(t.worldAlpha,m).toArray(this.shader.uniforms.uColor),this.shader.uniforms.uSampler=p,this.renderer.shader.bind(this.shader);let _=!1;for(let b=0,T=0;b<h;b+=l,T+=1){let w=h-b;w>l&&(w=l),T>=c.length&&c.push(this._generateOneMoreBuffer(t));const A=c[T];A.uploadDynamic(i,b,w);const R=t._bufferUpdateIDs[T]||0;_=_||A._updateID<R,_&&(A._updateID=t._updateID,A.uploadStatic(i,b,w)),o.geometry.bind(A.geometry),g.drawElements(g.TRIANGLES,w*6,g.UNSIGNED_SHORT,0)}}generateBuffers(t){const i=[],n=t._maxSize,l=t._batchSize,o=t._properties;for(let h=0;h<n;h+=l)i.push(new p_(this.properties,o,l));return i}_generateOneMoreBuffer(t){const i=t._batchSize,n=t._properties;return new p_(this.properties,n,i)}uploadVertices(t,i,n,l,o,h){let c=0,p=0,m=0,g=0;for(let y=0;y<n;++y){const _=t[i+y],b=_._texture,T=_.scale.x,w=_.scale.y,A=b.trim,R=b.orig;A?(p=A.x-_.anchor.x*R.width,c=p+A.width,g=A.y-_.anchor.y*R.height,m=g+A.height):(c=R.width*(1-_.anchor.x),p=R.width*-_.anchor.x,m=R.height*(1-_.anchor.y),g=R.height*-_.anchor.y),l[h]=p*T,l[h+1]=g*w,l[h+o]=c*T,l[h+o+1]=g*w,l[h+o*2]=c*T,l[h+o*2+1]=m*w,l[h+o*3]=p*T,l[h+o*3+1]=m*w,h+=o*4}}uploadPosition(t,i,n,l,o,h){for(let c=0;c<n;c++){const p=t[i+c].position;l[h]=p.x,l[h+1]=p.y,l[h+o]=p.x,l[h+o+1]=p.y,l[h+o*2]=p.x,l[h+o*2+1]=p.y,l[h+o*3]=p.x,l[h+o*3+1]=p.y,h+=o*4}}uploadRotation(t,i,n,l,o,h){for(let c=0;c<n;c++){const p=t[i+c].rotation;l[h]=p,l[h+o]=p,l[h+o*2]=p,l[h+o*3]=p,h+=o*4}}uploadUvs(t,i,n,l,o,h){for(let c=0;c<n;++c){const p=t[i+c]._texture._uvs;p?(l[h]=p.x0,l[h+1]=p.y0,l[h+o]=p.x1,l[h+o+1]=p.y1,l[h+o*2]=p.x2,l[h+o*2+1]=p.y2,l[h+o*3]=p.x3,l[h+o*3+1]=p.y3,h+=o*4):(l[h]=0,l[h+1]=0,l[h+o]=0,l[h+o+1]=0,l[h+o*2]=0,l[h+o*2+1]=0,l[h+o*3]=0,l[h+o*3+1]=0,h+=o*4)}}uploadTint(t,i,n,l,o,h){for(let c=0;c<n;++c){const p=t[i+c],m=ae.shared.setValue(p._tintRGB).toPremultiplied(p.alpha,p.texture.baseTexture.alphaMode>0);l[h]=m,l[h+o]=m,l[h+o*2]=m,l[h+o*3]=m,h+=o*4}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}Lx.extension={name:"particle",type:pt.RendererPlugin};At.add(Lx);var Pu=(s=>(s[s.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",s[s.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",s))(Pu||{});const eu={willReadFrequently:!0},$i=class St{static get experimentalLetterSpacingSupported(){let t=St._experimentalLetterSpacingSupported;if(t!==void 0){const i=gt.ADAPTER.getCanvasRenderingContext2D().prototype;t=St._experimentalLetterSpacingSupported="letterSpacing"in i||"textLetterSpacing"in i}return t}constructor(t,i,n,l,o,h,c,p,m){this.text=t,this.style=i,this.width=n,this.height=l,this.lines=o,this.lineWidths=h,this.lineHeight=c,this.maxLineWidth=p,this.fontProperties=m}static measureText(t,i,n,l=St._canvas){n=n??i.wordWrap;const o=i.toFontString(),h=St.measureFont(o);h.fontSize===0&&(h.fontSize=i.fontSize,h.ascent=i.fontSize);const c=l.getContext("2d",eu);c.font=o;const p=(n?St.wordWrap(t,i,l):t).split(/(?:\r\n|\r|\n)/),m=new Array(p.length);let g=0;for(let T=0;T<p.length;T++){const w=St._measureText(p[T],i.letterSpacing,c);m[T]=w,g=Math.max(g,w)}let y=g+i.strokeThickness;i.dropShadow&&(y+=i.dropShadowDistance);const _=i.lineHeight||h.fontSize+i.strokeThickness;let b=Math.max(_,h.fontSize+i.strokeThickness*2)+i.leading+(p.length-1)*(_+i.leading);return i.dropShadow&&(b+=i.dropShadowDistance),new St(t,i,y,b,p,m,_+i.leading,g,h)}static _measureText(t,i,n){let l=!1;St.experimentalLetterSpacingSupported&&(St.experimentalLetterSpacing?(n.letterSpacing=`${i}px`,n.textLetterSpacing=`${i}px`,l=!0):(n.letterSpacing="0px",n.textLetterSpacing="0px"));let o=n.measureText(t).width;return o>0&&(l?o-=i:o+=(St.graphemeSegmenter(t).length-1)*i),o}static wordWrap(t,i,n=St._canvas){const l=n.getContext("2d",eu);let o=0,h="",c="";const p=Object.create(null),{letterSpacing:m,whiteSpace:g}=i,y=St.collapseSpaces(g),_=St.collapseNewlines(g);let b=!y;const T=i.wordWrapWidth+m,w=St.tokenize(t);for(let A=0;A<w.length;A++){let R=w[A];if(St.isNewline(R)){if(!_){c+=St.addLine(h),b=!y,h="",o=0;continue}R=" "}if(y){const O=St.isBreakingSpace(R),L=St.isBreakingSpace(h[h.length-1]);if(O&&L)continue}const I=St.getFromCache(R,m,p,l);if(I>T)if(h!==""&&(c+=St.addLine(h),h="",o=0),St.canBreakWords(R,i.breakWords)){const O=St.wordWrapSplit(R);for(let L=0;L<O.length;L++){let B=O[L],j=B,D=1;for(;O[L+D];){const rt=O[L+D];if(!St.canBreakChars(j,rt,R,L,i.breakWords))B+=rt;else break;j=rt,D++}L+=D-1;const Y=St.getFromCache(B,m,p,l);Y+o>T&&(c+=St.addLine(h),b=!1,h="",o=0),h+=B,o+=Y}}else{h.length>0&&(c+=St.addLine(h),h="",o=0);const O=A===w.length-1;c+=St.addLine(R,!O),b=!1,h="",o=0}else I+o>T&&(b=!1,c+=St.addLine(h),h="",o=0),(h.length>0||!St.isBreakingSpace(R)||b)&&(h+=R,o+=I)}return c+=St.addLine(h,!1),c}static addLine(t,i=!0){return t=St.trimRight(t),t=i?`${t}
`:t,t}static getFromCache(t,i,n,l){let o=n[t];return typeof o!="number"&&(o=St._measureText(t,i,l)+i,n[t]=o),o}static collapseSpaces(t){return t==="normal"||t==="pre-line"}static collapseNewlines(t){return t==="normal"}static trimRight(t){if(typeof t!="string")return"";for(let i=t.length-1;i>=0;i--){const n=t[i];if(!St.isBreakingSpace(n))break;t=t.slice(0,-1)}return t}static isNewline(t){return typeof t!="string"?!1:St._newlines.includes(t.charCodeAt(0))}static isBreakingSpace(t,i){return typeof t!="string"?!1:St._breakingSpaces.includes(t.charCodeAt(0))}static tokenize(t){const i=[];let n="";if(typeof t!="string")return i;for(let l=0;l<t.length;l++){const o=t[l],h=t[l+1];if(St.isBreakingSpace(o,h)||St.isNewline(o)){n!==""&&(i.push(n),n=""),i.push(o);continue}n+=o}return n!==""&&i.push(n),i}static canBreakWords(t,i){return i}static canBreakChars(t,i,n,l,o){return!0}static wordWrapSplit(t){return St.graphemeSegmenter(t)}static measureFont(t){if(St._fonts[t])return St._fonts[t];const i={ascent:0,descent:0,fontSize:0},n=St._canvas,l=St._context;l.font=t;const o=St.METRICS_STRING+St.BASELINE_SYMBOL,h=Math.ceil(l.measureText(o).width);let c=Math.ceil(l.measureText(St.BASELINE_SYMBOL).width);const p=Math.ceil(St.HEIGHT_MULTIPLIER*c);if(c=c*St.BASELINE_MULTIPLIER|0,h===0||p===0)return St._fonts[t]=i,i;n.width=h,n.height=p,l.fillStyle="#f00",l.fillRect(0,0,h,p),l.font=t,l.textBaseline="alphabetic",l.fillStyle="#000",l.fillText(o,0,c);const m=l.getImageData(0,0,h,p).data,g=m.length,y=h*4;let _=0,b=0,T=!1;for(_=0;_<c;++_){for(let w=0;w<y;w+=4)if(m[b+w]!==255){T=!0;break}if(!T)b+=y;else break}for(i.ascent=c-_,b=g-y,T=!1,_=p;_>c;--_){for(let w=0;w<y;w+=4)if(m[b+w]!==255){T=!0;break}if(!T)b-=y;else break}return i.descent=_-c,i.fontSize=i.ascent+i.descent,St._fonts[t]=i,i}static clearMetrics(t=""){t?delete St._fonts[t]:St._fonts={}}static get _canvas(){var t;if(!St.__canvas){let i;try{const n=new OffscreenCanvas(0,0);if((t=n.getContext("2d",eu))!=null&&t.measureText)return St.__canvas=n,n;i=gt.ADAPTER.createCanvas()}catch{i=gt.ADAPTER.createCanvas()}i.width=i.height=10,St.__canvas=i}return St.__canvas}static get _context(){return St.__context||(St.__context=St._canvas.getContext("2d",eu)),St.__context}};$i.METRICS_STRING="|q",$i.BASELINE_SYMBOL="M",$i.BASELINE_MULTIPLIER=1.4,$i.HEIGHT_MULTIPLIER=2,$i.graphemeSegmenter=(()=>{if(typeof(Intl==null?void 0:Intl.Segmenter)=="function"){const s=new Intl.Segmenter;return t=>[...s.segment(t)].map(i=>i.segment)}return s=>[...s]})(),$i.experimentalLetterSpacing=!1,$i._fonts={},$i._newlines=[10,13],$i._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];let hn=$i;const lC=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],Px=class dl{constructor(t){this.styleID=0,this.reset(),vd(this,t,t)}clone(){const t={};return vd(t,this,dl.defaultStyle),new dl(t)}reset(){vd(this,dl.defaultStyle,dl.defaultStyle)}get align(){return this._align}set align(t){this._align!==t&&(this._align=t,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(t){const i=yd(t);this._dropShadowColor!==i&&(this._dropShadowColor=i,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)}get fill(){return this._fill}set fill(t){const i=yd(t);this._fill!==i&&(this._fill=i,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(t){oC(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)}get leading(){return this._leading}set leading(t){this._leading!==t&&(this._leading=t,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)}get padding(){return this._padding}set padding(t){this._padding!==t&&(this._padding=t,this.styleID++)}get stroke(){return this._stroke}set stroke(t){const i=yd(t);this._stroke!==i&&(this._stroke=i,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)}get trim(){return this._trim}set trim(t){this._trim!==t&&(this._trim=t,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)}toFontString(){const t=typeof this.fontSize=="number"?`${this.fontSize}px`:this.fontSize;let i=this.fontFamily;Array.isArray(this.fontFamily)||(i=this.fontFamily.split(","));for(let n=i.length-1;n>=0;n--){let l=i[n].trim();!/([\"\'])[^\'\"]+\1/.test(l)&&!lC.includes(l)&&(l=`"${l}"`),i[n]=l}return`${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${t} ${i.join(",")}`}};Px.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:Pu.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let gn=Px;function yd(s){const t=ae.shared,i=n=>{const l=t.setValue(n);return l.alpha===1?l.toHex():l.toRgbaString()};return Array.isArray(s)?s.map(i):i(s)}function oC(s,t){if(!Array.isArray(s)||!Array.isArray(t)||s.length!==t.length)return!1;for(let i=0;i<s.length;++i)if(s[i]!==t[i])return!1;return!0}function vd(s,t,i){for(const n in i)Array.isArray(t[n])?s[n]=t[n].slice():s[n]=t[n]}const uC={texture:!0,children:!1,baseTexture:!0},Fx=class Jd extends Mr{constructor(t,i,n){let l=!1;n||(n=gt.ADAPTER.createCanvas(),l=!0),n.width=3,n.height=3;const o=Tt.from(n);o.orig=new Lt,o.trim=new Lt,super(o),this._ownCanvas=l,this.canvas=n,this.context=n.getContext("2d",{willReadFrequently:!0}),this._resolution=Jd.defaultResolution??gt.RESOLUTION,this._autoResolution=Jd.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=t,this.style=i,this.localStyleID=-1}static get experimentalLetterSpacing(){return hn.experimentalLetterSpacing}static set experimentalLetterSpacing(t){zt("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),hn.experimentalLetterSpacing=t}updateText(t){const i=this._style;if(this.localStyleID!==i.styleID&&(this.dirty=!0,this.localStyleID=i.styleID),!this.dirty&&t)return;this._font=this._style.toFontString();const n=this.context,l=hn.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),o=l.width,h=l.height,c=l.lines,p=l.lineHeight,m=l.lineWidths,g=l.maxLineWidth,y=l.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,o)+i.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,h)+i.padding*2)*this._resolution),n.scale(this._resolution,this._resolution),n.clearRect(0,0,this.canvas.width,this.canvas.height),n.font=this._font,n.lineWidth=i.strokeThickness,n.textBaseline=i.textBaseline,n.lineJoin=i.lineJoin,n.miterLimit=i.miterLimit;let _,b;const T=i.dropShadow?2:1;for(let w=0;w<T;++w){const A=i.dropShadow&&w===0,R=A?Math.ceil(Math.max(1,h)+i.padding*2):0,I=R*this._resolution;if(A){n.fillStyle="black",n.strokeStyle="black";const L=i.dropShadowColor,B=i.dropShadowBlur*this._resolution,j=i.dropShadowDistance*this._resolution;n.shadowColor=ae.shared.setValue(L).setAlpha(i.dropShadowAlpha).toRgbaString(),n.shadowBlur=B,n.shadowOffsetX=Math.cos(i.dropShadowAngle)*j,n.shadowOffsetY=Math.sin(i.dropShadowAngle)*j+I}else n.fillStyle=this._generateFillStyle(i,c,l),n.strokeStyle=i.stroke,n.shadowColor="black",n.shadowBlur=0,n.shadowOffsetX=0,n.shadowOffsetY=0;let O=(p-y.fontSize)/2;p-y.fontSize<0&&(O=0);for(let L=0;L<c.length;L++)_=i.strokeThickness/2,b=i.strokeThickness/2+L*p+y.ascent+O,i.align==="right"?_+=g-m[L]:i.align==="center"&&(_+=(g-m[L])/2),i.stroke&&i.strokeThickness&&this.drawLetterSpacing(c[L],_+i.padding,b+i.padding-R,!0),i.fill&&this.drawLetterSpacing(c[L],_+i.padding,b+i.padding-R)}this.updateTexture()}drawLetterSpacing(t,i,n,l=!1){const o=this._style.letterSpacing;let h=!1;if(hn.experimentalLetterSpacingSupported&&(hn.experimentalLetterSpacing?(this.context.letterSpacing=`${o}px`,this.context.textLetterSpacing=`${o}px`,h=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),o===0||h){l?this.context.strokeText(t,i,n):this.context.fillText(t,i,n);return}let c=i;const p=hn.graphemeSegmenter(t);let m=this.context.measureText(t).width,g=0;for(let y=0;y<p.length;++y){const _=p[y];l?this.context.strokeText(_,c,n):this.context.fillText(_,c,n);let b="";for(let T=y+1;T<p.length;++T)b+=p[T];g=this.context.measureText(b).width,c+=m-g+o,m=g}}updateTexture(){const t=this.canvas;if(this._style.trim){const h=MT(t);h.data&&(t.width=h.width,t.height=h.height,this.context.putImageData(h.data,0,0))}const i=this._texture,n=this._style,l=n.trim?0:n.padding,o=i.baseTexture;i.trim.width=i._frame.width=t.width/this._resolution,i.trim.height=i._frame.height=t.height/this._resolution,i.trim.x=-l,i.trim.y=-l,i.orig.width=i._frame.width-l*2,i.orig.height=i._frame.height-l*2,this._onTextureUpdate(),o.setRealSize(t.width,t.height,this._resolution),i.updateUvs(),this.dirty=!1}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),super._render(t)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(t,i){return this.updateText(!0),this._textureID===-1&&(t=!1),super.getBounds(t,i)}getLocalBounds(t){return this.updateText(!0),super.getLocalBounds.call(this,t)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(t,i,n){const l=t.fill;if(Array.isArray(l)){if(l.length===1)return l[0]}else return l;let o;const h=t.dropShadow?t.dropShadowDistance:0,c=t.padding||0,p=this.canvas.width/this._resolution-h-c*2,m=this.canvas.height/this._resolution-h-c*2,g=l.slice(),y=t.fillGradientStops.slice();if(!y.length){const _=g.length+1;for(let b=1;b<_;++b)y.push(b/_)}if(g.unshift(l[0]),y.unshift(0),g.push(l[l.length-1]),y.push(1),t.fillGradientType===Pu.LINEAR_VERTICAL){o=this.context.createLinearGradient(p/2,c,p/2,m+c);const _=n.fontProperties.fontSize+t.strokeThickness;for(let b=0;b<i.length;b++){const T=n.lineHeight*(b-1)+_,w=n.lineHeight*b;let A=w;b>0&&T>w&&(A=(w+T)/2);const R=w+_,I=n.lineHeight*(b+1);let O=R;b+1<i.length&&I<R&&(O=(R+I)/2);const L=(O-A)/m;for(let B=0;B<g.length;B++){let j=0;typeof y[B]=="number"?j=y[B]:j=B/g.length;let D=Math.min(1,Math.max(0,A/m+j*L));D=Number(D.toFixed(5)),o.addColorStop(D,g[B])}}}else{o=this.context.createLinearGradient(c,m/2,p+c,m/2);const _=g.length+1;let b=1;for(let T=0;T<g.length;T++){let w;typeof y[T]=="number"?w=y[T]:w=b/_,o.addColorStop(w,g[T]),b++}}return o}destroy(t){typeof t=="boolean"&&(t={children:t}),t=Object.assign({},uC,t),super.destroy(t),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(t){this.updateText(!0);const i=fn(this.scale.x)||1;this.scale.x=i*t/this._texture.orig.width,this._width=t}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(t){this.updateText(!0);const i=fn(this.scale.y)||1;this.scale.y=i*t/this._texture.orig.height,this._height=t}get style(){return this._style}set style(t){t=t||{},t instanceof gn?this._style=t:this._style=new gn(t),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(t){t=String(t??""),this._text!==t&&(this._text=t,this.dirty=!0)}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}};Fx.defaultAutoResolution=!0;let Gx=Fx;class hC{constructor(t){this.maxItemsPerFrame=t,this.itemsLeft=0}beginFrame(){this.itemsLeft=this.maxItemsPerFrame}allowedToUpload(){return this.itemsLeft-- >0}}function cC(s,t){var n;let i=!1;if((n=s==null?void 0:s._textures)!=null&&n.length){for(let l=0;l<s._textures.length;l++)if(s._textures[l]instanceof Tt){const o=s._textures[l].baseTexture;t.includes(o)||(t.push(o),i=!0)}}return i}function fC(s,t){if(s.baseTexture instanceof It){const i=s.baseTexture;return t.includes(i)||t.push(i),!0}return!1}function dC(s,t){if(s._texture&&s._texture instanceof Tt){const i=s._texture.baseTexture;return t.includes(i)||t.push(i),!0}return!1}function pC(s,t){return t instanceof Gx?(t.updateText(!0),!0):!1}function mC(s,t){if(t instanceof gn){const i=t.toFontString();return hn.measureFont(i),!0}return!1}function gC(s,t){if(s instanceof Gx){t.includes(s.style)||t.push(s.style),t.includes(s)||t.push(s);const i=s._texture.baseTexture;return t.includes(i)||t.push(i),!0}return!1}function yC(s,t){return s instanceof gn?(t.includes(s)||t.push(s),!0):!1}const zx=class Hx{constructor(t){this.limiter=new hC(Hx.uploadsPerFrame),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=()=>{this.queue&&this.prepareItems()},this.registerFindHook(gC),this.registerFindHook(yC),this.registerFindHook(cC),this.registerFindHook(fC),this.registerFindHook(dC),this.registerUploadHook(pC),this.registerUploadHook(mC)}upload(t){return new Promise(i=>{t&&this.add(t),this.queue.length?(this.completes.push(i),this.ticking||(this.ticking=!0,ci.system.addOnce(this.tick,this,Kn.UTILITY))):i()})}tick(){setTimeout(this.delayedTick,0)}prepareItems(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){const t=this.queue[0];let i=!1;if(t&&!t._destroyed){for(let n=0,l=this.uploadHooks.length;n<l;n++)if(this.uploadHooks[n](this.uploadHookHelper,t)){this.queue.shift(),i=!0;break}}i||this.queue.shift()}if(this.queue.length)ci.system.addOnce(this.tick,this,Kn.UTILITY);else{this.ticking=!1;const t=this.completes.slice(0);this.completes.length=0;for(let i=0,n=t.length;i<n;i++)t[i]()}}registerFindHook(t){return t&&this.addHooks.push(t),this}registerUploadHook(t){return t&&this.uploadHooks.push(t),this}add(t){for(let i=0,n=this.addHooks.length;i<n&&!this.addHooks[i](t,this.queue);i++);if(t instanceof ti)for(let i=t.children.length-1;i>=0;i--)this.add(t.children[i]);return this}destroy(){this.ticking&&ci.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null}};zx.uploadsPerFrame=4;let tp=zx;Object.defineProperties(gt,{UPLOADS_PER_FRAME:{get(){return tp.uploadsPerFrame},set(s){zt("7.1.0","settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame"),tp.uploadsPerFrame=s}}});function kx(s,t){return t instanceof It?(t._glTextures[s.CONTEXT_UID]||s.texture.bind(t),!0):!1}function vC(s,t){if(!(t instanceof gl))return!1;const{geometry:i}=t;t.finishPoly(),i.updateBatches();const{batches:n}=i;for(let l=0;l<n.length;l++){const{texture:o}=n[l].style;o&&kx(s,o.baseTexture)}return i.batchable||s.geometry.bind(i,t._resolveDirectShader(s)),!0}function _C(s,t){return s instanceof gl?(t.push(s),!0):!1}class Xx extends tp{constructor(t){super(t),this.uploadHookHelper=this.renderer,this.registerFindHook(_C),this.registerUploadHook(kx),this.registerUploadHook(vC)}}Xx.extension={name:"prepare",type:pt.RendererSystem};At.add(Xx);var xC=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,bC=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,EC=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,m_=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,TC=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`;const iu=new le;class Vx extends Iu{constructor(t){super(t),t.runners.contextChange.add(this),this.quad=new Y_,this.state=er.for2d()}contextChange(){const t=this.renderer,i={globals:t.globalUniforms};this.simpleShader=Ji.from(m_,TC,i),this.shader=t.context.webGLVersion>1?Ji.from(bC,xC,i):Ji.from(m_,EC,i)}render(t){const i=this.renderer,n=this.quad;let l=n.vertices;l[0]=l[6]=t._width*-t.anchor.x,l[1]=l[3]=t._height*-t.anchor.y,l[2]=l[4]=t._width*(1-t.anchor.x),l[5]=l[7]=t._height*(1-t.anchor.y);const o=t.uvRespectAnchor?t.anchor.x:0,h=t.uvRespectAnchor?t.anchor.y:0;l=n.uvs,l[0]=l[6]=-o,l[1]=l[3]=-h,l[2]=l[4]=1-o,l[5]=l[7]=1-h,n.invalidate();const c=t._texture,p=c.baseTexture,m=p.alphaMode>0,g=t.tileTransform.localTransform,y=t.uvMatrix;let _=p.isPowerOfTwo&&c.frame.width===p.width&&c.frame.height===p.height;_&&(p._glTextures[i.CONTEXT_UID]?_=p.wrapMode!==pn.CLAMP:p.wrapMode===pn.CLAMP&&(p.wrapMode=pn.REPEAT));const b=_?this.simpleShader:this.shader,T=c.width,w=c.height,A=t._width,R=t._height;iu.set(g.a*T/A,g.b*T/R,g.c*w/A,g.d*w/R,g.tx/A,g.ty/R),iu.invert(),_?iu.prepend(y.mapCoord):(b.uniforms.uMapCoord=y.mapCoord.toArray(!0),b.uniforms.uClampFrame=y.uClampFrame,b.uniforms.uClampOffset=y.uClampOffset),b.uniforms.uTransform=iu.toArray(!0),b.uniforms.uColor=ae.shared.setValue(t.tint).premultiply(t.worldAlpha,m).toArray(b.uniforms.uColor),b.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),b.uniforms.uSampler=c,i.shader.bind(b),i.geometry.bind(n),this.state.blendMode=I_(t.blendMode,m),i.state.set(this.state),i.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}Vx.extension={name:"tilingSprite",type:pt.RendererPlugin};At.add(Vx);const jx=class pl{constructor(t,i,n){this.linkedSheets=[],(t instanceof It||t instanceof Tt)&&(t={texture:t,data:i,resolutionFilename:n});const{texture:l,data:o,resolutionFilename:h=null,cachePrefix:c=""}=t;this.cachePrefix=c,this._texture=l instanceof Tt?l:null,this.baseTexture=l instanceof It?l:this._texture.baseTexture,this.textures={},this.animations={},this.data=o;const p=this.baseTexture.resource;this.resolution=this._updateResolution(h||(p?p.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}_updateResolution(t=null){const{scale:i}=this.data.meta;let n=Dr(t,null);return n===null&&(n=typeof i=="number"?i:parseFloat(i??"1")),n!==1&&this.baseTexture.setResolution(n),n}parse(){return new Promise(t=>{this._callback=t,this._batchIndex=0,this._frameKeys.length<=pl.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(t){let i=t;const n=pl.BATCH_SIZE;for(;i-t<n&&i<this._frameKeys.length;){const l=this._frameKeys[i],o=this._frames[l],h=o.frame;if(h){let c=null,p=null;const m=o.trimmed!==!1&&o.sourceSize?o.sourceSize:o.frame,g=new Lt(0,0,Math.floor(m.w)/this.resolution,Math.floor(m.h)/this.resolution);o.rotated?c=new Lt(Math.floor(h.x)/this.resolution,Math.floor(h.y)/this.resolution,Math.floor(h.h)/this.resolution,Math.floor(h.w)/this.resolution):c=new Lt(Math.floor(h.x)/this.resolution,Math.floor(h.y)/this.resolution,Math.floor(h.w)/this.resolution,Math.floor(h.h)/this.resolution),o.trimmed!==!1&&o.spriteSourceSize&&(p=new Lt(Math.floor(o.spriteSourceSize.x)/this.resolution,Math.floor(o.spriteSourceSize.y)/this.resolution,Math.floor(h.w)/this.resolution,Math.floor(h.h)/this.resolution)),this.textures[l]=new Tt(this.baseTexture,c,g,p,o.rotated?2:0,o.anchor,o.borders),Tt.addToCache(this.textures[l],this.cachePrefix+l.toString())}i++}}_processAnimations(){const t=this.data.animations||{};for(const i in t){this.animations[i]=[];for(let n=0;n<t[i].length;n++){const l=t[i][n];this.animations[i].push(this.textures[l])}}}_parseComplete(){const t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*pl.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*pl.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(t=!1){var i;for(const n in this.textures)this.textures[n].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&((i=this._texture)==null||i.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]}};jx.BATCH_SIZE=1e3;let g_=jx;const AC=["jpg","png","jpeg","avif","webp","s3tc","s3tc_sRGB","etc","etc1","pvrtc","atc","astc","bptc"];function qx(s,t,i){const n={};if(s.forEach(l=>{n[l]=t}),Object.keys(t.textures).forEach(l=>{n[`${t.cachePrefix}${l}`]=t.textures[l]}),!i){const l=Oe.dirname(s[0]);t.linkedSheets.forEach((o,h)=>{Object.assign(n,qx([`${l}/${t.data.meta.related_multi_packs[h]}`],o,!0))})}return n}const SC={extension:pt.Asset,cache:{test:s=>s instanceof g_,getCacheableAssets:(s,t)=>qx(s,t,!1)},resolver:{test:s=>{const t=s.split("?")[0].split("."),i=t.pop(),n=t.pop();return i==="json"&&AC.includes(n)},parse:s=>{var i;const t=s.split(".");return{resolution:parseFloat(((i=gt.RETINA_PREFIX.exec(s))==null?void 0:i[1])??"1"),format:t[t.length-2],src:s}}},loader:{name:"spritesheetLoader",extension:{type:pt.LoadParser,priority:Pi.Normal},async testParse(s,t){return Oe.extname(t.src).toLowerCase()===".json"&&!!s.frames},async parse(s,t,i){var g,y;const{texture:n,imageFilename:l,cachePrefix:o}=(t==null?void 0:t.data)??{};let h=Oe.dirname(t.src);h&&h.lastIndexOf("/")!==h.length-1&&(h+="/");let c;if(n&&n.baseTexture)c=n;else{const _=Wd(h+(l??s.meta.image),t.src);c=(await i.load([_]))[_]}const p=new g_({texture:c.baseTexture,data:s,resolutionFilename:t.src,cachePrefix:o});await p.parse();const m=(g=s==null?void 0:s.meta)==null?void 0:g.related_multi_packs;if(Array.isArray(m)){const _=[];for(const T of m){if(typeof T!="string")continue;let w=h+T;(y=t.data)!=null&&y.ignoreMultiPack||(w=Wd(w,t.src),_.push(i.load({src:w,data:{ignoreMultiPack:!0}})))}const b=await Promise.all(_);p.linkedSheets=b,b.forEach(T=>{T.linkedSheets=[p].concat(p.linkedSheets.filter(w=>w!==T))})}return p},unload(s){s.destroy(!0)}}};At.add(SC);class wu{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}class hu{static test(t){return typeof t=="string"&&t.startsWith("info face=")}static parse(t){const i=t.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const o in i){const h=i[o].match(/^[a-z]+/gm)[0],c=i[o].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),p={};for(const m in c){const g=c[m].split("="),y=g[0],_=g[1].replace(/"/gm,""),b=parseFloat(_),T=isNaN(b)?_:b;p[y]=T}n[h].push(p)}const l=new wu;return n.info.forEach(o=>l.info.push({face:o.face,size:parseInt(o.size,10)})),n.common.forEach(o=>l.common.push({lineHeight:parseInt(o.lineHeight,10)})),n.page.forEach(o=>l.page.push({id:parseInt(o.id,10),file:o.file})),n.char.forEach(o=>l.char.push({id:parseInt(o.id,10),page:parseInt(o.page,10),x:parseInt(o.x,10),y:parseInt(o.y,10),width:parseInt(o.width,10),height:parseInt(o.height,10),xoffset:parseInt(o.xoffset,10),yoffset:parseInt(o.yoffset,10),xadvance:parseInt(o.xadvance,10)})),n.kerning.forEach(o=>l.kerning.push({first:parseInt(o.first,10),second:parseInt(o.second,10),amount:parseInt(o.amount,10)})),n.distanceField.forEach(o=>l.distanceField.push({distanceRange:parseInt(o.distanceRange,10),fieldType:o.fieldType})),l}}class ep{static test(t){const i=t;return typeof t!="string"&&"getElementsByTagName"in t&&i.getElementsByTagName("page").length&&i.getElementsByTagName("info")[0].getAttribute("face")!==null}static parse(t){const i=new wu,n=t.getElementsByTagName("info"),l=t.getElementsByTagName("common"),o=t.getElementsByTagName("page"),h=t.getElementsByTagName("char"),c=t.getElementsByTagName("kerning"),p=t.getElementsByTagName("distanceField");for(let m=0;m<n.length;m++)i.info.push({face:n[m].getAttribute("face"),size:parseInt(n[m].getAttribute("size"),10)});for(let m=0;m<l.length;m++)i.common.push({lineHeight:parseInt(l[m].getAttribute("lineHeight"),10)});for(let m=0;m<o.length;m++)i.page.push({id:parseInt(o[m].getAttribute("id"),10)||0,file:o[m].getAttribute("file")});for(let m=0;m<h.length;m++){const g=h[m];i.char.push({id:parseInt(g.getAttribute("id"),10),page:parseInt(g.getAttribute("page"),10)||0,x:parseInt(g.getAttribute("x"),10),y:parseInt(g.getAttribute("y"),10),width:parseInt(g.getAttribute("width"),10),height:parseInt(g.getAttribute("height"),10),xoffset:parseInt(g.getAttribute("xoffset"),10),yoffset:parseInt(g.getAttribute("yoffset"),10),xadvance:parseInt(g.getAttribute("xadvance"),10)})}for(let m=0;m<c.length;m++)i.kerning.push({first:parseInt(c[m].getAttribute("first"),10),second:parseInt(c[m].getAttribute("second"),10),amount:parseInt(c[m].getAttribute("amount"),10)});for(let m=0;m<p.length;m++)i.distanceField.push({fieldType:p[m].getAttribute("fieldType"),distanceRange:parseInt(p[m].getAttribute("distanceRange"),10)});return i}}class ip{static test(t){return typeof t=="string"&&t.includes("<font>")?ep.test(gt.ADAPTER.parseXML(t)):!1}static parse(t){return ep.parse(gt.ADAPTER.parseXML(t))}}const _d=[hu,ep,ip];function wC(s){for(let t=0;t<_d.length;t++)if(_d[t].test(s))return _d[t];return null}function CC(s,t,i,n,l,o){const h=i.fill;if(Array.isArray(h)){if(h.length===1)return h[0]}else return h;let c;const p=i.dropShadow?i.dropShadowDistance:0,m=i.padding||0,g=s.width/n-p-m*2,y=s.height/n-p-m*2,_=h.slice(),b=i.fillGradientStops.slice();if(!b.length){const T=_.length+1;for(let w=1;w<T;++w)b.push(w/T)}if(_.unshift(h[0]),b.unshift(0),_.push(h[h.length-1]),b.push(1),i.fillGradientType===Pu.LINEAR_VERTICAL){c=t.createLinearGradient(g/2,m,g/2,y+m);let T=0;const w=(o.fontProperties.fontSize+i.strokeThickness)/y;for(let A=0;A<l.length;A++){const R=o.lineHeight*A;for(let I=0;I<_.length;I++){let O=0;typeof b[I]=="number"?O=b[I]:O=I/_.length;const L=R/y+O*w;let B=Math.max(T,L);B=Math.min(B,1),c.addColorStop(B,_[I]),T=B}}}else{c=t.createLinearGradient(m,y/2,g+m,y/2);const T=_.length+1;let w=1;for(let A=0;A<_.length;A++){let R;typeof b[A]=="number"?R=b[A]:R=w/T,c.addColorStop(R,_[A]),w++}}return c}function RC(s,t,i,n,l,o,h){const c=i.text,p=i.fontProperties;t.translate(n,l),t.scale(o,o);const m=h.strokeThickness/2,g=-(h.strokeThickness/2);if(t.font=h.toFontString(),t.lineWidth=h.strokeThickness,t.textBaseline=h.textBaseline,t.lineJoin=h.lineJoin,t.miterLimit=h.miterLimit,t.fillStyle=CC(s,t,h,o,[c],i),t.strokeStyle=h.stroke,h.dropShadow){const y=h.dropShadowColor,_=h.dropShadowBlur*o,b=h.dropShadowDistance*o;t.shadowColor=ae.shared.setValue(y).setAlpha(h.dropShadowAlpha).toRgbaString(),t.shadowBlur=_,t.shadowOffsetX=Math.cos(h.dropShadowAngle)*b,t.shadowOffsetY=Math.sin(h.dropShadowAngle)*b}else t.shadowColor="black",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0;h.stroke&&h.strokeThickness&&t.strokeText(c,m,g+i.lineHeight-p.descent),h.fill&&t.fillText(c,m,g+i.lineHeight-p.descent),t.setTransform(1,0,0,1,0,0),t.fillStyle="rgba(0, 0, 0, 0)"}function cu(s){return s.codePointAt?s.codePointAt(0):s.charCodeAt(0)}function Yx(s){return Array.from?Array.from(s):s.split("")}function MC(s){typeof s=="string"&&(s=[s]);const t=[];for(let i=0,n=s.length;i<n;i++){const l=s[i];if(Array.isArray(l)){if(l.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${l.length}.`);const o=l[0].charCodeAt(0),h=l[1].charCodeAt(0);if(h<o)throw new Error("[BitmapFont]: Invalid character range.");for(let c=o,p=h;c<=p;c++)t.push(String.fromCharCode(c))}else t.push(...Yx(l))}if(t.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return t}const on=class Wi{constructor(t,i,n){var g;const[l]=t.info,[o]=t.common,[h]=t.page,[c]=t.distanceField,p=Dr(h.file),m={};this._ownsTextures=n,this.font=l.face,this.size=l.size,this.lineHeight=o.lineHeight/p,this.chars={},this.pageTextures=m;for(let y=0;y<t.page.length;y++){const{id:_,file:b}=t.page[y];m[_]=i instanceof Array?i[y]:i[b],c!=null&&c.fieldType&&c.fieldType!=="none"&&(m[_].baseTexture.alphaMode=Je.NO_PREMULTIPLIED_ALPHA,m[_].baseTexture.mipmap=tr.OFF)}for(let y=0;y<t.char.length;y++){const{id:_,page:b}=t.char[y];let{x:T,y:w,width:A,height:R,xoffset:I,yoffset:O,xadvance:L}=t.char[y];T/=p,w/=p,A/=p,R/=p,I/=p,O/=p,L/=p;const B=new Lt(T+m[b].frame.x/p,w+m[b].frame.y/p,A,R);this.chars[_]={xOffset:I,yOffset:O,xAdvance:L,kerning:{},texture:new Tt(m[b].baseTexture,B),page:b}}for(let y=0;y<t.kerning.length;y++){let{first:_,second:b,amount:T}=t.kerning[y];_/=p,b/=p,T/=p,this.chars[b]&&(this.chars[b].kerning[_]=T)}this.distanceFieldRange=c==null?void 0:c.distanceRange,this.distanceFieldType=((g=c==null?void 0:c.fieldType)==null?void 0:g.toLowerCase())??"none"}destroy(){for(const t in this.chars)this.chars[t].texture.destroy(),this.chars[t].texture=null;for(const t in this.pageTextures)this._ownsTextures&&this.pageTextures[t].destroy(!0),this.pageTextures[t]=null;this.chars=null,this.pageTextures=null}static install(t,i,n){let l;if(t instanceof wu)l=t;else{const h=wC(t);if(!h)throw new Error("Unrecognized data format for font.");l=h.parse(t)}i instanceof Tt&&(i=[i]);const o=new Wi(l,i,n);return Wi.available[o.font]=o,o}static uninstall(t){const i=Wi.available[t];if(!i)throw new Error(`No font found named '${t}'`);i.destroy(),delete Wi.available[t]}static from(t,i,n){if(!t)throw new Error("[BitmapFont] Property `name` is required.");const{chars:l,padding:o,resolution:h,textureWidth:c,textureHeight:p,...m}=Object.assign({},Wi.defaultOptions,n),g=MC(l),y=i instanceof gn?i:new gn(i),_=c,b=new wu;b.info[0]={face:y.fontFamily,size:y.fontSize},b.common[0]={lineHeight:y.fontSize};let T=0,w=0,A,R,I,O=0;const L=[];for(let j=0;j<g.length;j++){A||(A=gt.ADAPTER.createCanvas(),A.width=c,A.height=p,R=A.getContext("2d"),I=new It(A,{resolution:h,...m}),L.push(new Tt(I)),b.page.push({id:L.length-1,file:""}));const D=g[j],Y=hn.measureText(D,y,!1,A),rt=Y.width,at=Math.ceil(Y.height),ct=Math.ceil((y.fontStyle==="italic"?2:1)*rt);if(w>=p-at*h){if(w===0)throw new Error(`[BitmapFont] textureHeight ${p}px is too small (fontFamily: '${y.fontFamily}', fontSize: ${y.fontSize}px, char: '${D}')`);--j,A=null,R=null,I=null,w=0,T=0,O=0;continue}if(O=Math.max(at+Y.fontProperties.descent,O),ct*h+T>=_){if(T===0)throw new Error(`[BitmapFont] textureWidth ${c}px is too small (fontFamily: '${y.fontFamily}', fontSize: ${y.fontSize}px, char: '${D}')`);--j,w+=O*h,w=Math.ceil(w),T=0,O=0;continue}RC(A,R,Y,T,w,h,y);const z=cu(Y.text);b.char.push({id:z,page:L.length-1,x:T/h,y:w/h,width:ct,height:at,xoffset:0,yoffset:0,xadvance:rt-(y.dropShadow?y.dropShadowDistance:0)-(y.stroke?y.strokeThickness:0)}),T+=(ct+2*o)*h,T=Math.ceil(T)}if(!(n!=null&&n.skipKerning))for(let j=0,D=g.length;j<D;j++){const Y=g[j];for(let rt=0;rt<D;rt++){const at=g[rt],ct=R.measureText(Y).width,z=R.measureText(at).width,X=R.measureText(Y+at).width-(ct+z);X&&b.kerning.push({first:cu(Y),second:cu(at),amount:X})}}const B=new Wi(b,L,!0);return Wi.available[t]!==void 0&&Wi.uninstall(t),Wi.available[t]=B,B}};on.ALPHA=[["a","z"],["A","Z"]," "],on.NUMERIC=[["0","9"]],on.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],on.ASCII=[[" ","~"]],on.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:on.ALPHANUMERIC},on.available={};let un=on;var DC=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
  if (median < 0.01) {\r
    alpha = 0.0;\r
  } else if (median > 0.99) {\r
    alpha = 1.0;\r
  }\r
\r
  // Gamma correction for coverage-like alpha\r
  float luma = dot(uColor.rgb, vec3(0.299, 0.587, 0.114));\r
  float gamma = mix(1.0, 1.0 / 2.2, luma);\r
  float coverage = pow(uColor.a * alpha, gamma);  \r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, coverage);\r
}\r
`,OC=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`;const y_=[],v_=[],__=[],BC=class $x extends ti{constructor(t,i={}){super();const{align:n,tint:l,maxWidth:o,letterSpacing:h,fontName:c,fontSize:p}=Object.assign({},$x.styleDefaults,i);if(!un.available[c])throw new Error(`Missing BitmapFont "${c}"`);this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=n,this._tintColor=new ae(l),this._font=void 0,this._fontName=c,this._fontSize=p,this.text=t,this._maxWidth=o,this._maxLineHeight=0,this._letterSpacing=h,this._anchor=new Cr(()=>{this.dirty=!0},this,0,0),this._roundPixels=gt.ROUND_PIXELS,this.dirty=!0,this._resolution=gt.RESOLUTION,this._autoResolution=!0,this._textureCache={}}updateText(){var ct;const t=un.available[this._fontName],i=this.fontSize,n=i/t.size,l=new Vt,o=[],h=[],c=[],p=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",m=Yx(p),g=this._maxWidth*t.size/i,y=t.distanceFieldType==="none"?y_:v_;let _=null,b=0,T=0,w=0,A=-1,R=0,I=0,O=0,L=0;for(let z=0;z<m.length;z++){const X=m[z],Z=cu(X);if(/(?:\s)/.test(X)&&(A=z,R=b,L++),X==="\r"||X===`
`){h.push(b),c.push(-1),T=Math.max(T,b),++w,++I,l.x=0,l.y+=t.lineHeight,_=null,L=0;continue}const ot=t.chars[Z];if(!ot)continue;_&&ot.kerning[_]&&(l.x+=ot.kerning[_]);const x=__.pop()||{texture:Tt.EMPTY,line:0,charCode:0,prevSpaces:0,position:new Vt};x.texture=ot.texture,x.line=w,x.charCode=Z,x.position.x=Math.round(l.x+ot.xOffset+this._letterSpacing/2),x.position.y=Math.round(l.y+ot.yOffset),x.prevSpaces=L,o.push(x),b=x.position.x+Math.max(ot.xAdvance-ot.xOffset,ot.texture.orig.width),l.x+=ot.xAdvance+this._letterSpacing,O=Math.max(O,ot.yOffset+ot.texture.height),_=Z,A!==-1&&g>0&&l.x>g&&(++I,Qs(o,1+A-I,1+z-A),z=A,A=-1,h.push(R),c.push(o.length>0?o[o.length-1].prevSpaces:0),T=Math.max(T,R),w++,l.x=0,l.y+=t.lineHeight,_=null,L=0)}const B=m[m.length-1];B!=="\r"&&B!==`
`&&(/(?:\s)/.test(B)&&(b=R),h.push(b),T=Math.max(T,b),c.push(-1));const j=[];for(let z=0;z<=w;z++){let X=0;this._align==="right"?X=T-h[z]:this._align==="center"?X=(T-h[z])/2:this._align==="justify"&&(X=c[z]<0?0:(T-h[z])/c[z]),j.push(X)}const D=o.length,Y={},rt=[],at=this._activePagesMeshData;y.push(...at);for(let z=0;z<D;z++){const X=o[z].texture,Z=X.baseTexture.uid;if(!Y[Z]){let ot=y.pop();if(!ot){const M=new iC;let C,H;t.distanceFieldType==="none"?(C=new d_(Tt.EMPTY),H=Rt.NORMAL):(C=new d_(Tt.EMPTY,{program:Rr.from(OC,DC),uniforms:{uFWidth:0}}),H=Rt.NORMAL_NPM);const U=new f_(M,C);U.blendMode=H,ot={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:U,vertices:null,uvs:null,indices:null}}ot.index=0,ot.indexCount=0,ot.vertexCount=0,ot.uvsCount=0,ot.total=0;const{_textureCache:x}=this;x[Z]=x[Z]||new Tt(X.baseTexture),ot.mesh.texture=x[Z],ot.mesh.tint=this._tintColor.value,rt.push(ot),Y[Z]=ot}Y[Z].total++}for(let z=0;z<at.length;z++)rt.includes(at[z])||this.removeChild(at[z].mesh);for(let z=0;z<rt.length;z++)rt[z].mesh.parent!==this&&this.addChild(rt[z].mesh);this._activePagesMeshData=rt;for(const z in Y){const X=Y[z],Z=X.total;if(!(((ct=X.indices)==null?void 0:ct.length)>6*Z)||X.vertices.length<f_.BATCHABLE_SIZE*2)X.vertices=new Float32Array(8*Z),X.uvs=new Float32Array(8*Z),X.indices=new Uint16Array(6*Z);else{const ot=X.total,x=X.vertices;for(let M=ot*4*2;M<x.length;M++)x[M]=0}X.mesh.size=6*Z}for(let z=0;z<D;z++){const X=o[z];let Z=X.position.x+j[X.line]*(this._align==="justify"?X.prevSpaces:1);this._roundPixels&&(Z=Math.round(Z));const ot=Z*n,x=X.position.y*n,M=X.texture,C=Y[M.baseTexture.uid],H=M.frame,U=M._uvs,E=C.index++;C.indices[E*6+0]=0+E*4,C.indices[E*6+1]=1+E*4,C.indices[E*6+2]=2+E*4,C.indices[E*6+3]=0+E*4,C.indices[E*6+4]=2+E*4,C.indices[E*6+5]=3+E*4,C.vertices[E*8+0]=ot,C.vertices[E*8+1]=x,C.vertices[E*8+2]=ot+H.width*n,C.vertices[E*8+3]=x,C.vertices[E*8+4]=ot+H.width*n,C.vertices[E*8+5]=x+H.height*n,C.vertices[E*8+6]=ot,C.vertices[E*8+7]=x+H.height*n,C.uvs[E*8+0]=U.x0,C.uvs[E*8+1]=U.y0,C.uvs[E*8+2]=U.x1,C.uvs[E*8+3]=U.y1,C.uvs[E*8+4]=U.x2,C.uvs[E*8+5]=U.y2,C.uvs[E*8+6]=U.x3,C.uvs[E*8+7]=U.y3}this._textWidth=T*n,this._textHeight=(l.y+t.lineHeight)*n;for(const z in Y){const X=Y[z];if(this.anchor.x!==0||this.anchor.y!==0){let M=0;const C=this._textWidth*this.anchor.x,H=this._textHeight*this.anchor.y;for(let U=0;U<X.total;U++)X.vertices[M++]-=C,X.vertices[M++]-=H,X.vertices[M++]-=C,X.vertices[M++]-=H,X.vertices[M++]-=C,X.vertices[M++]-=H,X.vertices[M++]-=C,X.vertices[M++]-=H}this._maxLineHeight=O*n;const Z=X.mesh.geometry.getBuffer("aVertexPosition"),ot=X.mesh.geometry.getBuffer("aTextureCoord"),x=X.mesh.geometry.getIndex();Z.data=X.vertices,ot.data=X.uvs,x.data=X.indices,Z.update(),ot.update(),x.update()}for(let z=0;z<o.length;z++)__.push(o[z]);this._font=t,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0);const{distanceFieldRange:i,distanceFieldType:n,size:l}=un.available[this._fontName];if(n!=="none"){const{a:o,b:h,c,d:p}=this.worldTransform,m=Math.sqrt(o*o+h*h),g=Math.sqrt(c*c+p*p),y=(Math.abs(m)+Math.abs(g))/2,_=this.fontSize/l,b=t._view.resolution;for(const T of this._activePagesMeshData)T.mesh.shader.uniforms.uFWidth=y*i*_*b}super._render(t)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){const t=un.available[this._fontName];if(!t)throw new Error(`Missing BitmapFont "${this._fontName}"`);this._font!==t&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tintColor.value}set tint(t){if(this.tint!==t){this._tintColor.setValue(t);for(let i=0;i<this._activePagesMeshData.length;i++)this._activePagesMeshData[i].mesh.tint=t}}get align(){return this._align}set align(t){this._align!==t&&(this._align=t,this.dirty=!0)}get fontName(){return this._fontName}set fontName(t){if(!un.available[t])throw new Error(`Missing BitmapFont "${t}"`);this._fontName!==t&&(this._fontName=t,this.dirty=!0)}get fontSize(){return this._fontSize??un.available[this._fontName].size}set fontSize(t){this._fontSize!==t&&(this._fontSize=t,this.dirty=!0)}get anchor(){return this._anchor}set anchor(t){typeof t=="number"?this._anchor.set(t):this._anchor.copyFrom(t)}get text(){return this._text}set text(t){t=String(t??""),this._text!==t&&(this._text=t,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(t){t!==this._roundPixels&&(this._roundPixels=t,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}destroy(t){const{_textureCache:i}=this,n=un.available[this._fontName].distanceFieldType==="none"?y_:v_;n.push(...this._activePagesMeshData);for(const l of this._activePagesMeshData)this.removeChild(l.mesh);this._activePagesMeshData=[],n.filter(l=>i[l.mesh.texture.baseTexture.uid]).forEach(l=>{l.mesh.texture=Tt.EMPTY});for(const l in i)i[l].destroy(),delete i[l];this._font=null,this._tintColor=null,this._textureCache=null,super.destroy(t)}};BC.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};const NC=[".xml",".fnt"],IC={extension:{type:pt.LoadParser,priority:Pi.Normal},name:"loadBitmapFont",test(s){return NC.includes(Oe.extname(s).toLowerCase())},async testParse(s){return hu.test(s)||ip.test(s)},async parse(s,t,i){const n=hu.test(s)?hu.parse(s):ip.parse(s),{src:l}=t,{page:o}=n,h=[];for(let m=0;m<o.length;++m){const g=o[m].file;let y=Oe.join(Oe.dirname(l),g);y=Wd(y,l),h.push(y)}const c=await i.load(h),p=h.map(m=>c[m]);return un.install(n,p,!0)},async load(s,t){return(await gt.ADAPTER.fetch(s)).text()},unload(s){s.destroy()}};At.add(IC);const rp=class $s extends gn{constructor(){super(...arguments),this._fonts=[],this._overrides=[],this._stylesheet="",this.fontsDirty=!1}static from(t){return new $s(Object.keys($s.defaultOptions).reduce((i,n)=>({...i,[n]:t[n]}),{}))}cleanFonts(){this._fonts.length>0&&(this._fonts.forEach(t=>{URL.revokeObjectURL(t.src),t.refs--,t.refs===0&&(t.fontFace&&document.fonts.delete(t.fontFace),delete $s.availableFonts[t.originalUrl])}),this.fontFamily="Arial",this._fonts.length=0,this.styleID++,this.fontsDirty=!0)}loadFont(t,i={}){const{availableFonts:n}=$s;if(n[t]){const l=n[t];return this._fonts.push(l),l.refs++,this.styleID++,this.fontsDirty=!0,Promise.resolve()}return gt.ADAPTER.fetch(t).then(l=>l.blob()).then(async l=>new Promise((o,h)=>{const c=URL.createObjectURL(l),p=new FileReader;p.onload=()=>o([c,p.result]),p.onerror=h,p.readAsDataURL(l)})).then(async([l,o])=>{const h=Object.assign({family:Oe.basename(t,Oe.extname(t)),weight:"normal",style:"normal",display:"auto",src:l,dataSrc:o,refs:1,originalUrl:t,fontFace:null},i);n[t]=h,this._fonts.push(h),this.styleID++;const c=new FontFace(h.family,`url(${h.src})`,{weight:h.weight,style:h.style,display:h.display});h.fontFace=c,await c.load(),document.fonts.add(c),await document.fonts.ready,this.styleID++,this.fontsDirty=!0})}addOverride(...t){const i=t.filter(n=>!this._overrides.includes(n));i.length>0&&(this._overrides.push(...i),this.styleID++)}removeOverride(...t){const i=t.filter(n=>this._overrides.includes(n));i.length>0&&(this._overrides=this._overrides.filter(n=>!i.includes(n)),this.styleID++)}toCSS(t){return[`transform: scale(${t})`,"transform-origin: top left","display: inline-block",`color: ${this.normalizeColor(this.fill)}`,`font-size: ${this.fontSize}px`,`font-family: ${this.fontFamily}`,`font-weight: ${this.fontWeight}`,`font-style: ${this.fontStyle}`,`font-variant: ${this.fontVariant}`,`letter-spacing: ${this.letterSpacing}px`,`text-align: ${this.align}`,`padding: ${this.padding}px`,`white-space: ${this.whiteSpace}`,...this.lineHeight?[`line-height: ${this.lineHeight}px`]:[],...this.wordWrap?[`word-wrap: ${this.breakWords?"break-all":"break-word"}`,`max-width: ${this.wordWrapWidth}px`]:[],...this.strokeThickness?[`-webkit-text-stroke-width: ${this.strokeThickness}px`,`-webkit-text-stroke-color: ${this.normalizeColor(this.stroke)}`,`text-stroke-width: ${this.strokeThickness}px`,`text-stroke-color: ${this.normalizeColor(this.stroke)}`,"paint-order: stroke"]:[],...this.dropShadow?[this.dropShadowToCSS()]:[],...this._overrides].join(";")}toGlobalCSS(){return this._fonts.reduce((t,i)=>`${t}
            @font-face {
                font-family: "${i.family}";
                src: url('${i.dataSrc}');
                font-weight: ${i.weight};
                font-style: ${i.style};
                font-display: ${i.display};
            }`,this._stylesheet)}get stylesheet(){return this._stylesheet}set stylesheet(t){this._stylesheet!==t&&(this._stylesheet=t,this.styleID++)}normalizeColor(t){return Array.isArray(t)&&(t=TT(t)),typeof t=="number"?ET(t):t}dropShadowToCSS(){let t=this.normalizeColor(this.dropShadowColor);const i=this.dropShadowAlpha,n=Math.round(Math.cos(this.dropShadowAngle)*this.dropShadowDistance),l=Math.round(Math.sin(this.dropShadowAngle)*this.dropShadowDistance);t.startsWith("#")&&i<1&&(t+=(i*255|0).toString(16).padStart(2,"0"));const o=`${n}px ${l}px`;return this.dropShadowBlur>0?`text-shadow: ${o} ${this.dropShadowBlur}px ${t}`:`text-shadow: ${o} ${t}`}reset(){Object.assign(this,$s.defaultOptions)}onBeforeDraw(){const{fontsDirty:t}=this;return this.fontsDirty=!1,this.isSafari&&this._fonts.length>0&&t?new Promise(i=>setTimeout(i,100)):Promise.resolve()}get isSafari(){const{userAgent:t}=gt.ADAPTER.getNavigator();return/^((?!chrome|android).)*safari/i.test(t)}set fillGradientStops(t){console.warn("[HTMLTextStyle] fillGradientStops is not supported by HTMLText")}get fillGradientStops(){return super.fillGradientStops}set fillGradientType(t){console.warn("[HTMLTextStyle] fillGradientType is not supported by HTMLText")}get fillGradientType(){return super.fillGradientType}set miterLimit(t){console.warn("[HTMLTextStyle] miterLimit is not supported by HTMLText")}get miterLimit(){return super.miterLimit}set trim(t){console.warn("[HTMLTextStyle] trim is not supported by HTMLText")}get trim(){return super.trim}set textBaseline(t){console.warn("[HTMLTextStyle] textBaseline is not supported by HTMLText")}get textBaseline(){return super.textBaseline}set leading(t){console.warn("[HTMLTextStyle] leading is not supported by HTMLText")}get leading(){return super.leading}set lineJoin(t){console.warn("[HTMLTextStyle] lineJoin is not supported by HTMLText")}get lineJoin(){return super.lineJoin}};rp.availableFonts={},rp.defaultOptions={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,padding:0,stroke:"black",strokeThickness:0,whiteSpace:"normal",wordWrap:!1,wordWrapWidth:100};let xd=rp;const ru=class Ws extends Mr{constructor(t="",i={}){super(Tt.EMPTY),this._text=null,this._style=null,this._autoResolution=!0,this.localStyleID=-1,this.dirty=!1,this._updateID=0,this.ownsStyle=!1;const n=new Image,l=Tt.from(n,{scaleMode:gt.SCALE_MODE,resourceOptions:{autoLoad:!1}});l.orig=new Lt,l.trim=new Lt,this.texture=l;const o="http://www.w3.org/2000/svg",h="http://www.w3.org/1999/xhtml",c=document.createElementNS(o,"svg"),p=document.createElementNS(o,"foreignObject"),m=document.createElementNS(h,"div"),g=document.createElementNS(h,"style");p.setAttribute("width","10000"),p.setAttribute("height","10000"),p.style.overflow="hidden",c.appendChild(p),this.maxWidth=Ws.defaultMaxWidth,this.maxHeight=Ws.defaultMaxHeight,this._domElement=m,this._styleElement=g,this._svgRoot=c,this._foreignObject=p,this._foreignObject.appendChild(g),this._foreignObject.appendChild(m),this._image=n,this._loadImage=new Image,this._autoResolution=Ws.defaultAutoResolution,this._resolution=Ws.defaultResolution??gt.RESOLUTION,this.text=t,this.style=i}measureText(t){var g,y;const{text:i,style:n,resolution:l}=Object.assign({text:this._text,style:this._style,resolution:this._resolution},t);Object.assign(this._domElement,{innerHTML:i,style:n.toCSS(l)}),this._styleElement.textContent=n.toGlobalCSS(),document.body.appendChild(this._svgRoot);const o=this._domElement.getBoundingClientRect();this._svgRoot.remove();const{width:h,height:c}=o;(h>this.maxWidth||c>this.maxHeight)&&console.warn("[HTMLText] Large expanse of text, increase HTMLText.maxWidth or HTMLText.maxHeight property.");const p=Math.min(this.maxWidth,Math.ceil(h)),m=Math.min(this.maxHeight,Math.ceil(c));return this._svgRoot.setAttribute("width",p.toString()),this._svgRoot.setAttribute("height",m.toString()),i!==this._text&&(this._domElement.innerHTML=this._text),n!==this._style&&(Object.assign(this._domElement,{style:(g=this._style)==null?void 0:g.toCSS(l)}),this._styleElement.textContent=(y=this._style)==null?void 0:y.toGlobalCSS()),{width:p+n.padding*2,height:m+n.padding*2}}async updateText(t=!0){const{style:i,_image:n,_loadImage:l}=this;if(this.localStyleID!==i.styleID&&(this.dirty=!0,this.localStyleID=i.styleID),!this.dirty&&t)return;const{width:o,height:h}=this.measureText();n.width=l.width=Math.ceil(Math.max(1,o)),n.height=l.height=Math.ceil(Math.max(1,h)),this._updateID++;const c=this._updateID;await new Promise(p=>{l.onload=async()=>{if(c<this._updateID){p();return}await i.onBeforeDraw(),n.src=l.src,l.onload=null,l.src="",this.updateTexture(),p()};const m=new XMLSerializer().serializeToString(this._svgRoot);l.src=`data:image/svg+xml;charset=utf8,${encodeURIComponent(m)}`})}get source(){return this._image}updateTexture(){const{style:t,texture:i,_image:n,resolution:l}=this,{padding:o}=t,{baseTexture:h}=i;i.trim.width=i._frame.width=n.width/l,i.trim.height=i._frame.height=n.height/l,i.trim.x=-o,i.trim.y=-o,i.orig.width=i._frame.width-o*2,i.orig.height=i._frame.height-o*2,this._onTextureUpdate(),h.setRealSize(n.width,n.height,l),this.dirty=!1}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),super._render(t)}_renderCanvas(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),super._renderCanvas(t)}getLocalBounds(t){return this.updateText(!0),super.getLocalBounds(t)}_calculateBounds(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_onStyleChange(){this.dirty=!0}destroy(t){var n,l,o,h,c;typeof t=="boolean"&&(t={children:t}),t=Object.assign({},Ws.defaultDestroyOptions,t),super.destroy(t);const i=null;this.ownsStyle&&((n=this._style)==null||n.cleanFonts()),this._style=i,(l=this._svgRoot)==null||l.remove(),this._svgRoot=i,(o=this._domElement)==null||o.remove(),this._domElement=i,(h=this._foreignObject)==null||h.remove(),this._foreignObject=i,(c=this._styleElement)==null||c.remove(),this._styleElement=i,this._loadImage.src="",this._loadImage.onload=null,this._loadImage=i,this._image.src="",this._image=i}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._image.width/this.resolution}set width(t){this.updateText(!0);const i=fn(this.scale.x)||1;this.scale.x=i*t/this._image.width/this.resolution,this._width=t}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._image.height/this.resolution}set height(t){this.updateText(!0);const i=fn(this.scale.y)||1;this.scale.y=i*t/this._image.height/this.resolution,this._height=t}get style(){return this._style}set style(t){this._style!==t&&(t=t||{},t instanceof xd?(this.ownsStyle=!1,this._style=t):t instanceof gn?(console.warn("[HTMLText] Cloning TextStyle, if this is not what you want, use HTMLTextStyle"),this.ownsStyle=!0,this._style=xd.from(t)):(this.ownsStyle=!0,this._style=new xd(t)),this.localStyleID=-1,this.dirty=!0)}get text(){return this._text}set text(t){t=String(t===""||t===null||t===void 0?" ":t),t=this.sanitiseText(t),this._text!==t&&(this._text=t,this.dirty=!0)}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}sanitiseText(t){return t.replace(/<br>/gi,"<br/>").replace(/<hr>/gi,"<hr/>").replace(/&nbsp;/gi,"&#160;")}};ru.defaultDestroyOptions={texture:!0,children:!1,baseTexture:!0},ru.defaultMaxWidth=2024,ru.defaultMaxHeight=2024,ru.defaultAutoResolution=!0;const UC=()=>{const s=al.useRef(null),t=al.useRef(null),[i,n]=al.useState(!1);return al.useEffect(()=>t.current?void 0:((()=>{const o=new Sx({resizeTo:window,backgroundColor:131589,resolution:Math.min(window.devicePixelRatio||1,2),autoDensity:!0,antialias:!0,powerPreference:"high-performance"});t.current=o,s.current&&s.current.appendChild(o.view);const h=new ti,c=new gl,p=new ti,m=new ti;c.blendMode=Rt.ADD,p.blendMode=Rt.ADD,m.blendMode=Rt.ADD,o.stage.addChild(h),o.stage.addChild(c),o.stage.addChild(p),o.stage.addChild(m);const g=new gl;g.beginFill(16777215,.1),g.drawCircle(0,0,32),g.endFill(),g.beginFill(16777215,.5),g.drawCircle(0,0,12),g.endFill(),g.beginFill(16777215,1),g.drawCircle(0,0,4),g.endFill();const y=o.renderer.generateTexture(g),_=new gl;_.beginFill(16777215,1),_.drawCircle(0,0,2),_.endFill();const b=o.renderer.generateTexture(_),T=30,w=20;let A=[],R=[];(()=>{p.removeChildren(),A=[],R=[];const z=o.screen.width/T,X=o.screen.height/w;for(let Z=0;Z<=T;Z++){R[Z]=[];for(let ot=0;ot<=w;ot++){const x=new Mr(y),M=Z*z,C=ot*X;x.x=M,x.y=C,x.anchor.set(.5),x.scale.set(.5),x.tint=65535,x.alpha=.8,x.vx=0,x.vy=0,x.originX=M,x.originY=C,x.mass=1+Math.random(),x.ix=Z,x.iy=ot,p.addChild(x),A.push(x),R[Z][ot]=x}}})();const O=150,L=[];for(let z=0;z<O;z++){const X=new Mr(b);X.x=Math.random()*o.screen.width,X.y=Math.random()*o.screen.height,X.alpha=Math.random()*.5+.1;const Z=Math.random()*.5+.2;X.scale.set(Z),X.z=Math.random(),h.addChild(X),L.push(X)}const B={x:-5e3,y:-5e3,active:!1};let j=[],D=[];const Y=z=>{const X=o.view.getBoundingClientRect();if(B.x=z.clientX-X.left,B.y=z.clientY-X.top,B.active=!0,Math.random()>.5){const Z=new Mr(b);Z.x=B.x+(Math.random()-.5)*10,Z.y=B.y+(Math.random()-.5)*10,Z.alpha=1,Z.scale.set(Math.random()*.8+.2),Z.tint=16711935,Z.life=1,Z.vx=(Math.random()-.5)*2,Z.vy=(Math.random()-.5)*2,m.addChild(Z),j.push(Z)}},rt=z=>{D.push({x:B.x,y:B.y,radius:0,strength:150,life:1})};window.addEventListener("mousemove",Y),window.addEventListener("mousedown",rt);let at=0;o.ticker.add(z=>{at+=.005*z;for(let x=D.length-1;x>=0;x--){const M=D[x];M.radius+=15*z,M.life-=.02*z,M.life<=0&&D.splice(x,1)}for(let x=j.length-1;x>=0;x--){const M=j[x];M.x+=M.vx*z,M.y+=M.vy*z,M.life-=.03*z,M.alpha=M.life,M.scale.set(M.life*.8),M.life<=0&&(m.removeChild(M),j.splice(x,1))}for(const x of L){if(x.x-=(.2+x.z*.5)*z,x.x<0&&(x.x=o.screen.width),B.active){const M=(B.x-o.screen.width/2)*1e-4*x.z,C=(B.y-o.screen.height/2)*1e-4*x.z;x.x-=M,x.y-=C}x.alpha=.1+Math.abs(Math.sin(at*5+x.x))*.5*x.z}c.clear();const X=.05,Z=.88,ot=250;for(const x of A){const M=B.x-x.x,C=B.y-x.y,H=Math.sqrt(M*M+C*C);if(H<ot){const Q=(ot-H)/ot,it=Math.atan2(C,M),lt=Q*60;x.vx-=Math.cos(it)*lt*.1,x.vy-=Math.sin(it)*lt*.1}for(const Q of D){const it=x.x-Q.x,lt=x.y-Q.y,dt=Math.sqrt(it*it+lt*lt),ft=50;if(Math.abs(dt-Q.radius)<ft){const ut=Math.atan2(lt,it),yt=Q.strength*Q.life*(1-Math.abs(dt-Q.radius)/ft);x.vx+=Math.cos(ut)*yt*.1,x.vy+=Math.sin(ut)*yt*.1}}const U=x.originX-x.x,E=x.originY-x.y;x.vx+=U*X,x.vy+=E*X,x.vx*=Z,x.vy*=Z,x.x+=x.vx*z,x.y+=x.vy*z;const N=Math.sqrt(x.vx*x.vx+x.vy*x.vy),F=Math.sqrt(U*U+E*E);if(N>2||F>50)x.tint=16711850,x.scale.set(.6+Math.min(N*.05,.4)),x.alpha=1;else{const Q=x.originX/o.screen.width+x.originY/o.screen.height+at;Math.sin(Q)*.5+.5>.5?x.tint=65535:x.tint=7799039,x.scale.set(.3),x.alpha=.5}const V=[{ix:x.ix+1,iy:x.iy},{ix:x.ix,iy:x.iy+1}];for(const Q of V)if(Q.ix<=T&&Q.iy<=w){const it=R[Q.ix][Q.iy],lt=it.x-x.x,dt=it.y-x.y,ft=lt*lt+dt*dt;if(ft<25e3){const ut=1-ft/25e3;if(ut>.05){const yt=N>2||it.vx*it.vx+it.vy*it.vy>4?16733610:17544;c.lineStyle(1,yt,ut*.6),c.moveTo(x.x,x.y),c.lineTo(it.x,it.y)}}}}});const ct=()=>{if(!o.renderer)return;const z=o.screen.width/T,X=o.screen.height/w;for(let Z=0;Z<=T;Z++)for(let ot=0;ot<=w;ot++)if(R[Z]&&R[Z][ot]){const x=R[Z][ot];x.originX=Z*z,x.originY=ot*X}};window.addEventListener("resize",ct),n(!0),o._customCleanup=()=>{window.removeEventListener("mousemove",Y),window.removeEventListener("mousedown",rt),window.removeEventListener("resize",ct)}})(),()=>{t.current&&(t.current._customCleanup&&t.current._customCleanup(),t.current.destroy(!0,{children:!0,texture:!0}),t.current=null)}),[]),ie.jsx("div",{ref:s,id:"canvas-container",className:"w-full h-full absolute inset-0 bg-[#020205]",style:{opacity:i?1:0,transition:"opacity 1.5s ease-out"}})},LC=()=>ie.jsxs("div",{className:"flex flex-col items-center justify-center h-full w-full p-8 pointer-events-none select-none",children:[ie.jsxs("div",{className:"relative z-10 p-12 max-w-4xl w-full flex flex-col items-center",children:[ie.jsxs("div",{className:"relative mb-6 group",children:[ie.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-cyan-400 to-purple-600 rounded-lg blur opacity-25 group-hover:opacity-75 transition duration-1000"}),ie.jsxs("h1",{className:"relative text-7xl md:text-9xl font-black tracking-tighter text-transparent bg-clip-text bg-gradient-to-br from-white via-cyan-100 to-cyan-400 drop-shadow-[0_0_15px_rgba(0,255,255,0.5)]",children:["NEURAL",ie.jsx("br",{}),"NET"]})]}),ie.jsxs("div",{className:"flex items-center gap-4 text-cyan-500/80 font-mono text-sm tracking-[0.3em] mb-12",children:[ie.jsx("span",{className:"w-2 h-2 rounded-full bg-cyan-400 animate-pulse"}),ie.jsx("span",{children:"SYSTEM_ONLINE"}),ie.jsx("span",{className:"hidden md:inline text-cyan-900/50",children:"|"}),ie.jsx("span",{className:"hidden md:inline",children:"V 2.0.4"})]}),ie.jsxs("div",{className:"flex flex-wrap gap-6 justify-center pointer-events-auto",children:[ie.jsxs("button",{className:"group relative px-8 py-3 bg-cyan-950/30 backdrop-blur-md border border-cyan-500/30 rounded hover:bg-cyan-900/40 transition-all duration-300 overflow-hidden",children:[ie.jsx("div",{className:"absolute inset-0 w-full h-full bg-gradient-to-r from-transparent via-cyan-400/10 to-transparent -translate-x-full group-hover:animate-shimmer"}),ie.jsx("span",{className:"text-cyan-100 font-bold tracking-widest text-sm uppercase",children:"Initialize"})]}),ie.jsx("button",{className:"px-8 py-3 rounded border border-white/10 text-gray-400 hover:text-white hover:border-white/30 transition-colors duration-300 font-mono text-sm uppercase tracking-widest",children:"Documentation"})]})]}),ie.jsxs("div",{className:"absolute bottom-8 left-8 text-[10px] text-cyan-900 font-mono flex flex-col gap-1",children:[ie.jsx("div",{children:"COORD: X_092 Y_104"}),ie.jsx("div",{children:"MEMORY: OPTIMIZED"}),ie.jsx("div",{children:"RENDER: PIXI.JS V7"})]})]}),PC=()=>ie.jsxs("div",{className:"relative w-full h-screen bg-black overflow-hidden font-sans text-white",children:[ie.jsx("div",{className:"absolute inset-0 z-0",children:ie.jsx(UC,{})}),ie.jsx("div",{className:"absolute inset-0 z-10 pointer-events-none",children:ie.jsx(LC,{})})]}),Wx=document.getElementById("root");if(!Wx)throw new Error("Could not find root element to mount to");const FC=yE.createRoot(Wx);FC.render(ie.jsx(uE.StrictMode,{children:ie.jsx(PC,{})}));
